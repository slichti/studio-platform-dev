
> api@0.0.0 test:integration
> vitest --config vitest.config.integration.ts test/integration/quizzes.integration.test.ts --run


 RUN  v3.2.4 /Users/slichti/GitHub/studio-platform-dev/packages/api

Using vars defined in .dev.vars
[vpw:debug] Adding `enable_nodejs_tty_module` compatibility flag during tests as this feature is needed to support the Vitest runner.
[vpw:debug] Adding `enable_nodejs_fs_module` compatibility flag during tests as this feature is needed to support the Vitest runner.
[vpw:debug] Adding `enable_nodejs_http_modules` compatibility flag during tests as this feature is needed to support the Vitest runner.
[vpw:debug] Adding `enable_nodejs_perf_hooks_module` compatibility flag during tests as this feature is needed to support the Vitest runner.
[vpw:info] Starting isolated runtimes for vitest.config.integration.ts...
Error running worker: Error: Transform failed with 1 error:
/Users/slichti/GitHub/studio-platform-dev/packages/db/src/schema.ts:1211:11: ERROR: Expected ";" but found ":"
    at failureErrorWithLog (/Users/slichti/GitHub/studio-platform-dev/node_modules/esbuild/lib/main.js:1467:15)
    at /Users/slichti/GitHub/studio-platform-dev/node_modules/esbuild/lib/main.js:736:50
    at responseCallbacks.<computed> (/Users/slichti/GitHub/studio-platform-dev/node_modules/esbuild/lib/main.js:603:9)
    at handleIncomingPacket (/Users/slichti/GitHub/studio-platform-dev/node_modules/esbuild/lib/main.js:658:12)
    at Socket.readFromStdout (/Users/slichti/GitHub/studio-platform-dev/node_modules/esbuild/lib/main.js:581:7)
    at Socket.emit (node:events:508:20)
    at Socket.emit (node:domain:489:12)
    at addChunk (node:internal/streams/readable:564:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:515:3)
    at Readable.push (node:internal/streams/readable:395:5)

⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  test/integration/quizzes.integration.test.ts [ test/integration/quizzes.integration.test.ts ]
Error: Transform failed with 1 error:
/Users/slichti/GitHub/studio-platform-dev/packages/db/src/schema.ts:1211:11: ERROR: Expected ";" but found ":"
  Plugin: vite:esbuild
  File: /Users/slichti/GitHub/studio-platform-dev/packages/db/src/schema.ts:1211:11
  
  Expected ";" but found ":"
  1209 |  
  1210 |  fieldType: text('field_type', { enum: ['text', 'number', 'boolean', 'date', 'select'] }).notNull(),
  1211 |      options: text('options', { mode: 'json' }),
       |             ^
  1212 |  });
  1213 |  
  
 ❯ failureErrorWithLog ../../node_modules/esbuild/lib/main.js:1467:15
 ❯ ../../node_modules/esbuild/lib/main.js:736:50
 ❯ responseCallbacks.<computed> ../../node_modules/esbuild/lib/main.js:603:9
 ❯ handleIncomingPacket ../../node_modules/esbuild/lib/main.js:658:12
 ❯ Socket.readFromStdout ../../node_modules/esbuild/lib/main.js:581:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

⎯⎯⎯⎯⎯⎯ Unhandled Error ⎯⎯⎯⎯⎯⎯⎯
Error: Transform failed with 1 error:
/Users/slichti/GitHub/studio-platform-dev/packages/db/src/schema.ts:1211:11: ERROR: Expected ";" but found ":"
  Plugin: vite:esbuild
  File: /Users/slichti/GitHub/studio-platform-dev/packages/db/src/schema.ts:1211:11
  
  Expected ";" but found ":"
  1209 |  
  1210 |  fieldType: text('field_type', { enum: ['text', 'number', 'boolean', 'date', 'select'] }).notNull(),
  1211 |      options: text('options', { mode: 'json' }),
       |             ^
  1212 |  });
  1213 |  
  
 ❯ failureErrorWithLog ../../node_modules/esbuild/lib/main.js:1467:15
 ❯ ../../node_modules/esbuild/lib/main.js:736:50
 ❯ responseCallbacks.<computed> ../../node_modules/esbuild/lib/main.js:603:9
 ❯ handleIncomingPacket ../../node_modules/esbuild/lib/main.js:658:12
 ❯ Socket.readFromStdout ../../node_modules/esbuild/lib/main.js:581:7
 ❯ Socket.emit node:events:508:20
 ❯ Socket.emit node:domain:489:12
 ❯ addChunk node:internal/streams/readable:564:12
 ❯ readableAddChunkPushByteMode node:internal/streams/readable:515:3
 ❯ Readable.push node:internal/streams/readable:395:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯


 Test Files  1 failed (1)
      Tests  no tests
     Errors  1 error
   Start at  08:51:39
   Duration  2.95s (transform 134ms, setup 74ms, collect 0ms, tests 0ms, environment 1ms, prepare 573ms)

[vpw:debug] Shutting down runtimes...
npm error Lifecycle script `test:integration` failed with error:
npm error code 1
npm error path /Users/slichti/GitHub/studio-platform-dev/packages/api
npm error workspace api@0.0.0
npm error location /Users/slichti/GitHub/studio-platform-dev/packages/api
npm error command failed
npm error command sh -c vitest --config vitest.config.integration.ts test/integration/quizzes.integration.test.ts --run
