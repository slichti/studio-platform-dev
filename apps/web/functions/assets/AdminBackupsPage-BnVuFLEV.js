import{jsxs as r,jsx as e}from"react/jsx-runtime";import{useLoaderData as re,useNavigate as ae}from"react-router";import{useAuth as de}from"@clerk/react-router";import{a as p}from"./server-build-DYgJutU4.js";import{useState as i,Fragment as K}from"react";import{Menu as v,Tab as s,Transition as E,Dialog as P}from"@headlessui/react";import{RefreshCw as ie,Database as U,Clock as se,Calendar as ne,ChevronDown as H,ChevronRight as J,Download as G,Trash2 as I}from"lucide-react";import"react-router-dom";import"isbot";import"react-dom/server";import"@clerk/react-router/server";import"@tanstack/react-query";import"sonner";import"isomorphic-dompurify";import"fuse.js";import"clsx";import"tailwind-merge";import"date-fns";import"class-variance-authority";/* empty css                    */import"react-error-boundary";import"react-easy-crop";import"recharts";import"@stripe/stripe-js";import"@stripe/react-stripe-js";import"react-qr-code";const y={time:"2:00 AM UTC",frequency:"Daily",retention:"90 days"};function Fe(){const _=re(),{backups:le,r2Summary:F,tenants:n,history:B,systemBackups:u}=_,R=ae(),{getToken:x}=de(),[N,f]=i(!1),[D,M]=i(null),[l,w]=i(new Set),[$,V]=i(!1),[g,j]=i({}),[W,z]=i(!1),[c,Y]=i(null),[o,O]=i(""),[b,A]=i(null),T=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/1024/1024).toFixed(2)} MB`,C=t=>new Date(t).toLocaleString(),L=t=>{const a=new Date(t),k=new Date().getTime()-a.getTime(),h=Math.floor(k/(1e3*60*60*24));return h===0?"Today":h===1?"Yesterday":h<7?`${h} days ago`:a.toLocaleDateString()},m=(t,a)=>{M({type:t,text:a}),setTimeout(()=>M(null),5e3)},Q=async t=>{if(l.has(t)){const a=new Set(l);a.delete(t),w(a)}else{const a=new Set(l);if(a.add(t),w(a),!g[t])try{const d=await x(),k=await p(`/admin/backups/tenants/${t}`,d);j(h=>({...h,[t]:k.backups||[]}))}catch(d){console.error("Failed to load tenant backups:",d)}}},X=async()=>{if(l.size===n.length)w(new Set);else{w(new Set(n.map(a=>a.id)));const t=await x();for(const a of n)if(!g[a.id])try{const d=await p(`/admin/backups/tenants/${a.id}`,t);j(k=>({...k,[a.id]:d.backups||[]}))}catch(d){console.error("Failed to load tenant backups:",d)}}},S=async(t,a)=>{f(!0);try{const d=await x();await p("/admin/backups/trigger",d,{method:"POST",body:JSON.stringify({type:t,tenantId:a})}),m("success","Backup triggered successfully!"),R(".",{replace:!0})}catch(d){m("error",d.message||"Backup failed")}finally{f(!1)}},Z=async t=>{Y(t),z(!0),O(""),A(null)},ee=async()=>{if(!(!c||!o))try{const t=await x(),a=await p(`/admin/backups/restore/tenant/${c.id}`,t,{method:"POST",body:JSON.stringify({backupKey:o,dryRun:!0})});A(a)}catch(t){m("error",t.message)}},te=async()=>{if(!(!c||!o||!window.confirm(`‚ö†Ô∏è DANGER: This will OVERWRITE all data for ${c.name}.

Are you absolutely sure you want to restore from backup?

This action cannot be undone.`))){f(!0);try{const a=await x(),d=await p(`/admin/backups/restore/tenant/${c.id}`,a,{method:"POST",body:JSON.stringify({backupKey:o,dryRun:!1,confirmToken:"CONFIRM_RESTORE"})});m("success",`Restore completed! ${d.recordsRestored} records restored.`),z(!1),R(".",{replace:!0})}catch(a){m("error",a.message||"Restore failed")}finally{f(!1)}}},q=async t=>{if(confirm("Are you sure you want to delete this backup?"))try{const a=await x();await p(`/admin/backups/${encodeURIComponent(t)}`,a,{method:"DELETE"}),m("success","Backup deleted"),R(".",{replace:!0})}catch(a){m("error",a.message)}};return r("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[D&&e("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg ${D.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:D.text}),r("div",{className:"flex items-center justify-between mb-8",children:[r("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Backup Management"}),e("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"System and tenant backup administration"})]}),r(v,{as:"div",className:"relative",children:[r(v.Button,{className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",disabled:N,children:[N?e(ie,{className:"h-4 w-4 animate-spin"}):e(U,{className:"h-4 w-4"}),"Trigger Backup"]}),e(v.Items,{className:"absolute right-0 mt-2 w-56 bg-white dark:bg-zinc-800 rounded-lg shadow-lg ring-1 ring-black/5 z-10",children:r("div",{className:"p-1",children:[e(v.Item,{children:({active:t})=>e("button",{onClick:()=>S("system"),className:`${t?"bg-indigo-50 dark:bg-indigo-900/30":""} w-full text-left px-3 py-2 rounded-md text-sm text-gray-900 dark:text-white`,children:"üóÑÔ∏è Full System Backup"})}),e(v.Item,{children:({active:t})=>e("button",{onClick:()=>S("all-tenants"),className:`${t?"bg-indigo-50 dark:bg-indigo-900/30":""} w-full text-left px-3 py-2 rounded-md text-sm text-gray-900 dark:text-white`,children:"üè¢ All Tenant Backups"})})]})})]})]}),e("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-950/30 dark:to-blue-950/30 border border-indigo-200 dark:border-indigo-800 rounded-xl p-4 mb-6",children:e("div",{className:"flex items-center justify-between flex-wrap gap-4",children:r("div",{className:"flex items-center gap-6",children:[r("div",{className:"flex items-center gap-2",children:[e(se,{className:"h-5 w-5 text-indigo-600"}),r("div",{children:[e("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:"Schedule"}),r("div",{className:"font-semibold text-gray-900 dark:text-white",children:[y.frequency," at ",y.time]})]})]}),e("div",{className:"h-8 w-px bg-indigo-200 dark:bg-indigo-700"}),r("div",{className:"flex items-center gap-2",children:[e(ne,{className:"h-5 w-5 text-indigo-600"}),r("div",{children:[e("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:"Retention"}),e("div",{className:"font-semibold text-gray-900 dark:text-white",children:y.retention})]})]})]})})}),r("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 p-4",children:[e("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"System Backups"}),e("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.system})]}),r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 p-4",children:[e("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Tenant Backups"}),e("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F.tenant})]}),r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 p-4",children:[e("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Active Tenants"}),e("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.length})]}),r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 p-4",children:[e("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Restore Operations"}),e("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B.length})]})]}),r(s.Group,{children:[r(s.List,{className:"flex space-x-2 mb-6 border-b border-gray-200 dark:border-zinc-800",children:[e(s,{className:({selected:t})=>`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${t?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"System Backups"}),e(s,{className:({selected:t})=>`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${t?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Tenant Backups"}),e(s,{className:({selected:t})=>`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${t?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Restore History"})]}),r(s.Panels,{children:[e(s.Panel,{children:r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:[r("div",{className:"flex items-center justify-between px-6 py-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50",onClick:()=>V(!$),children:[r("div",{className:"flex items-center gap-4",children:[$?e(H,{className:"h-5 w-5 text-gray-400"}):e(J,{className:"h-5 w-5 text-gray-400"}),e(U,{className:"h-6 w-6 text-indigo-600"}),r("div",{children:[e("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Full System Backups"}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Complete database snapshots (all tables)"})]})]}),r("div",{className:"flex items-center gap-6",children:[r("div",{className:"text-right",children:[r("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[u.length," backups"]}),r("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Latest: ",u.length>0?L(u[0].uploaded):"None"]})]}),e("button",{onClick:t=>{t.stopPropagation(),S("system")},className:"px-3 py-1.5 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700",children:"Backup Now"})]})]}),$&&r("div",{className:"border-t border-gray-200 dark:border-zinc-800",children:[e("div",{className:"bg-gray-50 dark:bg-zinc-950 px-6 py-3",children:r("div",{className:"grid grid-cols-4 gap-4 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:[e("div",{children:"Backup"}),e("div",{children:"Date"}),e("div",{children:"Size"}),e("div",{className:"text-right",children:"Actions"})]})}),u.length===0?e("div",{className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:'No system backups yet. Click "Backup Now" to create one.'}):u.map(t=>e("div",{className:"px-6 py-3 border-t border-gray-100 dark:border-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-900",children:r("div",{className:"grid grid-cols-4 gap-4 items-center",children:[e("div",{className:"text-sm text-gray-900 dark:text-white font-mono",children:t.key.split("/").pop()}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C(t.uploaded)}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T(t.size)}),r("div",{className:"flex justify-end gap-2",children:[e("button",{className:"p-1.5 text-gray-400 hover:text-indigo-600",title:"Download",children:e(G,{className:"h-4 w-4"})}),e("button",{onClick:()=>q(t.key),className:"p-1.5 text-gray-400 hover:text-red-600",title:"Delete",children:e(I,{className:"h-4 w-4"})})]})]})},t.key))]})]})}),e(s.Panel,{children:r("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:[r("div",{className:"px-6 py-3 bg-gray-50 dark:bg-zinc-950 border-b border-gray-200 dark:border-zinc-800 flex items-center justify-between",children:[r("div",{className:"grid grid-cols-5 gap-4 flex-1 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:[e("div",{className:"col-span-2",children:"Tenant"}),e("div",{children:"Backups"}),e("div",{children:"Latest"}),e("div",{className:"text-right",children:"Actions"})]}),e("button",{onClick:X,className:"ml-4 text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:l.size===n.length&&n.length>0?"Collapse All":"Expand All"})]}),n.length===0?e("div",{className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No tenants found"}):n.map(t=>r(K,{children:[e("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-zinc-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50",onClick:()=>Q(t.id),children:r("div",{className:"grid grid-cols-5 gap-4 items-center",children:[r("div",{className:"col-span-2 flex items-center gap-3",children:[l.has(t.id)?e(H,{className:"h-4 w-4 text-gray-400"}):e(J,{className:"h-4 w-4 text-gray-400"}),r("div",{children:[e("div",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.slug})]})]}),e("div",{children:r("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:[t.backupCount," backups"]})}),e("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.latestBackup?L(t.latestBackup.uploaded):"No backups"}),r("div",{className:"flex justify-end gap-2",onClick:a=>a.stopPropagation(),children:[e("button",{onClick:()=>S("tenant",t.id),className:"px-3 py-1 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 text-sm rounded",children:"Backup"}),e("button",{onClick:()=>Z(t),className:"px-3 py-1 text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/30 text-sm rounded",disabled:t.backupCount===0,children:"Restore"})]})]})}),l.has(t.id)&&e("div",{className:"bg-gray-50/50 dark:bg-zinc-950/50 border-t border-gray-100 dark:border-zinc-800",children:r("div",{className:"px-6 py-4 pl-14",children:[r("div",{className:"grid grid-cols-3 gap-6 mb-4 p-4 bg-white dark:bg-zinc-900 rounded-lg border border-gray-200 dark:border-zinc-800",children:[r("div",{children:[e("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium mb-1",children:"Schedule"}),r("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[y.frequency," at ",y.time]})]}),r("div",{children:[e("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium mb-1",children:"Retention"}),e("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.retention})]}),r("div",{children:[e("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase font-medium mb-1",children:"Total Size"}),e("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T((g[t.id]||[]).reduce((a,d)=>a+d.size,0))})]})]}),e("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Backup History"}),e("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border border-gray-200 dark:border-zinc-800 overflow-hidden",children:(g[t.id]||[]).length===0?e("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400 text-sm",children:"No backups available"}):r("table",{className:"min-w-full",children:[e("thead",{className:"bg-gray-50 dark:bg-zinc-950",children:r("tr",{children:[e("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),e("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Size"}),e("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Expires"}),e("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-gray-100 dark:divide-zinc-800",children:(g[t.id]||[]).map(a=>{const d=new Date(a.uploaded);return d.setDate(d.getDate()+90),r("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/50",children:[e("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:C(a.uploaded)}),e("td",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:T(a.size)}),e("td",{className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400",children:d.toLocaleDateString()}),e("td",{className:"px-4 py-2 text-right",children:r("div",{className:"flex justify-end gap-1",children:[e("button",{className:"p-1 text-gray-400 hover:text-indigo-600",title:"Download",children:e(G,{className:"h-4 w-4"})}),e("button",{onClick:()=>q(a.key),className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:e(I,{className:"h-4 w-4"})})]})})]},a.key)})})]})})]})})]},t.id))]})}),e(s.Panel,{children:e("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-gray-200 dark:border-zinc-800 overflow-hidden",children:r("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-zinc-800",children:[e("thead",{className:"bg-gray-50 dark:bg-zinc-950",children:r("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Type"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Tenant"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Restored"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Records"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Duration"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"})]})}),r("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-800",children:[B.map(t=>r("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/50",children:[e("td",{className:"px-6 py-4",children:e("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.type==="system"?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"}`,children:t.type})}),e("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:t.tenantId||"Full System"}),e("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:C(t.restoredAt)}),e("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:t.recordsRestored?.toLocaleString()||"-"}),e("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:t.durationMs?`${(t.durationMs/1e3).toFixed(2)}s`:"-"}),e("td",{className:"px-6 py-4",children:e("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="success"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":t.status==="failed"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:t.status})})]},t.id)),B.length===0&&e("tr",{children:e("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No restore operations yet"})})]})]})})})]})]}),e(E,{show:W,as:K,children:r(P,{onClose:()=>z(!1),className:"relative z-50",children:[e(E.Child,{enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black/30"})}),e("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e(E.Child,{enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:r(P.Panel,{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-auto",children:[r("div",{className:"p-6 border-b border-gray-200 dark:border-zinc-800",children:[r(P.Title,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Restore Tenant: ",c?.name]}),e("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Select a backup to restore. This will overwrite all current data."})]}),r("div",{className:"p-6 space-y-4",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Backup"}),r("select",{value:o,onChange:t=>{O(t.target.value),A(null)},className:"w-full rounded-lg border border-gray-300 dark:border-zinc-700 px-3 py-2 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white",children:[e("option",{value:"",children:"Choose a backup..."}),(g[c?.id||""]||[]).map(t=>r("option",{value:t.key,children:[C(t.uploaded)," (",T(t.size),")"]},t.key))]})]}),e("button",{onClick:ee,disabled:!o,className:"w-full py-2 px-4 bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-zinc-700 disabled:opacity-50",children:"Preview Restore"}),b&&r("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[e("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-2",children:"Restore Preview"}),r("div",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1",children:[r("p",{children:["Backup Date: ",b.preview?.backupDate]}),r("p",{children:["Total Records: ",b.preview?.recordCount]}),e("div",{className:"mt-2 grid grid-cols-2 gap-2",children:Object.entries(b.preview?.tables||{}).map(([t,a])=>r("div",{className:"flex justify-between",children:[r("span",{children:[t,":"]}),e("span",{className:"font-mono",children:a})]},t))})]})]})]}),r("div",{className:"p-6 border-t border-gray-200 dark:border-zinc-800 flex justify-end gap-3",children:[e("button",{onClick:()=>z(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg",children:"Cancel"}),e("button",{onClick:te,disabled:!o||!b||N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:N?"Restoring...":"‚ö†Ô∏è Execute Restore"})]})]})})})]})})]})}export{Fe as default};
