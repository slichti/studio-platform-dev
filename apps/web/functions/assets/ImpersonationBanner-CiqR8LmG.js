import{jsxs as t,jsx as e}from"react/jsx-runtime";import{Users as p,ChevronDown as h,Check as g,LogOut as u}from"lucide-react";import{Menu as r}from"@headlessui/react";import{useClerk as x}from"@clerk/react-router";function N({tenantName:s,userName:a,currentRole:i}){const o=["owner","instructor","student"],{signOut:b}=x(),c=n=>{document.cookie=`__impersonate_role=${n}; path=/; SameSite=Lax`,window.location.reload()},l=async()=>{localStorage.removeItem("impersonation_token"),document.cookie="__impersonate_token=; path=/; max-age=0; SameSite=Lax",document.cookie="__impersonate_role=; path=/; max-age=0; SameSite=Lax",window.location.reload()},d=(n=>{switch(n){case"owner":return"bg-purple-600";case"instructor":return"bg-blue-600";case"student":return"bg-emerald-600";default:return"bg-zinc-700"}})(i);return t("div",{className:`${d} text-white px-4 py-2 flex items-center justify-between shadow-md relative z-50`,children:[t("div",{className:"flex items-center gap-4",children:[t("div",{className:"flex items-center gap-2 bg-black/20 px-3 py-1 rounded-full text-sm font-medium",children:[e(p,{size:16}),e("span",{children:"Impersonating"})]}),t("div",{className:"text-sm",children:["Viewing ",e("strong",{children:s})," as ",e("strong",{children:a})]})]}),t("div",{className:"flex items-center gap-3",children:[t(r,{as:"div",className:"relative",children:[t(r.Button,{className:"flex items-center gap-2 px-3 py-1 bg-white/10 hover:bg-white/20 rounded text-sm transition-colors",children:[t("span",{children:["View as: ",e("strong",{children:i.charAt(0).toUpperCase()+i.slice(1)})]}),e(h,{size:14})]}),e(r.Items,{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-zinc-800 rounded-md shadow-lg py-1 border border-zinc-200 dark:border-zinc-700 focus:outline-none text-zinc-800 dark:text-zinc-200",children:o.map(n=>e(r.Item,{children:({active:m})=>t("button",{onClick:()=>c(n),className:`${m?"bg-zinc-100 dark:bg-zinc-700":""} group flex w-full items-center justify-between px-3 py-2 text-sm`,children:[e("span",{className:"capitalize",children:n}),i===n&&e(g,{size:14,className:"text-green-500"})]})},n))})]}),e("div",{className:"h-4 w-px bg-white/30 mx-2"}),t("button",{onClick:l,className:"flex items-center gap-2 px-3 py-1 bg-white/10 hover:bg-red-500/80 rounded text-sm transition-colors",children:[e(u,{size:14}),e("span",{children:"Exit"})]})]})]})}export{N as ImpersonationBanner};
