import{jsx as e,jsxs as t,Fragment as G}from"react/jsx-runtime";import{ServerRouter as ma}from"react-router-dom";import{isbot as ha}from"isbot";import{renderToReadableStream as pa}from"react-dom/server";import{UNSAFE_withComponentProps as j,useLoaderData as D,Meta as ai,Links as ri,Outlet as ze,ScrollRestoration as ga,Scripts as li,UNSAFE_withErrorBoundaryProps as di,useRouteError as oi,Link as L,useParams as ae,useSearchParams as Kt,useNavigate as Ne,useOutletContext as U,useNavigation as jt,NavLink as ct,redirect as Y,Navigate as ci,useLocation as bn,useSubmit as On,Form as Le,useRevalidator as Ft,useFetcher as En,useActionData as ys,useRouteLoaderData as ba,isRouteErrorResponse as fa}from"react-router";import*as Ee from"react";import{useState as f,useEffect as E,createContext as Bn,useContext as Rt,Suspense as W,lazy as H,useRef as ht,useCallback as Tn,Fragment as Ie,useMemo as lt}from"react";import{ClerkProvider as xa,useUser as st,SignedIn as Et,UserButton as Fn,SignedOut as Jt,RedirectToSignIn as ui,useClerk as mi,useAuth as J,UserProfile as va,SignIn as ya,useSignUp as za}from"@clerk/react-router";import{getAuth as P,rootAuthLoader as Na}from"@clerk/react-router/server";import{QueryClient as ka,QueryClientProvider as wa,useQuery as be,useQueryErrorResetBoundary as Ca,useQueryClient as en,useMutation as Us}from"@tanstack/react-query";import{Toaster as Sa,toast as _}from"sonner";import ja from"isomorphic-dompurify";import{X as Te,MessageCircle as Rn,Send as Xn,Loader2 as oe,Edit2 as bt,Sun as Ma,Moon as _a,HelpCircle as hi,Check as pe,Minus as pi,MessageSquare as ft,CheckCircle as me,XCircle as xt,Menu as zs,Book as Ws,Layout as Vt,Search as De,Server as Un,Shield as Oe,GraduationCap as Aa,Settings as Mt,Database as qe,Users as re,ShoppingCart as qt,Globe as xe,Smartphone as Me,BarChart3 as Xt,FileText as tt,Cloud as $a,Lock as gi,ToggleLeft as Ta,ShieldAlert as Ns,Activity as _e,CreditCard as Ae,ArrowRight as Re,TrendingUp as dt,Calendar as K,Award as ut,Tag as Ge,Ticket as hn,Video as vt,Download as _t,Code as ks,Palette as bi,DollarSign as ve,CalendarCheck as Pa,UserPlus as ms,Mail as Ye,Home as fi,User as nt,LogOut as xi,MapPin as hs,CheckCircle2 as yt,Target as Ia,Flame as Pn,ChevronDown as Gt,ChevronRight as tn,LayoutDashboard as vi,Dumbbell as Wn,Clock as he,Trophy as mt,RefreshCw as Xe,FileSignature as La,Image as Da,Package as et,ListTodo as Oa,QrCode as Ea,Terminal as ws,History as yi,CircleHelp as Hs,AlertTriangle as nn,ArrowLeft as $e,Plus as ee,GripVertical as zi,Trash2 as ue,Eye as zt,Save as Ue,AlertCircle as Pe,Copy as Bt,MousePointer2 as Ba,Link as Ni,Sparkles as pn,EyeOff as Cs,ExternalLink as Nt,Repeat as Qs,ChevronLeft as ki,Calculator as Fa,FolderOpen as Ra,Trash as Xa,Truck as ts,Filter as Ua,Building2 as ps,Phone as wi,Edit3 as Wa,MoreVertical as Ci,Gift as gs,Share2 as Js,Heart as Ss,Key as Ha,ShieldCheck as Hn,Play as Qa,Building as Ja,Star as bs,Edit as Va,LayoutGrid as qa,Store as Ga,CornerDownRight as Ya,Baby as Za,Upload as Si,ShoppingBag as Ka,Delete as er,Zap as Qn,ChevronUp as fs,Layers as tr,Box as nr,Info as sr,Pencil as ir,FileWarning as ar,CalendarClock as rr,Cake as lr,MessagesSquare as dr,Cpu as or}from"lucide-react";import cr from"fuse.js";import{clsx as ji}from"clsx";import{twMerge as Mi}from"tailwind-merge";import{addDays as un,isSameDay as at,format as ie,startOfWeek as xs}from"date-fns";import{Transition as ot,Dialog as pt,TransitionChild as In,DialogPanel as _i,DialogTitle as Ai,Menu as Jn,Switch as ur}from"@headlessui/react";import{cva as $i}from"class-variance-authority";/* empty css                    */import{ErrorBoundary as mr}from"react-error-boundary";import hr from"react-easy-crop";import{ResponsiveContainer as Ht,LineChart as pr,XAxis as Yt,YAxis as It,CartesianGrid as Zt,Tooltip as Lt,Legend as gr,Line as ns,AreaChart as gn,Area as gt,ReferenceLine as Ti,PieChart as br,Pie as fr,Cell as xr}from"recharts";import{loadStripe as vr}from"@stripe/stripe-js";import{EmbeddedCheckoutProvider as yr,EmbeddedCheckout as zr}from"@stripe/react-stripe-js";import Pi from"react-qr-code";async function Nr(i,n,s,a,r){try{let l=await pa(e(ma,{context:a,url:i.url}),{signal:i.signal,onError(o){console.error("SSR Error:",o),n=500}});ha(i.headers.get("user-agent")||"")&&await l.allReady,s.set("Content-Type","text/html"),s.set("Cache-Control","no-cache, no-store, must-revalidate");const d=["default-src 'self'","script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*.stripe.com https://*.cloudflare.com https://static.cloudflareinsights.com https://challenges.cloudflare.com https://*.clerk.accounts.dev https://*.clerk.com","style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://rsms.me","font-src 'self' https://fonts.gstatic.com https://rsms.me","img-src 'self' data: https: blob:","connect-src 'self' https: wss:","frame-src 'self' https://*.stripe.com https://*.youtube.com https://*.vimeo.com https://challenges.cloudflare.com https://*.clerk.accounts.dev https://*.clerk.com","worker-src 'self' blob:","base-uri 'self'","form-action 'self'"].join("; ");return s.set("Content-Security-Policy",d),new Response(l,{headers:s,status:n})}catch(l){return l instanceof Response?l:(console.error("CRITICAL WORKER CRASH:",l),new Response(`
            <h1>ðŸ”¥ Critical Worker Crash ðŸ”¥</h1>
            <p>${l.message}</p>
            <pre>${l.stack}</pre>
            <hr>
            <p>Environment: ${JSON.stringify(Object.keys(r.context?.env||{}))}</p>
        `,{status:200,headers:{"Content-Type":"text/html"}}))}}const kr=Object.freeze(Object.defineProperty({__proto__:null,default:Nr},Symbol.toStringTag,{value:"Module"}));var Ln={};async function sn(i){if(Ln.NODE_ENV==="development"||Ln.ENVIRONMENT==="test"){const a=(i.request.headers.get("Cookie")||"").match(/__e2e_bypass_user_id=([^;]+)/);if(a&&a[1]){const r=a[1].replace(/["']/g,"");return{userId:r,sessionId:"mock-session",getToken:async()=>r,claims:{sub:r,role:r.includes("owner")?"admin":"member"},isE2EBypassed:!0}}}return{...await P(i),isE2EBypassed:!1}}async function wr(i,n){if(Ln.NODE_ENV==="development"||Ln.ENVIRONMENT==="test"){const a=i.request.headers.get("Cookie")||"";console.log(`[DEBUG AUTH] Cookie Header: ${a}`);const r=a.match(/__e2e_bypass_user_id=([^;]+)/);if(r&&r[1]){const l=r[1];return console.log(`[DEBUG AUTH] BYPASS MATCHED! userId: ${l}`),{...await n({...i,auth:{userId:l,sessionId:"mock-session"}}),isE2EBypassed:!0,__clerk_ssr_state:{userId:l,sessionId:"mock-session",user:{id:l,primaryEmailAddress:{emailAddress:"e2e@test.com",verification:{status:"verified"}},firstName:"E2E",lastName:"Tester",fullName:"E2E Tester",imageUrl:"https://img.clerk.com/static/placeholder.png"},session:{id:"mock-session",userId:l,status:"active"},orgId:null,orgRole:null,orgPermissions:[]}}}}return Na(i,n)}const Cr={theme:"system",setTheme:()=>null},Ii=Bn(Cr);function Li({children:i,defaultTheme:n="system",storageKey:s="vite-ui-theme"}){const[a,r]=f(n);E(()=>{const d=localStorage.getItem(s);d&&r(d)},[s]),E(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),a==="system"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(o);return}d.classList.add(a)},[a]);const l={theme:a,setTheme:d=>{localStorage.setItem(s,d),r(d)}};return e(Ii.Provider,{value:l,children:i})}const Sr=()=>{const i=Rt(Ii);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},jr=new ka({defaultOptions:{queries:{staleTime:60*1e3,retry:1,refetchOnWindowFocus:!1}}}),Mr="/assets/index-Duh1xLQB.css";var ss={};const _r=()=>[{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"},{rel:"stylesheet",href:Mr},{rel:"manifest",href:"/manifest.json"},{rel:"icon",href:"/favicon.ico",type:"image/x-icon"}],Ar=()=>[{title:"Studio Platform"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"theme-color",content:"#18181B"},{name:"mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}];async function $r(i){console.log("[ROOT] Loader Start");try{return await wr(i,({request:n})=>(console.log("[ROOT] AuthLoader Callback"),{message:"Auth Loaded",env:{VITE_API_URL:ss.VITE_API_URL,VITE_CLERK_PUBLISHABLE_KEY:ss.VITE_CLERK_PUBLISHABLE_KEY,VITE_GA_ID:ss.VITE_GA_ID}}))}catch(n){throw n instanceof Response?n:(console.error("DEBUG: rootAuthLoader CRASHED",n),new Response(`Root Auth Crash: ${n.message}`,{status:500}))}}const Tr=j(function(){const n=D();return E(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(s=>{for(const a of s)a.unregister(),console.log("SW unregistered")})},[]),e(xa,{loaderData:n,signUpFallbackRedirectUrl:"/",signInFallbackRedirectUrl:"/dashboard",children:e(wa,{client:jr,children:e(Li,{defaultTheme:"light",storageKey:"studio-theme",children:t("html",{lang:"en",suppressHydrationWarning:!0,children:[t("head",{children:[e("meta",{charSet:"utf-8"}),e(ai,{}),e(ri,{}),n?.env?.VITE_GA_ID&&t(G,{children:[e("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${n.env.VITE_GA_ID}`}),e("script",{dangerouslySetInnerHTML:{__html:`
                                    window.dataLayer = window.dataLayer || [];
                                    function gtag(){dataLayer.push(arguments);}
                                    gtag('js', new Date());
                                    gtag('config', '${n.env.VITE_GA_ID}');
                                `}})]}),e("script",{dangerouslySetInnerHTML:{__html:`
                            if ('serviceWorker' in navigator && !sessionStorage.getItem('sw_killed_v3')) {
                                navigator.serviceWorker.getRegistrations().then(registrations => {
                                    if (registrations.length > 0) {
                                        for (let r of registrations) r.unregister();
                                        sessionStorage.setItem('sw_killed_v3', 'true');
                                        window.location.reload();
                                    }
                                });
                            }
                        `}})]}),t("body",{className:"min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50 font-sans antialiased selection:bg-blue-100 dark:selection:bg-blue-900",suppressHydrationWarning:!0,children:[e(ze,{context:n}),e(Sa,{position:"top-right",richColors:!0}),e(ga,{}),e(li,{}),e("script",{dangerouslySetInnerHTML:{__html:`window.ENV = ${JSON.stringify(n?.env||{})}`}})]})]})})})})}),Pr=di(function(){const n=oi();return console.error(n),t("html",{lang:"en",className:"h-full",children:[t("head",{children:[e("title",{children:"Application Error"}),e(ai,{}),e(ri,{})]}),t("body",{className:"h-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-950 font-sans text-zinc-900 dark:text-zinc-50",children:[t("div",{className:"w-full max-w-md p-6 space-y-6 text-center",children:[e("div",{className:"flex justify-center",children:e("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/20",children:e("svg",{className:"h-8 w-8 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),t("div",{className:"space-y-2",children:[e("h1",{className:"text-2xl font-semibold tracking-tight",children:"System Error"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"We encountered an unexpected issue. Please try refreshing the page."})]}),e("div",{className:"bg-zinc-100 dark:bg-zinc-900 rounded-md p-4 text-left overflow-auto max-h-48 text-xs font-mono border border-zinc-200 dark:border-zinc-800",children:n instanceof Error?n.message:JSON.stringify(n)}),t("div",{className:"flex gap-4 justify-center",children:[e("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 h-10 px-4 py-2 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",children:"Reload Page"}),e("a",{href:"/",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 h-10 px-4 py-2 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",children:"Go Home"})]})]}),e(li,{})]})]})}),Ir=Object.freeze(Object.defineProperty({__proto__:null,ErrorBoundary:Pr,default:Tr,links:_r,loader:$r,meta:Ar},Symbol.toStringTag,{value:"Module"})),Vs="https://studio-platform-api.slichti.workers.dev",Fe=(()=>{const i="https://studio-platform-api.slichti.workers.dev";if(i.length>0)return i;if(typeof window<"u"){const n=window.location.hostname;if(!n.includes("localhost")&&!n.includes("127.0.0.1"))return Vs}return Vs})();async function z(i,n,s={},a){const r=a||Fe,l={};s.headers&&(s.headers instanceof Headers||Array.isArray(s.headers)?s.headers.forEach((u,p)=>l[p]=u):Object.entries(s.headers).forEach(([u,p])=>{p!=null&&(l[u]=String(p))}));const d=new Headers(l);if(n&&d.set("Authorization",`Bearer ${n}`),typeof window<"u"){const u=localStorage.getItem("impersonation_token");u&&d.set("Authorization",`Bearer ${u}`)}!d.has("Content-Type")&&!(s.body instanceof FormData)&&d.set("Content-Type","application/json"),d.has("x-request-id")||d.set("x-request-id",crypto.randomUUID());const o=`${r}${i}`;console.log(`[API] ${s.method||"GET"} ${o}`,{headers:Object.fromEntries(d.entries())});const c=await fetch(o,{...s,headers:d});if(!c.ok){let u;try{u=await c.clone().json();const p=u.error||c.statusText,g=u.path?` (${u.path})`:"",m=new Error(`${p}${g}`);throw m.data=u,m.status=c.status,m}catch(p){if(p.data)throw p;const g=await c.text();throw new Error(g||c.statusText)}}return c.json()}const kn=H(()=>import("@puckeditor/core").then(i=>({default:i.DropZone}))),Lr=({title:i,subtitle:n,ctaText:s,ctaLink:a,backgroundImage:r,alignment:l,overlayOpacity:d,backgroundColor:o,textColor:c})=>t("section",{className:`relative py - 32 px - 8 ${l==="left"?"text-left":"text-center"} overflow - hidden transition - colors`,style:{backgroundColor:o||"#18181b",color:c||"#ffffff"},children:[r&&e("div",{className:"absolute inset-0 z-0 transition-transform duration-1000 hover:scale-105",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",opacity:d??.5}}),t("div",{className:"relative z-10 max-w-5xl mx-auto",children:[e("h1",{className:"text-5xl md:text-8xl font-black mb-8 tracking-tighter leading-none",children:i||"Welcome to Our Studio"}),e("p",{className:"text-xl md:text-3xl opacity-90 mb-12 max-w-3xl mx-auto font-medium leading-relaxed",children:n||"Your journey starts here"}),s&&e("a",{href:a||"#",className:"inline-block bg-blue-600 text-white px-12 py-5 rounded-full font-black text-lg hover:bg-blue-700 transition-all shadow-2xl hover:shadow-blue-500/40 active:scale-95",children:s})]})]}),Dr=({distribution:i,backgroundColor:n,textColor:s,padding:a})=>e("section",{className:`${a==="large"?"py-32":a==="small"?"py-8":"py-16"} px - 8 transition - colors`,style:{backgroundColor:n||"transparent",color:s||"inherit"},children:t("div",{className:`grid grid - cols - 1 ${i==="1-1"?"md:grid-cols-2":i==="1-1-1"?"md:grid-cols-3":"md:grid-cols-4"} gap - 12 max - w - 7xl mx - auto`,children:[e("div",{className:"flex flex-col gap-8",children:e(W,{fallback:null,children:e(kn,{zone:"left"})})}),e("div",{className:"flex flex-col gap-8",children:e(W,{fallback:null,children:e(kn,{zone:"center"})})}),(i==="1-1-1"||i==="1-1-1-1")&&e("div",{className:"flex flex-col gap-8",children:e(W,{fallback:null,children:e(kn,{zone:"right"})})}),i==="1-1-1-1"&&e("div",{className:"flex flex-col gap-8",children:e(W,{fallback:null,children:e(kn,{zone:"far-right"})})})]})}),Or=({content:i,alignment:n,backgroundColor:s,textColor:a})=>e("section",{className:"py-16 px-8 transition-colors",style:{backgroundColor:s||"transparent",color:a||"inherit"},children:e("div",{className:`max - w - 4xl mx - auto prose prose - 2xl dark: prose - invert ${n==="center"?"text-center":""} `,children:e("div",{dangerouslySetInnerHTML:{__html:ja.sanitize(i||"<p>Add your content here...</p>")}})})}),Er=({src:i,alt:n,caption:s,borderRadius:a,aspectRatio:r,maxWidth:l})=>t("div",{className:"py-8 px-4 flex flex-col items-center",children:[e("div",{className:"overflow-hidden w-full transition-shadow hover:shadow-2xl",style:{maxWidth:l||"100%",borderRadius:a||"0px",aspectRatio:r||"auto"},children:i?e("img",{src:i,alt:n||"",className:"w-full h-full object-cover"}):e("div",{className:"w-full h-64 bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-zinc-400 font-bold uppercase tracking-widest text-sm",children:"Image Placeholder"})}),s&&e("p",{className:"mt-4 text-sm text-zinc-500 italic font-medium",children:s})]}),Br=({features:i,backgroundColor:n,cardColor:s,textColor:a})=>e("section",{className:"py-24 px-8 transition-colors",style:{backgroundColor:n||"#f4f4f5",color:a||"inherit"},children:e("div",{className:"max-w-7xl mx-auto grid md:grid-cols-3 gap-10",children:(i||[{icon:"â­",title:"Feature 1",description:"Description here"}]).map((r,l)=>t("div",{className:"p-10 rounded-3xl shadow-xl text-center transition-transform hover:scale-[1.03]",style:{backgroundColor:s||"#ffffff",color:a||"inherit"},children:[e("div",{className:"text-6xl mb-6",children:r.icon}),e("h3",{className:"text-2xl font-black mb-4 tracking-tight",children:r.title}),e("p",{className:"opacity-80 leading-relaxed font-medium",children:r.description})]},l))})}),Fr=({title:i,showDays:n})=>e("section",{className:"py-20 px-8",children:t("div",{className:"max-w-6xl mx-auto",children:[e("h2",{className:"text-4xl font-black text-center mb-12 tracking-tight",children:i||"Our Schedule"}),t("div",{className:"bg-zinc-100 dark:bg-zinc-900 rounded-3xl p-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800",children:[e("p",{className:"text-zinc-500 dark:text-zinc-400 text-xl font-bold",children:"Schedule will be dynamically loaded from your studio data."}),t("p",{className:"text-sm text-zinc-400 mt-4 uppercase tracking-widest font-black",children:["Showing next ",n||7," days"]})]})]})}),Rr=({title:i})=>e("section",{className:"py-24 px-8 bg-zinc-50 dark:bg-zinc-950",children:t("div",{className:"max-w-7xl mx-auto",children:[e("h2",{className:"text-5xl font-black text-center mb-16 tracking-tight",children:i||"Meet Our Instructors"}),e("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[1,2,3,4].map(n=>t("div",{className:"group cursor-pointer",children:[e("div",{className:"aspect-[3/4] bg-zinc-200 dark:bg-zinc-800 rounded-3xl overflow-hidden mb-6 transition-box-shadow group-hover:shadow-2xl grayscale group-hover:grayscale-0 transition-all duration-500",children:e("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:e("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 24 24",children:e("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})})}),t("div",{className:"text-center",children:[e("h4",{className:"text-xl font-black tracking-tight group-hover:text-blue-600 transition-colors",children:"Instructor Name"}),e("p",{className:"text-zinc-500 font-bold uppercase tracking-widest text-xs mt-1",children:"Specialty"})]})]},n))})]})}),Xr=({testimonials:i,backgroundColor:n,textColor:s})=>e("section",{className:"py-24 px-8 transition-colors",style:{backgroundColor:n||"transparent",color:s||"inherit"},children:t("div",{className:"max-w-5xl mx-auto",children:[e("h2",{className:"text-5xl font-black text-center mb-16 tracking-tight italic",children:'"What Our Students Say"'}),e("div",{className:"grid md:grid-cols-2 gap-12",children:(i||[{quote:"Amazing experience!",author:"Happy Student"}]).map((a,r)=>t("blockquote",{className:"bg-zinc-50 dark:bg-zinc-900 p-12 rounded-[2rem] relative overflow-hidden group",children:[e("div",{className:"text-9xl absolute -top-10 -left-6 opacity-[0.03] select-none font-serif text-blue-600",children:"â€œ"}),t("p",{className:"text-2xl font-bold text-zinc-800 dark:text-zinc-100 mb-8 relative z-10 leading-relaxed italic group-hover:text-blue-600 transition-colors",children:['"',a.quote,'"']}),t("footer",{className:"text-blue-600 font-black uppercase tracking-[0.2em] text-sm flex items-center gap-4",children:[e("div",{className:"h-0.5 w-8 bg-blue-600"})," ",a.author]})]},r))})]})}),Ur=({testimonials:i,backgroundColor:n,textColor:s})=>e("section",{className:"py-24 px-8 transition-colors overflow-hidden",style:{backgroundColor:n||"transparent",color:s||"inherit"},children:t("div",{className:"max-w-7xl mx-auto",children:[e("h2",{className:"text-5xl font-black text-center mb-16 tracking-tight italic",children:'"Student Stories"'}),e("div",{className:"flex overflow-x-auto snap-x snap-mandatory gap-6 pb-12 -mx-8 px-8 scrollbar-hide",children:(i||[{quote:"Incredible atmosphere!",author:"Member since 2024"},{quote:"Best instructors in town.",author:"Jane D."},{quote:"I love the community here.",author:"Mike T."}]).map((a,r)=>t("div",{className:"snap-center shrink-0 w-[85vw] md:w-[400px] bg-zinc-50 dark:bg-zinc-900 p-10 rounded-[2.5rem] relative flex flex-col justify-between border border-zinc-100 dark:border-zinc-800",children:[e("div",{className:"text-6xl text-blue-600 opacity-20 font-serif mb-4",children:"â€œ"}),e("p",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-100 mb-8 italic leading-relaxed",children:a.quote}),t("div",{className:"flex items-center gap-3 mt-auto",children:[e("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 font-bold text-sm",children:a.author?.[0]||"?"}),e("span",{className:"font-bold text-sm uppercase tracking-wider text-zinc-500",children:a.author})]})]},r))}),t("div",{className:"flex justify-center gap-2 mt-4 opacity-30",children:[e("div",{className:"h-1 w-12 bg-current rounded-full"}),e("div",{className:"h-1 w-2 bg-current rounded-full"}),e("div",{className:"h-1 w-2 bg-current rounded-full"})]})]})}),Wr=({title:i,email:n,backgroundColor:s})=>e("section",{className:"py-24 px-8 transition-colors",style:{backgroundColor:s||"#18181b"},children:t("div",{className:"max-w-3xl mx-auto text-center bg-white dark:bg-zinc-900 p-16 rounded-[3rem] shadow-2xl border border-zinc-100 dark:border-zinc-800",children:[e("h2",{className:"text-4xl font-black mb-4 tracking-tight",children:i||"Get in Touch"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-12 font-medium text-lg italic",children:"We'd love to hear from you!"}),t("form",{className:"space-y-6",children:[t("div",{className:"grid md:grid-cols-2 gap-6",children:[e("input",{type:"text",placeholder:"Your Name",className:"w-full px-6 py-4 rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-none text-zinc-900 dark:text-white focus:ring-4 ring-blue-500/10 transition-all font-medium"}),e("input",{type:"email",placeholder:"Your Email",className:"w-full px-6 py-4 rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-none text-zinc-900 dark:text-white focus:ring-4 ring-blue-500/10 transition-all font-medium"})]}),e("textarea",{placeholder:"Your Message",rows:5,className:"w-full px-6 py-4 rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-none text-zinc-900 dark:text-white focus:ring-4 ring-blue-500/10 transition-all font-medium"}),e("button",{type:"submit",className:"w-full bg-zinc-900 dark:bg-blue-600 text-white py-5 rounded-2xl font-black text-lg hover:scale-[1.02] active:scale-95 transition-all shadow-xl",children:"Send Message"})]})]})}),Hr=({title:i,address:n,height:s})=>{const a=encodeURIComponent(n||"New York, NY");return e("section",{className:"py-24 px-8",children:t("div",{className:"max-w-7xl mx-auto",children:[e("h2",{className:"text-4xl font-black text-center mb-12 tracking-tight italic uppercase",children:i||"Find Us"}),e("div",{className:"bg-zinc-200 dark:bg-zinc-800 rounded-[3rem] overflow-hidden shadow-2xl border-8 border-white dark:border-zinc-900",style:{height:s||"500px"},children:e("iframe",{width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,src:`https://maps.google.com/maps?q=${a}&t=&z=13&ie=UTF8&iwloc=&output=embed`,title:"Location Map",className:"w-full h-full grayscale active:grayscale-0 transition-all duration-700"})}),n&&e("div",{className:"mt-8 text-center",children:e("span",{className:"bg-zinc-900 text-white px-8 py-3 rounded-full font-black uppercase tracking-widest text-sm",children:n})})]})})},Qr=({title:i,plans:n,backgroundColor:s})=>e("section",{className:"py-32 px-8 transition-colors",style:{backgroundColor:s||"#fafafa"},children:t("div",{className:"max-w-7xl mx-auto",children:[e("h2",{className:"text-6xl font-black text-center mb-24 tracking-tighter italic italic",children:i||"Membership Plans"}),e("div",{className:"grid md:grid-cols-3 gap-10",children:(n||[{name:"Standard",price:"49",benefits:["2 Classes / Week","Access to Community"]}]).map((a,r)=>t("div",{className:`bg-white dark:bg-zinc-900 p-12 rounded-[3.5rem] shadow-2xl transition-all hover:scale-[1.05] border-2 group ${a.isPopular?"border-blue-600 ring-8 ring-blue-600/5":"border-zinc-100 dark:border-zinc-800"}`,children:[a.isPopular&&e("div",{className:"bg-blue-600 text-white text-[10px] uppercase font-black px-4 py-2 rounded-full mb-10 inline-block tracking-[0.3em]",children:"Best Value"}),e("h3",{className:"text-3xl font-black mb-4 tracking-tight group-hover:text-blue-600 transition-colors italic",children:a.name||"Membership"}),t("div",{className:"flex items-baseline gap-2 mb-12",children:[e("span",{className:"text-7xl font-serif text-zinc-900 dark:text-white",children:"$"}),e("span",{className:"text-8xl font-black tracking-tighter",children:a.price||"0"}),e("span",{className:"text-zinc-400 font-black uppercase tracking-widest text-xs",children:"/mo"})]}),e("ul",{className:"space-y-6 mb-16",children:(a.benefits||[]).map((l,d)=>t("li",{className:"text-zinc-500 dark:text-zinc-400 font-bold flex items-center gap-4 text-lg",children:[e("div",{className:"h-3 w-3 rounded-full bg-blue-600 shadow-lg shadow-blue-500/50"})," ",l.benefit||l]},d))}),e("button",{className:`w-full py-6 rounded-[2rem] font-black text-xl transition-all shadow-2xl active:scale-95 ${a.isPopular?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-500/40":"bg-zinc-900 text-white hover:bg-zinc-800 shadow-zinc-500/20"}`,children:a.ctaText||"Get Started"})]},r))})]})}),Jr=({title:i,limit:n})=>t("section",{className:"py-24 px-8 max-w-7xl mx-auto",children:[e("h2",{className:"text-4xl font-black text-center mb-12 tracking-tight italic uppercase",children:i||"Our Memberships"}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-[3rem] p-24 text-center border-4 border-dashed border-zinc-200 dark:border-zinc-800",children:[e("p",{className:"text-zinc-400 dark:text-zinc-500 font-black uppercase tracking-[0.4em] text-sm",children:"Automated Live Feed"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 font-bold text-2xl mt-4 italic",children:"Your current studio memberships will sync and appear here automatically."}),e("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 opacity-20 grayscale filter blur-[2px] pointer-events-none",children:[1,2,3].map(s=>e("div",{className:"bg-white dark:bg-zinc-800 h-64 rounded-[2.5rem]"},s))})]})]}),Vr=({title:i,category:n,maxItems:s,backgroundColor:a,textColor:r})=>{const d=[{id:"1",question:"How do I get started?",answer:"Sign up for a free trial and follow our setup wizard to configure your studio."},{id:"2",question:"Can students book classes online?",answer:"Yes! Students can book classes 24/7 from your website or mobile app."},{id:"3",question:"What payment methods are supported?",answer:"We support all major credit cards, Apple Pay, Google Pay, and ACH transfers via Stripe."}].slice(0,s||10);return e("section",{className:"py-24 px-8 transition-colors",style:{backgroundColor:a||"#fafafa",color:r||"inherit"},children:t("div",{className:"max-w-3xl mx-auto",children:[e("h2",{className:"text-4xl font-black text-center mb-12 tracking-tight",children:i||"Frequently Asked Questions"}),e("div",{className:"space-y-4",children:d.map((o,c)=>t("details",{className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden",children:[t("summary",{className:"flex items-center justify-between p-6 cursor-pointer hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition list-none font-semibold text-lg",children:[o.question,e("svg",{className:"w-5 h-5 text-zinc-400 transition-transform group-open:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e("div",{className:"px-6 pb-6 text-zinc-600 dark:text-zinc-400 leading-relaxed",children:o.answer})]},o.id||c))}),t("p",{className:"text-center text-zinc-400 text-sm mt-8 italic",children:[n?`Showing FAQs from: ${n}`:"Showing all FAQs"," â€¢ Managed in Admin"]})]})})},js={root:{fields:{title:{type:"text",label:"Page Title"},primaryColor:{type:"text",label:"Primary Color (Hex)"},secondaryColor:{type:"text",label:"Secondary Color (Hex)"},chatEnabled:{type:"radio",label:"Chat Widget",options:[{label:"Enabled",value:!0},{label:"Disabled",value:!1}]}},defaultProps:{title:"New Page",primaryColor:"#2563eb",secondaryColor:"#18181b",chatEnabled:!0}},components:{Hero:{label:"Hero Section",fields:{title:{type:"text"},subtitle:{type:"textarea"},ctaText:{type:"text",label:"Button Text"},ctaLink:{type:"text",label:"Button Link"},backgroundImage:{type:"text",label:"Background Image URL"},alignment:{type:"select",options:[{label:"Center",value:"center"},{label:"Left",value:"left"}]},overlayOpacity:{type:"number",label:"Overlay Opacity (0-1)"},backgroundColor:{type:"text",label:"Background Color (Hex)"},textColor:{type:"text",label:"Text Color (Hex)"}},defaultProps:{title:"Welcome to Our Studio",subtitle:"Your wellness journey starts here",ctaText:"Book a Class",ctaLink:"/schedule",alignment:"center",overlayOpacity:.5,backgroundColor:"#18181b",textColor:"#ffffff"},render:Lr},Columns:{label:"Layout: Columns",fields:{distribution:{type:"select",options:[{label:"2 Columns (1:1)",value:"1-1"},{label:"3 Columns (1:1:1)",value:"1-1-1"},{label:"4 Columns (1:1:1:1)",value:"1-1-1-1"}]},backgroundColor:{type:"text",label:"Background Color"},textColor:{type:"text",label:"Text Color"},padding:{type:"select",options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}]}},defaultProps:{distribution:"1-1",padding:"medium"},render:Dr},TextBlock:{label:"Text Block",fields:{content:{type:"textarea"},alignment:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"}]},backgroundColor:{type:"text",label:"Background Color"},textColor:{type:"text",label:"Text Color"}},defaultProps:{content:"<p>Add your content here...</p>",alignment:"left"},render:Or},Image:{label:"Photo / Image",fields:{src:{type:"text",label:"Image URL"},alt:{type:"text"},caption:{type:"text"},maxWidth:{type:"text",label:"Max Width (e.g. 500px, 100%)"},borderRadius:{type:"text",label:"Border Radius (e.g. 20px, 100%)"},aspectRatio:{type:"text",label:"Aspect Ratio (e.g. 1/1, 16/9)"}},defaultProps:{maxWidth:"100%",borderRadius:"20px"},render:Er},FeatureGrid:{label:"Feature Grid",fields:{features:{type:"array",arrayFields:{icon:{type:"text"},title:{type:"text"},description:{type:"textarea"}}},backgroundColor:{type:"text"},cardColor:{type:"text"},textColor:{type:"text"}},defaultProps:{features:[{icon:"ðŸ§˜",title:"Expert Instructors",description:"Learn from certified professionals"},{icon:"ðŸ“…",title:"Flexible Schedule",description:"Classes available 7 days a week"},{icon:"ðŸ†",title:"Results Driven",description:"Achieve your wellness goals"}],backgroundColor:"#f4f4f5",cardColor:"#ffffff"},render:Br},ClassSchedule:{label:"Class Schedule",fields:{title:{type:"text"},showDays:{type:"number",label:"Days to Show"}},defaultProps:{title:"Upcoming Classes",showDays:7},render:Fr},InstructorGrid:{label:"Instructor Grid",fields:{title:{type:"text"}},defaultProps:{title:"Meet Our Team"},render:Rr},Testimonials:{label:"Testimonials",fields:{testimonials:{type:"array",arrayFields:{quote:{type:"textarea"},author:{type:"text"}}},backgroundColor:{type:"text"},textColor:{type:"text"}},defaultProps:{testimonials:[{quote:"This studio changed my life!",author:"Happy Student"}]},render:Xr},TestimonialCarousel:{label:"Testimonial Carousel",fields:{testimonials:{type:"array",arrayFields:{quote:{type:"textarea"},author:{type:"text"}}},backgroundColor:{type:"text"},textColor:{type:"text"}},defaultProps:{testimonials:[{quote:"An absolute game changer for my fitness.",author:"Sarah J."},{quote:"The community is so welcoming.",author:"David B."},{quote:"Expert guidance in every class.",author:"Emily R."}],backgroundColor:"#ffffff",textColor:"#000000"},render:Ur},ContactForm:{label:"Contact Form",fields:{title:{type:"text"},email:{type:"text",label:"Recipient Email"},backgroundColor:{type:"text"}},defaultProps:{title:"Get in Touch",backgroundColor:"#18181b"},render:Wr},MapSection:{label:"Map/Location",fields:{title:{type:"text"},address:{type:"text"},height:{type:"text",label:"Height (e.g. 500px)"}},defaultProps:{title:"Visit Us",address:"123 Studio Street, City, State",height:"500px"},render:Hr},MembershipPreview:{label:"Memberships (Dynamic)",fields:{title:{type:"text"},limit:{type:"number",label:"Max items to show"}},defaultProps:{title:"Choose Your Plan",limit:3},render:Jr},PricingTable:{label:"Pricing Table",fields:{title:{type:"text"},plans:{type:"array",arrayFields:{name:{type:"text"},price:{type:"text"},isPopular:{type:"radio",options:[{label:"Yes",value:!0},{label:"No",value:!1}]},benefits:{type:"array",arrayFields:{benefit:{type:"text"}}},ctaText:{type:"text"}},getItemSummary:i=>i.name||"Plan"},backgroundColor:{type:"text"}},defaultProps:{title:"Membership Plans",plans:[{name:"Starter",price:"29",isPopular:!1,benefits:["1 Class / Week"],ctaText:"Join Now"},{name:"Unlimited",price:"99",isPopular:!0,benefits:["All Classes","Free Guest Pass"],ctaText:"Go Pro"}],backgroundColor:"#fafafa"},render:Qr},FAQBlock:{label:"FAQ Section",fields:{title:{type:"text",label:"Section Title"},category:{type:"select",label:"FAQ Category",options:[{label:"All FAQs",value:""},{label:"Features",value:"features"},{label:"Pricing",value:"pricing"},{label:"Support",value:"support"},{label:"Getting Started",value:"getting_started"}]},maxItems:{type:"number",label:"Max FAQs to Show"},backgroundColor:{type:"text",label:"Background Color (Hex)"},textColor:{type:"text",label:"Text Color (Hex)"}},defaultProps:{title:"Frequently Asked Questions",category:"",maxItems:10,backgroundColor:"#fafafa",textColor:"#18181b"},render:Vr}}};function Ms({roomId:i,tenantId:n,userId:s,userName:a,apiUrl:r="",enabled:l=!0,chatConfig:d,token:o,brandColor:c="#2563EB"}){const[u,p]=f(!1),[g,m]=f([]),[h,v]=f(""),[y,N]=f(!1),[x,w]=f([]),b=ht(null),k=ht(null),S=ht(u);E(()=>{S.current=u},[u]);const[C]=f(()=>`guest_${Math.random().toString(36).substr(2,9)}`),T=s||C,M=a||"Guest",$=Tn(()=>{k.current?.scrollIntoView({behavior:"smooth"})},[]);E(()=>{$()},[g,$]),E(()=>{if(y)return;const O=r||(typeof window<"u"?window.location.origin:""),te=O.startsWith("https")?"wss://":"ws://",ce=O.replace(/^http(s)?:\/\//,"");let Be=`${te}${ce}/chat/rooms/${i}/websocket?roomId=${i}&tenantId=${n}&userId=${T}&userName=${encodeURIComponent(M)}`;o&&(Be+=`&token=${o}`);const je=new WebSocket(Be);return b.current=je,je.onopen=()=>{N(!0),console.log("[Chat] Connected")},je.onmessage=Ze=>{try{const fe=JSON.parse(Ze.data);switch(fe.type){case"history":m(fe.messages||[]);break;case"message":m(We=>[...We,fe]),!S.current&&fe.userId!==T&&I(We=>We+1);break;case"user_list":w(fe.users||[]);break;case"user_joined":w(We=>[...We,{userId:fe.userId,userName:fe.userName}]);break;case"user_left":w(We=>We.filter(He=>He.userId!==fe.userId));break}}catch(fe){console.error("[Chat] Parse error:",fe)}},je.onclose=()=>{N(!1),console.log("[Chat] Disconnected")},je.onerror=Ze=>{console.error("[Chat] Error:",Ze)},()=>{je.close(),b.current=null}},[i,n,s,a,r]);const B=()=>{!h.trim()||!b.current||b.current.readyState!==WebSocket.OPEN||(b.current.send(JSON.stringify({type:"message",content:h.trim()})),v(""))},A=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),B())},[R,I]=f(0),F=["I have a question","Contact support","Billing inquiry"],le=(O,te)=>{!b.current||b.current.readyState!==WebSocket.OPEN||b.current.send(JSON.stringify({type:"message",content:O,metadata:te?{routedRole:te}:void 0}))};return l?t(G,{children:[t("button",{onClick:()=>{p(!u),u||I(0)},style:{backgroundColor:c},className:"fixed bottom-6 right-6 w-14 h-14 text-white rounded-full shadow-lg hover:opacity-90 transition flex items-center justify-center z-50",children:[u?e(Te,{size:24}):e(Rn,{size:24}),R>0&&!u&&e("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white border-2 border-white",children:R})]}),u&&t("div",{className:"fixed bottom-24 right-6 w-[380px] h-[600px] bg-white rounded-xl shadow-2xl border border-zinc-200 flex flex-col z-50 overflow-hidden font-sans",children:[t("div",{style:{backgroundColor:c},className:"text-white px-6 py-6 pb-12 relative overflow-hidden",children:[t("div",{className:"relative z-10",children:[e("h2",{className:"text-xl font-bold mb-2",children:"Chat with us"}),e("p",{className:"text-white/90 text-sm leading-relaxed",children:"ðŸ‘‹ Hi, message us with any questions. We're happy to help!"})]}),e("div",{className:"absolute -top-8 -right-8 w-32 h-32 bg-white/10 rounded-full"}),e("div",{className:"absolute top-8 right-12 w-16 h-16 bg-white/10 rounded-full"})]}),e("div",{className:"flex-1 overflow-y-auto bg-white flex flex-col",children:t("div",{className:"mt-auto p-4 space-y-4",children:[g.map(O=>e("div",{className:`flex ${O.userId===s?"justify-end":"justify-start"}`,children:e("div",{style:O.userId===s?{backgroundColor:c}:void 0,className:`max-w-[85%] p-3 rounded-2xl text-sm ${O.userId===s?"text-white rounded-br-sm":"bg-gray-100 text-zinc-900 rounded-bl-sm"}`,children:e("p",{children:O.content})})},O.id)),g.length===0&&t("div",{className:"space-y-2 mt-4",children:[e("p",{className:"text-xs font-semibold text-zinc-500 mb-2 uppercase tracking-wide",children:"How can we help?"}),(d&&d.length>0?d:F.map(O=>({id:O,label:O,type:"action"}))).map(O=>e("button",{onClick:()=>le(O.label,O.routeToRole),disabled:!y,className:"w-full text-left p-3 rounded-xl border border-zinc-200 text-sm text-zinc-700 hover:bg-zinc-50 hover:border-zinc-300 transition-colors bg-white shadow-sm",children:O.label},O.id||O.label))]}),e("div",{ref:k})]})}),t("div",{className:"p-4 border-t border-zinc-100 bg-white",children:[t("div",{className:"relative flex items-center",children:[e("input",{type:"text",value:h,onChange:O=>v(O.target.value),onKeyPress:A,placeholder:"Write message",className:"w-full pl-4 pr-12 py-3 bg-white border border-zinc-200 rounded-xl text-sm focus:outline-none focus:border-zinc-300 focus:ring-0 shadow-sm",disabled:!y}),e("button",{onClick:B,disabled:!y||!h.trim(),style:{color:h.trim()?c:void 0},className:"absolute right-2 p-2 text-zinc-400 transition-colors disabled:opacity-50",children:e(Xn,{size:20})})]}),!y&&e("div",{className:"text-center mt-2",children:e("span",{className:"text-[10px] text-zinc-400",children:"Connecting to support..."})})]})]})]}):null}const qr=Object.freeze(Object.defineProperty({__proto__:null,ChatWidget:Ms},Symbol.toStringTag,{value:"Module"})),Gr=H(()=>import("@puckeditor/core").then(i=>({default:i.Render})));function Vn({page:i,tenantSlug:n}){const{user:s}=st();return t("div",{className:"min-h-screen bg-white relative",children:[e(W,{fallback:e("div",{className:"flex h-screen items-center justify-center",children:e(oe,{className:"h-8 w-8 animate-spin text-zinc-400"})}),children:e(Gr,{config:js,data:i.content})}),e(Ms,{roomId:s?`support-${s.id}`:"support-guest",tenantId:n||"",userId:s?.id,userName:s?.fullName||"Guest",enabled:i.tenantSettings?.chatEnabled!==!1&&i.content?.root?.props?.chatEnabled!==!1,chatConfig:i.tenantSettings?.chatConfig}),e(Et,{children:e("div",{className:"fixed bottom-6 left-6 z-50",children:t(L,{to:`/studio/${n}/website/editor/${i.id}`,className:"flex items-center gap-2 bg-zinc-900 text-white px-4 py-2.5 rounded-full shadow-lg hover:bg-zinc-800 transition-transform hover:scale-105",children:[e(bt,{size:16}),e("span",{className:"font-medium text-sm",children:"Edit Page"})]})})})]})}const Yr=({data:i})=>{if(!i?.page)return[{title:"Page Not Found"}];const n=i.page.seoTitle||i.page.title,s=i.page.seoDescription||"",a=i.page.seoImage||i.page.ogImage||"https://studio-platform.com/og-default.png",r=typeof window<"u"?window.location.href:"";return[{title:n},{name:"description",content:s},{property:"og:title",content:n},{property:"og:description",content:s},{property:"og:image",content:a},{property:"og:url",content:r},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:n},{name:"twitter:description",content:s},{name:"twitter:image",content:a}]},Zr=async({params:i})=>{const{slug:n,pageSlug:s}=i;try{return{page:await z(`/website/public/pages/${s}`,null,{headers:{"X-Tenant-Slug":n||""}}),tenantSlug:n||""}}catch(a){throw console.error("Failed to load page:",a),new Response("Page Not Found",{status:404})}},Kr=j(function(){const{page:n,tenantSlug:s}=D();return e(Vn,{page:n,tenantSlug:s})}),el=Object.freeze(Object.defineProperty({__proto__:null,default:Kr,loader:Zr,meta:Yr},Symbol.toStringTag,{value:"Module"})),is="studio-platform-dev.slichti.org",tl=["www","api","admin","app","mail","staging","dev","test"];function Di(i){const a=new URL(i.url).hostname.toLowerCase();if(a===is)return null;if(a.endsWith(`.${is}`)){const r=a.slice(0,-1*(is.length+1));return tl.includes(r)?null:r}return null}async function _s(i,n){try{return await z(`/website/public/pages/${n}`,null,{headers:{"X-Tenant-Slug":i}})}catch(s){return console.error(`Failed to load page ${n} for tenant ${i}:`,s),null}}const nl=({data:i})=>{if(!i?.page)return[{title:"Page Not Found"}];const n=i.page.seoTitle||i.page.title,s=i.page.seoDescription||"";return[{title:n},{name:"description",content:s},{property:"og:title",content:n},{property:"og:description",content:s},{property:"og:type",content:"website"}]},sl=async({params:i})=>{const{slug:n}=i;if(!n)throw new Response("Not Found",{status:404});const s=await _s(n,"home");if(!s)throw new Response("Page Not Found",{status:404});return{page:s,tenantSlug:n||""}},il=j(function(){const{page:n,tenantSlug:s}=D();return e(Vn,{page:n,tenantSlug:s})}),al=Object.freeze(Object.defineProperty({__proto__:null,default:il,loader:sl,meta:nl},Symbol.toStringTag,{value:"Module"}));function Ut(){const{theme:i,setTheme:n}=Sr();return e("button",{onClick:()=>n(i==="light"?"dark":"light"),className:"p-2 rounded-md hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors text-zinc-600 dark:text-zinc-400","aria-label":"Toggle theme",children:t("div",{className:"relative w-5 h-5",children:[e(Ma,{className:"h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 absolute top-0 left-0"}),e(_a,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 absolute top-0 left-0"})]})})}const rl=()=>[{title:"Compare Plans - Studio Platform"},{name:"description",content:"Detailed comparison of Studio Platform features and limits."}];async function ll(){return null}const dl=[{category:"Operations",items:[{name:"Staff Members",launch:"5",growth:"15",scale:"Unlimited"},{name:"Locations",launch:"1",growth:"3",scale:"Unlimited"},{name:"Student Profiles",launch:"Unlimited",growth:"Unlimited",scale:"Unlimited"},{name:"Waiver Management",launch:!0,growth:!0,scale:!0},{name:"Payroll Reporting",launch:"Basic",growth:"Advanced",scale:"Custom"},{name:"No-Show Automation",launch:!1,growth:!0,scale:!0},{name:"Waitlist Automation",launch:!1,growth:!0,scale:!0}]},{category:"Commerce",items:[{name:"Platform Fee",launch:"5%",growth:"2%",scale:"0%"},{name:"Credit Card Processing",launch:"2.9% + 30Â¢",growth:"2.9% + 30Â¢",scale:"2.9% + 30Â¢"},{name:"Class Packs & Drop-ins",launch:!0,growth:!0,scale:!0},{name:"Recurring Memberships",launch:!0,growth:!0,scale:!0},{name:"Discount Codes",launch:!1,growth:!0,scale:!0},{name:"Gift Cards",launch:!1,growth:!0,scale:!0}]},{category:"Digital Studio",items:[{name:"Zoom Integration",launch:!1,growth:!0,scale:!0},{name:"Video Storage",launch:"5 GB",growth:"50 GB",scale:"1 TB"},{name:"On-Demand Library",launch:!1,growth:!0,scale:!0},{name:"HD Streaming (1080p)",launch:!1,growth:!1,scale:!0}]},{category:"Marketing & Branding",items:[{name:"Email Notifications",launch:"Transactional",growth:"Campaigns",scale:"White-label"},{name:"SMS Notifications",launch:!1,growth:!0,scale:!0},{name:"Custom Domain",launch:!1,growth:!1,scale:!0},{name:"White Label Branding",launch:!1,growth:!1,scale:!0},{name:"API Access",launch:!1,growth:!1,scale:!0}]}],ol=j(function(){const{user:n}=st(),[s,a]=f([]);E(()=>{z("/public/plans",null).then(d=>{Array.isArray(d)&&a(d)})},[]);const r=(d,o,c)=>{const u=s.find(g=>g.slug===d);if(!u)return c;if(u.features.includes(o))return!0;const p=u.features.find(g=>g.endsWith(` ${o}`)||g.includes(o));if(p){const g=p.replace(o,"").trim();return g||!0}return c},l=dl.map(d=>({...d,items:d.items.map(o=>({name:o.name,launch:r("launch",o.name,o.launch),growth:r("growth",o.name,o.growth),scale:r("scale",o.name,o.scale)}))}));return t("div",{className:"font-sans min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50 transition-colors duration-300",children:[t("nav",{className:"flex justify-between items-center px-8 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-50",children:[e("div",{className:"flex items-center gap-3",children:e(L,{to:"/",className:"text-xl font-bold tracking-tight hover:opacity-80 transition-opacity",children:"ðŸ§˜ Studio Platform"})}),t("div",{className:"flex items-center gap-6",children:[e(Ut,{}),e(L,{to:"/pricing",className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Pricing"}),e(L,{to:"/admin",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Admin"}),t(Et,{children:[e(L,{to:"/dashboard",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Dashboard"}),e(Fn,{afterSignOutUrl:"/"})]}),t(Jt,{children:[e(L,{to:"/sign-in",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Sign In"}),e(L,{to:"/sign-up",className:"px-4 py-2 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-md text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors",children:"Get Started"})]})]})]}),t("main",{className:"py-24 px-6 max-w-7xl mx-auto",children:[t("div",{className:"text-center mb-16",children:[e("h1",{className:"text-4xl font-extrabold mb-4",children:"Compare Plans"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 mb-8",children:"Detailed feature breakdown for every stage of your business."}),e(L,{to:"/pricing",className:"text-blue-600 hover:underline",children:"â† Back to Pricing"})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-left border-collapse",children:[e("thead",{children:t("tr",{children:[e("th",{className:"p-4 border-b-2 border-zinc-200 dark:border-zinc-800 w-1/4",children:"Feature"}),t("th",{className:"p-4 border-b-2 border-zinc-200 dark:border-zinc-800 w-1/4 text-center",children:[e("div",{className:"font-bold text-xl mb-1",children:"Launch"}),e("div",{className:"text-sm text-zinc-500",children:"Free"})]}),t("th",{className:"p-4 border-b-2 border-blue-500 w-1/4 text-center bg-blue-50/50 dark:bg-blue-900/10",children:[e("div",{className:"font-bold text-xl mb-1 text-blue-700 dark:text-blue-400",children:"Growth"}),e("div",{className:"text-sm text-zinc-500",children:"$49/mo"})]}),t("th",{className:"p-4 border-b-2 border-zinc-200 dark:border-zinc-800 w-1/4 text-center",children:[e("div",{className:"font-bold text-xl mb-1",children:"Scale"}),e("div",{className:"text-sm text-zinc-500",children:"$129/mo"})]})]})}),e("tbody",{children:l.map(d=>t(cl,{children:[e("tr",{className:"bg-zinc-50 dark:bg-zinc-900/50",children:e("td",{colSpan:4,className:"p-3 font-semibold text-sm uppercase tracking-wider text-zinc-500 pl-4",children:d.category})}),d.items.map((o,c)=>t("tr",{className:"border-b border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:[t("td",{className:"p-4 font-medium text-zinc-700 dark:text-zinc-300 flex items-center gap-2",children:[o.name,o.name==="Platform Fee"&&t("div",{className:"group relative",children:[e(hi,{className:"w-4 h-4 text-zinc-400 cursor-help"}),e("div",{className:"hidden group-hover:block absolute z-10 w-64 p-2 bottom-full left-1/2 -translate-x-1/2 mb-2 text-xs text-white bg-zinc-900 rounded shadow-lg pointer-events-none",children:"A percentage of transaction volume taken by Studio Platform. Does not include Stripe processing fees."})]})]}),e("td",{className:"p-4 text-center text-zinc-600 dark:text-zinc-400",children:as(o.launch)}),e("td",{className:"p-4 text-center font-medium text-zinc-900 dark:text-zinc-100 bg-blue-50/30 dark:bg-blue-900/5",children:as(o.growth)}),e("td",{className:"p-4 text-center text-zinc-600 dark:text-zinc-400",children:as(o.scale)})]},o.name))]},d.category))}),e("tfoot",{children:t("tr",{children:[e("td",{className:"p-4"}),e("td",{className:"p-4 text-center",children:e(L,{to:"/sign-up",className:"block w-full py-2 px-4 bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-zinc-900 dark:text-white rounded-lg font-medium transition-colors",children:"Get Started"})}),e("td",{className:"p-4 text-center bg-blue-50/30 dark:bg-blue-900/5",children:e(L,{to:"/sign-up",className:"block w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-sm",children:"Start Free Trial"})}),e("td",{className:"p-4 text-center",children:e(L,{to:"/sign-up",className:"block w-full py-2 px-4 bg-zinc-900 hover:bg-zinc-800 dark:bg-zinc-50 dark:hover:bg-zinc-200 text-white dark:text-zinc-900 rounded-lg font-medium transition-colors",children:"Start Free Trial"})})]})})]})})]}),e("footer",{className:"py-12 px-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:t("div",{className:"max-w-7xl mx-auto text-center text-zinc-500 dark:text-zinc-400 text-sm",children:["Â© ",new Date().getFullYear()," Studio Platform. All rights reserved."]})})]})});function as(i){return i===!0?e(pe,{className:"w-5 h-5 mx-auto text-green-500"}):i===!1?e(pi,{className:"w-5 h-5 mx-auto text-zinc-300"}):e("span",{children:i})}const cl=({children:i})=>e(G,{children:i}),ul=Object.freeze(Object.defineProperty({__proto__:null,default:ol,loader:ll,meta:rl},Symbol.toStringTag,{value:"Module"})),ml=()=>[{title:"Pricing - Studio Platform"},{name:"description",content:"Simple, transparent pricing for studios of all sizes."}],hl=j(function(){const{user:n}=st(),[s,a]=f("monthly"),[r,l]=f([]),[d,o]=f(!0);return E(()=>{async function c(){try{const u=await z("/public/plans",null);if(Array.isArray(u)){const p=u.sort((g,m)=>(g.prices.monthly||0)-(m.prices.monthly||0));l(p)}}catch(u){console.error("Failed to load plans",u)}finally{o(!1)}}c()},[]),d?e("div",{className:"min-h-screen bg-white dark:bg-zinc-950 flex items-center justify-center",children:"Loading pricing..."}):t("div",{className:"font-sans min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50 transition-colors duration-300 flex flex-col",children:[t("nav",{className:"flex justify-between items-center px-8 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-50",children:[e("div",{className:"flex items-center gap-3",children:e(L,{to:"/",className:"text-xl font-bold tracking-tight hover:opacity-80 transition-opacity",children:"ðŸ§˜ Studio Platform"})}),t("div",{className:"flex items-center gap-6",children:[e(Ut,{}),e(L,{to:"/pricing",className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Pricing"}),e(L,{to:"/admin",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Admin"}),t(Et,{children:[e(L,{to:"/dashboard",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Dashboard"}),t("div",{className:"flex items-center gap-3 pl-2 border-l border-zinc-200 dark:border-zinc-800",children:[e("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:n?.firstName?`Hi, ${n.firstName}`:""}),e(Fn,{afterSignOutUrl:"/"})]})]}),t(Jt,{children:[e(L,{to:"/sign-in",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Sign In"}),e(L,{to:"/sign-up",className:"px-4 py-2 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-md text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors",children:"Get Started"})]})]})]}),t("main",{className:"flex-grow py-24 px-6",children:[t("div",{className:"max-w-7xl mx-auto text-center mb-10",children:[e("h1",{className:"text-4xl md:text-5xl font-extrabold mb-6 tracking-tight",children:"Simple, transparent pricing"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 max-w-2xl mx-auto",children:"Start for free and scale as you grow. No hidden fees or surprises."})]}),t("div",{className:"flex justify-center items-center gap-4 mb-16",children:[e("span",{className:`text-sm font-medium ${s==="monthly"?"text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Monthly"}),t("button",{onClick:()=>a(c=>c==="monthly"?"annual":"monthly"),className:"relative inline-flex h-8 w-14 items-center rounded-full bg-zinc-200 dark:bg-zinc-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[e("span",{className:"sr-only",children:"Toggle billing interval"}),e("span",{className:`${s==="annual"?"translate-x-7":"translate-x-1"} inline-block h-6 w-6 transform rounded-full bg-white transition shadow-sm`})]}),t("span",{className:`text-sm font-medium ${s==="annual"?"text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:["Annually ",e("span",{className:"text-green-600 dark:text-green-400 text-xs ml-1 font-bold",children:"(Save ~20%)"})]})]}),e("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:r.map(c=>{const u=s==="monthly",p=u?c.prices.monthly:c.prices.annual,g=p?`$${p/100}`:"Free",m=p?u?"/month":"/year":null,v={launch:"Perfect for new instructors and hobbyists.",growth:"For established studios growing their community.",scale:"For multi-location studios and franchises."}[c.slug]||c.description||"Flexible plan for your studio.";return t("div",{className:`rounded-2xl p-8 border flex flex-col ${c.highlight?"border-blue-500 ring-2 ring-blue-500 shadow-xl bg-white dark:bg-zinc-900 transform md:-translate-y-4":"border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950"}`,children:[t("div",{className:"mb-6",children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-white mb-2",children:c.name}),t("div",{className:"flex items-baseline gap-1",children:[e("span",{className:"text-4xl font-bold text-zinc-900 dark:text-white",children:g}),m&&e("span",{className:"text-zinc-500 dark:text-zinc-400",children:m})]}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-2",children:v}),c.trialDays>0&&t("div",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:[c.trialDays,"-Day Free Trial"]})]}),e("div",{className:"flex-grow space-y-4 mb-8",children:(c.features||[]).map(y=>t("div",{className:"flex items-start gap-3",children:[e("div",{className:"mt-1 bg-green-100 dark:bg-green-900/30 p-1 rounded-full",children:e(pe,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),e("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:y})]},y))}),e(L,{to:`/create-studio?tier=${c.slug}&interval=${s}`,className:`w-full py-3 px-4 rounded-lg font-medium text-center transition-colors ${c.highlight?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg":"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 hover:bg-zinc-800 dark:hover:bg-zinc-200"}`,children:p?"Start Free Trial":"Get Started"})]},c.id)})}),e("div",{className:"text-center",children:t(L,{to:"/pricing/compare",className:"inline-flex items-center gap-2 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 font-medium transition-colors",children:["Compare all features and limits ",e("span",{className:"text-xl",children:"â†’"})]})}),e("div",{className:"max-w-3xl mx-auto mt-20 text-center text-sm text-zinc-500 dark:text-zinc-400",children:t("div",{className:"max-w-3xl mx-auto mt-20 text-sm text-zinc-500 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-900/50 p-6 rounded-xl border border-zinc-100 dark:border-zinc-800",children:[e("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-200 mb-2",children:"Understanding Platform Fees"}),t("p",{className:"mb-2",children:[e("strong",{children:"Credit Card Processing (2.9% + 30Â¢):"})," This fee goes directly to Stripe to process payments securely. It applies to all transactions on all plans."]}),t("p",{children:[e("strong",{children:"Platform Fee (0% - 5%):"})," This is a small percentage of transactions that goes to Studio Platform to support development and hosting. It allows us to offer the ",e("strong",{children:"Launch"})," plan with no monthly subscription cost. As you grow, you can upgrade to reduce or eliminate this fee entirely."]})]})})]}),e("footer",{className:"py-12 px-6 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:t("div",{className:"max-w-7xl mx-auto text-center text-zinc-500 dark:text-zinc-400 text-sm",children:["Â© ",new Date().getFullYear()," Studio Platform. All rights reserved."]})})]})}),pl=Object.freeze(Object.defineProperty({__proto__:null,default:hl,meta:ml},Symbol.toStringTag,{value:"Module"}));function qn({roomId:i,token:n,currentUser:s,wsUrl:a,tenantSlug:r,onClose:l}){const[d,o]=f(null),[c,u]=f([]),[p,g]=f(""),[m,h]=f("connecting"),v=ht(null);E(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[c]),E(()=>{const N=new URL(a);N.protocol=N.protocol==="https:"?"wss:":"ws:",N.pathname=`/chat/rooms/${i}/websocket`,N.searchParams.set("token",n),r&&N.searchParams.set("tenantSlug",r),console.log("Connecting to WS:",N.toString());const x=new WebSocket(N.toString());return x.onopen=()=>{h("connected")},x.onmessage=w=>{try{const b=JSON.parse(w.data);b.type==="history"?u(b.messages):b.type==="message"?u(k=>[...k,b]):b.type==="user_joined"&&u(k=>[...k,{id:"sys-"+Date.now(),userId:"system",userName:"System",content:`${b.userName} joined the room.`,timestamp:b.timestamp,type:"system"}])}catch(b){console.error("WS Parse Error",b)}},x.onclose=()=>{h("disconnected")},o(x),()=>{x.close()}},[i,a,n]);const y=N=>{if(N?.preventDefault(),!p.trim()||!d)return;const x={type:"message",content:p};d.send(JSON.stringify(x)),g("")};return t("div",{className:"flex flex-col h-[500px] w-full max-w-md bg-white border border-zinc-200 rounded-xl shadow-xl overflow-hidden",children:[t("div",{className:"bg-zinc-50 border-b border-zinc-200 p-3 flex justify-between items-center",children:[t("div",{className:"flex items-center gap-2",children:[e("div",{className:`w-2 h-2 rounded-full ${m==="connected"?"bg-green-500":"bg-red-500"}`}),e("span",{className:"font-medium text-sm text-zinc-700",children:"Chat Room"})]}),l&&e("button",{onClick:l,className:"text-zinc-400 hover:text-zinc-600",children:"Ã—"})]}),t("div",{ref:v,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",children:[c.length===0&&e("div",{className:"text-center text-zinc-400 text-sm mt-10",children:"No messages yet."}),c.map(N=>{const x=N.userId===s.id;return N.type==="system"?e("div",{className:"flex justify-center",children:e("span",{className:"text-xs bg-zinc-100 text-zinc-500 px-2 py-1 rounded-full",children:N.content})},N.id):e("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:t("div",{className:`max-w-[80%] rounded-lg p-3 text-sm ${x?"bg-blue-600 text-white rounded-br-none":"bg-zinc-100 text-zinc-800 rounded-bl-none"}`,children:[!x&&e("div",{className:"text-[10px] opacity-50 font-bold mb-1",children:N.userName}),e("div",{children:N.content}),e("div",{className:`text-[10px] mt-1 text-right ${x?"text-blue-100":"text-zinc-400"}`,children:new Date(N.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},N.id)})]}),t("form",{onSubmit:y,className:"p-3 border-t border-zinc-200 bg-zinc-50 flex gap-2",children:[e("input",{className:"flex-1 border border-zinc-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type a message...",value:p,onChange:N=>g(N.target.value),disabled:m!=="connected"}),e("button",{type:"submit",disabled:m!=="connected"||!p.trim(),className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e(Xn,{size:18})})]})]})}function gl({tenantSlug:i,apiUrl:n,brandColor:s="#3B82F6"}){const[a,r]=f(!1),[l,d]=f("form"),[o,c]=f(!1),[u,p]=f(""),[g,m]=f(""),[h,v]=f(""),[y,N]=f(null),[x,w]=f(null),[b,k]=f(null),S=async C=>{if(C.preventDefault(),!(!g||!h)){c(!0);try{const M=await(await fetch(`${n}/public/chat/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantSlug:i,name:u,email:g,message:h})})).json();M.success&&M.roomId&&M.guestToken&&M.user?(N(M.roomId),w(M.guestToken),k(M.user.id),d("chat")):alert(M.error||"Failed to start chat")}catch(T){console.error(T),alert("Connection error")}finally{c(!1)}}};return a?t("div",{className:"fixed bottom-6 right-6 w-96 bg-white rounded-2xl shadow-2xl overflow-hidden z-50 border border-zinc-200",children:[t("div",{style:{backgroundColor:s},className:"p-4 flex items-center justify-between text-white",children:[t("div",{className:"flex items-center gap-2",children:[e(ft,{size:20}),e("span",{className:"font-semibold",children:"Support Chat"})]}),e("button",{onClick:()=>r(!1),className:"hover:bg-white/20 p-1 rounded",children:e(Te,{size:20})})]}),l==="form"?t("form",{onSubmit:S,className:"p-4 space-y-4",children:[e("p",{className:"text-sm text-zinc-600",children:"Hi! How can we help you today?"}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Your Name"}),e("input",{type:"text",value:u,onChange:C=>p(C.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg text-sm",placeholder:"John Doe"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Email *"}),e("input",{type:"email",required:!0,value:g,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg text-sm",placeholder:"you@example.com"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Message *"}),e("textarea",{required:!0,value:h,onChange:C=>v(C.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg text-sm h-24 resize-none",placeholder:"How can we help?"})]}),t("button",{type:"submit",disabled:o,style:{backgroundColor:s},className:"w-full py-2.5 rounded-lg text-white font-medium flex items-center justify-center gap-2 hover:opacity-90 disabled:opacity-50",children:[o?e(oe,{size:16,className:"animate-spin"}):e(Xn,{size:16}),o?"Starting...":"Start Chat"]})]}):e("div",{className:"h-[400px]",children:y&&x&&b&&e(qn,{roomId:y,token:x,currentUser:{id:b,name:u||"Guest"},wsUrl:n})})]}):e("button",{onClick:()=>r(!0),style:{backgroundColor:s},className:"fixed bottom-6 right-6 w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-white hover:opacity-90 transition-opacity z-50",children:e(ft,{size:24})})}const bl=j(function(){const{slug:n}=ae();return t("div",{className:"min-h-screen bg-gradient-to-br from-zinc-50 to-zinc-100 dark:from-zinc-900 dark:to-zinc-950 flex items-center justify-center p-8",children:[t("div",{className:"text-center max-w-lg",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Need Help?"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-8",children:"Click the chat button in the bottom right corner to start a conversation with our support team."}),t("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-zinc-800 rounded-full shadow-sm border border-zinc-200 dark:border-zinc-700 text-sm text-zinc-600 dark:text-zinc-400",children:[e("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Support is online"]})]}),n&&e(gl,{tenantSlug:n,apiUrl:"https://studio-platform-api.slichti.workers.dev",brandColor:"#3B82F6"})]})}),fl=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"})),xl=j(function(){const{isLoaded:n,isSignedIn:s,user:a}=st(),[r]=Kt(),l=Ne(),d=r.get("token"),[o,c]=f("validating"),[u,p]=f(null);E(()=>{if(n){if(!d){c("error"),p("Invalid invitation link (no token).");return}s&&g()}},[n,s,d]);const g=async()=>{c("accepting");try{const m=await window.Clerk?.session?.getToken(),h=await z("/members/accept-invite",m,{method:"POST",body:JSON.stringify({token:d})});h.success?(c("success"),setTimeout(()=>{l("/")},2e3)):(c("error"),p(h.error||"Failed to accept invitation."))}catch(m){c("error"),p(m.message||"An unexpected error occurred.")}};return n?d?t("div",{className:"min-h-screen bg-zinc-50 flex flex-col justify-center items-center p-4",children:[e(Jt,{children:t("div",{className:"bg-white p-8 rounded shadow text-center max-w-md w-full",children:[e("h2",{className:"text-2xl font-bold mb-4",children:"You've been invited!"}),e("p",{className:"text-zinc-600 mb-6",children:"Please sign in or create an account to accept this invitation."}),e("div",{className:"flex justify-center",children:e(ui,{afterSignInUrl:`/accept-invite?token=${d}`})})]})}),e(Et,{children:t("div",{className:"bg-white p-8 rounded shadow text-center max-w-md w-full",children:[o==="accepting"&&t("div",{children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 mx-auto mb-4"}),e("h2",{className:"text-xl font-bold",children:"Accepting Invitation..."}),e("p",{className:"text-zinc-500",children:"Linking your account to the studio."})]}),o==="success"&&t("div",{children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e("h2",{className:"text-xl font-bold text-green-600",children:"Welcome!"}),e("p",{className:"text-zinc-600 mt-2",children:"Invitation accepted successfully."}),e("p",{className:"text-xs text-zinc-400 mt-4",children:"Redirecting you..."})]}),o==="error"&&t("div",{children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e("h2",{className:"text-xl font-bold text-red-600",children:"Error"}),e("p",{className:"text-zinc-600 mt-2",children:u}),e("button",{onClick:()=>l("/"),className:"mt-6 px-4 py-2 bg-zinc-900 text-white rounded hover:bg-zinc-800",children:"Go Home"})]})]})})]}):e("div",{className:"min-h-screen bg-zinc-50 flex flex-col justify-center items-center p-4",children:t("div",{className:"bg-white p-8 rounded shadow text-center max-w-md",children:[e("h2",{className:"text-red-600 font-bold mb-2",children:"Invalid Link"}),e("p",{className:"text-zinc-600",children:"This invitation link appears to be missing a token."})]})}):e("div",{className:"p-10 text-center",children:"Loading..."})}),vl=Object.freeze(Object.defineProperty({__proto__:null,default:xl},Symbol.toStringTag,{value:"Module"}));function yl(i,n){const[s,a]=f(i);return E(()=>{const r=setTimeout(()=>{a(i)},n);return()=>{clearTimeout(r)}},[i,n]),s}const zl=j(function(){const s=U()?.isE2EBypassed,{user:a,isLoaded:r}=st(),l=Ne();jt();const[d]=Kt(),[o,c]=f("monthly"),[u,p]=f(""),[g,m]=f(""),[h,v]=f("launch"),[y,N]=f(null),[x,w]=f(!1),b=yl(g,500),[k,S]=f("idle"),[C,T]=f(""),[M,$]=f([]);E(()=>{async function O(){try{const te=await z("/public/plans",null);Array.isArray(te)&&$(te.sort((ce,Be)=>(ce.prices.monthly||0)-(Be.prices.monthly||0)))}catch(te){console.error("Plan load error",te)}}O()},[]),E(()=>{const O=d.get("tier");O&&v(O);const te=d.get("interval");te&&["monthly","annual"].includes(te)&&c(te)},[d]);const[B,A]=f(!1);E(()=>{if(!u||B)return;const O=u.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-");m(O)},[u,B]),E(()=>{if(!b){S("idle"),T("");return}async function O(){S("checking");try{if(!/^[a-z0-9-]{3,}$/.test(b)){S("invalid"),T("Min 3 chars, letters, numbers, dashes only.");return}const te=s?"user_owner_e2e_123":await window.Clerk?.session?.getToken(),ce=await z(`/check-slug?slug=${encodeURIComponent(b)}`,te);ce.valid?(S("valid"),T("")):(S("invalid"),T(ce.reason||"Slug is unavailable"))}catch(te){console.error(te),S("idle")}}O()},[b,s]);const R=async O=>{if(O.preventDefault(),!(k==="invalid"||k==="checking")){w(!0),N(null);try{const te=s?"user_owner_e2e_123":await window.Clerk?.session?.getToken(),ce=await z("/onboarding/studio",te,{method:"POST",body:JSON.stringify({name:u,slug:g,tier:h,interval:o})});ce.tenant?l(`/studio/${ce.tenant.slug}/onboarding`):ce.error&&N(ce.error)}catch(te){N(te.message||"Failed to create studio.")}finally{w(!1)}}};if(!r&&!s)return e("div",{className:"p-10 text-center",children:"Loading..."});const F=(s?{primaryEmailAddress:{verification:{status:"verified"}}}:a)?.primaryEmailAddress?.verification?.status==="verified",le=t("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[t("div",{className:"sm:mx-auto sm:w-full sm:max-w-md mb-8",children:[e("h2",{className:"mt-6 text-center text-3xl font-extrabold text-zinc-900",children:"Create your Studio"}),e("p",{className:"mt-2 text-center text-sm text-zinc-600",children:"Start managing your classes and students today."})]}),!F&&e("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:t("div",{className:"flex",children:[e("div",{className:"flex-shrink-0",children:e("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e("div",{className:"ml-3",children:e("p",{className:"text-sm text-yellow-700",children:"Please verify your email address to create a studio. Check your inbox."})})]})}),y&&e("div",{className:"bg-red-50 text-red-600 p-3 rounded mb-4 text-sm",children:y}),t("form",{className:"space-y-6",onSubmit:R,children:[t("div",{children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-700",children:"Studio Name"}),e("div",{className:"mt-1",children:e("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-zinc-300 rounded-md shadow-sm placeholder-zinc-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:u,onChange:O=>{p(O.target.value),N(null)},placeholder:"e.g. Zen Yoga"})})]}),t("div",{children:[e("label",{htmlFor:"slug",className:"block text-sm font-medium text-zinc-700",children:"Studio URL (Slug)"}),t("div",{className:"mt-1 flex rounded-md shadow-sm relative",children:[e("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-zinc-300 bg-zinc-50 text-zinc-500 sm:text-sm",children:"studio.platform.com/"}),e("input",{id:"slug",name:"slug",type:"text",required:!0,className:`flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${k==="invalid"?"border-red-300":"border-zinc-300"}`,value:g,onChange:O=>{m(O.target.value),A(!0),N(null)}}),t("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[k==="checking"&&e(oe,{className:"animate-spin text-zinc-400",size:16}),k==="valid"&&e(me,{className:"text-green-500",size:16}),k==="invalid"&&e(xt,{className:"text-red-500",size:16})]})]}),k==="invalid"&&C&&e("p",{className:"mt-1 text-xs text-red-500",children:C})]}),t("div",{children:[t("div",{className:"flex justify-between items-center mb-3",children:[e("label",{className:"block text-sm font-medium text-zinc-700",children:"Select Plan"}),t("button",{type:"button",onClick:()=>c(O=>O==="monthly"?"annual":"monthly"),className:"text-xs text-blue-600 hover:text-blue-500 font-medium",children:["Switch to ",o==="monthly"?"Annual":"Monthly"]})]}),M.length>0?e("div",{className:"grid grid-cols-1 gap-4",children:M.map(O=>{const te=o==="monthly"?O.prices.monthly:O.prices.annual,ce=te?`$${te/100}/${o==="monthly"?"mo":"yr"}`:"Free";let Be=null;if(o==="annual"&&O.prices.monthly&&O.prices.annual){const Ze=O.prices.monthly*12-O.prices.annual;Ze>0&&(Be=`$${Ze/100}`)}return t("div",{onClick:()=>v(O.slug),className:`cursor-pointer border rounded-lg p-4 flex items-center justify-between transition-all ${h===O.slug?"border-blue-500 ring-1 ring-blue-500 bg-blue-50":"border-zinc-200 hover:border-blue-300"}`,children:[t("div",{children:[t("div",{className:"font-medium text-zinc-900",children:[O.name," (",ce,")"]}),t("div",{className:"text-sm text-zinc-500",children:[O.trialDays>0?`${O.trialDays}-day free trial.`:"No trial."," ",o==="annual"?"Billed annually.":"Billed monthly."]}),Be&&t("div",{className:"text-xs text-emerald-600 font-medium mt-1",children:["Save ",Be,"/year."]})]}),e("div",{className:"h-4 w-4 rounded-full border border-zinc-300 flex items-center justify-center",children:h===O.slug&&e("div",{className:"h-2 w-2 bg-blue-600 rounded-full"})})]},O.id)})}):e("div",{className:"p-4 border border-dashed border-zinc-300 rounded-lg text-center text-sm text-zinc-500",children:"Loading plans..."})]}),e("div",{children:e("button",{type:"submit",disabled:x||!F||k==="invalid"||k==="checking",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-zinc-900 hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-zinc-500 disabled:opacity-70 disabled:cursor-not-allowed",children:x?"Creating...":"Create Studio"})})]})]});return e("main",{className:"min-h-screen bg-zinc-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s?le:t(G,{children:[e(Jt,{children:e(ui,{})}),e(Et,{children:le})]})})}),Nl=Object.freeze(Object.defineProperty({__proto__:null,default:zl},Symbol.toStringTag,{value:"Module"}));function Oi({className:i}){const{signOut:n}=mi(),s=Ne();return e("button",{onClick:async()=>{typeof window<"u"&&localStorage.removeItem("impersonation_token"),await n(),s("/")},title:"Sign Out",className:`flex items-center justify-center p-2 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 ${i}`,children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})}const kl=[{title:"Platform Architecture",href:"/documentation/platform/architecture",content:"Cloudflare Workers, D1 Database, Edge Network, Infrastructure, Serverless, Request Flow",category:"Platform"},{title:"Reports & Analytics",href:"/documentation/reports",content:"Financial Reports, Gross Revenue, MRR, Attendance, Utilization Rate, Exports, CSV",category:"Growth"},{title:"Tenant Management",href:"/documentation/platform/tenants",content:"Provisioning, Feature Flags, Billing Tiers, Suspended, Paused, Lifecycle",category:"Platform"},{title:"Studio Setup",href:"/documentation/setup",content:"Configuration, Timezone, Currency, Stripe Connect, Payments, Branding, Logo",category:"Overview"},{title:"Classes & Rosters",href:"/documentation/classes",content:"Scheduling, Recurrence, Virtual Zoom, Check-in, Attendance, Instructors",category:"Classes"},{title:"Memberships & POS",href:"/documentation/commerce",content:"Recurring Subscriptions, Class Packs, Expiration, Point of Sale, Gift Cards, Products, Checkout",category:"Commerce"},{title:"Website Builder",href:"/documentation/website",content:"Drag and Drop, SEO, Widgets, Embeds, Domains, Pages, Hero Section",category:"Online Presence"},{title:"Mobile App",href:"/documentation/mobile-builder",content:"White Label, iOS, Android, Splash Screen, Push Notifications, App Icon",category:"Online Presence"},{title:"CRM & Marketing",href:"/documentation/crm",content:"Leads, Pipelines, Email Automations, Chat, Two-way SMS, Loyalty, Points, Rewards",category:"Growth"},{title:"Team & Staff",href:"/documentation/team",content:"Payroll, Substitutions, Permissions, Roles, Instructors, Front Desk",category:"Team"},{title:"Advanced Analytics",href:"/documentation/studio/analytics",content:"Cohort Analysis, Retention, LTV, Lifetime Value, Heatmap, Utilization, Data, Insights, Trends",category:"Growth"},{title:"Student Portal",href:"/documentation/studio/portal",content:"Student View, Scheduling, Profile, Achievements, Progress, History, Bookings",category:"Student Experience"}],wl=async i=>{const{getToken:n,userId:s}=await P(i),a=await n();if(!s||!a)return Y("/sign-in?redirect_url=/documentation");try{const l=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";return{user:await z("/users/me",a,{},l),token:a}}catch(r){return console.error("Help Loader Error:",r),Y("/sign-in?redirect_url=/documentation")}},Cl=j(function(){const[n,s]=f(!1),{user:a}=st(),l=D()?.user,[d,o]=f(""),[c,u]=f([]),[p,g]=f(!1),m=Ne(),h=l?.isPlatformAdmin||l?.role==="owner"||l?.role==="admin",v=new cr(kl,{keys:["title","content","category"],threshold:.3}),y=b=>{const k=b.target.value;if(o(k),k.length>1){const S=v.search(k).map(C=>C.item);u(S),g(!0)}else g(!1)},N=[...h?[{category:"Platform Administration",items:[{name:"Architecture Overview",href:"/documentation/platform/architecture",icon:Un},{name:"Tenant Management",href:"/documentation/platform/tenants",icon:Oe}]}]:[],{category:"Getting Started",items:[{name:"Welcome to Studio Platform",href:"/documentation",icon:Aa},{name:"Setting up your Studio",href:"/documentation/setup",icon:Mt},{name:"Migration & Import",href:"/documentation/migration",icon:qe},{name:"For Studio Owners",href:"/documentation/studio/overview",icon:re}]},{category:"Classes & Schedule",items:[{name:"Creating Classes",href:"/documentation/classes",icon:Ws}]},{category:"Commerce & Finance",items:[{name:"Memberships & POS",href:"/documentation/commerce",icon:qt}]},{category:"Online Presence",items:[{name:"Website Builder",href:"/documentation/website",icon:xe},{name:"Mobile App",href:"/documentation/mobile-builder",icon:Me}]},{category:"Growth & CRM",items:[{name:"Marketing & Leads",href:"/documentation/crm",icon:ft}]},{category:"Team Management",items:[{name:"Staff & Payroll",href:"/documentation/team",icon:re},{name:"Advanced Analytics",href:"/documentation/studio/analytics",icon:Xt}]},{category:"Student Experience",items:[{name:"Student Portal",href:"/documentation/studio/portal",icon:Vt}]},{category:"How-to Guides",items:[{name:"Create a Waiver",href:"/documentation/guides/waiver",icon:tt},{name:"Setup Class Packs",href:"/documentation/guides/class-packs",icon:qt}]}],x=l?.firstName||a?.fullName||"User",w=l?.portraitUrl||a?.imageUrl;return t("div",{className:"min-h-screen bg-white dark:bg-zinc-950 flex flex-col font-sans transition-colors duration-300",children:[e("header",{className:"sticky top-0 z-40 w-full border-b border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md",children:t("div",{className:"flex h-16 items-center px-4 md:px-8",children:[e("button",{className:"mr-4 md:hidden text-zinc-500",onClick:()=>s(!n),children:n?e(Te,{}):e(zs,{})}),t(L,{to:"/",className:"flex items-center gap-2 font-bold text-lg mr-8 text-zinc-900 dark:text-zinc-100",children:[e("div",{className:"w-8 h-8 bg-zinc-900 dark:bg-zinc-100 rounded-lg flex items-center justify-center text-white dark:text-zinc-900",children:e(Ws,{size:18})}),e("span",{className:"hidden sm:inline",children:"Internal Docs"})]}),(l?.tenants?.length>0||h)&&e("div",{className:"hidden md:flex mr-6",children:t("a",{href:h?"/admin":`/studio/${l.tenants[0]?.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-200 transition-colors bg-zinc-100 dark:bg-zinc-800 px-3 py-1.5 rounded-full border border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600",children:[e(Vt,{size:14}),h?"Return to Admin Portal":"Return to Studio"]})}),t("div",{className:"flex-1 max-w-md hidden md:flex items-center relative group",children:[e(De,{className:"absolute left-3 text-zinc-400 group-focus-within:text-blue-500 transition-colors",size:16}),e("input",{type:"text",value:d,onChange:y,onFocus:()=>{d.length>1&&g(!0)},onBlur:()=>setTimeout(()=>g(!1),200),placeholder:"Search documentation...",className:"w-full bg-zinc-100 dark:bg-zinc-900 border-none rounded-full py-2 pl-10 pr-4 text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder-zinc-400"}),p&&c.length>0&&e("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white dark:bg-zinc-900 rounded-xl shadow-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden z-50",children:c.map((b,k)=>t("button",{onClick:()=>{m(b.href),g(!1),o("")},className:"w-full text-left px-4 py-3 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors border-b border-zinc-100 dark:border-zinc-800 last:border-0",children:[e("div",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 mb-0.5",children:b.category}),e("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:b.title}),e("div",{className:"text-xs text-zinc-500 truncate mt-1",children:b.content})]},k))})]}),t("div",{className:"ml-auto flex items-center gap-4",children:[e(Ut,{}),t("div",{className:"hidden sm:flex items-center gap-3 pl-4 border-l border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"text-right hidden md:block",children:[e("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:x}),e("div",{className:"text-xs text-zinc-500",children:h?"Platform Admin":"Studio Member"})]}),w&&e("img",{src:w,alt:"Profile",className:"w-8 h-8 rounded-full bg-zinc-200"})]}),e(Oi,{})]})]})}),t("div",{className:"flex-1 flex overflow-hidden",children:[e("aside",{className:`fixed inset-y-0 left-0 z-30 w-64 transform bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 transition-transform duration-200 ease-in-out md:translate-x-0 md:static md:block pt-20 md:pt-8 overflow-y-auto ${n?"translate-x-0":"-translate-x-full"}`,children:e("nav",{className:"px-4 space-y-8 pb-8",children:N.map((b,k)=>t("div",{children:[e("h3",{className:"text-xs font-bold text-zinc-500 dark:text-zinc-500 uppercase tracking-wider mb-3 px-2",children:b.category}),e("div",{className:"space-y-1",children:b.items.map(S=>t(ct,{to:S.href,end:S.href==="/documentation"||S.href==="/documentation/platform",onClick:()=>s(!1),className:({isActive:C})=>`flex items-center gap-2 px-2 py-2 rounded-lg text-sm font-medium transition-colors ${C?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-900 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:[e(S.icon,{size:18,className:"opacity-70"}),S.name]},S.href))})]},k))})}),e("main",{className:"flex-1 min-w-0 px-4 md:px-12 py-8 md:py-12 overflow-y-auto scroll-smooth",children:e("div",{className:"max-w-4xl mx-auto",children:e(ze,{context:{isPlatformAdmin:h,user:l}})})})]})]})}),Sl=Object.freeze(Object.defineProperty({__proto__:null,default:Cl,loader:wl},Symbol.toStringTag,{value:"Module"})),jl=j(function(){E(()=>{import("mermaid").then(s=>{s.default.initialize({startOnLoad:!0,theme:"neutral"}),s.default.contentLoaded()})},[]);const{isPlatformAdmin:n}=U();return n?t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Platform Architecture"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"High-level overview of the Studio Platform infrastructure, built on Cloudflare's edge network for performance and scalability."})]}),t("section",{className:"space-y-6",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[e($a,{className:"text-blue-500"})," Core Infrastructure"]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"p-6 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-3 mb-4",children:[e(xe,{size:20,className:"text-orange-500"}),e("h3",{className:"font-bold text-lg",children:"Cloudflare Workers & Pages"})]}),t("ul",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm",children:[t("li",{children:["â€¢ ",e("strong",{children:"Web App:"})," Deployed to Cloudflare Pages (Remix/React Router)."]}),t("li",{children:["â€¢ ",e("strong",{children:"API Layer:"})," Cloudflare Workers (Hono framework)."]}),t("li",{children:["â€¢ ",e("strong",{children:"Edge Runtime:"})," Code runs within milliseconds of users globally."]})]}),e("div",{className:"mt-4",children:e("pre",{className:"mermaid",children:`graph TD
    User[User Browser] -->|HTTPS| CF[Cloudflare Network]
    CF -->|Asset Request| Pages[Pages (Static Assets)]
    CF -->|API Request| Worker[Worker (Hono API)]
    Worker -->|Query| D1[(D1 Database)]
    Worker -->|Upload| R2[(R2 Storage)]
    Worker -.->|Payment| Stripe[Stripe Connect]
    Worker -.->|Email| Resend[Resend / SMTP]
    Worker -.->|SMS| Twilio[Twilio]
    
    subgraph "New Capabilities"
    Worker -->|Aggregations| Analytics[Analytics Engine (SQLite)]
    Worker -.->|Push| Expo[Expo Push Notifications]
    end`})})]}),t("div",{className:"p-6 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-3 mb-4",children:[e(qe,{size:20,className:"text-green-500"}),e("h3",{className:"font-bold text-lg",children:"Data & Storage"})]}),t("ul",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm",children:[t("li",{children:["â€¢ ",e("strong",{children:"Database:"})," Cloudflare D1 (SQLite at the edge)."]}),t("li",{children:["â€¢ ",e("strong",{children:"Object Storage:"})," Cloudflare R2 (Images, Videos, Assets)."]}),t("li",{children:["â€¢ ",e("strong",{children:"ORM:"})," Drizzle ORM for type-safe database queries."]}),t("li",{children:["â€¢ ",e("strong",{children:"Analytics:"})," Optimized group-by queries for Reporting."]})]})]})]})]}),t("section",{className:"space-y-6",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[e(Oe,{className:"text-purple-500"})," Security & Identity"]}),t("div",{className:"p-6 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:"We use a hybrid approach for authentication and multi-tenancy to ensure data isolation and secure access."}),t("div",{className:"grid md:grid-cols-3 gap-6",children:[t("div",{className:"space-y-2",children:[t("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(gi,{size:16})," Identity Provider"]}),t("p",{className:"text-sm text-zinc-500",children:[e("strong",{children:"Clerk"})," handles user identity, MFA, and session management."]})]}),t("div",{className:"space-y-2",children:[t("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Un,{size:16})," API Security"]}),e("p",{className:"text-sm text-zinc-500",children:"Validates JWTs using RS256 (Clerk) and HS256 (Impersonation) algorithms."})]}),t("div",{className:"space-y-2",children:[t("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(qe,{size:16})," Data Isolation"]}),t("p",{className:"text-sm text-zinc-500",children:["Logical isolation using ",e("code",{children:"tenantId"})," column on all major tables."]})]})]})]})]}),t("section",{className:"space-y-6",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[e(xe,{className:"text-blue-500"})," Platform Structure"]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"p-6 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[e("h3",{className:"font-bold text-lg mb-4",children:"Global Network"}),t("ul",{className:"space-y-3 text-sm text-zinc-600 dark:text-zinc-400",children:[t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-zinc-400 shrink-0"}),t("span",{children:[e("strong",{children:"Marketing & Auth:"})," Public landing page and centralized Clerk authentication."]})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-zinc-400 shrink-0"}),t("span",{children:[e("strong",{children:"Admin Portal:"})," Super-admin dashboard for platform oversight (`/admin`)."]})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-zinc-400 shrink-0"}),t("span",{children:[e("strong",{children:"Documentation:"})," Internal search-indexed knowledge base."]})]})]})]}),t("div",{className:"p-6 rounded-2xl bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800",children:[e("h3",{className:"font-bold text-lg mb-4",children:"Tenant Scope (`/studio/:slug`)"}),t("ul",{className:"space-y-3 text-sm text-zinc-600 dark:text-zinc-400",children:[t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-green-500 shrink-0"}),t("span",{children:[e("strong",{children:"Dashboard:"})," Central command center for owners and staff."]})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),t("span",{children:[e("strong",{children:"Student Portal:"})," Specialized view for members to book classes and view history."]})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"mt-1 w-1.5 h-1.5 rounded-full bg-purple-500 shrink-0"}),t("span",{children:[e("strong",{children:"Commerce:"})," Integrated Stripe Connect payments for memberships and packs."]})]})]})]})]})]}),t("section",{className:"space-y-6",children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Feature Access Matrix"}),e("div",{className:"overflow-hidden rounded-xl border border-zinc-200 dark:border-zinc-800",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"bg-zinc-100 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 font-semibold",children:t("tr",{children:[e("th",{className:"px-6 py-4",children:"Feature Module"}),e("th",{className:"px-6 py-4 text-center text-zinc-500",children:"Launch"}),e("th",{className:"px-6 py-4 text-center text-blue-600",children:"Growth"}),e("th",{className:"px-6 py-4 text-center text-purple-600",children:"Scale"})]})}),e("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800 bg-white dark:bg-zinc-950",children:[{name:"Core Booking & Scheduling",launch:!0,growth:!0,scale:!0},{name:"Stripe Payments",launch:!0,growth:!0,scale:!0},{name:"Staff Accounts",launch:"3",growth:"Unlimited",scale:"Unlimited"},{name:"Email Automations",launch:!1,growth:!0,scale:!0},{name:"Loyalty & Challenges",launch:!1,growth:!0,scale:!0},{name:"Video Library (VOD)",launch:!1,growth:!0,scale:!0},{name:"Point of Sale (POS)",launch:!1,growth:!0,scale:!0},{name:"Website Builder",launch:!1,growth:!1,scale:!0},{name:"Branded Mobile App",launch:!1,growth:!1,scale:!0},{name:"Payroll Automation",launch:!1,growth:!1,scale:!0}].map((s,a)=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/50 transition-colors",children:[e("td",{className:"px-6 py-4 font-medium text-zinc-700 dark:text-zinc-300",children:s.name}),e("td",{className:"px-6 py-4 text-center",children:s.launch===!0?"âœ…":s.launch===!1?e("span",{className:"opacity-20",children:"No"}):s.launch}),e("td",{className:"px-6 py-4 text-center font-medium bg-blue-50/50 dark:bg-blue-900/10",children:s.growth===!0?"âœ…":s.growth===!1?e("span",{className:"opacity-20",children:"No"}):s.growth}),e("td",{className:"px-6 py-4 text-center font-bold bg-purple-50/50 dark:bg-purple-900/10",children:s.scale===!0?"âœ…":s.scale===!1?e("span",{className:"opacity-20",children:"No"}):s.scale})]},a))})]})})]})]}):e(ci,{to:"/documentation",replace:!0})}),Ml=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"})),_l=j(function(){return t("div",{className:"space-y-8 max-w-3xl",children:[t("div",{children:[t("div",{className:"flex items-center gap-2 text-sm text-zinc-500 mb-4",children:[e(L,{to:"/documentation",className:"hover:text-zinc-900",children:"Docs"}),e("span",{children:"/"}),e("span",{className:"text-zinc-900",children:"How-to Guides"})]}),e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4",children:"How to Setup Class Packs"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400",children:'Create flexible pricing options like "10 Class Pack" or "Drop-ins".'})]}),t("div",{className:"prose dark:prose-invert max-w-none",children:[e("h3",{children:"Overview"}),e("p",{children:"Class Packs allow students to purchase a set number of credits to book classes. Unlike recurring memberships, these are one-time purchases (though they can have expiration dates)."}),e("h3",{children:"Step 1: Go to Commerce"}),t("p",{children:["Navigate to ",e("strong",{children:"Commerce"})," > ",e("strong",{children:"Packs & Retail"}),"."]}),e("h3",{children:"Step 2: Create New Pack"}),e("p",{children:'Click the "Create Product" button and select "Class Pack".'}),e("h3",{children:"Step 3: Configure Details"}),t("ul",{children:[t("li",{children:[e("strong",{children:"Name:"}),' e.g., "10 Class Summer Pack"']}),t("li",{children:[e("strong",{children:"Credits:"})," How many classes does this buy? (e.g., 10)"]}),t("li",{children:[e("strong",{children:"Price:"})," Total price (e.g., $150)"]}),t("li",{children:[e("strong",{children:"Expiration:"})," (Optional) Set to expire 3, 6, or 12 months after purchase."]})]}),t("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500 my-6",children:[e("h4",{className:"text-yellow-800 dark:text-yellow-200 mt-0",children:"Pricing Tip"}),e("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-0",children:"Class packs usually offer a discount per class compared to a drop-in rate. Make sure to highlight this value!"})]}),e("h3",{children:"Step 4: Save"}),e("p",{children:"Hit Save. The pack is now available for purchase on your public page and mobile app."})]})]})}),Al=Object.freeze(Object.defineProperty({__proto__:null,default:_l},Symbol.toStringTag,{value:"Module"})),$l=j(function(){const{isPlatformAdmin:n}=U();return n?t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Tenant Management Guide"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Detailed instructions for managing studios, billing tiers, and feature flags across the platform."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(re,{className:"text-blue-500"})," Tenant Provisioning"]}),t("div",{className:"prose dark:prose-invert max-w-none text-zinc-600 dark:text-zinc-400",children:[t("p",{children:["New tenants are typically created via the self-service signup flow at ",e("code",{children:"/create-studio"}),". However, admins can manually provision or modify tenants via the ",e("strong",{children:"Tenants"})," dashboard."]}),e("h4",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mt-4 mb-2",children:"Key Properties"}),t("ul",{className:"grid md:grid-cols-2 gap-4 list-none pl-0",children:[t("li",{className:"flex items-start gap-2",children:[e("span",{className:"font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded text-sm",children:"slug"}),t("span",{children:["Unique subdomain identifier (e.g. ",e("code",{children:"yoga-studio"}),")"]})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded text-sm",children:"ownerId"}),e("span",{children:"Clerk ID of the primary owner"})]}),t("li",{className:"flex items-start gap-2",children:[e("span",{className:"font-mono bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded text-sm",children:"tier"}),e("span",{children:"Billing tier (Basic, Growth, Scale)"})]})]})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Ta,{className:"text-purple-500"})," Feature Gating"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:"Features can be gated globally (Platform Config) or per-tenant (Tenant Features)."}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-6 rounded-xl border border-zinc-200 dark:border-zinc-700",children:[e("h3",{className:"font-bold text-lg mb-2",children:"Global Flags"}),t("p",{className:"text-sm text-zinc-500 mb-4",children:["Controlled via ",e("code",{children:"platformConfig"}),". Affects ALL tenants."]}),t("ul",{className:"space-y-1 text-sm font-mono text-zinc-700 dark:text-zinc-300",children:[e("li",{children:"feature_webhooks"}),e("li",{children:"feature_beta_ui"}),e("li",{children:"mobile_maintenance_mode"}),e("li",{children:"mobile_min_version"})]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-6 rounded-xl border border-zinc-200 dark:border-zinc-700",children:[e("h3",{className:"font-bold text-lg mb-2",children:"Tenant Flags"}),t("p",{className:"text-sm text-zinc-500 mb-4",children:["Controlled via ",e("code",{children:"tenantFeatures"}),"."]}),t("ul",{className:"space-y-1 text-sm font-mono text-zinc-700 dark:text-zinc-300",children:[e("li",{children:"financials"}),e("li",{children:"website_builder"}),e("li",{children:"mobile_app"}),e("li",{children:"mobile_access"}),e("li",{children:"vod_streaming"})]})]})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Me,{className:"text-indigo-500"})," Mobile Administration"]}),t("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:["The ",t("strong",{children:["Admin "," > "," Mobile App"]})," dashboard provides centralized control over the universal platform app."]}),t("ul",{className:"space-y-4",children:[t("li",{className:"flex gap-4",children:[e("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center shrink-0",children:e(Ns,{size:18,className:"text-indigo-600 dark:text-indigo-400"})}),t("div",{children:[e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Global Maintenance Mode"}),e("p",{className:"text-sm text-zinc-500",children:"Toggling this instantly blocks all mobile app traffic across every tenant. Use for emergency downtime only."})]})]}),t("li",{className:"flex gap-4",children:[e("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center shrink-0",children:e(_e,{size:18,className:"text-indigo-600 dark:text-indigo-400"})}),t("div",{children:[e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Minimum Version Enforcement"}),e("p",{className:"text-sm text-zinc-500",children:"Forcing a version update will prevent users with older app builds from connecting to the API."})]})]})]})]}),t("section",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(Ae,{className:"text-green-500"})," Billing Tiers"]}),e("ul",{className:"space-y-4",children:[{name:"Basic",desc:"Essential features, limited seats"},{name:"Growth",desc:"Advanced reporting, more seats"},{name:"Scale",desc:"Unlimited seats, dedicated support"}].map((s,a)=>t("li",{className:"flex justify-between items-center border-b border-zinc-100 dark:border-zinc-800 pb-2 last:border-0 last:pb-0",children:[e("span",{className:"font-bold truncate",children:s.name}),e("span",{className:"text-sm text-zinc-500",children:s.desc})]},a))})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(_e,{className:"text-orange-500"})," Lifecycle Status"]}),t("ul",{className:"space-y-3 text-sm",children:[t("li",{className:"flex items-center gap-3",children:[e("span",{className:"w-2 h-2 rounded-full bg-green-500"}),e("strong",{children:"Active:"})," Fully operational."]}),t("li",{className:"flex items-center gap-3",children:[e("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),e("strong",{children:"Paused:"})," Access restricted, data preserved."]}),t("li",{className:"flex items-center gap-3",children:[e("span",{className:"w-2 h-2 rounded-full bg-red-500"}),e("strong",{children:"Suspended:"})," Access blocked (billing failure/TOS)."]}),t("li",{className:"flex items-center gap-3",children:[e("span",{className:"w-2 h-2 rounded-full bg-zinc-500"}),e("strong",{children:"Archived:"})," Scheduled for deletion."]})]})]})]})]})]}):e(ci,{to:"/documentation",replace:!0})}),Tl=Object.freeze(Object.defineProperty({__proto__:null,default:$l},Symbol.toStringTag,{value:"Module"})),Pl=j(function(){const{user:n}=U(),s=n?.tenants?.[0]?.slug;return t("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-50 mb-4",children:"Advanced Analytics"}),e("p",{className:"text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl mb-4",children:"Gain deeper insights into your studio's performance with Cohort Analysis, Lifetime Value (LTV) tracking, and Utilization Heatmaps."}),s&&t(L,{to:`/studio/${s}/analytics`,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:["View your Analytics ",e(Re,{size:16})]})]}),t("section",{className:"space-y-6",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Xt,{className:"text-blue-500"})," Key Metrics"]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-2 font-bold mb-2",children:[e(re,{size:18})," Cohort Retention"]}),e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Visualize how many new students from a specific month are still active today. This helps you measure the long-term impact of marketing campaigns."})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-2 font-bold mb-2",children:[e(dt,{size:18})," Lifetime Value (LTV)"]}),e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Track the average revenue generated per student over their lifetime. A rising LTV indicates successful retention and upsell strategies."})]})]})]}),t("section",{className:"space-y-6",children:[e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Utilization Heatmap"}),e("p",{className:"text-zinc-600 dark:text-zinc-400",children:"The Heatmap grid shows your most popular times at a glance. Darker blue squares indicate high-occupancy slots, while lighter areas suggest opportunities to add classes or run promotions."})]})]})}),Il=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"})),Ll=j(function(){return t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Studio Owner Guide"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Everything you need to successfully run your studio, manage memberships, and grow your community."})]}),e("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Create Class",icon:K,href:"/documentation/classes",color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20"},{label:"Connect Stripe",icon:Ae,href:"/documentation/setup",color:"text-green-500",bg:"bg-green-50 dark:bg-green-900/20"},{label:"Get Mobile App",icon:re,href:"/documentation/mobile-builder",color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-900/20"},{label:"View Reports",icon:Xt,href:"/documentation/reports",color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-900/20"}].map((n,s)=>t(L,{to:n.href,className:"p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500 dark:hover:border-blue-500 hover:shadow-md transition-all group flex items-center gap-3 bg-white dark:bg-zinc-900",children:[e("div",{className:`p-2 rounded-lg ${n.bg} ${n.color}`,children:e(n.icon,{size:20})}),e("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:n.label})]},s))}),t("div",{className:"grid gap-12",children:[t("section",{children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6",children:"Managing Your Business"}),t("div",{className:"grid md:grid-cols-2 gap-8",children:[t("div",{children:[t("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[e(re,{className:"text-blue-500",size:20}),"Members & Students"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-4",children:"Learn how to manage student profiles, view attendance history, and handle membership statuses."}),t("ul",{className:"space-y-2 text-sm text-zinc-500 dark:text-zinc-400 mb-4",children:[e("li",{children:"â€¢ Importing students from CSV"}),e("li",{children:"â€¢ Assigning memberships"}),e("li",{children:"â€¢ Tracking waivers and liability forms"})]}),t(L,{to:"/documentation",className:"text-blue-600 font-medium inline-flex items-center text-sm hover:underline",children:["Read Guide ",e(Re,{size:14,className:"ml-1"})]})]}),t("div",{children:[t("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[e(Ae,{className:"text-green-500",size:20}),"Payments & Billing"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-4",children:"Understand how payments work, how to set up memberships, and how payouts are processed."}),t("ul",{className:"space-y-2 text-sm text-zinc-500 dark:text-zinc-400 mb-4",children:[e("li",{children:"â€¢ Creating recurring memberships"}),e("li",{children:"â€¢ Setting up drop-in rates"}),e("li",{children:"â€¢ Using the Point of Sale (POS)"})]}),t(L,{to:"/documentation/setup",className:"text-blue-600 font-medium inline-flex items-center text-sm hover:underline",children:["Payment Setup ",e(Re,{size:14,className:"ml-1"})]})]})]})]}),e("hr",{className:"border-zinc-100 dark:border-zinc-800"}),t("section",{children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6",children:"Growth & Retention"}),e("div",{className:"bg-zinc-50 dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:t("div",{className:"md:flex gap-8 items-start",children:[t("div",{className:"flex-1",children:[e("h3",{className:"text-lg font-bold mb-2",children:"Automated Marketing"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Set up automated email campaigns to welcome new students, nurture leads, and win back inactive members."})]}),t("div",{className:"flex-1",children:[e("h3",{className:"text-lg font-bold mb-2",children:"Referral Program"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Reward your loyal students for bringing friends. configure reward amounts and tracking."})]}),t("div",{className:"flex-1",children:[e("h3",{className:"text-lg font-bold mb-2",children:"Branded Mobile App"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Launch your own iOS and Android app to increase engagement and bookings."})]})]})})]})]})]})}),Dl=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),Ol=j(function(){return t("article",{className:"prose prose-zinc dark:prose-invert max-w-none",children:[t("div",{className:"flex items-center gap-3 mb-6 not-prose",children:[e("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg text-purple-600 dark:text-purple-400",children:e(Me,{size:24})}),e("div",{className:"text-sm font-bold text-purple-600 dark:text-purple-400 uppercase tracking-wide",children:"Feature Guide"})]}),e("h1",{className:"text-4xl font-bold mb-6",children:"White Label Mobile App Builder"}),e("p",{className:"text-xl text-zinc-500 mb-8 leading-relaxed",children:`Transform your studio's digital presence with a fully branded "White Label" mobile app. Your students can book classes, manage memberships, and receive push notifications directly from their home screen.`}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-xl p-6 mb-8 border border-zinc-200 dark:border-zinc-800 not-prose",children:[e("h3",{className:"text-lg font-bold mb-4",children:"What's Included?"}),t("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t("li",{className:"flex items-center gap-2",children:[e(pe,{size:16,className:"text-green-500"}),e("span",{children:"Custom App Icon & Name"})]}),t("li",{className:"flex items-center gap-2",children:[e(pe,{size:16,className:"text-green-500"}),e("span",{children:"Branded Splash Screen"})]}),t("li",{className:"flex items-center gap-2",children:[e(pe,{size:16,className:"text-green-500"}),e("span",{children:"Native Biometric Login (FaceID)"})]}),t("li",{className:"flex items-center gap-2",children:[e(pe,{size:16,className:"text-green-500"}),e("span",{children:"Push Notifications"})]})]})]}),e("h2",{children:"Getting Started"}),t("p",{children:["To configure your app, navigate to ",e("strong",{children:"Settings > Mobile App"})," in your studio dashboard."]}),t("ol",{children:[t("li",{children:[e("strong",{children:"App Identity:"}),' Choose the name that will appear under your app icon on user devices (e.g., "My Studio").']}),t("li",{children:[e("strong",{children:"Primary Color:"})," Select your brand's main color. This will tint buttons, active tabs, and highlights throughout the app."]}),t("li",{children:[e("strong",{children:"Assets:"})," Upload a high-resolution App Icon (1024x1024 PNG) and a Splash Screen image."]})]}),t("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-r-lg my-6 not-prose",children:[e("h4",{className:"font-bold text-blue-700 dark:text-blue-300 mb-1",children:"Pro Tip"}),e("p",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Keep your app icon simple. Avoid small text or complex details, as it will be viewed at very small sizes on phone screens."})]}),e("h2",{children:"Publishing Process"}),e("p",{children:"Once you save your configuration, our automated build system (powered by Expo EAS) will generate the native binaries (`.ipa` and `.aab`) for iOS and Android."}),e("p",{children:e("i",{children:"Note: Publishing to the Apple App Store requires an Apple Developer Account enrolled in the Apple Business Manager program if you are a business entity."})}),t("div",{className:"mt-12 p-8 bg-zinc-900 rounded-2xl border border-zinc-800 text-white not-prose",children:[t("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[e(Ns,{size:24,className:"text-red-500"})," Platform Admin Controls"]}),t("p",{className:"text-zinc-400 mb-6 font-medium",children:["As a platform administrator, you have global control over the mobile environment via ",e("strong",{children:"Admin > Mobile App"}),"."]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"space-y-2",children:[e("h4",{className:"font-bold text-red-400",children:"Maintenance Mode"}),t("p",{className:"text-sm text-zinc-500 leading-relaxed",children:["Immediately disconnect all mobile clients globally. This is stored in ",e("code",{children:"platform_config"})," and takes effect instantly."]})]}),t("div",{className:"space-y-2",children:[e("h4",{className:"font-bold text-blue-400",children:"Version Management"}),e("p",{className:"text-sm text-zinc-500 leading-relaxed",children:"Set a minimum required version to force updates. The app will check this on boot and redirect users to the App Store if they are out of date."})]})]})]})]})}),El=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"})),Bl=j(function(){return t("div",{className:"space-y-8 max-w-3xl",children:[t("div",{children:[t("div",{className:"flex items-center gap-2 text-sm text-zinc-500 mb-4",children:[e(L,{to:"/documentation",className:"hover:text-zinc-900",children:"Docs"}),e("span",{children:"/"}),e("span",{className:"text-zinc-900",children:"How-to Guides"})]}),e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4",children:"How to Create a Digital Waiver"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400",children:"Learn how to set up a legally binding liability waiver for your studio."})]}),t("div",{className:"prose dark:prose-invert max-w-none",children:[e("h3",{children:"Why do I need a waiver?"}),e("p",{children:"A liability waiver protects your business from potential lawsuits arising from injuries during classes. With Studio Platform, waivers are digital, stored securely, and automatically presented to students before their first booking."}),e("h3",{children:"Step 1: Navigate to Waiver Settings"}),t("p",{children:["Go to your Studio Dashboard and click on ",e("strong",{children:"Settings"})," in the sidebar, then select ",e("strong",{children:"Waivers"}),"."]}),e("div",{className:"bg-zinc-100 dark:bg-zinc-900 p-4 rounded-lg my-4 border border-zinc-200 dark:border-zinc-800 text-sm font-mono text-zinc-600 dark:text-zinc-400",children:"Dashboard > Settings > Waivers > Create New"}),e("h3",{children:"Step 2: Define your Terms"}),e("p",{children:'Enter a title (e.g., "General Liability Release") and the body text. Be sure to cover:'}),t("ul",{children:[e("li",{children:"Assumption of Risk"}),e("li",{children:"Release of Liability"}),e("li",{children:"Photo/Video Release (optional)"})]}),t("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border-l-4 border-blue-500 my-6",children:[e("h4",{className:"text-blue-800 dark:text-blue-200 mt-0",children:"Legal Compliance Tip (2026)"}),e("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-0",children:'Ensure your waiver includes a "Consumer Disclosure" agreeing to electronic business. Our platform handles the audit trail (IP address, timestamp) automatically for ESIGN compliance.'})]}),e("h3",{children:"Step 3: Enable for Registration"}),e("p",{children:'Toggle "Require for New Students" to ON. This ensures no one can book a class without signing first.'}),e("h3",{children:"Step 4: Publish"}),e("p",{children:'Click "Publish". Your waiver is now live!'})]})]})}),Fl=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"})),Rl=j(function(){return t("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-50 mb-4",children:"Dedicated Student Portal"}),e("p",{className:"text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Provide your members with a focused, distraction-free environment to manage their bookings, view achievements, and update their profile."})]}),t("section",{className:"space-y-6",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Vt,{className:"text-indigo-500"})," Only What They Need"]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[e("p",{className:"mb-4 text-zinc-700 dark:text-zinc-300",children:'The Student Portal is automatically enabled for all students. When a user with only the "Student" role logs in, they are automatically redirected to `https://your-studio.com/portal/your-slug`.'}),t("ul",{className:"grid md:grid-cols-2 gap-4",children:[t("li",{className:"flex items-start gap-3",children:[e(K,{className:"mt-1 text-zinc-400",size:18}),t("div",{children:[e("strong",{className:"block text-zinc-900 dark:text-zinc-100",children:"Simple Scheduling"}),e("span",{className:"text-sm text-zinc-500",children:"Book classes, view upcoming sessions, and join waitlists in one click."})]})]}),t("li",{className:"flex items-start gap-3",children:[e(ut,{className:"mt-1 text-zinc-400",size:18}),t("div",{children:[e("strong",{className:"block text-zinc-900 dark:text-zinc-100",children:"Achievements"}),e("span",{className:"text-sm text-zinc-500",children:'View progress on active challenges like "Attendance Streaks" or "30 Day Challenge".'})]})]})]})]})]}),t("section",{className:"space-y-6",children:[e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"How to Preview"}),e("p",{className:"text-zinc-600 dark:text-zinc-400",children:'As an Admin or Owner, you can preview the Student Portal by clicking "View as Student" in the bottom of your sidebar. This will toggle your view without logging you out.'})]})]})}),Xl=Object.freeze(Object.defineProperty({__proto__:null,default:Rl},Symbol.toStringTag,{value:"Module"})),Ul=j(function(){const{isPlatformAdmin:n}=U();return t("div",{className:"max-w-4xl animate-in fade-in duration-500",children:[t("div",{className:"mb-8",children:[t("div",{className:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400 font-medium mb-3",children:[e(qe,{size:16}),e("span",{children:"Migration & Setup"})]}),e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 tracking-tight",children:"Migrating to Studio Platform"}),e("p",{className:"text-xl text-zinc-500 dark:text-zinc-400 mt-4 leading-relaxed",children:"A comprehensive guide to moving your data from other systems like Arketa, HeyMarvelous, or FitDegree into Studio Platform."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[t("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-2xl p-6",children:[t("h3",{className:"font-bold text-blue-900 dark:text-blue-100 flex items-center gap-2 mb-2",children:[e(me,{size:18})," Why migrate?"]}),e("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Studio Platform offers unified booking, payments, and marketing. Bringing your history allows you to retain member loyalty and streaks."})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6",children:[t("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2 mb-2",children:[e(tt,{size:18})," Supported Data"]}),e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"We currently support importing **Users**, **Memberships**, and **Class Schedules** via CSV."})]})]}),t("div",{className:"space-y-12",children:[t("section",{children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Universal CSV Format"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:"Regardless of where you are coming from, formatting your data into our standard CSV structure ensures a smooth import."}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden",children:[e("div",{className:"border-b border-zinc-200 dark:border-zinc-800 px-6 py-4 bg-zinc-50/50 dark:bg-zinc-800/20",children:e("h3",{className:"font-semibold text-sm font-mono",children:"users.csv"})}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"text-zinc-500 bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-100 dark:border-zinc-800",children:t("tr",{children:[t("th",{className:"px-6 py-3 font-medium",children:["email ",e("span",{className:"text-red-500",children:"*"})]}),t("th",{className:"px-6 py-3 font-medium",children:["firstname ",e("span",{className:"text-red-500",children:"*"})]}),t("th",{className:"px-6 py-3 font-medium",children:["lastname ",e("span",{className:"text-red-500",children:"*"})]}),e("th",{className:"px-6 py-3 font-medium",children:"membership"}),e("th",{className:"px-6 py-3 font-medium",children:"phone"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:t("tr",{children:[e("td",{className:"px-6 py-3 font-mono text-zinc-600 dark:text-zinc-400",children:"jane@example.com"}),e("td",{className:"px-6 py-3 text-zinc-600 dark:text-zinc-400",children:"Jane"}),e("td",{className:"px-6 py-3 text-zinc-600 dark:text-zinc-400",children:"Doe"}),e("td",{className:"px-6 py-3 text-zinc-600 dark:text-zinc-400",children:"Unlimited Monthly"}),e("td",{className:"px-6 py-3 text-zinc-600 dark:text-zinc-400",children:"+15550123456"})]})})]})})]})]}),t("section",{children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6",children:"Platform-Specific Guides"}),t("div",{className:"grid gap-6",children:[t("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-white dark:bg-zinc-900",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Migrating from Arketa"}),t("ol",{className:"list-decimal pl-5 space-y-2 text-zinc-600 dark:text-zinc-400",children:[t("li",{children:["Go to ",e("strong",{children:"Client List"})," in your Arketa dashboard."]}),t("li",{children:["Click ",e("strong",{children:"Export CSV"}),"."]}),t("li",{children:["Rename the ",e("code",{children:"Client Email"})," column to ",e("code",{children:"email"}),"."]}),t("li",{children:["Rename ",e("code",{children:"First Name"})," to ",e("code",{children:"firstname"})," and ",e("code",{children:"Last Name"})," to ",e("code",{children:"lastname"}),"."]}),e("li",{children:"Upload the file in the Studio Platform onboarding wizard."})]})]}),t("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-white dark:bg-zinc-900",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Migrating from HeyMarvelous"}),t("ol",{className:"list-decimal pl-5 space-y-2 text-zinc-600 dark:text-zinc-400",children:[t("li",{children:["Navigate to ",e("strong",{children:"Students"})," tab."]}),t("li",{children:['Select "All Students" and click ',e("strong",{children:"Export"}),"."]}),t("li",{children:["The export may contain separate columns for products purchased. You will need to map these to a single ",e("code",{children:"membership"})," column matching your Plan Names in Studio Platform."]})]})]}),t("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-white dark:bg-zinc-900",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Migrating from MindBody / FitDegree"}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-3",children:"These platforms often require requesting a data export from their support team."}),t("ul",{className:"list-disc pl-5 space-y-2 text-zinc-600 dark:text-zinc-400",children:[e("li",{children:'Ask for "Client Contact Information" and "Active Membership Status".'}),t("li",{children:["Ensure you get the ",e("strong",{children:"Visit History"})," if you plan to import historical attendance (contact our support for assistance with this)."]})]})]})]})]})]})]})}),Wl=Object.freeze(Object.defineProperty({__proto__:null,default:Ul},Symbol.toStringTag,{value:"Module"})),Hl=j(function(){return t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Commerce & Finance"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Monetize your studio with flexible membership options, class packs, and a powerful Point of Sale (POS) system."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Ae,{className:"text-blue-500"})," Memberships & Class Packs"]}),t("div",{className:"prose dark:prose-invert max-w-none text-zinc-600 dark:text-zinc-400",children:[e("p",{children:"You can create unlimited membership types and class packs to suit your business model."}),t("div",{className:"grid md:grid-cols-2 gap-6 mt-6 not-prose",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-6 rounded-xl border border-zinc-200 dark:border-zinc-700",children:[e("h3",{className:"font-bold text-lg mb-2",children:"Recurring Memberships"}),e("p",{className:"text-sm text-zinc-500 mb-4",children:"Best for loyal students. Auto-renewing subscriptions via Stripe."}),t("ul",{className:"space-y-1 text-sm text-zinc-700 dark:text-zinc-300",children:[e("li",{children:"â€¢ Set billing interval (Weekly, Monthly, Yearly)"}),e("li",{children:"â€¢ Limit credits per period or Unlimted"}),e("li",{children:"â€¢ Configure commitment periods"})]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-6 rounded-xl border border-zinc-200 dark:border-zinc-700",children:[e("h3",{className:"font-bold text-lg mb-2",children:"Class Packs"}),e("p",{className:"text-sm text-zinc-500 mb-4",children:"Pre-paid bundles of class credits with an expiration date."}),t("ul",{className:"space-y-1 text-sm text-zinc-700 dark:text-zinc-300",children:[e("li",{children:"â€¢ 5-Class Pack, 10-Class Pack, etc."}),e("li",{children:'â€¢ Set expiration (e.g., "Valid for 3 months")'}),e("li",{children:"â€¢ One-time purchase"})]})]})]})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(qt,{className:"text-green-500"})," Point of Sale (POS)"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-4",children:"The built-in POS allows you to sell products, water, mats, and memberships directly at the front desk."}),t("ul",{className:"space-y-3",children:[t("li",{className:"flex gap-3",children:[e("div",{className:"bg-green-100 dark:bg-green-900/30 p-1 rounded text-green-600",children:e(Ge,{size:16})}),t("div",{children:[e("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Quick Checkout & Inventory:"}),e("span",{className:"text-zinc-500 ml-2",children:'Search products, view real-time stock levels, and get "Low Stock" alerts (adjustable threshold).'})]})]}),t("li",{className:"flex gap-3",children:[e("div",{className:"bg-green-100 dark:bg-green-900/30 p-1 rounded text-green-600",children:e(hn,{size:16})}),t("div",{children:[e("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Gift Cards:"}),e("span",{className:"text-zinc-500 ml-2",children:"Sell and redeem digital gift cards. Balance is tracked automatically."})]})]})]})]})]})]})}),Ql=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Jl=j(function(){return t("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Creating & Managing Classes"}),e("p",{className:"text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed",children:"Learn how to schedule classes, manage rosters, and handle check-ins."})]}),t("div",{className:"space-y-8",children:[t("div",{className:"prose dark:prose-invert max-w-none",children:[e("h3",{children:"The Schedule View"}),t("p",{children:["The ",e("strong",{children:"Schedule"})," tab is your command center. It shows a calendar view of all your upcoming classes. You can view by day, week, or month."]})]}),t("div",{className:"grid md:grid-cols-3 gap-6",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl",children:[e(K,{className:"w-8 h-8 text-blue-500 mb-4"}),e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Scheduling a Class"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:'Click the "New Class" button or drag on the calendar to create a session. You can set recurrence rules (e.g., "Every Monday at 9am").'})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl",children:[e(re,{className:"w-8 h-8 text-green-500 mb-4"}),e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Managing Rosters"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Click on any class to view its roster. You can manually add students, cancel bookings, or check students in as they arrive."})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl",children:[e(vt,{className:"w-8 h-8 text-purple-500 mb-4"}),e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Virtual Classes"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:'If you enable "Virtual" for a class, a Zoom/Video link will be automatically generated and emailed to registered students.'})]})]})]})]})}),Vl=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),ql=j(function(){return t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Reports & Analytics"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Track the financial health and growth of your studio with real-time analytics and exportable reports."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Xt,{className:"text-blue-500"})," Financial Dashboard"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:"The main dashboard typically updates every 5-10 minutes (cached at the edge) and provides a snapshot of your monthly performance."}),t("div",{className:"grid md:grid-cols-3 gap-6 text-sm",children:[t("div",{className:"space-y-2",children:[e("strong",{className:"block text-zinc-900 dark:text-zinc-100",children:"Gross Revenue"}),e("p",{className:"text-zinc-500",children:"Total sales before refunds and fees."})]}),t("div",{className:"space-y-2",children:[e("strong",{className:"block text-zinc-900 dark:text-zinc-100",children:"Net Revenue"}),e("p",{className:"text-zinc-500",children:"Revenue actually deposited to your bank (Gross - Fees)."})]}),t("div",{className:"space-y-2",children:[e("strong",{className:"block text-zinc-900 dark:text-zinc-100",children:"MRR (Monthly Recurring)"}),e("p",{className:"text-zinc-500",children:"Predictable revenue from active memberships."})]})]})]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(dt,{className:"text-green-500"})," Attendance Reports"]}),t("ul",{className:"space-y-3 text-zinc-600 dark:text-zinc-400 text-sm",children:[e("li",{children:"â€¢ **Utilization Rate:** specific classes filling up vs. empty."}),e("li",{children:"â€¢ **No-Show Rate:** monitor students who book but don't attend."}),e("li",{children:"â€¢ **Instructor Performance:** average attendance per teacher."})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(_t,{className:"text-purple-500"})," Data Exports"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"You can export any data table as a CSV for use in Excel or QuickBooks."}),t("ul",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm",children:[e("li",{children:"1. Navigate to the list view (e.g. Students, Transactions)."}),e("li",{children:"2. Apply any desired filters."}),t("li",{children:["3. Click the ",e("strong",{children:"Export CSV"})," button."]})]})]})]})]})]})}),Gl=Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"})),Yl=j(function(){return t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Website Builder"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Create a stunning, SEO-optimized website for your studio without writing a single line of code."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Vt,{className:"text-purple-500"})," Visual Editor"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:"Our drag-and-drop editor allows you to build pages using pre-designed blocks optimized for conversion."}),t("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[e("strong",{children:"Hero Sections:"})," High-impact headers with video backgrounds or image sliders."]}),t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[e("strong",{children:"Feature Grids:"})," Showcase your amenities, class types, or instructors."]}),t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[e("strong",{children:"Pricing Tables:"})," clear comparison of your membership options."]}),t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700 col-span-full md:col-span-1",children:[e("strong",{children:"Testimonials:"})," Horizontal scroll carousel for student success stories."]})]})]}),t("section",{className:"grid md:grid-cols-2 gap-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(De,{className:"text-blue-500"})," SEO Optimization"]}),t("ul",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm",children:[t("li",{className:"flex gap-2",children:[e("span",{className:"text-blue-500",children:"âœ“"})," Custom Meta Titles & Descriptions"]}),t("li",{className:"flex gap-2",children:[e("span",{className:"text-blue-500",children:"âœ“"})," Open Graph Tags (Title, Description, Image) for beautiful social shares"]}),t("li",{className:"flex gap-2",children:[e("span",{className:"text-blue-500",children:"âœ“"})," Automatic Sitemap Generation"]}),t("li",{className:"flex gap-2",children:[e("span",{className:"text-blue-500",children:"âœ“"})," Fast Loading (Edge Cached)"]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(ks,{className:"text-orange-500"})," Widgets & Embeds"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Already have a website? No problem."}),t("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:["Use our ",e("strong",{children:"Embed Code"})," generator to place your Schedule, Class List, or Checkout flow directly onto your existing WordPress, Squarespace, or Wix site."]})]})]})]})]})}),Zl=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),Kl=j(function(){return t("div",{className:"space-y-8",children:[t("div",{className:"space-y-4",children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 font-serif",children:"Welcome to Studio Platform Documentation"}),e("p",{className:"text-xl text-zinc-500 dark:text-zinc-400",children:"Everything you need to know about managing your studio, classes, and mobile app."})]}),e("hr",{className:"border-zinc-200 dark:border-zinc-800"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t(L,{to:"/documentation/setup",className:"group p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-blue-500 dark:hover:border-blue-500 hover:shadow-lg transition-all",children:[e("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e(Mt,{size:24})}),e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Studio Setup"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:"Learn how to configure your tenant, payment settings, and branding."}),t("div",{className:"flex items-center text-blue-600 font-medium text-sm",children:["Start Guide ",e(Re,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]}),t(L,{to:"/documentation/mobile-builder",className:"group p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 hover:border-purple-500 dark:hover:border-purple-500 hover:shadow-lg transition-all",children:[e("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:e(Me,{size:24})}),e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Mobile App Builder"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:"Create and publish your own white-label mobile app for iOS and Android."}),t("div",{className:"flex items-center text-purple-600 font-medium text-sm",children:["Learn More ",e(Re,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]})}),ed=Object.freeze(Object.defineProperty({__proto__:null,default:Kl},Symbol.toStringTag,{value:"Module"})),td=j(function(){return t("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Setting up your Studio"}),e("p",{className:"text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed",children:"Welcome to Studio Platform! This guide will help you configure the essential settings for your studio tenant."})]}),t("div",{className:"grid gap-6",children:[e("section",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:t("div",{className:"flex items-start gap-4",children:[e("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-lg text-blue-600 dark:text-blue-400",children:e(Mt,{size:24})}),t("div",{className:"space-y-3",children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"General Configuration"}),t("p",{className:"text-zinc-600 dark:text-zinc-400",children:["Navigate to ",e("strong",{children:"Settings"})," in the sidebar to access your studio's core configuration. Here you can update your studio name, contact email, and timezone."]}),t("ul",{className:"list-disc list-inside text-zinc-500 dark:text-zinc-400 space-y-1 ml-1",children:[e("li",{children:"Set your Studio Name"}),e("li",{children:"Configure Support Email"}),e("li",{children:"Set Timezone and Currency"})]})]})]})}),e("section",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:t("div",{className:"flex items-start gap-4",children:[e("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg text-green-600 dark:text-green-400",children:e(Ae,{size:24})}),t("div",{className:"space-y-3",children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Payments & Payouts"}),t("p",{className:"text-zinc-600 dark:text-zinc-400",children:["To receive payments from your students, you must connect a Stripe account. Go to the ",e("strong",{children:"Finances"})," tab to get started."]}),t("div",{className:"bg-green-50 dark:bg-green-900/10 p-3 rounded-lg border border-green-100 dark:border-green-800/50 mt-3",children:[e("h4",{className:"font-bold text-sm text-green-800 dark:text-green-300 mb-1",children:"Stripe Connect"}),t("ul",{className:"text-xs text-green-700 dark:text-green-400 space-y-1",children:[e("li",{children:"â€¢ Fast, secure payouts to your bank account"}),e("li",{children:"â€¢ Accepts all major credit cards and Apple Pay"}),e("li",{children:"â€¢ PCI-compliant security handled by Stripe"})]})]})]})]})}),e("section",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:t("div",{className:"flex items-start gap-4",children:[e("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-lg text-purple-600 dark:text-purple-400",children:e(bi,{size:24})}),t("div",{className:"space-y-3",children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Branding"}),e("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Make the platform your own by customizing your brand colors and logos. This branding will appear on your public schedule, booking widgets, and mobile app."}),t(L,{to:"/documentation/mobile-builder",className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:["Learn about Mobile App Branding ",e(Re,{size:14,className:"ml-1"})]})]})]})})]})]})}),nd=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"})),sd=j(function(){return t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"Team & Staff"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Manage your instructors, admins, and front-desk staff. Handle payroll, permissions, and substitution requests."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(Oe,{className:"text-blue-500"})," Roles & Permissions"]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"text-xs text-zinc-500 uppercase bg-zinc-50 dark:bg-zinc-800/50",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Role"}),e("th",{className:"px-6 py-3",children:"Access Level"})]})}),t("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:[t("tr",{className:"bg-white dark:bg-zinc-900",children:[e("td",{className:"px-6 py-4 font-semibold",children:"Owner"}),e("td",{className:"px-6 py-4",children:"Full access to everything, including billing and transfers."})]}),t("tr",{className:"bg-white dark:bg-zinc-900",children:[e("td",{className:"px-6 py-4 font-semibold",children:"Manager"}),e("td",{className:"px-6 py-4",children:"Can manage classes, students, and settings. No access to bank payouts."})]}),t("tr",{className:"bg-white dark:bg-zinc-900",children:[e("td",{className:"px-6 py-4 font-semibold",children:"Instructor"}),e("td",{className:"px-6 py-4",children:"Can view own schedule, manage own rosters, and request subs."})]}),t("tr",{className:"bg-white dark:bg-zinc-900",children:[e("td",{className:"px-6 py-4 font-semibold",children:"Front Desk"}),e("td",{className:"px-6 py-4",children:"Can check students in and sell items via POS. No access to financial reports."})]})]})]})})]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(ve,{className:"text-green-500"})," Payroll"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Automate your instructor payouts based on attendance or flat rates."}),t("ul",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm",children:[e("li",{children:"â€¢ Flat Rate per Class"}),e("li",{children:"â€¢ Per-Head Bonus (e.g. +$2 per student over 10)"}),e("li",{children:"â€¢ Hourly Rates for Front Desk"}),e("li",{children:"â€¢ Generate Bi-weekly Reports"})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(Pa,{className:"text-purple-500"})," Substitution Management"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm mb-4",children:"Instructors can request a sub directly from the app."}),t("ol",{className:"space-y-2 text-zinc-600 dark:text-zinc-400 text-sm list-decimal list-inside",children:[e("li",{children:"Instructor requests sub for specific class."}),e("li",{children:"Notification sent to all eligible instructors."}),e("li",{children:"First available instructor accepts."}),e("li",{children:"Schedule and Payroll updated automatically."})]})]})]})]})]})}),id=Object.freeze(Object.defineProperty({__proto__:null,default:sd},Symbol.toStringTag,{value:"Module"})),ad=j(function(){return E(()=>{import("mermaid").then(n=>{n.default.initialize({startOnLoad:!0,theme:"neutral"}),n.default.contentLoaded()})},[]),t("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[t("div",{children:[e("h1",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-50 mb-4 font-serif",children:"CRM & Marketing"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 leading-relaxed max-w-3xl",children:"Grow your community by nurturing leads, automating communications, and rewarding loyalty."})]}),t("div",{className:"grid gap-8",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(ms,{className:"text-blue-500"})," Lead Management"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400 mb-4",children:'Capture potential students through Intro Offers and Webforms. Track their journey from "Interested" to "Active Member".'}),t("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-lg border border-blue-200 dark:border-blue-800/50",children:[e("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"Lead Stages"}),e("pre",{className:"mermaid bg-transparent",children:`
                            graph LR
                                A[New Lead] --> B[Contacted]
                                B --> C[Trial Started]
                                C --> D[Converted Member]
                                C --> E[Lost]
                                E -.->|Win-Back Campaign| B
                            `})]})]}),t("div",{className:"grid md:grid-cols-2 gap-6",children:[t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(Ye,{className:"text-purple-500"})," Email Automations"]}),t("ul",{className:"space-y-3 text-zinc-600 dark:text-zinc-400 text-sm",children:[t("li",{children:[e("strong",{children:"Welcome Drip:"})," Automatically implemented for new students (Immediate or Delayed)."]}),t("li",{children:[e("strong",{children:"Win-Back:"})," Logic scanning for members inactive more than 30 days (default)."]}),t("li",{children:[e("strong",{children:"Birthday Wishes:"})," Send a discount code on their special day."]}),t("li",{children:[e("strong",{children:"Membership Expiry:"})," Remind students to renew 7 days before expiration."]})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-3",children:[e(ut,{className:"text-orange-500"})," Gamified Loyalty"]}),t("ul",{className:"space-y-3 text-zinc-600 dark:text-zinc-400 text-sm",children:[t("li",{children:[e("strong",{children:"Points System:"})," Earn points for attending classes, referring friends, or posting on social media."]}),t("li",{children:[e("strong",{children:"Challenges:"}),' "30 Days of Yoga" or "Summer Shred" competitions.']}),t("li",{children:[e("strong",{children:"Referrals:"})," Give $20, Get $20 referral program tracking."]})]})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-8 rounded-2xl border border-zinc-200 dark:border-zinc-800",children:[t("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-3",children:[e(ft,{className:"text-teal-500"})," Two-Way Messaging"]}),e("p",{className:"text-zinc-600 dark:text-zinc-400",children:"Communicate with students directly via SMS and In-App Chat. All conversations are centralized in the Studio Dashboard so your staff can respond quickly."})]})]})]})}),rd=Object.freeze(Object.defineProperty({__proto__:null,default:ad},Symbol.toStringTag,{value:"Module"})),ld=async({request:i})=>{const s=new URL(i.url).origin,r=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    ${["","/schedule","/pricing","/instructors","/contact"].map(l=>`
    <url>
        <loc>${s}${l}</loc>
        <changefreq>daily</changefreq>
        <priority>${l===""?"1.0":"0.8"}</priority>
    </url>
    `).join("")}
</urlset>`;return new Response(r,{headers:{"Content-Type":"application/xml","xml-version":"1.0",encoding:"UTF-8"}})},dd=Object.freeze(Object.defineProperty({__proto__:null,loader:ld},Symbol.toStringTag,{value:"Module"}));function Dt(...i){return Mi(ji(i))}var qs={};const od=async i=>{let n=null,s=null,a=null;const r=i.request.headers.get("Cookie");if((qs.NODE_ENV==="development"||qs.NODE_ENV==="test")&&r?.includes("__e2e_bypass_user_id=")){const o=r.match(/__e2e_bypass_user_id=([^;]+)/);o&&(n=o[1],s=n,console.warn(`[SECURITY WARNING] E2E Bypass Active for User: ${n}`))}if(!n){const o=await sn(i);n=o.userId,a=o.getToken}if(!n)return Y(`/sign-in?redirect_url=${new URL(i.request.url).pathname}`);!s&&a&&(s=await a());const{slug:d}=i.params;try{const o=await z(`/tenants/${d}`,s),c=await z("/users/me",s).catch(()=>null),u=c?.tenants?.find(p=>p.slug===d);return{tenant:o,me:c,membership:u}}catch(o){throw console.error("Portal Loader Error:",o),new Response("Studio Not Found",{status:404})}},cd=j(function(){const{tenant:n,me:s,membership:a}=D();bn();const[r,l]=f(!1),d=[{label:"Dashboard",icon:fi,to:"."},{label:"Book Class",icon:K,to:"classes"},{label:"My Profile",icon:nt,to:"profile"}];return n?t("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 flex flex-col",children:[t("header",{className:"md:hidden flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-3",children:[n.branding?.logoUrl?e("img",{src:n.branding.logoUrl,alt:n.name,className:"h-8 w-8 rounded-lg object-cover"}):e("div",{className:"h-8 w-8 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold",children:n.name.substring(0,2)}),e("span",{className:"font-bold text-zinc-900 dark:text-zinc-100 truncate",children:n.name})]}),e("button",{onClick:()=>l(!r),className:"p-2 text-zinc-600 dark:text-zinc-300",children:r?e(Te,{size:24}):e(zs,{size:24})})]}),r&&e("div",{className:"md:hidden fixed inset-0 z-50 bg-white dark:bg-zinc-900 pt-20 px-6",children:t("nav",{className:"flex flex-col gap-4",children:[d.map(o=>t(ct,{to:o.to,onClick:()=>l(!1),end:o.to===".",className:({isActive:c})=>Dt("flex items-center gap-4 p-4 rounded-xl text-lg font-medium transition-colors",c?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800"),children:[e(o.icon,{size:24}),o.label]},o.to)),t(L,{to:"/sign-out",className:"flex items-center gap-4 p-4 rounded-xl text-lg font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 mt-8",children:[e(xi,{size:24}),"Log Out"]})]})}),t("div",{className:"flex flex-1 max-w-7xl mx-auto w-full",children:[t("aside",{className:"hidden md:flex flex-col w-64 p-6 border-r border-zinc-200 dark:border-zinc-800 min-h-screen sticky top-0 h-screen",children:[t("div",{className:"flex items-center gap-3 mb-10 px-2",children:[n.branding?.logoUrl?e("img",{src:n.branding.logoUrl,alt:n.name,className:"h-10 w-10 rounded-xl object-cover"}):e("div",{className:"h-10 w-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:n.name.substring(0,2)}),e("span",{className:"font-bold text-zinc-900 dark:text-zinc-100 truncate text-lg leading-tight",children:n.name})]}),e("nav",{className:"flex flex-col gap-2 flex-1",children:d.map(o=>e(ct,{to:o.to,end:o.to===".",className:({isActive:c})=>Dt("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all group",c?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:translate-x-1"),children:({isActive:c})=>t(G,{children:[e(o.icon,{size:20,className:c?"":"text-zinc-400 group-hover:text-zinc-600 dark:group-hover:text-zinc-300"}),o.label]})},o.to))}),e("div",{className:"mt-auto pt-6 border-t border-zinc-200 dark:border-zinc-800",children:t("div",{className:"flex items-center gap-3 px-2 mb-4",children:[s?.portraitUrl?e("img",{src:s.portraitUrl,className:"w-8 h-8 rounded-full"}):e("div",{className:"w-8 h-8 rounded-full bg-zinc-200 dark:bg-zinc-700"}),t("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 truncate",children:s?.firstName}),e("p",{className:"text-xs text-zinc-500 truncate",children:"Student"})]})]})})]}),e("main",{className:"flex-1 min-w-0 p-4 md:p-8",children:e(ze,{context:{tenant:n,me:s,membership:a}})})]})]}):e("div",{children:"Loading..."})}),ud=Object.freeze(Object.defineProperty({__proto__:null,default:cd,loader:od},Symbol.toStringTag,{value:"Module"}));var Gs={};const md=async i=>{let n=null,s=null,a=null;const r=i.request.headers.get("Cookie");if((Gs.NODE_ENV==="development"||Gs.NODE_ENV==="test")&&r?.includes("__e2e_bypass_user_id=")){const u=r.match(/__e2e_bypass_user_id=([^;]+)/);u&&(n=u[1],s=n,console.warn(`[SECURITY WARNING] E2E Bypass Active for User: ${n}`))}if(!n){const u=await P(i);n=u.userId,a=u.getToken}!s&&a&&(s=await a());const{slug:d}=i.params,c=new URL(i.request.url).searchParams.get("date")||new Date().toISOString();try{const[u,p]=await Promise.all([z(`/classes?date=${c}&scope=week`,s,{headers:{"X-Tenant-Slug":d}}).catch(()=>[]),z("/bookings/my-upcoming",s,{headers:{"X-Tenant-Slug":d}}).catch(()=>[])]);return{classes:u,myBookings:p,selectedDate:c}}catch(u){return console.error("Portal Classes Loader Error:",u),{classes:[],myBookings:[],selectedDate:c}}},hd=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params,r=await i.request.formData(),l=r.get("intent");try{if(l==="book"){const d=r.get("classId");return await z("/bookings",s,{method:"POST",body:JSON.stringify({classId:d}),headers:{"X-Tenant-Slug":a}}),{success:!0}}if(l==="cancel"){const d=r.get("bookingId");return await z(`/bookings/${d}`,s,{method:"DELETE",headers:{"X-Tenant-Slug":a}}),{success:!0}}return null}catch(d){return{error:d.message||"Action failed"}}},pd=j(function(){const{classes:n,myBookings:s,selectedDate:a}=D(),r=jt();On();const[l,d]=f(new Date(a)),o=Array.from({length:7},(g,m)=>un(new Date,m)),c=(n||[]).filter(g=>at(new Date(g.startTime),l)),u=g=>r.formData?.get("classId")===g&&r.state==="submitting",p=g=>s?.find(m=>m.class.id===g||m.classId===g);return t("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Class Schedule"})}),e("div",{className:"flex overflow-x-auto pb-2 gap-2 hide-scrollbar",children:o.map(g=>{const m=at(g,l);return t("button",{onClick:()=>d(g),className:Dt("flex flex-col items-center min-w-[4.5rem] p-3 rounded-xl border transition-all",m?"bg-indigo-600 border-indigo-600 text-white shadow-md shadow-indigo-200 dark:shadow-none":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 text-zinc-500 hover:border-zinc-300 dark:hover:border-zinc-700"),children:[e("span",{className:"text-xs font-medium opacity-80 uppercase",children:ie(g,"EEE")}),e("span",{className:"text-xl font-bold",children:ie(g,"d")})]},g.toISOString())})}),e("div",{className:"space-y-4",children:c.length===0?t("div",{className:"text-center py-12 bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 border-dashed",children:[e(K,{className:"mx-auto h-12 w-12 text-zinc-300 dark:text-zinc-600 mb-3"}),e("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:"No classes scheduled"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"There are no classes available on this day."})]}):c.map(g=>{const m=p(g.id),h=g.capacity>0&&(g.bookedCount||0)>=g.capacity,v=new Date(g.startTime);return new Date(v.getTime()+g.durationMinutes*6e4),t("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl p-5 border border-zinc-200 dark:border-zinc-800 shadow-sm flex flex-col sm:flex-row gap-5 hover:border-indigo-200 dark:hover:border-indigo-900 transition-colors",children:[t("div",{className:"flex flex-col items-center justify-center min-w-[5rem] border-r border-zinc-100 dark:border-zinc-800 pr-5",children:[e("span",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:ie(v,"h:mm a")}),t("span",{className:"text-xs text-zinc-500",children:[g.durationMinutes," min"]})]}),t("div",{className:"flex-1 min-w-0",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 text-lg mb-1",children:g.title}),t("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-sm text-zinc-500 dark:text-zinc-400",children:[t("div",{className:"flex items-center gap-1.5",children:[e(nt,{size:14}),e("span",{children:g.instructor?.profile?.firstName||"Staff"})]}),t("div",{className:"flex items-center gap-1.5",children:[e(hs,{size:14}),e("span",{children:g.location?.name||"Main Studio"})]})]}),g.description&&e("p",{className:"text-sm text-zinc-500 mt-2 line-clamp-2",children:g.description})]}),e("div",{className:"flex flex-col justify-center min-w-[8rem]",children:m?t("div",{className:"flex flex-col gap-2",children:[t("div",{className:"flex items-center gap-2 text-emerald-600 text-sm font-bold bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-lg justify-center",children:[e(yt,{size:16}),"Booked"]}),t(Le,{method:"post",children:[e("input",{type:"hidden",name:"bookingId",value:m.id}),e("input",{type:"hidden",name:"intent",value:"cancel"}),e("button",{className:"text-xs text-red-500 hover:text-red-600 hover:underline w-full text-center",children:"Cancel Booking"})]})]}):t(Le,{method:"post",children:[e("input",{type:"hidden",name:"classId",value:g.id}),e("input",{type:"hidden",name:"intent",value:"book"}),e("button",{disabled:h||u(g.id),className:Dt("w-full py-2.5 px-4 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2",h?"bg-zinc-100 text-zinc-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 hover:shadow-lg shadow-indigo-200 dark:shadow-none"),children:u(g.id)?"Booking...":h?"Full":"Book Class"}),h&&e("div",{className:"text-center text-xs text-zinc-400 mt-1",children:"Waitlist Available"})]})})]},g.id)})})]})}),gd=Object.freeze(Object.defineProperty({__proto__:null,action:hd,default:pd,loader:md},Symbol.toStringTag,{value:"Module"})),bd=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params;try{const[r,l]=await Promise.all([Promise.resolve({balance:0,paymentMethods:[]}),z("/memberships/my-active",s,{headers:{"X-Tenant-Slug":a}}).catch(()=>[])]);return{billingInfo:r,memberships:l}}catch{return{billingInfo:null,memberships:[]}}},fd=j(function(){const{me:n,tenant:s}=U(),{billingInfo:a,memberships:r}=D(),l=n?.firstName||"Student",d=n?.lastName||"",o=n?.email||"No email",c=n?.joinedAt?new Date(n.joinedAt).toLocaleDateString():"Unknown";return t("div",{className:"max-w-2xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"My Profile"}),e("section",{className:"bg-white dark:bg-zinc-900 rounded-2xl border border-zinc-200 dark:border-zinc-800 p-6 shadow-sm",children:t("div",{className:"flex items-start gap-4",children:[e("div",{className:"h-16 w-16 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 text-2xl font-bold",children:l[0]}),t("div",{className:"flex-1",children:[t("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:[l," ",d]}),t("div",{className:"space-y-1 mt-2",children:[t("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e(Ye,{size:14}),o]}),t("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e(K,{size:14}),"Member since ",c]})]})]}),e(Le,{action:"/sign-out",method:"post",children:t("button",{className:"flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/10 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[e(xi,{size:14}),"Log Out"]})})]})}),t("section",{children:[e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100 mb-4",children:"Active Memberships"}),r.length>0?e("div",{className:"space-y-3",children:r.map(u=>t("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-2xl border border-zinc-200 dark:border-zinc-800 flex justify-between items-center",children:[t("div",{children:[e("div",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:u.plan.name}),t("div",{className:"text-xs text-zinc-500 mt-0.5",children:["Renews ",new Date(u.nextBillingDate).toLocaleDateString()]})]}),e("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 px-3 py-1 rounded-full text-xs font-bold",children:"Active"})]},u.id))}):e("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 text-center text-zinc-500",children:"No active memberships found."})]}),t("section",{className:"pt-6 border-t border-zinc-200 dark:border-zinc-800",children:[t("h3",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[e(Oe,{size:16}),"Policies & Waivers"]}),e("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-xl p-4 text-sm text-zinc-500",children:t("div",{className:"flex justify-between items-center",children:[e("span",{children:"Liability Waiver"}),t("span",{className:"text-emerald-600 font-medium text-xs",children:["Signed on ",c]})]})})]})]})}),xd=Object.freeze(Object.defineProperty({__proto__:null,default:fd,loader:bd},Symbol.toStringTag,{value:"Module"})),vd=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params;try{const[r]=await Promise.all([z("/challenges/my-progress",s,{headers:{"X-Tenant-Slug":a}}).catch(()=>[])]);return{myProgress:r}}catch(r){return console.error("Portal Dashboard loader failed:",r),{myProgress:[]}}},yd=j(function(){const{tenant:n,me:s}=U(),{myProgress:a}=D(),r=s?.firstName||"Student";return t("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500",children:[t("div",{children:[t("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:["Welcome back, ",r,"!"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Ready for your next session?"})]}),t("section",{children:[t("div",{className:"flex items-center gap-2 mb-4",children:[e(ut,{className:"text-yellow-500"}),e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Your Achievements"})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(a||[]).map(l=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-4 rounded-xl flex items-center gap-4 shadow-sm",children:[e("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center text-yellow-600 dark:text-yellow-400 shrink-0",children:l.userProgress.status==="completed"?e(ut,{size:24}):e(Ia,{size:24})}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex justify-between items-center mb-1",children:[e("h4",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 truncate",children:l.title}),l.userProgress.status==="completed"&&e("span",{className:"text-[10px] font-bold bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full",children:"EARNED"})]}),e("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 rounded-full h-2 mb-1",children:e("div",{className:"bg-yellow-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,l.userProgress.progress/l.targetValue*100)}%`}})}),t("div",{className:"text-xs text-zinc-500 flex justify-between",children:[l.type==="streak"?t("span",{className:"flex items-center gap-1 font-medium text-amber-600",children:[e(Pn,{size:12,className:l.userProgress.status==="completed"?"":"animate-pulse"}),l.userProgress.progress," / ",l.targetValue," ",l.period||"streak","s"]}):t("span",{children:[l.userProgress.progress," / ",l.targetValue," ",l.type==="minutes"?"mins":"classes"]}),t("span",{children:[Math.round(l.userProgress.progress/l.targetValue*100),"%"]})]})]})]},l.id)),(a||[]).length===0&&t("div",{className:"col-span-2 text-center py-8 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Join active challenges to earn rewards!"}),e(L,{to:"challenges",className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm mt-2 inline-block hover:underline",children:"View All Challenges"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t("section",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-6 rounded-2xl border border-indigo-100 dark:border-indigo-900/20",children:[t("h3",{className:"font-bold text-indigo-900 dark:text-indigo-100 mb-4 flex items-center gap-2",children:[e(_e,{size:20,className:"text-indigo-500"}),"Announcement"]}),e("p",{className:"text-sm text-indigo-800 dark:text-indigo-200 leading-relaxed",children:"Summer schedule is live! Check out our new morning flow classes starting next week."})]}),t("section",{className:"bg-orange-50 dark:bg-orange-900/10 p-6 rounded-2xl border border-orange-100 dark:border-orange-900/20",children:[t("h3",{className:"font-bold text-orange-900 dark:text-orange-100 mb-4 flex items-center gap-2",children:[e(Pn,{size:20,className:"text-orange-500"}),"Current Promotion"]}),t("div",{className:"flex justify-between items-center mb-2",children:[e("span",{className:"font-bold text-orange-700 dark:text-orange-300",children:"Power Yoga @ 6:00 PM"}),e("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded font-bold",children:"20% OFF"})]}),e(L,{to:"classes",className:"text-sm font-medium text-orange-600 dark:text-orange-400 hover:underline",children:"Book Now â†’"})]})]})]})}),zd=Object.freeze(Object.defineProperty({__proto__:null,default:yd,loader:vd},Symbol.toStringTag,{value:"Module"})),Nd=async({request:i})=>{new URL(i.url).host;let s=`
User-agent: *
Allow: /
Disallow: /admin
Disallow: /dashboard
    `.trim();return new Response(s,{headers:{"Content-Type":"text/plain"}})},kd=Object.freeze(Object.defineProperty({__proto__:null,loader:Nd},Symbol.toStringTag,{value:"Module"}));function wd({tier:i,branding:n,className:s=""}){let a=!0;return i==="scale"&&n?.hidePoweredBy&&(a=!1),a?e("div",{className:`py-4 text-center ${s}`,children:t(L,{to:"https://studioplatform.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-xs text-zinc-400 hover:text-zinc-600 dark:text-zinc-600 dark:hover:text-zinc-400 transition-colors",children:[e("span",{className:"font-semibold",children:"Powered by"}),e("span",{className:"font-bold tracking-tight text-zinc-500 dark:text-zinc-500",children:"StudioPlatform"})]})}):null}function Wt({title:i,children:n,defaultOpen:s=!0}){const[a,r]=f(s);return t("div",{className:"mb-2",children:[t("button",{onClick:()=>r(!a),className:"w-full flex items-center justify-between px-3 py-1.5 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider hover:text-zinc-800 dark:hover:text-zinc-200 transition-colors",children:[i,a?e(Gt,{size:14}):e(tn,{size:14})]}),a&&e("div",{className:"mt-1 space-y-0.5",children:n})]})}function V({children:i,fallback:n=null}){const[s,a]=f(!1);return E(()=>{a(!0)},[]),s?e(G,{children:typeof i=="function"?i():i}):e(G,{children:n})}var Ys={};const Cd=H(()=>Promise.resolve().then(()=>rg).then(i=>({default:i.CommandBar}))),Sd=H(()=>Promise.resolve().then(()=>qr).then(i=>({default:i.ChatWidget}))),jd=H(()=>import("./QuickStartModal-Cc58ZWtI.js").then(i=>({default:i.QuickStartModal}))),Md=H(()=>import("./ImpersonationBanner-CiqR8LmG.js").then(i=>({default:i.ImpersonationBanner}))),_d=async i=>{const{params:n,request:s}=i,a=s.url;let r=null,l=null,d=null;const o=s.headers.get("Cookie");if((Ys.NODE_ENV==="development"||Ys.NODE_ENV==="test")&&o?.includes("__e2e_bypass_user_id=")){const m=o.match(/__e2e_bypass_user_id=([^;]+)/);m&&(r=m[1],l=r,console.warn(`[SECURITY WARNING] E2E Bypass Active for User: ${r}`))}if(!r){const m=await P(i);r=m.userId,d=m.getToken}if(!r)return Y(`/sign-in?redirect_url=${s.url}`);const{slug:u}=n;if(!u)return Y("/");!l&&d&&(l=await d());const p=s.headers.get("Cookie");let g=!1;if(p){const m=p.match(/(?:^|; )__impersonate_token=([^;]*)/);m&&m[1]&&(l=m[1],g=!0)}try{const[m,h]=await Promise.all([z("/tenant/info",l,{headers:{"X-Tenant-Slug":u}}),z("/tenant/me",l,{headers:{"X-Tenant-Slug":u}})]);if(m.error){console.error("Studio layout loader: Tenant fetch error",m.error);const x=typeof m.error=="string"?m.error:JSON.stringify(m.error);throw new Response(`Studio Not Found: ${x}`,{status:404})}const v=h.roles.some(x=>["owner","admin","instructor"].includes(x)),y=h.user?.isPlatformAdmin;if(!v&&!y&&!g&&!a.includes("/join"))return Y(`/portal/${u}`);const N=m.settings?.onboardingStep;return(h.roles.includes("owner")||h.roles.includes("admin"))&&N&&N<4&&!a.includes("/onboarding")?Y(`/studio/${u}/onboarding`):{slug:n.slug,tenant:m,me:h,token:l,isPaused:m.status==="paused",isImpersonating:g,features:m.features||[]}}catch(m){if(m instanceof Response)throw m;console.error("Studio layout loader failed:",m);const h=m.data||m.message;throw new Response(`Studio Not Found/Access Denied: ${JSON.stringify(h)}`,{status:404})}},Ad=j(function(){const{slug:n}=ae(),{tenant:s,me:a,features:r,isPaused:l,token:d,isImpersonating:o}=D(),{user:c}=st(),u=new Set(r),p=`${a.firstName||""} ${a.lastName||""}`.trim(),g=p&&p!=="User"?p:c?.fullName||p||"Member",[m,h]=f(!1);E(()=>{typeof window<"u"&&localStorage.getItem("studio_student_view")==="true"&&h(!0)},[]);const v=()=>{const k=!m;h(k),localStorage.setItem("studio_student_view",String(k))},[y,N]=Kt();E(()=>{const k=y.get("coupon");if(k){sessionStorage.setItem("pending_coupon",k.toUpperCase());const S=new URLSearchParams(y);S.delete("coupon"),N(S,{replace:!0})}},[y,N]);const x=m?["student"]:a?.roles||[],[w,b]=f(()=>{const k=a?.roles?.includes("owner")||a?.roles?.includes("admin"),S=s.settings?.onboardingCompleted;return k&&!S&&n!=="platform"});return t("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 font-sans text-zinc-900 dark:text-zinc-100 transition-colors duration-300",children:[!m&&w&&e(W,{fallback:null,children:e(V,{children:e(jd,{isOpen:w,onClose:()=>b(!1),tenant:s,token:d||""})})}),t("aside",{className:"w-64 bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 flex flex-col fixed inset-y-0 z-20 transition-colors duration-300",children:[e("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 flex items-center justify-between",children:t(L,{to:`/studio/${n}`,prefetch:"intent",className:"flex items-center gap-2 group",children:[e("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold group-hover:scale-105 transition-transform",style:{backgroundColor:s.branding?.primaryColor||"#2563eb"},children:s.name.substring(0,1)}),t("div",{className:"flex flex-col",children:[e("span",{className:"font-bold text-sm leading-tight text-zinc-900 dark:text-zinc-100",children:s.name}),t("span",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-mono",children:["/studio/",n]})]})]})}),t("nav",{className:"flex-1 overflow-auto p-4 space-y-4",children:[e("div",{className:"space-y-1",children:e(X,{to:`/studio/${n}`,end:!0,icon:e(vi,{size:18}),children:"Dashboard"})}),t(Wt,{title:"Operations",children:[e(X,{to:`/studio/${n}/schedule`,icon:e(K,{size:18}),children:"Schedule"}),e(X,{to:`/studio/${n}/classes`,icon:e(Wn,{size:18}),children:"Classes"}),e(X,{to:`/studio/${n}/appointments`,icon:e(he,{size:18}),children:"Appointments"}),e(X,{to:`/studio/${n}/checkin`,icon:e(yt,{size:18}),children:m?"Attendance History":"Check-in"}),e(X,{to:`/studio/${n}/challenges`,icon:e(mt,{size:18}),children:"Challenges"}),u.has("progress_tracking")&&e(X,{to:`/studio/${n}/progress`,icon:e(_e,{size:18}),children:"My Progress"}),!m&&e(X,{to:`/studio/${n}/substitutions`,icon:e(Xe,{size:18}),children:"Substitutions"}),e(X,{to:`/studio/${n}/waivers`,icon:e(La,{size:18}),children:"Waivers"}),u.has("vod")&&e(X,{to:`/studio/${n}/videos`,icon:e(Da,{size:18}),children:"Media Library"})]}),t(Wt,{title:"Commerce",children:[u.has("pos")&&!m&&t(G,{children:[e(X,{to:`/studio/${n}/pos`,end:!0,icon:e(qt,{size:18}),children:"POS & Retail"}),u.has("inventory")&&e(X,{to:`/studio/${n}/inventory`,icon:e(et,{size:18}),children:"Inventory"})]}),e(X,{to:`/studio/${n}/memberships`,icon:e(Ae,{size:18}),children:"Memberships"}),e(X,{to:`/studio/${n}/commerce/packs`,icon:e(et,{size:18}),children:"Class Packs"}),u.has("pos")&&t(G,{children:[e(X,{to:`/studio/${n}/commerce/coupons`,icon:e(hn,{size:18}),children:m?"My Coupons":"Coupons"}),e(X,{to:`/studio/${n}/commerce/referrals`,icon:e(ut,{size:18}),children:"Refer & Earn"}),e(X,{to:`/studio/${n}/commerce/gift-cards`,icon:e(hn,{size:18}),children:"Gift Cards"})]})]}),!m&&t(G,{children:[t(Wt,{title:"CRM",children:[e(X,{to:`/studio/${n}/leads`,icon:e(nt,{size:18}),children:"Leads"}),e(X,{to:`/studio/${n}/tasks`,icon:e(Oa,{size:18}),children:"Tasks"}),u.has("marketing")&&e(X,{to:`/studio/${n}/marketing`,icon:e(Ye,{size:18}),children:"Email Automations"}),u.has("loyalty")&&e(X,{to:`/studio/${n}/loyalty`,icon:e(ut,{size:18}),children:"Loyalty"})]}),t(Wt,{title:"Online Presence",children:[u.has("website_builder")&&e(X,{to:`/studio/${n}/website/pages`,icon:e(xe,{size:18}),children:"Website Builder"}),e(X,{to:`/studio/${n}/settings/embeds`,icon:e(ks,{size:18}),children:"Website Widgets"}),u.has("mobile_app")&&e(X,{to:`/studio/${n}/settings/mobile`,icon:e(Me,{size:18}),children:"Mobile App"}),e(X,{to:`/studio/${n}/settings/qr`,icon:e(Ea,{size:18}),children:"QR Codes"})]}),t(Wt,{title:"Management",children:[e(X,{to:`/studio/${n}/students`,icon:e(re,{size:18}),children:"People"}),(["scale"].includes(s.tier)||u.has("payroll"))&&e(X,{to:`/studio/${n}/financials/payroll`,icon:e(Ae,{size:18}),children:"Payroll Admin"}),["instructor","admin","owner"].some(k=>x.includes(k))&&e(X,{to:`/studio/${n}/financials/my-payouts`,icon:e(ve,{size:18}),children:"My Payouts"}),["admin","owner"].some(k=>x.includes(k))&&t(G,{children:[e(X,{to:`/studio/${n}/settings/staff`,icon:e(re,{size:18}),children:"Team"}),e(X,{to:`/studio/${n}/settings/roles`,icon:e(Oe,{size:18}),children:"Roles & Permissions"})]}),u.has("financials")&&e(X,{to:`/studio/${n}/finances`,end:!0,icon:e(ve,{size:18}),children:"Finances"}),e(X,{to:`/studio/${n}/discounts`,icon:e(Ge,{size:18}),children:"Discounts"}),e(X,{to:`/studio/${n}/settings/integrations`,icon:e(Me,{size:18}),children:"Integrations"}),e(X,{to:`/studio/${n}/settings/developers`,icon:e(ws,{size:18}),children:"Developers"}),u.has("chat")&&e(X,{to:`/studio/${n}/settings/chat`,icon:e(ft,{size:18}),children:"Chat Settings"}),e(X,{to:`/studio/${n}/settings/appointments`,icon:e(K,{size:18}),children:"Appointment Services"}),e(X,{to:`/studio/${n}/settings/tags-fields`,icon:e(Ge,{size:18}),children:"Tags & Fields"}),e(X,{to:`/studio/${n}/settings/activity`,icon:e(yi,{size:18}),children:"Activity Log"}),e(X,{to:`/studio/${n}/data`,icon:e(qe,{size:18}),children:"Data"}),e(X,{to:`/studio/${n}/settings`,end:!0,icon:e(Mt,{size:18}),children:"Settings"})]}),t(Wt,{title:"Analytics",children:[e(X,{to:`/studio/${n}/analytics/financials`,icon:e(ve,{size:18}),children:"Financials"}),e(X,{to:`/studio/${n}/analytics/attendance`,icon:e(Xt,{size:18}),children:"Attendance"}),e(X,{to:`/studio/${n}/analytics/projections`,icon:e(dt,{size:18}),children:"Projections"}),e(X,{to:`/studio/${n}/analytics/reports`,icon:e(Ye,{size:18}),children:"Scheduled Reports"})]})]})]}),t("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 flex flex-col gap-3",children:[!m&&(a?.roles?.includes("owner")||a?.roles?.includes("admin")||a?.user?.isPlatformAdmin||o)&&t("button",{onClick:v,className:"flex items-center gap-2 text-zinc-500 hover:text-blue-600 dark:text-zinc-400 dark:hover:text-blue-400 text-xs font-medium transition mb-1",children:[e(re,{size:14}),e("span",{children:"View as Student"})]}),(a?.user?.isPlatformAdmin||o)&&!m&&t("a",{href:"/admin",className:"flex items-center gap-2 text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-100 text-xs font-medium transition mb-1",children:[e(re,{size:14}),e("span",{children:"Return to Admin"})]}),t(L,{to:"/documentation",className:"flex items-center gap-2 text-zinc-500 hover:text-blue-600 dark:text-zinc-400 dark:hover:text-blue-400 text-xs font-medium transition mb-1",children:[e(Hs,{size:14}),e("span",{children:"Documentation"})]}),e("div",{className:"pt-4 mt-auto",children:e(wd,{tier:s.tier,branding:s.branding})})]})]}),t("main",{className:"flex-1 ml-64 flex flex-col min-w-0 relative",children:[o&&e(W,{fallback:null,children:e(V,{children:e(Md,{tenantName:s.name,userName:`${a.firstName} ${a.lastName}`,currentRole:a.roles&&a.roles.length>0?a.roles[0]:"student"})})}),m&&t("div",{className:"bg-blue-600 text-white px-6 py-2 text-sm font-medium flex items-center justify-between shadow-md z-30",children:[t("div",{className:"flex items-center gap-2",children:[e(re,{size:16}),e("span",{children:"You are viewing as a Student."})]}),e("button",{onClick:v,className:"bg-white text-blue-600 px-3 py-1 rounded text-xs font-bold hover:bg-zinc-100 transition",children:"Exit View"})]}),l&&t("div",{className:"bg-amber-100 border-b border-amber-200 text-amber-800 px-6 py-3 text-sm font-medium flex items-center gap-2",children:[e(nn,{size:16}),e("span",{children:"This studio is currently paused. Some features may be restricted."})]}),t("header",{className:"h-16 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 flex items-center justify-between px-6 sticky top-0 z-10",children:[t("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e("span",{className:"hover:text-zinc-900 dark:hover:text-zinc-300 cursor-pointer",children:"Studio"}),e("span",{children:"/"}),e("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:s.name})]}),t("div",{className:"flex items-center gap-4",children:[t("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-command-bar")),className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-xs text-zinc-500 dark:text-zinc-400 hover:border-blue-500 transition-all shadow-sm group",children:[e(De,{size:14,className:"group-hover:text-blue-500"}),e("span",{children:"Search..."}),e("kbd",{className:"ml-2 px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-700 rounded font-sans opacity-50",children:"âŒ˜K"})]}),e(W,{fallback:null,children:e(V,{children:e(Cd,{token:d||"",isPlatformAdmin:a?.user?.isPlatformAdmin})})}),e(L,{to:"/documentation",title:"Documentation",className:"p-2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",children:e(Hs,{size:20})}),e(V,{children:e(Ut,{})}),e("div",{className:"h-4 w-px bg-zinc-200 dark:bg-zinc-800 mx-2"}),t("div",{className:"flex items-center gap-3",children:[t("div",{className:"flex flex-col items-end hidden sm:flex",children:[e("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 leading-none",children:g}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-medium capitalize mt-0.5",children:(()=>{const k=a?.user?.isPlatformAdmin;let S="Member";k?S="Admin":a?.roles?.includes("owner")?S="Owner":a?.roles?.includes("admin")?S="Manager":a?.roles?.includes("instructor")&&(S="Instructor");let C=(x[0]||"member").replace(/_/g," ");const T=M=>M.charAt(0).toUpperCase()+M.slice(1);return S=T(S),C=T(C),S===C?C:S==="Admin"?`${S} / ${C}`:C==="Student"&&S!=="Member"?`${S} / ${C}`:C})()})]}),e(Fn,{})]})]})]}),e("div",{className:"flex-1 overflow-auto",children:e(ze,{context:{tenant:s,me:a,features:u,roles:x,isStudentView:m,token:d}})}),s.googleCredentials?.measurementId&&t(G,{children:[e("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${s.googleCredentials.measurementId}`}),e("script",{dangerouslySetInnerHTML:{__html:`
                            window.dataLayer = window.dataLayer || [];
                            function gtag(){dataLayer.push(arguments);}
                            gtag('js', new Date());
                            gtag('config', '${s.googleCredentials.measurementId}');
                        `}})]})]}),e(W,{fallback:null,children:e(V,{children:e(Sd,{roomId:`support-${a.id}`,tenantId:m?n||"":"platform",userId:a.id,userName:`${a.firstName} ${a.lastName}`,enabled:!m&&s.settings?.chatEnabled!==!1&&u.has("chat"),chatConfig:m?s.settings?.chatConfig:void 0,apiUrl:Fe,token:d||void 0,brandColor:s.branding?.primaryColor||"#2563EB"})})})]})});function X({to:i,children:n,icon:s,end:a}){return t(ct,{to:i,end:a,prefetch:"intent",className:({isActive:r})=>`block px-3 py-2 rounded-lg text-sm transition-colors mb-0.5 flex items-center gap-3 ${r?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 font-medium":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-zinc-100"}`,children:[s,n]})}const $d=Object.freeze(Object.defineProperty({__proto__:null,default:Ad,loader:_d},Symbol.toStringTag,{value:"Module"}));function Z(...i){return Mi(ji(i))}const Gn=Bn(null);function kt({children:i,open:n,onOpenChange:s}){const[a,r]=f(!1),l=n!==void 0,d=l?n:a,o=l?s:r;return e(Gn.Provider,{value:{isOpen:d,setIsOpen:o},children:i})}function Dn({asChild:i,children:n,onClick:s}){const{setIsOpen:a}=Rt(Gn);return e("div",{onClick:()=>a(!0),className:"inline-block cursor-pointer",children:n})}function wt({children:i,className:n}){const{isOpen:s,setIsOpen:a}=Rt(Gn);return e(ot,{appear:!0,show:s,as:Ie,children:t(pt,{as:"div",className:"relative z-50",onClose:()=>a(!1),children:[e(In,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black/80"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(In,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(_i,{className:Z("w-full max-w-lg transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all dark:bg-zinc-950 dark:border dark:border-zinc-800",n),children:[i,e("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 focus:outline-none",onClick:()=>a(!1),children:e(Te,{className:"h-4 w-4 text-zinc-500"})})]})})})})]})})}function Ct({children:i,className:n}){return e("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",n),children:i})}function St({children:i,className:n}){return e(Ai,{as:"h3",className:Z("text-lg font-semibold leading-none tracking-tight",n),children:i})}function As({children:i,className:n}){return e("p",{className:Z("text-sm text-zinc-500 dark:text-zinc-400",n),children:i})}function Td({children:i}){const{setIsOpen:n}=Rt(Gn);return e("div",{onClick:()=>n(!1),className:"inline-block cursor-pointer",children:i})}function an({className:i,...n}){return e("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",i),...n})}const Pd=$i("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=Ee.forwardRef(({className:i,variant:n,size:s,...a},r)=>e("button",{className:Z(Pd({variant:n,size:s,className:i})),ref:r,...a}));Q.displayName="Button";function Yn({open:i,onOpenChange:n,onConfirm:s,title:a="Are you sure?",description:r="This action cannot be undone.",confirmText:l="Confirm",cancelText:d="Cancel",variant:o="default"}){return e(kt,{open:i,onOpenChange:n,children:t(wt,{children:[t(Ct,{children:[e(St,{children:a}),e(As,{children:r})]}),t(an,{children:[e(Q,{variant:"outline",onClick:()=>n(!1),children:d}),e(Q,{variant:o==="destructive"?"destructive":"default",onClick:()=>{s(),n(!1)},children:l})]})]})})}function Mf(i,n=2){if(!+i)return"0 Bytes";const s=1024,a=n<0?0:n,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(i)/Math.log(s));return`${parseFloat((i/Math.pow(s,l)).toFixed(a))} ${r[l]}`}function Zs(i){if(!i)return"0:00";const n=Math.floor(i/60),s=Math.floor(i%60);return`${n}:${s.toString().padStart(2,"0")}`}const Id=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a,id:r}=i.params;if(!s)return Y("/sign-in");const l=await n();try{const[d,o]=await Promise.all([z(`/video-management/collections/${r}`,l,{headers:{"X-Tenant-Slug":a}}),z("/video-management",l,{headers:{"X-Tenant-Slug":a}})]);return{collection:d,allVideos:o.videos||[]}}catch(d){throw console.error("Collection Loader Error",d),new Response("Collection not found",{status:404})}},Ld=async i=>{const{getToken:n}=await P(i),{slug:s,id:a}=i.params,r=await n(),l=await i.request.formData(),d=l.get("intent");if(d==="update_details"){const o=l.get("title"),c=l.get("description"),u=l.get("slug");await z(`/video-management/collections/${a}`,r,{method:"PATCH",headers:{"X-Tenant-Slug":s},body:JSON.stringify({title:o,description:c,slug:u})})}if(d==="add_item"){const o=l.get("videoId");await z(`/video-management/collections/${a}/items`,r,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify({action:"add",videoId:o})})}if(d==="remove_item"){const o=l.get("itemId");await z(`/video-management/collections/${a}/items`,r,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify({action:"remove",itemId:o})})}return d==="delete_collection"?(await z(`/video-management/collections/${a}`,r,{method:"DELETE",headers:{"X-Tenant-Slug":s}}),Y(`/studio/${s}/videos?tab=collections`)):{success:!0}},Dd=j(function(){const{collection:n,allVideos:s}=D(),a=On();Ft();const[r,l]=f(!1),[d,o]=f(""),[c,u]=f(!1),[p,g]=f(!1),m=new Set(n.items.map(x=>x.videoId)),h=s.filter(x=>!m.has(x.id)&&x.title.toLowerCase().includes(d.toLowerCase())),v=()=>{g(!0)},y=()=>{a({intent:"delete_collection"},{method:"post"})},N=x=>{a({intent:"add_item",videoId:x},{method:"post",preventScrollReset:!0})};return t("div",{className:"flex flex-col h-full bg-white",children:[t("header",{className:"border-b border-zinc-200 px-6 py-4 flex items-center justify-between",children:[t("div",{className:"flex items-center gap-4",children:[e(L,{to:"../?tab=collections",className:"p-2 hover:bg-zinc-100 rounded-full text-zinc-500 transition",children:e($e,{size:20})}),t("div",{children:[e("h1",{className:"text-xl font-bold text-zinc-900",children:n.title}),t("div",{className:"text-sm text-zinc-500 font-mono",children:["/",n.slug]})]})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>u(!0),className:"px-4 py-2 text-sm font-medium text-zinc-700 bg-white border border-zinc-300 rounded-lg hover:bg-zinc-50",children:"Edit Details"}),e("button",{onClick:v,className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-transparent rounded-lg hover:bg-red-100",children:"Delete"}),t("button",{onClick:()=>l(!0),className:"px-4 py-2 text-sm font-medium text-white bg-zinc-900 rounded-lg hover:bg-zinc-800 flex items-center gap-2",children:[e(ee,{size:16})," Add Video"]})]})]}),e("div",{className:"flex-1 overflow-y-auto p-6 max-w-5xl mx-auto w-full space-y-8",children:t("div",{children:[t("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:["Videos ",t("span",{className:"text-zinc-400 font-normal text-sm",children:["(",n.items.length,")"]})]}),t("div",{className:"bg-white border border-zinc-200 rounded-lg divide-y divide-zinc-100",children:[n.items.map((x,w)=>t("div",{className:"p-4 flex items-center gap-4 group hover:bg-zinc-50 transition",children:[e("div",{className:"text-zinc-400 cursor-move hover:text-zinc-600",children:e(zi,{size:20})}),e("div",{className:"w-16 h-10 bg-zinc-100 rounded overflow-hidden border border-zinc-200 shrink-0",children:x.video?.posterUrl?e("img",{src:x.video.posterUrl,className:"w-full h-full object-cover"}):e("div",{className:"w-full h-full flex items-center justify-center text-zinc-300 bg-zinc-50",children:e("span",{className:"text-[10px]",children:"No Img"})})}),t("div",{className:"flex-1 min-w-0",children:[e("div",{className:"font-medium text-zinc-900 truncate",children:x.video?.title||"Unknown Video"}),t("div",{className:"text-xs text-zinc-500 flex gap-3",children:[e("span",{children:Zs(x.video?.duration||0)}),e("span",{className:"capitalize",children:x.video?.status})]})]}),t(Le,{method:"post",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[e("input",{type:"hidden",name:"intent",value:"remove_item"}),e("input",{type:"hidden",name:"itemId",value:x.id}),e("button",{className:"p-2 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded transition",children:e(ue,{size:16})})]})]},x.id)),n.items.length===0&&e("div",{className:"p-12 text-center text-zinc-500",children:"This collection is empty."})]})]})}),r&&e("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full h-[600px] flex flex-col animate-in fade-in zoom-in duration-200",children:[t("div",{className:"p-4 border-b border-zinc-200 flex justify-between items-center",children:[e("h3",{className:"font-bold text-lg",children:"Add Video to Collection"}),e("button",{onClick:()=>l(!1),children:e(Te,{size:20,className:"text-zinc-400 hover:text-zinc-600"})})]}),e("div",{className:"p-4 border-b border-zinc-200 bg-zinc-50",children:t("div",{className:"relative",children:[e(De,{className:"absolute left-3 top-2.5 h-4 w-4 text-zinc-400"}),e("input",{type:"text",placeholder:"Search library...",className:"w-full pl-9 pr-4 py-2 border border-zinc-200 rounded-lg text-sm bg-white outline-none focus:ring-2 focus:ring-black/5",value:d,onChange:x=>o(x.target.value)})]})}),t("div",{className:"flex-1 overflow-y-auto p-2",children:[h.map(x=>t("div",{className:"p-3 hover:bg-zinc-50 rounded-lg flex items-center justify-between group transition",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-12 h-8 bg-zinc-100 rounded flex-shrink-0 border border-zinc-200",children:x.posterUrl&&e("img",{src:x.posterUrl,className:"w-full h-full object-cover rounded"})}),t("div",{children:[e("div",{className:"font-medium text-sm text-zinc-900",children:x.title}),e("div",{className:"text-xs text-zinc-500 font-mono",children:Zs(x.duration)})]})]}),e("button",{onClick:()=>N(x.id),className:"px-3 py-1.5 text-xs font-semibold bg-zinc-900 text-white rounded hover:bg-zinc-800 transition",children:"Add"})]},x.id)),h.length===0&&e("div",{className:"p-8 text-center text-sm text-zinc-500",children:d?"No videos found matching search.":"No video available to add."})]})]})}),c&&t("div",{className:"fixed inset-0 z-50 flex justify-end",children:[e("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>u(!1)}),t("div",{className:"relative w-full max-w-md bg-white shadow-2xl h-full p-6 animate-in slide-in-from-right duration-200",children:[e("h3",{className:"text-xl font-bold mb-6",children:"Edit Collection"}),t(Le,{method:"post",onSubmit:()=>u(!1),className:"space-y-4",children:[e("input",{type:"hidden",name:"intent",value:"update_details"}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Title"}),e("input",{type:"text",name:"title",defaultValue:n.title,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-black/5",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Slug (URL)"}),e("input",{type:"text",name:"slug",defaultValue:n.slug,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-black/5 font-mono text-sm",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Description"}),e("textarea",{name:"description",defaultValue:n.description,rows:4,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-black/5 resize-none"})]}),t("div",{className:"pt-4 flex justify-end gap-3",children:[e("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-zinc-500 hover:text-zinc-700",children:"Cancel"}),e("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-zinc-900 text-white rounded-lg hover:bg-zinc-800",children:"Save Changes"})]})]})]})]}),e(Yn,{open:p,onOpenChange:g,onConfirm:y,title:"Delete Collection",description:"Are you sure you want to delete this collection? This action cannot be undone.",confirmText:"Delete",variant:"destructive"})]})}),Od=Object.freeze(Object.defineProperty({__proto__:null,action:Ld,default:Dd,loader:Id},Symbol.toStringTag,{value:"Module"})),Ed=H(()=>import("@puckeditor/core").then(i=>({default:i.Puck}))),Bd=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug,r=i.params.pageId;try{const d=(await z("/website/pages",s,{headers:{"X-Tenant-Slug":a}})).find(o=>o.id===r);if(!d)throw new Error("Page not found");return{page:d,error:null,slug:a}}catch(l){return{page:null,error:l.message,slug:a}}},Fd=j(function(){const{page:n,error:s,slug:a}=D(),{getToken:r}=J(),l=Ne(),d=ae(),[o,c]=f(!1),[u,p]=f(null),[g,m]=f(n?.content||{root:{props:{}},content:[]}),h=async v=>{c(!0);try{const y=await r();await z(`/website/pages/${d.pageId}`,y,{method:"PUT",headers:{"X-Tenant-Slug":a},body:JSON.stringify({content:v})}),p(new Date),_.success("Page saved")}catch(y){_.error("Failed to save: "+y.message)}finally{c(!1)}};return s?t("div",{className:"p-8",children:[t("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",s]}),t("button",{onClick:()=>l(`/studio/${a}/website/pages`),className:"mt-4 text-blue-600 hover:underline flex items-center gap-2",children:[e($e,{size:16})," Back to Pages"]})]}):t("div",{className:"h-screen flex flex-col",children:[t("div",{className:"bg-white border-b border-zinc-200 px-4 py-3 flex items-center justify-between z-50",children:[t("div",{className:"flex items-center gap-4",children:[t("button",{onClick:()=>l(`/studio/${a}/website/pages`),className:"flex items-center gap-2 text-zinc-600 hover:text-zinc-900",children:[e($e,{size:18}),e("span",{className:"text-sm",children:"Back"})]}),e("div",{className:"h-6 w-px bg-zinc-200"}),t("div",{children:[e("h1",{className:"font-medium text-zinc-900",children:n?.title}),t("p",{className:"text-xs text-zinc-500",children:["/",n?.slug]})]})]}),t("div",{className:"flex items-center gap-3",children:[u&&t("span",{className:"text-xs text-zinc-400",children:["Saved ",u.toLocaleTimeString()]}),t("button",{onClick:()=>window.open(`/site/${a}/${n?.slug}`,"_blank"),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-600 hover:bg-zinc-100 rounded-lg",children:[e(zt,{size:16}),"Preview"]}),t("button",{onClick:()=>h(g),disabled:o,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e(Ue,{size:16}),o?"Saving...":"Save"]})]})]}),e("div",{className:"flex-1 overflow-hidden",children:e(W,{fallback:e("div",{className:"flex h-full items-center justify-center",children:e(oe,{className:"h-8 w-8 animate-spin text-zinc-400"})}),children:e(Ed,{config:js,data:g,onPublish:h,onChange:m})})})]})}),Rd=Object.freeze(Object.defineProperty({__proto__:null,default:Fd,loader:Bd},Symbol.toStringTag,{value:"Module"}));function Xd(i){const{getToken:n}=J();return be({queryKey:["my-payouts",i],queryFn:async()=>{const s=await n();return(await z("/payroll/history?mine=true",s,{headers:{"X-Tenant-Slug":i}})).history||[]},enabled:!!i})}function se({children:i,className:n}){return e("div",{className:Z("bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",n),children:i})}function we({children:i,className:n}){return e("div",{className:Z("px-6 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50",n),children:i})}function Ce({children:i,className:n}){return e("h3",{className:Z("font-semibold text-zinc-900 dark:text-zinc-100",n),children:i})}function Ve({children:i,className:n}){return e("p",{className:Z("text-sm text-zinc-500 dark:text-zinc-400",n),children:i})}function de({children:i,className:n}){return e("div",{className:Z("p-6",n),children:i})}function Ud({error:i,resetErrorBoundary:n}){return t(se,{className:"border-red-200 bg-red-50 dark:border-red-900/50 dark:bg-red-900/10",children:[t(we,{className:"pb-2",children:[t(Ce,{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[e(Pe,{className:"h-5 w-5"}),"Error"]}),e(Ve,{className:"text-red-600/90 dark:text-red-400/90",children:"Something went wrong while loading this component."})]}),t(de,{className:"space-y-4",children:[e("p",{className:"text-sm font-mono text-red-600 dark:text-red-300 bg-red-100/50 dark:bg-red-950/30 p-2 rounded",children:i.message||"Unknown error occurred"}),t(Q,{onClick:n,variant:"outline",size:"sm",className:"border-red-200 text-red-700 hover:bg-red-100 hover:text-red-900 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/50",children:[e(Xe,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})]})}function rn({children:i,onReset:n}){const{reset:s}=Ca();return e(mr,{onReset:()=>{s(),n?.()},FallbackComponent:Ud,children:i})}const Wd=$i("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 dark:border-zinc-800 dark:focus:ring-zinc-300",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 hover:bg-zinc-900/80 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/80",secondary:"border-transparent bg-zinc-100 text-zinc-900 hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",destructive:"border-transparent bg-red-500 text-zinc-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/80",outline:"text-zinc-950 dark:text-zinc-50",success:"border-transparent bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",warning:"border-transparent bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}},defaultVariants:{variant:"default"}});function ge({className:i,variant:n,...s}){return e("div",{className:Z(Wd({variant:n}),i),...s})}const Hd=j(function(){const{slug:n}=ae();if(!n)return e("div",{children:"Invalid slug"});const{data:s=[],isLoading:a}=Xd(n);if(a)return e("div",{className:"p-8",children:e(oe,{className:"animate-spin"})});const r=s.filter(d=>d.status==="paid").reduce((d,o)=>d+o.amount,0),l=s.filter(d=>d.status==="processing").reduce((d,o)=>d+o.amount,0);return e(rn,{children:t("div",{className:"p-8 max-w-4xl mx-auto",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"My Payouts"}),e("p",{className:"text-zinc-500 text-sm",children:"Track your earnings and payout status."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[t(se,{className:"p-6 flex items-center gap-4",children:[e("div",{className:"p-3 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-lg",children:e(ve,{size:24})}),t("div",{children:[e("div",{className:"text-sm text-zinc-500",children:"Total Paid (YTD)"}),t("div",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:["$",(r/100).toFixed(2)]})]})]}),t(se,{className:"p-6 flex items-center gap-4",children:[e("div",{className:"p-3 bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 rounded-lg",children:e(K,{size:24})}),t("div",{children:[e("div",{className:"text-sm text-zinc-500",children:"Pending Processing"}),t("div",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:["$",(l/100).toFixed(2)]})]})]})]}),e(se,{className:"overflow-hidden border-zinc-200 dark:border-zinc-800",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-800 text-zinc-500 font-medium border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"p-4",children:"Period"}),e("th",{className:"p-4",children:"Amount"}),e("th",{className:"p-4",children:"Status"}),e("th",{className:"p-4",children:"Date Paid"})]})}),t("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:[s.map(d=>t("tr",{children:[t("td",{className:"p-4",children:[new Date(d.periodStart).toLocaleDateString()," - ",new Date(d.periodEnd).toLocaleDateString()]}),t("td",{className:"p-4 font-mono font-medium",children:["$",(d.amount/100).toFixed(2)]}),e("td",{className:"p-4",children:e(ge,{variant:d.status==="paid"?"success":"warning",children:d.status.toUpperCase()})}),e("td",{className:"p-4 text-zinc-500",children:d.status==="paid"&&d.paidAt?new Date(d.paidAt).toLocaleDateString():"-"})]},d.id)),s.length===0&&e("tr",{children:e("td",{colSpan:4,className:"p-8 text-center text-zinc-500",children:"No payouts found."})})]})]})})]})})}),Qd=Object.freeze(Object.defineProperty({__proto__:null,default:Hd},Symbol.toStringTag,{value:"Module"})),Jd=async i=>{const{getToken:n}=await P(i),s=await n(),{videoId:a,slug:r}=i.params,d=(await z("/video-management/",s,{headers:{"X-Tenant-Slug":r}}))?.videos.find(c=>c.id===a);if(!d)throw new Response("Video Not Found",{status:404});const o=await z("/video-management/branding",s,{headers:{"X-Tenant-Slug":r}});return{video:d,branding:o}},Vd=async i=>{const{getToken:n}=await P(i),s=await n(),{videoId:a,slug:r}=i.params,l=await i.request.formData(),d=l.get("trimStart"),o=l.get("trimEnd");return await z(`/video-management/${a}`,s,{method:"PATCH",headers:{"X-Tenant-Slug":r},body:JSON.stringify({trimStart:Number(d),trimEnd:Number(o)})}),{success:!0}},qd=j(function(){const{video:n,branding:s}=D(),a=Ne(),[r,l]=f(n.trimStart||0),[d,o]=f(n.trimEnd||n.duration),c=ht(null);return E(()=>{if(c.current){const u=()=>{c.current&&c.current.currentTime>d&&(c.current.pause(),c.current.currentTime=d)};return c.current.addEventListener("timeupdate",u),()=>c.current?.removeEventListener("timeupdate",u)}},[d]),t("div",{className:"p-6 max-w-4xl mx-auto",children:[e("button",{onClick:()=>a(".."),className:"mb-4 text-sm text-zinc-500 hover:underline",children:"â† Back to Library"}),t("h1",{className:"text-2xl font-bold mb-2",children:["Edit: ",n.title]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t("div",{className:"md:col-span-2",children:[e("div",{className:"bg-black aspect-video rounded-lg overflow-hidden relative",children:e("div",{className:"w-full h-full flex items-center justify-center text-white",children:n.cloudflareStreamId?e("iframe",{src:`https://customer-<your-code>.cloudflarestream.com/${n.cloudflareStreamId}/iframe`,className:"w-full h-full",allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0}):e("p",{children:"Video Processing or Unavailable"})})}),t("div",{className:"mt-6 bg-white p-4 rounded border",children:[e("h3",{className:"font-bold mb-4",children:"Trimming"}),t("div",{className:"flex gap-4 items-center",children:[t("div",{className:"flex-1",children:[e("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Start Time (s)"}),e("input",{type:"number",value:r,onChange:u=>l(Number(u.target.value)),className:"w-full border p-2 rounded"})]}),t("div",{className:"flex-1",children:[e("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"End Time (s)"}),e("input",{type:"number",value:d,onChange:u=>o(Number(u.target.value)),className:"w-full border p-2 rounded"})]})]}),t(Le,{method:"post",className:"mt-4 flex justify-end",children:[e("input",{type:"hidden",name:"trimStart",value:r}),e("input",{type:"hidden",name:"trimEnd",value:d}),e("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700",children:"Save Changes"})]})]})]}),e("div",{children:t("div",{className:"bg-white p-4 rounded border",children:[e("h3",{className:"font-bold mb-4",children:"Branding"}),e("p",{className:"text-sm text-zinc-500 mb-4",children:"Intros and Outros are applied automatically by the player."}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Intro"}),t("select",{className:"w-full border p-2 rounded text-sm",children:[e("option",{value:"",children:"None"}),s.filter(u=>u.type==="intro").map(u=>e("option",{value:u.id,selected:u.active,children:u.title},u.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Outro"}),t("select",{className:"w-full border p-2 rounded text-sm",children:[e("option",{value:"",children:"None"}),s.filter(u=>u.type==="outro").map(u=>e("option",{value:u.id,selected:u.active,children:u.title},u.id))]})]}),e("button",{className:"w-full mt-2 bg-zinc-100 text-zinc-700 px-3 py-2 rounded text-sm font-medium hover:bg-zinc-200",children:"Update Branding"})]})]})})]})]})}),Gd=Object.freeze(Object.defineProperty({__proto__:null,action:Vd,default:qd,loader:Jd},Symbol.toStringTag,{value:"Module"})),Yd=H(()=>import("./GiftCardsPage-CozlrK12.js")),Zd=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params;try{return{giftCards:(await z("/gift-cards",s,{headers:{"X-Tenant-Slug":a}})).giftCards||[],token:s}}catch{return{giftCards:[],token:s}}},Kd=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(Yd,{})})})}),eo=Object.freeze(Object.defineProperty({__proto__:null,default:Kd,loader:Zd},Symbol.toStringTag,{value:"Module"})),to=async i=>{const{params:n}=i,{getToken:s}=await P(i),a=await s(),r=await z("/referrals/stats",a,{headers:{"X-Tenant-Slug":n.slug||""}});if(r.error)throw new Response(r.error,{status:500});return{stats:r}},no=j(function(){const{stats:n}=D(),{slug:s}=ae(),[a,r]=f(!1),l=typeof window<"u"?`${window.location.origin}/studio/${s}/join?ref=${n.code}`:`https://studio.com/${s}/join?ref=${n.code}`;return t("div",{className:"p-8 max-w-5xl mx-auto space-y-8",children:[t("header",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Refer & Earn"}),t("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:["Invite friends to join ",s," and earn rewards for every successful signup."]})]}),t("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-white shadow-lg flex flex-col md:flex-row items-center justify-between gap-6",children:[t("div",{className:"space-y-4 max-w-lg",children:[e("h2",{className:"text-3xl font-bold",children:"Give $20, Get $20"}),e("p",{className:"text-blue-100 text-lg",children:"Your friends get $20 off their first pack, and you get $20 in credit when they make a purchase."})]}),t("div",{className:"bg-white/10 backdrop-blur-md p-6 rounded-xl border border-white/20 min-w-[300px] space-y-3",children:[e("label",{className:"text-xs font-bold uppercase tracking-wider text-blue-100",children:"Your Unique Link"}),t("div",{className:"flex items-center gap-2 bg-white/20 p-1 rounded-lg",children:[e("code",{className:"flex-1 px-3 font-mono text-sm truncate",children:l}),e("button",{onClick:()=>{navigator.clipboard.writeText(l),r(!0),_.success("Referral link copied!"),setTimeout(()=>r(!1),2e3)},className:"bg-white text-blue-600 p-2 rounded-md hover:bg-blue-50 transition-colors",children:a?e(me,{size:18}):e(Bt,{size:18})})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e(rs,{label:"Friends Referred",value:n.stats.signups,icon:e(re,{className:"text-blue-500"})}),e(rs,{label:"Total Earned",value:(n.stats.earnings/100).toLocaleString("en-US",{style:"currency",currency:"USD"}),icon:e(ve,{className:"text-green-500"})}),e(rs,{label:"Link Clicks",value:n.stats.clicks,icon:e(Ba,{className:"text-purple-500"})})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800",children:e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Referral History"})}),n.history.length===0?t("div",{className:"p-12 text-center text-zinc-500",children:[e(re,{size:48,className:"mx-auto mb-4 opacity-20"}),e("p",{children:"No referrals yet. Share your link to get started!"})]}):t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 text-zinc-500 font-medium",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Friend"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Reward"}),e("th",{className:"px-6 py-3",children:"Date"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:n.history.map(o=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition",children:[e("td",{className:"px-6 py-4 font-medium text-zinc-900 dark:text-zinc-100",children:o.referredUser?.firstName||"Unknown User"}),e("td",{className:"px-6 py-4",children:e(so,{status:o.status})}),e("td",{className:"px-6 py-4 font-mono",children:(o.amount/100).toLocaleString("en-US",{style:"currency",currency:o.currency||"USD"})}),e("td",{className:"px-6 py-4 text-zinc-500",children:new Date(o.createdAt).toLocaleDateString()})]},o.id))})]})]})]})});function rs({label:i,value:n,icon:s}){return t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 flex items-center gap-4",children:[e("div",{className:"w-12 h-12 rounded-full bg-zinc-50 dark:bg-zinc-800 flex items-center justify-center",children:s}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:i}),e("p",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:n})]})]})}function so({status:i}){return e("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${{pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400",paid:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",voided:"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-400"}[i]||"bg-zinc-100 text-zinc-600"}`,children:i})}const io=Object.freeze(Object.defineProperty({__proto__:null,default:no,loader:to},Symbol.toStringTag,{value:"Module"})),ao=H(()=>import("./PayrollPage-CyiT2mr6.js")),ro=j(function(){return e(V,{fallback:e("div",{className:"p-8",children:"Loading Payroll..."}),children:e(W,{fallback:e("div",{className:"p-8",children:"Loading Payroll..."}),children:e(ao,{})})})}),lo=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),oo=async({params:i})=>Y(`/studio/${i.slug}/finances`),co=Object.freeze(Object.defineProperty({__proto__:null,loader:oo},Symbol.toStringTag,{value:"Module"}));function fn({isOpen:i,onClose:n,title:s,children:a,maxWidth:r="max-w-md"}){return E(()=>{const l=d=>{d.key==="Escape"&&n()};return i&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[i,n]),i?t("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:[e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),t("div",{className:`relative rounded-xl shadow-2xl w-full ${r} overflow-hidden animate-in zoom-in-95 duration-200 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 flex flex-col max-h-[90vh]`,role:"dialog","aria-modal":"true",children:[s&&t("div",{className:"px-6 py-4 flex items-center justify-between bg-zinc-50 dark:bg-zinc-800/50 border-b border-zinc-200 dark:border-zinc-800 shrink-0",children:[e("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100",children:s}),e("button",{onClick:n,className:"p-1 rounded-md transition-colors hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-500 dark:text-zinc-400",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e("div",{className:"p-6 text-zinc-900 dark:text-zinc-100 overflow-y-auto",children:a})]})]}):null}function uo({isOpen:i,onClose:n,title:s="Success",message:a}){return e(fn,{isOpen:i,onClose:n,title:s,children:t("div",{className:"flex flex-col gap-4",children:[t("div",{className:"flex items-start gap-4",children:[e("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0 text-green-600",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e("div",{className:"text-zinc-600 text-sm leading-relaxed pt-1",children:a})]}),e("div",{className:"flex justify-end pt-2",children:e("button",{onClick:n,className:"px-4 py-2 bg-zinc-100 hover:bg-zinc-200 text-zinc-900 rounded-lg font-medium text-sm transition-colors",children:"Dismiss"})})]})})}function ln({isOpen:i,onClose:n,title:s="Error",message:a}){return e(fn,{isOpen:i,onClose:n,title:s,children:t("div",{className:"flex flex-col gap-4",children:[t("div",{className:"flex items-start gap-4",children:[e("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0 text-red-600",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),e("div",{className:"text-zinc-600 text-sm leading-relaxed pt-1",children:a})]}),e("div",{className:"flex justify-end pt-2",children:e("button",{onClick:n,className:"px-4 py-2 bg-zinc-100 hover:bg-zinc-200 text-zinc-900 rounded-lg font-medium text-sm transition-colors",children:"Dismiss"})})]})})}function Se({isOpen:i,onClose:n,onConfirm:s,title:a,message:r,confirmText:l="Confirm",cancelText:d="Cancel",isDestructive:o=!1}){return e(fn,{isOpen:i,onClose:n,title:a,children:t("div",{className:"flex flex-col gap-6",children:[e("p",{className:"text-zinc-600 text-sm leading-relaxed",children:r}),t("div",{className:"flex justify-end gap-3",children:[e("button",{onClick:n,className:"px-4 py-2 border border-zinc-200 text-zinc-700 hover:bg-zinc-50 rounded-lg font-medium text-sm transition-colors",children:d}),e("button",{onClick:s,className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors text-white ${o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:l})]})]})})}const mo=async i=>{const{params:n,request:s}=i,{getToken:a,userId:r}=await P(i);if(!r)return{error:"Unauthorized",coupons:[],isStudent:!1};const l=await a();new URL(s.url).searchParams.get("view");try{return{coupons:(await z("/commerce/coupons",l,{headers:{"X-Tenant-Slug":n.slug}})).coupons||[],error:null,isStudent:!1}}catch(o){return o.message?.includes("403")||o.message?.includes("Access Denied")?{coupons:[],error:null,isStudent:!0}:{coupons:[],error:"Failed to load coupons",isStudent:!1}}},ho=j(function(){const{coupons:n,error:s,isStudent:a}=D(),{tenant:r,isStudentView:l}=U()||{};return l||a?e(po,{tenant:r}):e(go,{initialCoupons:n,tenant:r})});function po({tenant:i}){const[n,s]=f([]),[a,r]=f(""),[l,d]=f(!1),[o,c]=f(null),{getToken:u}=J();E(()=>{const h=localStorage.getItem(`coupons_${i?.slug}`);if(h)try{s(JSON.parse(h))}catch{}const v=sessionStorage.getItem("pending_coupon");v&&(r(v),p(v),sessionStorage.removeItem("pending_coupon"))},[i?.slug]);const p=async h=>{const v=h||a;if(v.trim()){d(!0),c(null);try{const y=await u(),N=await z("/commerce/coupons/validate",y,{method:"POST",headers:{"X-Tenant-Slug":i.slug},body:JSON.stringify({code:v.toUpperCase()})});N.valid?c({valid:!0,coupon:N.coupon}):c({valid:!1,error:N.error||"Invalid coupon code"})}catch(y){c({valid:!1,error:y.message||"Failed to validate coupon"})}finally{d(!1)}}},g=()=>{if(!o?.valid||!o?.coupon)return;const h=o.coupon;if(n.find(N=>N.code===h.code)){_.info("This coupon is already saved");return}const y=[...n,h];s(y),localStorage.setItem(`coupons_${i?.slug}`,JSON.stringify(y)),r(""),c(null),_.success("Coupon saved! It will be applied at checkout.")},m=h=>{const v=n.filter(y=>y.code!==h);s(v),localStorage.setItem(`coupons_${i?.slug}`,JSON.stringify(v)),_.success("Coupon removed")};return t("div",{className:"p-8 max-w-4xl mx-auto",children:[e("div",{className:"mb-8",children:t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-12 h-12 bg-pink-100 dark:bg-pink-900/30 rounded-xl flex items-center justify-center",children:e(Ge,{className:"text-pink-600 dark:text-pink-400",size:24})}),t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"My Coupons"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"Enter and save discount codes for checkout."})]})]})}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl p-6 mb-6 shadow-sm",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Enter Coupon Code"}),t("div",{className:"flex gap-3",children:[e("input",{type:"text",className:"flex-1 border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-4 py-3 text-sm font-mono uppercase placeholder:normal-case placeholder:font-sans",placeholder:"Enter your coupon code",value:a,onChange:h=>{r(h.target.value.toUpperCase()),c(null)},onKeyDown:h=>h.key==="Enter"&&p()}),e("button",{onClick:()=>p(),disabled:l||!a.trim(),className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-6 py-3 rounded-lg text-sm font-bold hover:bg-zinc-800 disabled:opacity-50 transition-colors",children:l?"Checking...":"Apply"})]}),o&&e("div",{className:`mt-4 p-4 rounded-lg flex items-center gap-3 ${o.valid?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:o.valid?t(G,{children:[e(me,{className:"text-green-600 dark:text-green-400",size:20}),t("div",{className:"flex-1",children:[e("span",{className:"font-bold text-green-700 dark:text-green-300",children:"Valid coupon!"}),e("span",{className:"ml-2 text-green-600 dark:text-green-400",children:o.coupon.type==="percent"?`${o.coupon.value}% off`:`$${(o.coupon.value/100).toFixed(2)} off`})]}),e("button",{onClick:g,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-green-700",children:"Save for Checkout"})]}):t(G,{children:[e(xt,{className:"text-red-600 dark:text-red-400",size:20}),e("span",{className:"text-red-700 dark:text-red-300",children:o.error})]})})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:[t("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:"Saved Coupons"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"These will be automatically applied at checkout."})]}),n.length===0?t("div",{className:"p-12 text-center text-zinc-400",children:[e(hn,{className:"mx-auto h-12 w-12 mb-4 opacity-20"}),e("h3",{className:"text-zinc-900 dark:text-zinc-100 font-bold mb-1",children:"No Saved Coupons"}),e("p",{className:"text-sm",children:"Enter a coupon code above to save it for checkout."})]}):e("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:n.map(h=>t("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t("div",{className:"flex items-center gap-4",children:[e("span",{className:"font-mono font-bold text-zinc-800 dark:text-zinc-200 bg-zinc-100 dark:bg-zinc-800 px-3 py-1 rounded",children:h.code}),h.type==="percent"?t("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 px-2 py-0.5 rounded text-xs font-bold",children:[h.value,"% OFF"]}):t("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 px-2 py-0.5 rounded text-xs font-bold",children:["$",(h.value/100).toFixed(2)," OFF"]})]}),e("button",{onClick:()=>m(h.code),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Remove",children:e(ue,{size:16})})]},h.code))})]})]})}function go({initialCoupons:i,tenant:n}){const[s,a]=f(i||[]),[r,l]=f(!1),[d,o]=f(!1),[c,u]=f({code:"",type:"percent",value:"",usageLimit:""}),[p,g]=f(null),{getToken:m}=J(),h=async()=>{const x=await m(),w=await z("/commerce/coupons",x,{headers:{"X-Tenant-Slug":n.slug}});a(w.coupons||[])},v=async x=>{x.preventDefault(),l(!0);try{const w=await m(),b=await z("/commerce/coupons",w,{method:"POST",headers:{"X-Tenant-Slug":n.slug},body:JSON.stringify(c)});if(b.error)throw new Error(b.error);o(!1),u({code:"",type:"percent",value:"",usageLimit:""}),await h()}catch(w){_.error(w.message)}finally{l(!1)}},y=x=>{g(x)},N=async()=>{if(p){l(!0);try{const x=await m();await z(`/commerce/coupons/${p}`,x,{method:"DELETE",headers:{"X-Tenant-Slug":n.slug}}),await h(),_.success("Coupon deactivated")}catch(x){_.error(x.message)}finally{l(!1),g(null)}}};return t("div",{className:"p-8 max-w-6xl mx-auto",children:[t("div",{className:"mb-8 flex justify-between items-center",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-12 h-12 bg-pink-100 dark:bg-pink-900/30 rounded-xl flex items-center justify-center",children:e(Ge,{className:"text-pink-600 dark:text-pink-400",size:24})}),t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Coupons"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"Manage discounts and promotional codes."})]})]}),t("button",{onClick:()=>o(!0),className:"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg text-sm font-bold hover:bg-zinc-800 transition-colors shadow-lg shadow-zinc-500/10 flex items-center gap-2",children:[e(ee,{size:16})," New Coupon"]})]}),d&&e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl max-w-md w-full p-6 shadow-2xl border border-zinc-200 dark:border-zinc-800",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Create Coupon"}),t("form",{onSubmit:v,children:[t("div",{className:"mb-4",children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Coupon Code"}),e("input",{type:"text",className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm font-mono uppercase",placeholder:"e.g. SUMMER25",value:c.code,onChange:x=>u({...c,code:x.target.value.toUpperCase()}),required:!0})]}),t("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Type"}),t("select",{className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm",value:c.type,onChange:x=>u({...c,type:x.target.value}),children:[e("option",{value:"percent",children:"Percentage (%)"}),e("option",{value:"amount",children:"Fixed Amount ($)"})]})]}),t("div",{children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Value"}),e("input",{type:"number",className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm",placeholder:c.type==="percent"?"e.g. 10":"e.g. 1000 (cents)",value:c.value,onChange:x=>u({...c,value:x.target.value}),required:!0,min:"1"}),e("p",{className:"text-[10px] text-zinc-400 mt-1",children:c.type==="amount"?"In cents (e.g. 1000 = $10.00)":"Percentage value (1-100)"})]})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Usage Limit (Optional)"}),e("input",{type:"number",className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm",placeholder:"Unlimited",value:c.usageLimit,onChange:x=>u({...c,usageLimit:x.target.value}),min:"1"})]}),t("div",{className:"flex justify-end gap-2",children:[e("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancel"}),e("button",{type:"submit",disabled:r,className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-lg text-sm font-bold hover:bg-zinc-800 disabled:opacity-50",children:r?"Creating...":"Create Coupon"})]})]})]})}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:s.length===0?t("div",{className:"p-12 text-center text-zinc-400",children:[e(Ge,{className:"mx-auto h-12 w-12 mb-4 opacity-20"}),e("h3",{className:"text-zinc-900 dark:text-zinc-100 font-bold mb-1",children:"No Coupons Yet"}),e("p",{className:"text-sm",children:"Create your first discount code to get started."})]}):t("table",{className:"w-full text-left text-sm",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-800/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-4 font-bold text-zinc-900 dark:text-zinc-100",children:"Code"}),e("th",{className:"px-6 py-4 font-bold text-zinc-900 dark:text-zinc-100",children:"Discount"}),e("th",{className:"px-6 py-4 font-bold text-zinc-900 dark:text-zinc-100",children:"Usage Limit"}),e("th",{className:"px-6 py-4 font-bold text-zinc-900 dark:text-zinc-100",children:"Status"}),e("th",{className:"px-6 py-4 font-bold text-zinc-900 dark:text-zinc-100 text-right",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:s.map(x=>t("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[e("td",{className:"px-6 py-4 font-mono font-bold text-zinc-800 dark:text-zinc-200",children:x.code}),e("td",{className:"px-6 py-4 text-zinc-600 dark:text-zinc-300",children:x.type==="percent"?t("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold",children:[x.value,"% OFF"]}):t("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded text-xs font-bold",children:["$",(x.value/100).toFixed(2)," OFF"]})}),t("td",{className:"px-6 py-4 text-zinc-500",children:[x.usageCount||0," / ",x.usageLimit?x.usageLimit:"âˆž"]}),e("td",{className:"px-6 py-4",children:x.active?t("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[e("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})," Active"]}):e("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-bold bg-zinc-100 text-zinc-500",children:"Inactive"})}),e("td",{className:"px-6 py-4 text-right",children:x.active&&t(G,{children:[e("button",{onClick:()=>{const w=`${window.location.origin}/studio/${n.slug}?coupon=${x.code}`;navigator.clipboard.writeText(w),_.success("Coupon link copied to clipboard!")},className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50 p-2 rounded-lg transition-colors mr-1",title:"Copy Coupon Link",children:e(Ni,{size:16})}),e("button",{onClick:()=>y(x.id),disabled:r,className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Deactivate Coupon",children:e(ue,{size:16})})]})})]},x.id))})]})}),e(Se,{isOpen:!!p,onClose:()=>g(null),onConfirm:N,title:"Deactivate Coupon",message:"Are you sure you want to deactivate this coupon? This action cannot be undone.",confirmText:"Deactivate",isDestructive:!0})]})}const bo=Object.freeze(Object.defineProperty({__proto__:null,default:ho,loader:mo},Symbol.toStringTag,{value:"Module"})),fo=j(function(){const{tenant:n,token:s}=U(),a=Ne(),[r,l]=f(!1),[d,o]=f("config"),[c,u]=f(25),[p,g]=f(["pack_10","membership_unlimited"]),[m,h]=f(new Set);E(()=>{async function C(){try{const T=await z("/commerce/products",s);T.products&&h(new Set(T.products.map(M=>M.name.toLowerCase())))}catch(T){console.error("Failed to load existing products",T)}}C()},[s]);const[v,y]=f([]),N=[{id:"pack_3",type:"pack",name:"3 Class Pack",quantity:3,discount:0},{id:"pack_5",type:"pack",name:"5 Class Pack",quantity:5,discount:.05},{id:"pack_10",type:"pack",name:"10 Class Pack",quantity:10,discount:.1},{id:"pack_20",type:"pack",name:"20 Class Pack",quantity:20,discount:.15},{id:"membership_2x",type:"membership",name:"2x / Week Membership",interval:"monthly",multiplier:8,discount:.15},{id:"membership_3x",type:"membership",name:"3x / Week Membership",interval:"monthly",multiplier:12,discount:.2},{id:"membership_unlimited",type:"membership",name:"Unlimited Monthly",interval:"monthly",multiplier:15,discount:.3},{id:"membership_unlimited_annual",type:"membership",name:"Unlimited Annual",interval:"annual",multiplier:180,discount:.4}],x=lt(()=>N.filter(C=>p.includes(C.id)).map(C=>{let T=0;if(C.type==="pack"){const M=c*C.quantity;T=Math.round(M*(1-C.discount))}else{const M=c*C.multiplier;T=Math.round(M*(1-C.discount))}return{...C,id:C.id,calculatedPrice:T}}),[c,p]),w=C=>{p.includes(C)?g(p.filter(T=>T!==C)):g([...p,C])},b=()=>{y(x.map(C=>({...C,finalPrice:C.calculatedPrice,finalName:C.name}))),o("review")},k=async()=>{l(!0);try{const C=v.filter(B=>!m.has(B.finalName.toLowerCase()));if(C.length===0){_.info("All selected items already exist!"),a(`/studio/${n.slug}/commerce/packs`);return}const T=C.map(B=>({type:B.type,name:B.finalName,price:Math.round(Number(B.finalPrice)*100),credits:B.type==="pack"?B.quantity:void 0,interval:B.type==="membership"?B.interval:void 0})),M=await z("/commerce/products/bulk",s,{method:"POST",body:JSON.stringify({items:T})});if(M.error)throw new Error(M.error);const $=v.length-C.length;_.success(`Created ${M.results?.length||0} pricing options! ${$>0?`(${$} skipped)`:""}`),a(`/studio/${n.slug}/commerce/packs`)}catch(C){_.error(C.message||"Failed to create products")}finally{l(!1)}},S=(C,T,M)=>{const $=[...v];$[C]={...$[C],[T]:M},y($)};return t("div",{className:"max-w-4xl mx-auto py-8",children:[t("div",{className:"mb-8 flex items-center gap-4",children:[e(L,{to:`/studio/${n.slug}/commerce/packs`,className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition",children:e($e,{size:20})}),t("div",{children:[t("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e(pn,{className:"text-indigo-500"})," Pricing Wizard"]}),e("p",{className:"text-zinc-500",children:"Auto-generate standard pricing options based on your drop-in rate."})]})]}),d==="config"?t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-1 space-y-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("label",{className:"block text-sm font-medium mb-2",children:"Base Drop-in Price ($)"}),t("div",{className:"relative",children:[e("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:"$"}),e("input",{type:"number",value:c,onChange:C=>u(Number(C.target.value)),className:"w-full pl-8 pr-4 py-2 rounded-lg border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950 font-mono text-lg"})]}),e("p",{className:"text-xs text-zinc-500 mt-2",children:"We use this to calculate bulk discounts automatically."})]}),t("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-xl border border-indigo-100 dark:border-indigo-800/50",children:[e("h3",{className:"font-semibold text-indigo-900 dark:text-indigo-200 mb-2 text-sm",children:"Summary"}),t("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 mb-4",children:["You selected ",e("strong",{children:p.length})," items."]}),t("button",{onClick:b,disabled:p.length===0,className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition disabled:opacity-50 flex items-center justify-center gap-2",children:["Review & Edit ",e(Re,{size:16})]})]})]}),t("div",{className:"lg:col-span-2 space-y-6",children:[t("div",{children:[t("h3",{className:"font-semibold mb-4 text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Ge,{size:16})," Class Packs"]}),e("div",{className:"grid grid-cols-2 gap-4",children:N.filter(C=>C.type==="pack").map(C=>e(Ks,{template:C,selected:p.includes(C.id),basePrice:c,onToggle:()=>w(C.id)},C.id))})]}),t("div",{children:[t("h3",{className:"font-semibold mb-4 text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Ge,{size:16})," Memberships"]}),e("div",{className:"grid grid-cols-2 gap-4",children:N.filter(C=>C.type==="membership").map(C=>e(Ks,{template:C,selected:p.includes(C.id),basePrice:c,onToggle:()=>w(C.id)},C.id))})]})]})]}):t("div",{className:"max-w-3xl mx-auto",children:[t("button",{onClick:()=>o("config"),className:"mb-6 flex items-center text-sm text-zinc-500 hover:text-zinc-900",children:[e($e,{size:16,className:"mr-1"})," Back to Config"]}),e("h2",{className:"text-xl font-bold mb-6",children:"Review & Edit Prices"}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden mb-8",children:t("table",{className:"w-full",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Item Name"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Details"}),e("th",{className:"px-6 py-3 text-right text-xs font-medium text-zinc-500 uppercase tracking-wider",children:"Price ($)"})]})}),e("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:v.map((C,T)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:e("input",{type:"text",value:C.finalName,onChange:M=>S(T,"finalName",M.target.value),className:"w-full bg-transparent border-b border-transparent focus:border-indigo-500 focus:outline-none px-0 py-1"})}),e("td",{className:"px-6 py-4 text-sm text-zinc-500",children:C.type==="pack"?`${C.quantity} Credits`:`Billed ${C.interval}`}),e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center justify-end",children:[e("span",{className:"text-zinc-400 mr-2",children:"$"}),e("input",{type:"number",value:C.finalPrice,onChange:M=>S(T,"finalPrice",M.target.value),className:"w-24 text-right bg-zinc-50 dark:bg-zinc-800 border-none rounded px-2 py-1 font-mono focus:ring-1 focus:ring-indigo-500"})]})})]},C.id))})]})}),e("div",{className:"flex justify-end gap-4",children:t("button",{onClick:k,disabled:r,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl translate-y-0 hover:-translate-y-0.5",children:[r?e(oe,{className:"animate-spin"}):e(pn,{size:16}),"Create ",v.length," Products"]})})]})]})});function Ks({template:i,selected:n,basePrice:s,onToggle:a}){let r;if(i.type==="pack"){const d=s*i.quantity;r=Math.round(d*(1-i.discount))}else{const d=s*(i.multiplier||1);r=Math.round(d*(1-i.discount))}const l=Math.round(i.discount*100);return t("div",{onClick:a,className:`cursor-pointer relative p-4 rounded-xl border-2 transition-all ${n?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/10":"border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 bg-white dark:bg-zinc-900"}`,children:[t("div",{className:"flex justify-between items-start mb-2",children:[e("h4",{className:"font-semibold text-sm",children:i.name}),n&&e("div",{className:"bg-indigo-600 text-white rounded-full p-0.5",children:e(pe,{size:12})})]}),t("div",{className:"text-2xl font-bold font-mono",children:["$",r]}),l>0&&t("div",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium mt-1",children:["Save ",l,"% vs Drop-in"]}),e("div",{className:"text-xs text-zinc-400 mt-2",children:i.type==="pack"?`${i.quantity} credits`:`Billed ${i.interval}`})]})}const xo=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),vo=async i=>{const{params:n}=i,{getToken:s}=await P(i),a=await s(),r=await z("/commerce/packs",a,{headers:{"X-Tenant-Slug":n.slug}});if(r.error)throw new Error(r.error);return{params:n,packs:r.packs}},yo=async i=>{const{params:n,request:s}=i,{getToken:a}=await P(i),r=await a(),l=await s.formData();if(l.get("intent")==="create_pack"){const o=l.get("name"),c=parseInt(l.get("credits")),u=parseFloat(l.get("price"))*100,p=l.get("expirationDays")?parseInt(l.get("expirationDays")):null,g=l.get("imageUrl"),m=l.get("vodEnabled")==="on",h=await z("/commerce/packs",r,{method:"POST",headers:{"X-Tenant-Slug":n.slug},body:JSON.stringify({name:o,credits:c,price:u,expirationDays:p,imageUrl:g,vodEnabled:m})});return h.error?{error:h.error}:{success:!0}}return null},zo=j(function(){const{packs:n,params:s}=D(),{me:a,roles:r}=U()||{},l=jt(),[d,o]=f(!1),c=l.state==="submitting";return t("div",{className:"max-w-5xl mx-auto py-8",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Class Packs"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage punch cards and credit bundles."})]}),(r?.includes("owner")||r?.includes("instructor"))&&t("div",{className:"flex gap-2",children:[t(L,{to:`/studio/${s.slug}/commerce/wizard`,className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800 rounded-md text-sm font-medium hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors",children:[e(pn,{className:"h-4 w-4"}),"Pricing Wizard"]}),t("button",{onClick:()=>o(!d),className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900 rounded-md text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors",children:[e(ee,{className:"h-4 w-4"}),"Create Pack"]})]})]}),d&&t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 mb-8 shadow-sm",children:[e("h2",{className:"text-lg font-semibold mb-4 text-zinc-900 dark:text-zinc-100",children:"New Class Pack"}),t(Le,{method:"post",onSubmit:()=>o(!1),children:[e("input",{type:"hidden",name:"intent",value:"create_pack"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Pack Name"}),e("input",{type:"text",name:"name",required:!0,placeholder:"e.g. 10 Class Pass",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Credits"}),e("input",{type:"number",name:"credits",required:!0,min:"1",placeholder:"Number of classes",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Price ($)"}),e("input",{type:"number",name:"price",required:!0,min:"0",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Expiration (Days)"}),e("input",{type:"number",name:"expirationDays",placeholder:"Optional (e.g. 90)",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Leave blank for no expiration."})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Cover Image"}),t("div",{className:"flex gap-2",children:[e("input",{type:"text",name:"imageUrl",placeholder:"Paste image URL here...",className:"flex-1 px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"}),t("button",{type:"button",onClick:()=>window.open("https://www.canva.com/create/social-media-graphics/","_blank"),className:"px-3 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-md text-sm font-medium hover:from-purple-600 hover:to-indigo-700 flex items-center gap-2",children:[e("span",{className:"font-bold font-serif italic text-lg leading-none transform -translate-y-[1px]",children:"C"}),"Design in Canva"]})]}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Design your cover in Canva, then copy and paste the image link here."})]})]}),t("div",{className:"flex items-center gap-2 mb-6",children:[e("input",{type:"checkbox",name:"vodEnabled",id:"vodEnabled",className:"rounded border-zinc-300 dark:border-zinc-700 text-blue-600 focus:ring-blue-500"}),e("label",{htmlFor:"vodEnabled",className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Include VOD Access"}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 ml-2",children:"(Allows entry to On-Demand Library)"})]}),t("div",{className:"flex justify-end gap-3",children:[e("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 text-zinc-700 dark:text-zinc-300 transition-colors",children:"Cancel"}),e("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:c?"Creating...":"Create Pack"})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(u=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[t("div",{className:"flex justify-between items-start mb-4",children:[e("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:e(et,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-400",children:"Active"})]}),e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:u.name}),t("div",{className:"space-y-3 mb-6",children:[t("div",{className:"flex items-center text-zinc-600 dark:text-zinc-400 text-sm",children:[e(et,{className:"h-4 w-4 mr-2"}),t("span",{children:[u.credits," Class Credits"]})]}),t("div",{className:"flex items-center text-zinc-600 dark:text-zinc-400 text-sm",children:[e(ve,{className:"h-4 w-4 mr-2"}),t("span",{children:["$",(u.price/100).toFixed(2)]})]}),u.expirationDays&&t("div",{className:"flex items-center text-zinc-600 dark:text-zinc-400 text-sm",children:[e(K,{className:"h-4 w-4 mr-2"}),t("span",{children:["Expires in ",u.expirationDays," days"]})]})]}),e("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:a?r?.includes("student")?e("a",{href:`/studio/${s.slug}/checkout?packId=${u.id}`,className:"block w-full text-center px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Buy Now"}):e("button",{disabled:!0,className:"block w-full text-center px-4 py-2 bg-zinc-100 dark:bg-zinc-800 text-zinc-400 dark:text-zinc-500 rounded-md text-sm font-medium cursor-not-allowed",children:"Students Only"}):e(L,{to:`/sign-in?redirect_url=${encodeURIComponent(typeof window<"u"?window.location.pathname:"")}`,className:"block w-full text-center px-4 py-2 border border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-md text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-colors",children:"Sign in to Buy"})})]},u.id)),n.length===0&&!d&&t("div",{className:"col-span-full text-center py-12 bg-zinc-50 dark:bg-zinc-900 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-lg text-zinc-500 dark:text-zinc-400",children:[e(et,{className:"h-10 w-10 mx-auto mb-3 text-zinc-400 dark:text-zinc-500"}),e("p",{children:"No class packs created yet."}),e("button",{onClick:()=>o(!0),className:"text-blue-600 hover:text-blue-800 font-medium mt-2",children:"Create one now"})]})]})]})}),No=Object.freeze(Object.defineProperty({__proto__:null,action:yo,default:zo,loader:vo},Symbol.toStringTag,{value:"Module"})),ko=async i=>{const{params:n}=i,{getToken:s,userId:a}=await P(i);if(!a)return{substitutions:[],error:"Unauthorized"};const r=await s();try{return{substitutions:(await z("/sub-dispatch/items",r,{headers:{"X-Tenant-Slug":n.slug}})).requests||[],error:null}}catch{return{substitutions:[],error:"Failed to load sub requests"}}},wo=j(function(){const{substitutions:n,error:s}=D(),{tenant:a,me:r}=U()||{},{getToken:l}=J(),[d,o]=f(n||[]),[c,u]=f(!1),[p,g]=f({isOpen:!1,message:""}),[m,h]=f(!1),[v,y]=f([]),[N,x]=f({classId:"",notes:""}),w=async()=>{h(!0);try{const S=await l(),C=await z(`/classes?startDate=${new Date().toISOString()}&instructorId=${r?.member?.id}`,S,{headers:{"X-Tenant-Slug":a.slug}});y(Array.isArray(C)?C:[])}catch(S){console.error(S)}},b=async S=>{S.preventDefault(),u(!0);try{const C=await l(),T=await z(`/sub-dispatch/classes/${N.classId}/request`,C,{method:"POST",headers:{"X-Tenant-Slug":a.slug},body:JSON.stringify({message:N.notes})});if(T.error)throw new Error(T.error);h(!1),x({classId:"",notes:""});const M=await z("/sub-dispatch/items",C,{headers:{"X-Tenant-Slug":a.slug}});o(M.requests||[])}catch(C){g({isOpen:!0,message:C.message})}finally{u(!1)}};r?.roles?.includes("owner");const k=async(S,C)=>{if(!c){u(!0);try{if(C!=="accept")return;const T=await l(),M=await z(`/sub-dispatch/items/${S}/accept`,T,{method:"POST",headers:{"X-Tenant-Slug":a.slug}});if(M.error)throw new Error(M.error);const $=await z("/sub-dispatch/items",T,{headers:{"X-Tenant-Slug":a.slug}});o($.requests||[])}catch(T){g({isOpen:!0,message:T.message})}finally{u(!1)}}};return t("div",{className:"p-8 max-w-6xl mx-auto",children:[t("div",{className:"mb-8 flex justify-between items-center",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:e(Xe,{className:"text-blue-600 dark:text-blue-400",size:24})}),t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Substitutions"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"Manage shift coverage and instructor changes."})]})]}),e("button",{onClick:w,className:"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900 px-4 py-2 rounded-lg text-sm font-bold hover:bg-zinc-800 transition-colors shadow-lg shadow-zinc-500/10",children:"Request Cover"})]}),s&&e("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg text-sm border border-red-200",children:s}),m&&e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl max-w-md w-full p-6 shadow-2xl border border-zinc-200 dark:border-zinc-800",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Request Coverage"}),t("form",{onSubmit:b,children:[t("div",{className:"mb-4",children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Select Class"}),t("select",{className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm",value:N.classId,onChange:S=>x({...N,classId:S.target.value}),required:!0,children:[e("option",{value:"",children:"-- Choose a Class --"}),v.map(S=>t("option",{value:S.id,children:[new Date(S.startTime).toLocaleDateString()," ",new Date(S.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",S.title]},S.id))]})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Notes (Optional)"}),e("textarea",{className:"w-full border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:"Reason for sub request...",value:N.notes,onChange:S=>x({...N,notes:S.target.value})})]}),t("div",{className:"flex justify-end gap-2",children:[e("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-sm font-medium text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-200",children:"Cancel"}),e("button",{type:"submit",disabled:c||!N.classId,className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-lg text-sm font-bold hover:bg-zinc-800 disabled:opacity-50",children:c?"Submitting...":"Submit Request"})]})]})]})}),t("div",{className:"grid grid-cols-1 gap-8",children:[e(ei,{title:"Needs Coverage",icon:e(Pe,{className:"text-amber-500",size:18}),children:e(ti,{items:d.filter(S=>S.status==="open"),onAction:k,canClaim:!0,currentMemberId:r?.member?.id,loading:c})}),e(ei,{title:"Filled / Past",icon:e(me,{className:"text-green-500",size:18}),children:e(ti,{items:d.filter(S=>S.status==="filled"),onAction:k,readOnly:!0,loading:c})})]}),e(ln,{isOpen:p.isOpen,onClose:()=>g({...p,isOpen:!1}),message:p.message})]})});function ei({title:i,icon:n,children:s}){return t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden shadow-sm",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between",children:[t("div",{className:"flex items-center gap-3",children:[n,e("h3",{className:"font-bold text-zinc-800 dark:text-zinc-200",children:i})]}),e("span",{className:"bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-widest",children:Array.isArray(s.props.items)?s.props.items.length:0})]}),e("div",{children:s})]})}function ti({items:i,onAction:n,canClaim:s,readOnly:a,currentMemberId:r,loading:l}){return i.length===0?t("div",{className:"p-12 text-center",children:[e("div",{className:"text-zinc-300 dark:text-zinc-700 mb-2 flex justify-center",children:e(he,{size:32})}),e("p",{className:"text-zinc-400 text-sm italic",children:"No requests in this category."})]}):e("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:i.map(d=>t("div",{className:"p-6 hover:bg-zinc-50 dark:hover:bg-zinc-800/20 transition-colors flex flex-col md:flex-row md:items-center justify-between gap-6",children:[t("div",{className:"flex-1",children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("div",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:d.classTitle}),e("span",{className:"text-[10px] bg-zinc-100 dark:bg-zinc-800 text-zinc-500 dark:text-zinc-400 px-1.5 py-0.5 rounded border border-zinc-200 dark:border-zinc-700 font-mono",children:d.classId?.substring(0,8)})]}),t("div",{className:"text-sm text-zinc-500 dark:text-zinc-400 flex items-center gap-1",children:[e(he,{size:14}),new Date(d.startTime).toLocaleString([],{dateStyle:"full",timeStyle:"short"})]}),d.message&&t("div",{className:"mt-2 text-sm text-zinc-600 dark:text-zinc-300 italic",children:['"',d.message,'"']}),e("div",{className:"mt-4 flex flex-wrap items-center gap-6 text-[10px] font-bold uppercase tracking-widest",children:t("div",{className:"flex flex-col",children:[e("span",{className:"text-zinc-400 mb-1",children:"Original Instructor"}),e("span",{className:"text-zinc-800 dark:text-zinc-200",children:d.originalInstructorName||"Unknown"})]})})]}),!a&&e("div",{className:"flex items-center gap-2",children:s&&d.status==="open"&&e("button",{onClick:()=>n(d.id,"accept"),disabled:l,className:"bg-blue-600 text-white px-5 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-500/20 hover:bg-blue-700 disabled:opacity-50 transition-all hover:-translate-y-0.5",children:"Accept Shift"})}),d.status==="filled"&&t("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 dark:bg-green-900/20 px-4 py-2 rounded-xl border border-green-100 dark:border-green-900/30",children:[e(me,{size:20}),e("span",{className:"text-sm font-bold",children:"Filled"})]})]},d.id))})}const Co=Object.freeze(Object.defineProperty({__proto__:null,default:wo,loader:ko},Symbol.toStringTag,{value:"Module"})),So=H(()=>import("./MediaLibraryPage-gSk2DTPt.js")),jo=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n();try{const[l,d,o]=await Promise.all([z("/video-management/",r,{headers:{"X-Tenant-Slug":a}}),z("/uploads/images",r,{headers:{"X-Tenant-Slug":a}}),z("/video-management/collections",r,{headers:{"X-Tenant-Slug":a}})]);return{videos:l?.videos||[],storageUsage:l?.storageUsage||0,images:d||[],collections:o||[]}}catch(l){return console.error("Loader Failed",l),{videos:[],storageUsage:0,images:[],collections:[]}}},Mo=j(function(){return e(V,{fallback:e("div",{className:"p-8",children:"Loading Media Library..."}),children:e(W,{fallback:e("div",{className:"p-8",children:"Loading Media Library..."}),children:e(So,{})})})}),_o=Object.freeze(Object.defineProperty({__proto__:null,default:Mo,loader:jo},Symbol.toStringTag,{value:"Module"}));function Ao({isOpen:i,onClose:n,url:s}){return i?e("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 md:p-8 animate-in fade-in duration-200 overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl w-full h-full flex flex-col shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-blue-600 rounded-lg shadow-lg shadow-blue-500/20",children:e(xe,{size:18,className:"text-white"})}),t("div",{children:[e("h2",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Live Site Preview"}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono truncate max-w-md",children:s})]})]}),e("button",{onClick:n,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100",children:e(Te,{size:24})})]}),e("div",{className:"flex-1 bg-zinc-100 dark:bg-zinc-950 relative",children:e("iframe",{src:s,className:"w-full h-full border-none",title:"Site Preview"})})]})}):null}const $o=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;try{return{pages:await z("/website/pages",s,{headers:{"X-Tenant-Slug":a}}),error:null,slug:a}}catch(r){return{pages:[],error:r.message,slug:a}}},To=j(function(){const{pages:n,error:s,slug:a}=D(),[r,l]=f(n||[]),{getToken:d}=J();Ne();const[o,c]=f(!1),[u,p]=f({title:"",slug:""}),[g,m]=f(null),[h,v]=f(null),y=async()=>{if(!(!u.title||!u.slug))try{const b=await d(),k=await z("/website/pages",b,{method:"POST",headers:{"X-Tenant-Slug":a},body:JSON.stringify(u)});l([...r,k]),c(!1),p({title:"",slug:""}),_.success("Page created")}catch(b){_.error("Failed to create page: "+b.message)}},N=b=>{m(b)},x=async()=>{if(g)try{const b=await d();await z(`/website/pages/${g}`,b,{method:"DELETE",headers:{"X-Tenant-Slug":a}}),l(r.filter(k=>k.id!==g)),_.success("Page deleted")}catch(b){_.error("Failed to delete: "+b.message)}finally{m(null)}},w=async b=>{try{const k=await d();await z(`/website/pages/${b.id}/publish`,k,{method:"POST",headers:{"X-Tenant-Slug":a},body:JSON.stringify({isPublished:!b.isPublished})}),l(r.map(S=>S.id===b.id?{...S,isPublished:!S.isPublished}:S)),_.success(b.isPublished?"Page unpublished":"Page published")}catch(k){_.error("Failed to update: "+k.message)}};return s?e("div",{className:"p-8",children:t("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",s]})}):t("div",{className:"p-8 max-w-6xl mx-auto",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[t("h1",{className:"text-2xl font-bold text-zinc-900 flex items-center gap-2",children:[e(xe,{className:"text-blue-600"}),"Website Builder"]}),e("p",{className:"text-zinc-500 mt-1",children:"Create and manage your studio website pages"})]}),t("div",{className:"flex items-center gap-3",children:[t("button",{onClick:()=>v(`/site/${a}`),className:"flex items-center gap-2 bg-white border border-zinc-200 text-zinc-700 px-4 py-2 rounded-lg hover:bg-zinc-50 transition font-medium",children:[e(zt,{size:18}),"Preview Site"]}),t("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition font-medium shadow-lg shadow-blue-500/20",children:[e(ee,{size:18}),"New Page"]})]})]}),e(Ao,{isOpen:!!h,onClose:()=>v(null),url:h||""}),o&&e("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-xl",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Create New Page"}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Page Title"}),e("input",{type:"text",value:u.title,onChange:b=>p({...u,title:b.target.value}),className:"w-full border border-zinc-300 rounded-lg px-3 py-2",placeholder:"e.g., About Us"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"URL Slug"}),e("input",{type:"text",value:u.slug,onChange:b=>p({...u,slug:b.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full border border-zinc-300 rounded-lg px-3 py-2",placeholder:"e.g., about"}),t("p",{className:"text-xs text-zinc-400 mt-1",children:["yoursite.com/",u.slug||"slug"]})]})]}),t("div",{className:"flex justify-end gap-2 mt-6",children:[e("button",{onClick:()=>c(!1),className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 rounded-lg",children:"Cancel"}),e("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Page"})]})]})}),r.length===0?t("div",{className:"bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-xl p-12 text-center",children:[e(tt,{size:48,className:"mx-auto text-zinc-300 mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-700 mb-2",children:"No pages yet"}),e("p",{className:"text-zinc-500 mb-4",children:"Create your first page to start building your website"}),t("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[e(ee,{size:18}),"Create First Page"]})]}):e("div",{className:"bg-white rounded-xl border border-zinc-200 divide-y",children:r.map(b=>t("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-50",children:[t("div",{className:"flex items-center gap-4",children:[e("div",{className:`p-2 rounded-lg ${b.isPublished?"bg-green-100 text-green-600":"bg-zinc-100 text-zinc-400"}`,children:e(tt,{size:20})}),t("div",{children:[e("h3",{className:"font-medium text-zinc-900",children:b.title}),t("p",{className:"text-sm text-zinc-500",children:["/",b.slug]})]}),e("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${b.isPublished?"bg-green-100 text-green-700":"bg-zinc-100 text-zinc-600"}`,children:b.isPublished?"Published":"Draft"})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>w(b),className:"p-2 hover:bg-zinc-100 rounded-lg text-zinc-600",title:b.isPublished?"Unpublish":"Publish",children:b.isPublished?e(Cs,{size:18}):e(zt,{size:18})}),e("a",{href:`/site/${a}/${b.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-zinc-100 rounded-lg text-zinc-600",title:"View Live Page",children:e(Nt,{size:18})}),e(L,{to:`/studio/${a}/website/editor/${b.id}`,className:"p-2 hover:bg-blue-50 rounded-lg text-blue-600",title:"Edit Content",children:e(bt,{size:18})}),e("button",{onClick:()=>N(b.id),className:"p-2 hover:bg-red-50 rounded-lg text-red-600",title:"Delete Page",children:e(ue,{size:18})})]})]},b.id))}),e(Se,{isOpen:!!g,onClose:()=>m(null),onConfirm:x,title:"Delete Page",message:"Are you sure you want to delete this page? This cannot be undone.",confirmText:"Delete",isDestructive:!0})]})}),Po=Object.freeze(Object.defineProperty({__proto__:null,default:To,loader:$o},Symbol.toStringTag,{value:"Module"})),Io=async i=>{const{getToken:n,userId:s}=await P(i),a=i.params.slug,r=s?await n():void 0;let l=[];try{r&&(l=(await z("/appointments/services",r,{headers:{"X-Tenant-Slug":a}})).services||[])}catch(d){console.error("Failed to load services",d)}return{services:l,slug:a,userId:s,token:r}},Lo=j(function(){const{services:n,slug:s,userId:a,token:r}=D(),{roles:l=[]}=U()||{},d=l.includes("owner")||l.includes("admin"),[o,c]=f("service"),[u,p]=f(null),[g,m]=f(null),[h,v]=f([]),[y,N]=f(!1),[x,w]=f(new Date().toISOString().split("T")[0]);Ne();async function b(S,C){N(!0);try{const T=await z(`/appointments/availability?serviceId=${S.id}&date=${C}`,r,{headers:{"X-Tenant-Slug":s}});v(T.slots||[])}catch(T){console.error(T)}finally{N(!1)}}async function k(){if(!(!g||!u)){if(!a){_.error("Please login to book");return}try{const S=await z("/appointments/book",r,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify({serviceId:u.id,instructorId:g.instructorId,startTime:g.startTime})});S.error?_.error(S.error):(_.success("Booking Confirmed!"),c("service"),p(null),m(null))}catch(S){_.error("Booking failed: "+S.message)}}}return t("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[t("div",{className:"flex items-center gap-4 mb-8",children:[o!=="service"&&e("button",{onClick:()=>c("service"),className:"p-2 hover:bg-zinc-100 rounded-full",children:e($e,{className:"h-5 w-5"})}),e("h1",{className:"text-2xl font-bold",children:"Book a Session"})]}),o==="service"&&t("div",{className:"grid gap-4",children:[n.length===0&&t("div",{className:"bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-xl p-8 text-center",children:[e(K,{className:"h-12 w-12 text-zinc-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-700 mb-2",children:"No appointment services available"}),d?t(G,{children:[e("p",{className:"text-zinc-500 mb-4",children:"Create 1:1 appointment services to allow students to book private sessions with instructors."}),t(L,{to:`/studio/${s}/settings/appointments`,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-4 py-2 rounded-lg hover:bg-zinc-800 transition",children:[e(Mt,{size:16}),"Configure Services"]})]}):e("p",{className:"text-zinc-500",children:"The studio owner has not set up any bookable services yet. Please check back later."})]}),n.map(S=>e("div",{onClick:()=>{p(S),c("slot"),b(S,x)},className:"bg-white p-6 rounded-lg border border-zinc-200 hover:border-blue-500 cursor-pointer shadow-sm transition-all",children:t("div",{className:"flex justify-between items-start",children:[t("div",{children:[e("h3",{className:"font-semibold text-lg",children:S.title}),e("p",{className:"text-zinc-500 text-sm mt-1",children:S.description}),t("div",{className:"flex items-center gap-4 mt-3 text-sm text-zinc-600",children:[t("div",{className:"flex items-center gap-1",children:[e(he,{className:"h-4 w-4"}),S.durationMinutes," min"]}),t("div",{className:"flex items-center gap-1 font-medium",children:["$",S.price<1?"Free":S.price]})]})]}),e("div",{className:"bg-zinc-100 p-2 rounded-full",children:e($e,{className:"h-5 w-5 rotate-180 text-zinc-400"})})]})},S.id))]}),o==="slot"&&u&&t("div",{children:[t("div",{className:"bg-zinc-50 p-4 rounded-lg mb-6 flex justify-between items-center",children:[t("div",{children:[e("h3",{className:"font-medium",children:u.title}),t("p",{className:"text-sm text-zinc-500",children:[u.durationMinutes," mins â€¢ $",u.price]})]}),e("button",{onClick:()=>c("service"),className:"text-sm text-blue-600 hover:underline",children:"Change"})]}),t("div",{className:"mb-6",children:[e("label",{className:"block text-sm font-medium mb-2",children:"Select Date"}),e("input",{type:"date",value:x,min:new Date().toISOString().split("T")[0],onChange:S=>{w(S.target.value),b(u,S.target.value)},className:"border border-zinc-300 rounded px-3 py-2 w-full md:w-auto"})]}),y?e("div",{className:"text-center py-8 text-zinc-500",children:"Finding available times..."}):e("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:h.length===0?e("div",{className:"col-span-full text-center py-8 text-zinc-500 bg-zinc-50 rounded-lg border border-dashed border-zinc-200",children:"No availability on this date."}):h.map((S,C)=>e("button",{onClick:()=>{m(S),c("confirm")},className:"py-2 px-4 rounded border border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 font-medium text-sm transition-colors",children:new Date(S.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},C))})]}),o==="confirm"&&g&&u&&t("div",{children:[e("h2",{className:"text-xl font-bold mb-6",children:"Confirm Booking"}),t("div",{className:"bg-white border border-zinc-200 rounded-lg p-6 mb-6 shadow-sm",children:[t("div",{className:"flex gap-4 mb-4 pb-4 border-b border-zinc-100",children:[e("div",{className:"bg-blue-100 p-3 rounded-lg h-fit",children:e(K,{className:"h-6 w-6 text-blue-600"})}),t("div",{children:[e("h3",{className:"font-semibold text-lg",children:u.title}),t("p",{className:"text-zinc-500",children:["with ",g.instructorName]})]})]}),t("div",{className:"grid gap-3 text-sm",children:[t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500",children:"Date"}),e("span",{className:"font-medium",children:new Date(g.startTime).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500",children:"Time"}),t("span",{className:"font-medium",children:[new Date(g.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",new Date(g.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500",children:"Price"}),t("span",{className:"font-medium",children:["$",u.price]})]})]})]}),t("div",{className:"flex gap-3",children:[e("button",{onClick:()=>c("slot"),className:"flex-1 py-3 border border-zinc-300 rounded-lg font-medium hover:bg-zinc-50",children:"Back"}),e("button",{onClick:k,className:"flex-1 py-3 bg-zinc-900 text-white rounded-lg font-medium hover:bg-zinc-800",children:"Confirm Booking"})]})]})]})}),Do=Object.freeze(Object.defineProperty({__proto__:null,default:Lo,loader:Io},Symbol.toStringTag,{value:"Module"})),Oo=H(()=>import("./AppointmentsPage-D5dsylzK.js")),Eo=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const l=new URL(i.request.url).searchParams.get("week")||new Date().toISOString().split("T")[0],d=await n();try{const[o,c,u]=await Promise.all([z(`/appointments?weekStart=${l}`,d,{headers:{"X-Tenant-Slug":a}}),z("/appointment-services",d,{headers:{"X-Tenant-Slug":a}}),z("/members?role=instructor",d,{headers:{"X-Tenant-Slug":a}})]);return{appointments:o||[],services:c||[],instructors:u||[],weekStart:l}}catch(o){return console.error("Appointments Loader Error",o),{appointments:[],services:[],instructors:[],weekStart:l}}},Bo=async i=>{const{getToken:n}=await P(i),{slug:s}=i.params,a=await n(),r=await i.request.formData(),l=r.get("intent");if(l==="create"&&await z("/appointments",a,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify({serviceId:r.get("serviceId"),instructorId:r.get("instructorId"),memberId:r.get("memberId"),startTime:r.get("startTime"),notes:r.get("notes")})}),l==="update-status"){const d=r.get("id");await z(`/appointments/${d}`,a,{method:"PATCH",headers:{"X-Tenant-Slug":s},body:JSON.stringify({status:r.get("status")})})}if(l==="cancel"){const d=r.get("id");await z(`/appointments/${d}`,a,{method:"PATCH",headers:{"X-Tenant-Slug":s},body:JSON.stringify({status:"cancelled"})})}return{success:!0}},Fo=j(function(){return e(V,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading calendar..."}),children:()=>e(W,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading calendar..."}),children:e(Oo,{})})})}),Ro=Object.freeze(Object.defineProperty({__proto__:null,action:Bo,default:Fo,loader:Eo},Symbol.toStringTag,{value:"Module"})),ye=Ee.forwardRef(({className:i,type:n,...s},a)=>e("input",{type:n,className:Z("flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",i),ref:a,...s}));ye.displayName="Input";const $s=Ee.forwardRef(({className:i="",...n},s)=>e("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300 ${i}`,ref:s,...n}));$s.displayName="Textarea";const Xo=i=>new Promise((n,s)=>{const a=new Image;a.addEventListener("load",()=>n(a)),a.addEventListener("error",r=>s(r)),a.setAttribute("crossOrigin","anonymous"),a.src=i});function Ei(i){return i*Math.PI/180}function Uo(i,n,s){const a=Ei(s);return{width:Math.abs(Math.cos(a)*i)+Math.abs(Math.sin(a)*n),height:Math.abs(Math.sin(a)*i)+Math.abs(Math.cos(a)*n)}}async function Wo(i,n,s=0,a={horizontal:!1,vertical:!1}){const r=await Xo(i),l=document.createElement("canvas"),d=l.getContext("2d");if(!d)throw new Error("No 2d context");const o=Ei(s),{width:c,height:u}=Uo(r.width,r.height,s);l.width=c,l.height=u,d.translate(c/2,u/2),d.rotate(o),d.scale(a.horizontal?-1:1,a.vertical?-1:1),d.translate(-r.width/2,-r.height/2),d.drawImage(r,0,0);const p=d.getImageData(n.x,n.y,n.width,n.height);return l.width=n.width,l.height=n.height,d.putImageData(p,0,0),new Promise((g,m)=>{l.toBlob(h=>{if(!h){console.error("Canvas is empty");return}g(h)},"image/jpeg")})}function Ho({initialImage:i,initialTitle:n,initialSubtitle:s,onChange:a}){const[r,l]=f(i||null),[d,o]=f(n||""),[c,u]=f(s||""),[p,g]=f({x:0,y:0}),[m,h]=f(1),[v,y]=f(null),[N,x]=f(i?"preview":"upload"),w=Tn((C,T)=>{y(T)},[]),b=async C=>{if(C.target.files&&C.target.files.length>0){const T=C.target.files[0],M=await S(T);l(M),x("crop")}},k=async()=>{try{if(!r||!v)return;const C=await Wo(r,v),T=URL.createObjectURL(C);a({image:C,title:d,subtitle:c,previewUrl:T}),x("preview")}catch(C){console.error(C)}},S=C=>new Promise(T=>{const M=new FileReader;M.addEventListener("load",()=>T(M.result)),M.readAsDataURL(C)});return t("div",{className:"card-creator space-y-4",children:[N==="upload"&&t("div",{className:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-8 text-center bg-zinc-50 dark:bg-zinc-800/50 transition-colors hover:bg-zinc-100 dark:hover:bg-zinc-800",children:[e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4 font-medium",children:"Upload a background image for your membership card."}),e("input",{type:"file",accept:"image/*",onChange:b,className:"hidden",id:"card-image-upload"}),e("label",{htmlFor:"card-image-upload",className:"cursor-pointer inline-block bg-indigo-600 text-white px-4 py-2 rounded-md font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:"Choose Image"})]}),N==="crop"&&r&&t("div",{className:"relative h-64 w-full bg-zinc-900 rounded-lg overflow-hidden",children:[e(hr,{image:r,crop:p,zoom:m,aspect:3/2,onCropChange:g,onCropComplete:w,onZoomChange:h}),t("div",{className:"absolute bottom-4 right-4 z-10 space-x-2",children:[e("button",{type:"button",onClick:()=>x("upload"),className:"bg-zinc-800/80 backdrop-blur text-white px-3 py-1 rounded text-sm hover:bg-zinc-700 font-medium transition-colors",children:"Change Image"}),e("button",{type:"button",onClick:k,className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 font-medium transition-colors shadow-lg",children:"Apply Crop"})]})]}),N==="preview"&&t("div",{className:"space-y-4",children:[t("div",{className:"relative w-full aspect-[3/2] rounded-lg overflow-hidden shadow-md group",children:[r&&e("img",{src:r,className:"w-full h-full object-cover",alt:"Card Background"}),e("div",{className:"absolute inset-0 bg-black/30 flex flex-col items-center justify-center text-center p-4",children:t("div",{className:"bg-white/80 dark:bg-black/60 backdrop-blur-sm p-4 rounded-lg max-w-[80%]",children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white uppercase tracking-wider",children:d||"Membership Title"}),c&&e("p",{className:"text-sm text-zinc-700 dark:text-zinc-300 mt-1",children:c})]})}),e("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e("button",{type:"button",onClick:()=>x("crop"),className:"bg-white text-zinc-900 px-4 py-2 rounded-full font-medium hover:bg-zinc-100 shadow-lg transform transition-transform hover:scale-105",children:"Edit Image"})})]}),t("div",{className:"grid grid-cols-1 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1 text-zinc-500 dark:text-zinc-400",children:"Overlay Title"}),e("input",{value:d,onChange:C=>{o(C.target.value),a({image:null,title:C.target.value,subtitle:c,previewUrl:""})},className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:ring-indigo-500 focus:border-indigo-500 text-zinc-900 dark:text-zinc-100",placeholder:"3 MONTH MEMBERSHIP"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium mb-1 text-zinc-500 dark:text-zinc-400",children:"Overlay Subtitle (Optional)"}),e("input",{value:c,onChange:C=>{u(C.target.value),a({image:null,title:d,subtitle:C.target.value,previewUrl:""})},className:"w-full px-3 py-2 rounded-md border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:ring-indigo-500 focus:border-indigo-500 text-zinc-900 dark:text-zinc-100",placeholder:"Unlimited Yoga"})]})]})]})]})}const ne=Ee.forwardRef(({className:i="",...n},s)=>e("label",{ref:s,className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${i}`,...n}));ne.displayName="Label";function Qo(i){const{getToken:n}=J();return be({queryKey:["plans",i],queryFn:async()=>{const s=await n();return await z("/memberships/plans",s,{headers:{"X-Tenant-Slug":i}})||[]},enabled:!!i,staleTime:1e3*60*60})}function Jo(i){const{getToken:n}=J();return be({queryKey:["subscriptions",i],queryFn:async()=>{const s=await n();return await z("/memberships/subscriptions",s,{headers:{"X-Tenant-Slug":i}})||[]},enabled:!!i,staleTime:1e3*60*5})}const Vo=j(function(){const{slug:n}=ae(),{getToken:s}=J(),a=en(),{isStudentView:r}=U()||{},{data:l=[],isLoading:d,error:o}=Qo(n),{data:c=[],isLoading:u}=Jo(n),[p,g]=f({type:"closed"}),[m,h]=f(null),[v,y]=f(!1),N=()=>{a.invalidateQueries({queryKey:["plans",n]}),a.invalidateQueries({queryKey:["subscriptions",n]})},x=async()=>{if(m)try{const b=await s();await z(`/memberships/plans/${m}`,b,{method:"DELETE",headers:{"X-Tenant-Slug":n}}),_.success("Plan deleted"),N()}catch(b){_.error(b.message||"Failed to delete plan")}finally{h(null)}},w=async(b,k)=>{y(!0);try{const S=await s(),C=k?`/memberships/plans/${k}`:"/memberships/plans";await z(C,S,{method:k?"PATCH":"POST",headers:{"X-Tenant-Slug":n},body:JSON.stringify(b)}),_.success(k?"Plan updated":"Plan created"),N(),g({type:"closed"})}catch(S){console.error(S),_.error(S.message||"Failed to save plan")}finally{y(!1)}};return t("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-zinc-950 p-6 space-y-6 overflow-y-auto",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Memberships"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Manage your membership tiers and view subscriptions."})]}),!r&&t(Q,{onClick:()=>g({type:"create"}),children:[e(ee,{className:"mr-2 h-4 w-4"})," New Plan"]})]}),t(rn,{children:[e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d?Array.from({length:3}).map((b,k)=>t(se,{className:"opacity-50",children:[e("div",{className:"h-48 bg-zinc-100 dark:bg-zinc-800 animate-pulse"}),t(de,{className:"p-6 space-y-4",children:[e("div",{className:"h-6 w-1/2 bg-zinc-100 dark:bg-zinc-800 animate-pulse rounded"}),e("div",{className:"h-4 w-full bg-zinc-100 dark:bg-zinc-800 animate-pulse rounded"})]})]},k)):l.length===0?t("div",{className:"col-span-full text-center p-12 rounded-lg bg-white dark:bg-zinc-900 border border-dashed border-zinc-300 dark:border-zinc-700",children:[e("h3",{className:"font-medium mb-1 text-zinc-900 dark:text-zinc-100",children:"No Membership Plans"}),e("p",{className:"text-sm mb-4 text-zinc-500 dark:text-zinc-400",children:'Create tiers like "Unlimited" or "10-Pack" for your students.'}),!r&&e(Q,{variant:"link",onClick:()=>g({type:"create"}),children:"Create first plan"})]}):l.map(b=>t(se,{className:"overflow-hidden group hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:[t("div",{className:"relative h-48 w-full bg-zinc-200 dark:bg-zinc-800 overflow-hidden",children:[b.imageUrl?e("img",{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):e("div",{className:"w-full h-full flex items-center justify-center text-zinc-400",children:"No Image"}),(b.overlayTitle||b.overlaySubtitle)&&e("div",{className:"absolute inset-0 bg-black/20 flex flex-col items-center justify-center text-center p-4",children:t("div",{className:"bg-white/90 dark:bg-black/70 backdrop-blur-sm px-4 py-2 rounded-lg max-w-[90%]",children:[b.overlayTitle&&e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-white uppercase tracking-wider",children:b.overlayTitle}),b.overlaySubtitle&&e("p",{className:"text-xs text-zinc-700 dark:text-zinc-300 mt-0.5",children:b.overlaySubtitle})]})})]}),t(de,{className:"p-6",children:[t("div",{className:"flex justify-between items-start mb-2",children:[e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:b.name}),b.vodEnabled&&e(ge,{variant:"secondary",className:"text-xs",children:"VOD Access"})]}),t("div",{className:"text-2xl font-bold mb-4 text-zinc-900 dark:text-zinc-100",children:["$",(b.price/100).toFixed(2),t("span",{className:"text-sm font-normal text-zinc-500 dark:text-zinc-400",children:["/",b.interval]})]}),e("p",{className:"text-sm mb-6 min-h-[40px] text-zinc-500 dark:text-zinc-400 line-clamp-2",children:b.description||"No description provided."}),r?e(Q,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>window.location.href=`checkout?planId=${b.id}`,children:"Subscribe Now"}):t("div",{className:"space-y-2",children:[e(Q,{variant:"outline",className:"w-full",onClick:()=>g({type:"edit",plan:b}),children:"Edit Plan"}),e(Q,{variant:"ghost",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>h(b.id),children:"Delete Plan"})]})]})]},b.id))}),t("div",{className:"space-y-4",children:[e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Active Subscriptions"}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden shadow-sm",children:u?e("div",{className:"p-8 flex justify-center",children:e(oe,{className:"animate-spin text-zinc-400"})}):c.length===0?e("div",{className:"p-8 text-center text-zinc-500 dark:text-zinc-400",children:"No active subscriptions yet."}):e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-800/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Student"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Plan"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Renewal"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:c.map(b=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/20",children:[t("td",{className:"px-6 py-4",children:[e("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:b.user.profile?.fullName||b.user.email}),e("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:b.user.email})]}),e("td",{className:"px-6 py-4 text-sm text-zinc-600 dark:text-zinc-300",children:b.planName}),e("td",{className:"px-6 py-4",children:e(ge,{variant:b.status==="active"?"default":"secondary",className:b.status==="active"?"bg-green-100 text-green-800 hover:bg-green-100 dark:bg-green-900/30 dark:text-green-400":"",children:b.status})}),e("td",{className:"px-6 py-4 text-sm text-zinc-500 dark:text-zinc-400",children:b.currentPeriodEnd?new Date(b.currentPeriodEnd).toLocaleDateString():"N/A"})]},b.id))})]})})})]})]}),e(qo,{isOpen:p.type!=="closed",plan:p.type==="edit"?p.plan:void 0,onClose:()=>g({type:"closed"}),onSave:w,isSubmitting:v,tenantSlug:n}),e(Se,{isOpen:!!m,onClose:()=>h(null),onConfirm:x,title:"Delete Membership Plan",message:"Are you sure you want to delete this plan? This cannot be undone and may affect existing subscriptions.",confirmText:"Delete Plan",isDestructive:!0})]})});function qo({isOpen:i,plan:n,onClose:s,onSave:a,isSubmitting:r,tenantSlug:l}){const{getToken:d}=J(),[o,c]=f(""),[u,p]=f(""),[g,m]=f("month"),[h,v]=f(""),[y,N]=f(!1),[x,w]=f({image:null,title:"",subtitle:"",previewUrl:""}),[b,k]=f(!1);return E(()=>{i&&(c(n?.name||""),p(n?(n.price/100).toFixed(2):""),m(n?.interval||"month"),v(n?.description||""),N(n?.vodEnabled||!1),w({image:null,title:n?.overlayTitle||"",subtitle:n?.overlaySubtitle||"",previewUrl:n?.imageUrl||""}))},[i,n]),e(kt,{open:i,onOpenChange:s,children:t(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e(Ct,{children:e(St,{children:n?"Edit Membership Plan":"Create Membership Plan"})}),t("form",{onSubmit:async C=>{C.preventDefault(),k(!0);try{let T=n?.imageUrl;if(x.image){const $=await d(),B=new FormData,A=new File([x.image],"card.jpg",{type:"image/jpeg"});B.append("file",A);const I=await fetch("https://studio-platform-api.slichti.workers.dev/uploads/r2-image",{method:"POST",headers:{Authorization:`Bearer ${$}`,"X-Tenant-Slug":l},body:B});if(!I.ok)throw new Error("Image upload failed");T=(await I.json()).url}const M={name:o,price:Number(u)*100,interval:g,description:h,imageUrl:T,overlayTitle:x.title,overlaySubtitle:x.subtitle,vodEnabled:y};await a(M,n?.id)}catch(T){_.error("Failed to upload image or save plan: "+T.message)}finally{k(!1)}},className:"grid grid-cols-1 lg:grid-cols-2 gap-8 py-4",children:[t("div",{className:"space-y-4",children:[e(ne,{children:"Card Appearance"}),e(Ho,{initialImage:n?.imageUrl,initialTitle:x.title,initialSubtitle:x.subtitle,onChange:C=>{w(T=>({...T,...C}))}}),e("p",{className:"text-xs text-zinc-500",children:"Upload an image and set text overlays to customize how this plan appears in the store."})]}),t("div",{className:"space-y-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Plan Name (Internal)"}),e(ye,{required:!0,value:o,onChange:C=>c(C.target.value),placeholder:"e.g. Gold Unlimited"})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Price ($)"}),e(ye,{type:"number",step:"0.01",required:!0,value:u,onChange:C=>p(C.target.value)})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Interval"}),t("select",{className:"flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",value:g,onChange:C=>m(C.target.value),children:[e("option",{value:"month",children:"Monthly"}),e("option",{value:"week",children:"Weekly"}),e("option",{value:"year",children:"Yearly"}),e("option",{value:"one_time",children:"One Time"})]})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Description"}),e($s,{value:h,onChange:C=>v(C.target.value),rows:3})]}),t("div",{className:"flex items-center space-x-2 pt-2",children:[e("input",{type:"checkbox",id:"vodEnabled",checked:y,onChange:C=>N(C.target.checked),className:"rounded border-zinc-300 text-zinc-900 focus:ring-zinc-900"}),t("div",{className:"grid gap-1.5 leading-none",children:[e("label",{htmlFor:"vodEnabled",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include VOD Access"}),e("p",{className:"text-sm text-zinc-500",children:"Allows entry to On-Demand Library"})]})]})]}),t("div",{className:"col-span-full flex justify-end gap-3 pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[e(Q,{type:"button",variant:"ghost",onClick:s,disabled:r||b,children:"Cancel"}),t(Q,{type:"submit",disabled:r||b,children:[(r||b)&&e(oe,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Save Changes":"Create Plan"]})]})]})]})})}const Go=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),Yo=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n();try{const[l,d,o]=await Promise.all([z("/challenges",r,{headers:{"X-Tenant-Slug":a}}),z("/challenges/my-progress",r,{headers:{"X-Tenant-Slug":a}}).catch(()=>[]),z("/challenges/leaderboard",r,{headers:{"X-Tenant-Slug":a}}).catch(()=>[])]);return{challenges:l||[],myProgress:d||[],leaderboard:o||[]}}catch(l){return console.error("Challenges Loader Error",l),{challenges:[],myProgress:[],leaderboard:[]}}},Zo=async i=>{const{getToken:n}=await P(i),{slug:s}=i.params,a=await n(),r=await i.request.formData(),l=r.get("intent");if(l==="join")return await z(`/challenges/${r.get("challengeId")}/join`,a,{method:"POST",headers:{"X-Tenant-Slug":s}}),{success:!0};if(l==="create"){const d=r.get("rewardType");let o={};d==="retail_credit"&&(o={creditAmount:parseInt(r.get("creditAmount")||"0")});const c={title:r.get("title"),description:r.get("description")||null,type:r.get("type"),targetValue:parseInt(r.get("targetValue")||"10"),frequency:parseInt(r.get("frequency")||"1"),period:r.get("period")||"week",rewardType:d,rewardValue:JSON.stringify(o),startDate:r.get("startDate")||new Date().toISOString().split("T")[0],endDate:r.get("endDate")};try{return await z("/challenges",a,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify(c)}),{success:!0,created:!0}}catch(u){return{error:u.message||"Failed to create challenge"}}}return{success:!0}},Ko=H(()=>import("./ChallengesPage-CDin4OWq.js")),ec=j(function(){return e(V,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Challenges..."}),children:e(W,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Challenges..."}),children:e(Ko,{})})})}),tc=Object.freeze(Object.defineProperty({__proto__:null,action:Zo,default:ec,loader:Yo},Symbol.toStringTag,{value:"Module"})),nc=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n();try{const[l,d]=await Promise.all([z("/instructor/stats",r,{headers:{"X-Tenant-Slug":a}}),z("/instructor/upcoming",r,{headers:{"X-Tenant-Slug":a}})]);return{stats:l||{},upcoming:d||[],slug:a}}catch(l){return console.error("Instructor Loader Error",l),{stats:{},upcoming:[],slug:a}}},sc=j(function(){const{stats:n,upcoming:s,slug:a}=D(),r=bn(),l=r.pathname.endsWith("/instructor")||r.pathname.endsWith("/instructor/"),d=[{href:`/studio/${a}/instructor`,label:"Dashboard",icon:fi},{href:`/studio/${a}/instructor/schedule`,label:"My Schedule",icon:K},{href:`/studio/${a}/instructor/availability`,label:"Availability",icon:he},{href:`/studio/${a}/instructor/subs`,label:"Sub Requests",icon:Qs},{href:`/studio/${a}/instructor/payroll`,label:"Earnings",icon:ve}],o=u=>new Date(u).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),c=u=>new Date(u).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return t("div",{className:"flex h-full bg-zinc-50",children:[t("nav",{className:"w-64 bg-white border-r border-zinc-200 p-4",children:[t("div",{className:"flex items-center gap-3 mb-6 px-2",children:[e("div",{className:"p-2 bg-purple-600 rounded-lg text-white",children:e(re,{size:20})}),e("span",{className:"font-bold text-zinc-900",children:"Instructor Portal"})]}),e("div",{className:"space-y-1",children:d.map(u=>{const p=r.pathname===u.href;return t(L,{to:u.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition ${p?"bg-purple-50 text-purple-700":"text-zinc-600 hover:bg-zinc-50"}`,children:[e(u.icon,{size:18}),u.label]},u.href)})})]}),e("main",{className:"flex-1 overflow-y-auto",children:l?t("div",{className:"p-6",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 mb-6",children:"Welcome back!"}),t("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[e(wn,{icon:K,label:"Classes This Week",value:n.classesThisWeek||0}),e(wn,{icon:re,label:"Total Students",value:n.totalStudents||0}),e(wn,{icon:ve,label:"Earnings (MTD)",value:`$${((n.earningsMtd||0)/100).toFixed(2)}`}),e(wn,{icon:Qs,label:"Open Sub Requests",value:n.openSubRequests||0})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200",children:[e("div",{className:"p-4 border-b border-zinc-100",children:t("h2",{className:"font-bold text-zinc-900 flex items-center gap-2",children:[e(he,{size:18})," Upcoming Classes"]})}),s.length===0?e("p",{className:"p-6 text-center text-zinc-500",children:"No upcoming classes"}):e("div",{className:"divide-y divide-zinc-100",children:s.slice(0,5).map(u=>t("div",{className:"p-4 flex items-center justify-between",children:[t("div",{children:[e("div",{className:"font-medium text-zinc-900",children:u.title}),t("div",{className:"text-sm text-zinc-500",children:[o(u.startTime)," at ",c(u.startTime)]})]}),t("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e(re,{size:14})," ",u.confirmedCount||0," booked"]})]},u.id))})]})]}):e(ze,{})})]})});function wn({icon:i,label:n,value:s}){return t("div",{className:"bg-white rounded-xl border border-zinc-200 p-4",children:[e("div",{className:"flex items-center gap-2 mb-2",children:e("div",{className:"p-1.5 bg-purple-100 rounded-lg text-purple-600",children:e(i,{size:16})})}),e("div",{className:"text-2xl font-bold text-zinc-900",children:s}),e("div",{className:"text-xs text-zinc-500",children:n})]})}const ic=Object.freeze(Object.defineProperty({__proto__:null,default:sc,loader:nc},Symbol.toStringTag,{value:"Module"})),ac=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const l=new URL(i.request.url).searchParams.get("week")||new Date().toISOString().split("T")[0],d=await n();try{return{classes:await z(`/instructor/schedule?weekStart=${l}`,d,{headers:{"X-Tenant-Slug":a}})||[],weekStart:l}}catch(o){return console.error("Schedule Loader Error",o),{classes:[],weekStart:l}}},rc=j(function(){const{classes:n,weekStart:s}=D(),a=lt(()=>{const o=new Date(s),c=o.getDay(),u=new Date(o);return u.setDate(o.getDate()-(c===0?6:c-1)),Array.from({length:7},(p,g)=>{const m=new Date(u);return m.setDate(u.getDate()+g),{date:m.toISOString().split("T")[0],day:m}})},[s]),r=o=>n.filter(c=>new Date(c.startTime).toISOString().split("T")[0]===o).sort((c,u)=>new Date(c.startTime).getTime()-new Date(u.startTime).getTime()),l=o=>new Date(o).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),d=o=>{const c=new Date(a[0].date);c.setDate(c.getDate()+o*7),window.location.search=`?week=${c.toISOString().split("T")[0]}`};return t("div",{className:"p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("h1",{className:"text-xl font-bold text-zinc-900 flex items-center gap-2",children:[e(K,{size:20})," My Schedule"]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>d(-1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e(ki,{size:18})}),t("span",{className:"text-sm font-medium",children:[a[0].day.toLocaleDateString(void 0,{month:"short",day:"numeric"})," - ",a[6].day.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),e("button",{onClick:()=>d(1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e(tn,{size:18})})]})]}),e("div",{className:"grid grid-cols-7 gap-4",children:a.map(({date:o,day:c})=>{const u=r(o),p=o===new Date().toISOString().split("T")[0];return t("div",{className:`bg-white rounded-xl border ${p?"border-purple-300 ring-2 ring-purple-100":"border-zinc-200"} overflow-hidden`,children:[t("div",{className:`p-3 text-center ${p?"bg-purple-50":"bg-zinc-50"} border-b border-zinc-100`,children:[e("div",{className:"text-xs font-medium text-zinc-500",children:c.toLocaleDateString(void 0,{weekday:"short"})}),e("div",{className:`text-lg font-bold ${p?"text-purple-700":"text-zinc-900"}`,children:c.getDate()})]}),e("div",{className:"p-2 space-y-2 min-h-[200px]",children:u.length===0?e("p",{className:"text-xs text-zinc-400 text-center py-4",children:"No classes"}):u.map(g=>t("div",{className:"p-2 bg-purple-50 rounded-lg text-xs",children:[e("div",{className:"font-medium text-purple-800 truncate",children:g.title}),t("div",{className:"text-purple-600 flex items-center gap-1 mt-1",children:[e(he,{size:10})," ",l(g.startTime)]}),t("div",{className:"flex items-center gap-2 mt-1 text-zinc-500",children:[t("span",{className:"flex items-center gap-1",children:[e(re,{size:10})," ",g.confirmedCount||0]}),g.videoProvider==="livekit"&&e(vt,{size:10})]})]},g.id))})]},o)})})]})}),lc=Object.freeze(Object.defineProperty({__proto__:null,default:rc,loader:ac},Symbol.toStringTag,{value:"Module"})),dc=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const l=new URL(i.request.url).searchParams.get("month")||new Date().toISOString().slice(0,7),d=await n();try{return{payroll:await z(`/instructor/payroll?month=${l}`,d,{headers:{"X-Tenant-Slug":a}})||{},month:l}}catch(o){return console.error("Payroll Loader Error",o),{payroll:{},month:l}}},oc=j(function(){const{payroll:n,month:s}=D(),[a,r]=Kt(),l=o=>`$${((o||0)/100).toFixed(2)}`,d=o=>{const c=new Date(s+"-01");c.setMonth(c.getMonth()+o),r({month:c.toISOString().slice(0,7)})};return t("div",{className:"p-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("h1",{className:"text-xl font-bold text-zinc-900 flex items-center gap-2",children:[e(ve,{size:20})," Earnings"]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>d(-1),className:"px-3 py-1 text-sm hover:bg-zinc-100 rounded",children:"â† Prev"}),e("span",{className:"text-sm font-medium",children:new Date(s+"-01").toLocaleDateString(void 0,{month:"long",year:"numeric"})}),e("button",{onClick:()=>d(1),className:"px-3 py-1 text-sm hover:bg-zinc-100 rounded",children:"Next â†’"})]})]}),t("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[t("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-5 text-white",children:[e("div",{className:"text-sm opacity-80 mb-1",children:"Total Earnings"}),e("div",{className:"text-3xl font-bold",children:l(n.total||0)})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200 p-5",children:[e("div",{className:"text-xs text-zinc-500 mb-1",children:"Classes Taught"}),e("div",{className:"text-2xl font-bold text-zinc-900",children:n.classCount||0})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200 p-5",children:[e("div",{className:"text-xs text-zinc-500 mb-1",children:"Avg per Class"}),e("div",{className:"text-2xl font-bold text-zinc-900",children:l(n.classCount?Math.round((n.total||0)/n.classCount):0)})]})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200",children:[t("div",{className:"p-4 border-b border-zinc-100 flex items-center justify-between",children:[e("h2",{className:"font-bold text-zinc-900",children:"Breakdown"}),t("button",{className:"text-sm text-zinc-500 hover:text-zinc-700 flex items-center gap-1",children:[e(_t,{size:14})," Export"]})]}),!n.items||n.items.length===0?e("p",{className:"p-6 text-center text-zinc-500",children:"No earnings this month"}):t("table",{className:"w-full text-sm",children:[e("thead",{className:"bg-zinc-50",children:t("tr",{children:[e("th",{className:"text-left p-3 font-medium text-zinc-500",children:"Date"}),e("th",{className:"text-left p-3 font-medium text-zinc-500",children:"Class"}),e("th",{className:"text-right p-3 font-medium text-zinc-500",children:"Rate"}),e("th",{className:"text-right p-3 font-medium text-zinc-500",children:"Amount"})]})}),e("tbody",{className:"divide-y divide-zinc-100",children:n.items.map((o,c)=>t("tr",{className:"hover:bg-zinc-50",children:[e("td",{className:"p-3",children:new Date(o.date).toLocaleDateString()}),e("td",{className:"p-3",children:o.classTitle}),e("td",{className:"p-3 text-right text-zinc-500",children:o.rate}),e("td",{className:"p-3 text-right font-medium",children:l(o.amount)})]},c))})]})]})]})}),cc=Object.freeze(Object.defineProperty({__proto__:null,default:oc,loader:dc},Symbol.toStringTag,{value:"Module"})),uc=async i=>{const{getToken:n,userId:s}=await sn(i);return s?{}:null},mc=async i=>{const{getToken:n}=await sn(i),s=await n(),{slug:a}=i.params,r=await i.request.formData(),l=r.get("step");try{if(l==="template"){const d=r.get("template");return await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({branding:{template:d},onboardingStep:2}),headers:{"X-Tenant-Slug":a}}),{step:2}}if(l==="branding"){const d=r.get("primaryColor");return await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({branding:{primaryColor:d,logoUrl:r.get("logoUrl")},onboardingStep:3}),headers:{"X-Tenant-Slug":a}}),{step:3}}if(l==="location"){const d=r.get("name"),o=r.get("address");return await z("/locations",s,{method:"POST",body:JSON.stringify({name:d,address:o}),headers:{"X-Tenant-Slug":a}}),await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({onboardingStep:4}),headers:{"X-Tenant-Slug":a}}),{step:4}}if(l==="schedule"){const d=r.get("title"),o=r.get("startTime"),c=r.get("price");return await z("/classes",s,{method:"POST",body:JSON.stringify({title:d,startTime:o,durationMinutes:60,capacity:10,price:c?parseInt(c.toString()):2e3}),headers:{"X-Tenant-Slug":a}}),await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({onboardingStep:5}),headers:{"X-Tenant-Slug":a}}),{step:5}}if(l==="team"){if(r.get("intent")==="skip")return await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({onboardingStep:6}),headers:{"X-Tenant-Slug":a}}),{step:6};const o=r.getAll("emails[]").filter(c=>c.toString().trim()!=="");return o.length>0&&await Promise.all(o.map(c=>z("/members",s,{method:"POST",body:JSON.stringify({email:c,firstName:"",lastName:"",role:"instructor"}),headers:{"X-Tenant-Slug":a}}).catch(u=>console.error(`Failed to invite ${c}`,u)))),await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({onboardingStep:6}),headers:{"X-Tenant-Slug":a}}),{step:6}}return l==="import_complete"?(await z("/tenant/settings",s,{method:"PATCH",body:JSON.stringify({onboardingStep:7}),headers:{"X-Tenant-Slug":a}}),{step:7}):null}catch(d){return{error:d.message||"Action failed"}}},hc=H(()=>import("./OnboardingPage-BQe4FVp3.js")),pc=j(function(){return e(V,{fallback:e("div",{className:"min-h-screen flex items-center justify-center",children:"Loading Onboarding..."}),children:e(W,{fallback:e("div",{className:"min-h-screen flex items-center justify-center",children:"Loading Onboarding..."}),children:e(hc,{})})})}),gc=Object.freeze(Object.defineProperty({__proto__:null,action:mc,default:pc,loader:uc},Symbol.toStringTag,{value:"Module"}));function bc(i=!1){const[n,s]=f(!1);return E(()=>{if(typeof window<"u"){const a=localStorage.getItem("admin_show_financials")==="true";s(!a)}},[]),{isPrivacyMode:n}}const fc=j(function(){const{tenant:n}=U(),[s,a]=f("30d"),r=bn(),[l,d]=f(!1);E(()=>{d(!!localStorage.getItem("impersonation_token"))},[]);const{isPrivacyMode:o}=bc(),c=l&&o,u=[{name:"Financials",path:"financials"},{name:"Attendance",path:"attendance"},{name:"Projections",path:"projections"},{name:"Reports",path:"reports"}];return t("div",{className:"p-8 max-w-7xl mx-auto",children:[t("div",{className:"flex justify-between items-center mb-8",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Analytics"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Performance metrics and insights."})]}),t("div",{className:"flex gap-4 items-center",children:[e("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg",children:["30d","90d","1y"].map(p=>e("button",{onClick:()=>a(p),className:`px-3 py-1 text-sm font-medium rounded-md transition-all ${s===p?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:p},p))}),e(L,{to:"custom",className:"px-4 py-2 text-sm font-medium rounded-md bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 shadow hover:opacity-90 transition-opacity",children:"Custom Query"})]})]}),e("div",{className:"border-b border-zinc-200 dark:border-zinc-800 mb-6",children:e("nav",{className:"-mb-px flex space-x-8",children:u.map(p=>{const g=r.pathname.includes(p.path);return e(L,{to:p.path,className:`
                                    whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm transition-colors
                                    ${g?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300 dark:text-zinc-400 dark:hover:text-zinc-300"}
                                `,children:p.name},p.name)})})}),e(ze,{context:{tenant:n,dateRange:s,shouldBlur:c}})]})}),xc=Object.freeze(Object.defineProperty({__proto__:null,default:fc},Symbol.toStringTag,{value:"Module"}));function vc(){const[i,n]=f("growth"),[s,a]=f([]),[r,l]=f(""),[d,o]=f(!1);E(()=>{const x=localStorage.getItem("studio_projection_scenarios");if(x)try{a(JSON.parse(x))}catch(w){console.error("Failed to load scenarios",w)}},[]);const[c,u]=f({studentCount:50,avgMembershipPrice:120,avgDropInPrice:25,membershipSplit:60,classesPerDropIn:4.5,rent:2e3,payrollPerClass:40,classesPerMonth:60,otherExpenses:500,churnRate:5,growthRate:8,seasonalityResult:15,seasonalityEnabled:!1}),p=lt(()=>{const x=Math.round(c.studentCount*(c.membershipSplit/100)),w=c.studentCount-x,b=x*c.avgMembershipPrice,k=w*c.classesPerDropIn*c.avgDropInPrice,S=b+k,C=c.classesPerMonth*c.payrollPerClass,T=c.rent+C+c.otherExpenses,M=S-T,$=S>0?M/S*100:0;return{totalRevenue:S,totalExpenses:T,profit:M,margin:$,breakdown:{membershipRevenue:b,dropInRevenue:k}}},[c]),g=lt(()=>{const x=[],w=Math.max(c.studentCount*3,200),b=Math.ceil(w/20);for(let k=0;k<=w;k+=b){const S=Math.round(k*(c.membershipSplit/100)),C=k-S,T=S*c.avgMembershipPrice+C*c.classesPerDropIn*c.avgDropInPrice,M=c.classesPerMonth*c.payrollPerClass,$=c.rent+M+c.otherExpenses;x.push({students:k,revenue:T,expenses:$,profit:T-$})}return x},[c]),m=lt(()=>{const x=[];let w=c.studentCount;const b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k=new Date().getMonth();for(let S=0;S<24;S++){const C=(k+S)%12,T=b[C];let M=1;c.seasonalityEnabled&&(C===5||C===6||C===7)&&(M=1-c.seasonalityResult/100);const $=w*(c.churnRate/100),B=c.growthRate*M;w=Math.max(0,w-$+B);const A=Math.round(w*(c.membershipSplit/100)),R=w-A,I=A*c.avgMembershipPrice+R*c.classesPerDropIn*c.avgDropInPrice,F=c.classesPerMonth*c.payrollPerClass,le=c.rent+F+c.otherExpenses;x.push({month:S===0?"Now":S<=11?T:`${T} '25`,students:Math.round(w),revenue:I,expenses:le,profit:I-le})}return x},[c]),h=(x,w)=>{if(typeof w=="boolean"){u(k=>({...k,[x]:w}));return}const b=typeof w=="string"?parseFloat(w)||0:w;u(k=>({...k,[x]:b}))},v=()=>{if(!r)return;const x=[...s,{name:r,data:c}];a(x),localStorage.setItem("studio_projection_scenarios",JSON.stringify(x)),l(""),o(!1)},y=x=>{u(s[x].data)},N=x=>{const w=s.filter((b,k)=>k!==x);a(w),localStorage.setItem("studio_projection_scenarios",JSON.stringify(w))};return t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in slide-in-from-bottom-4",children:[e("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-fit space-y-8",children:t("div",{children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{className:"flex items-center gap-2 text-zinc-900 dark:text-zinc-100 font-bold text-lg",children:[e(Fa,{className:"text-blue-600"}),e("h3",{children:"Simulator Inputs"})]}),t("div",{className:"flex gap-2",children:[t("div",{className:"relative group",children:[e("button",{className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500",children:e(Ra,{size:18})}),t("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-xl p-2 hidden group-hover:block z-50",children:[e("div",{className:"text-xs font-semibold text-zinc-400 px-2 py-1 mb-1",children:"LOAD SCENARIO"}),s.length===0&&e("div",{className:"px-2 py-1 text-xs text-zinc-500 italic",children:"No saved scenarios"}),s.map((x,w)=>t("div",{className:"flex items-center justify-between px-2 py-1.5 hover:bg-zinc-50 dark:hover:bg-zinc-800 rounded cursor-pointer group/item",children:[e("span",{onClick:()=>y(w),className:"text-sm truncate flex-1",children:x.name}),e(ue,{size:12,className:"text-red-400 opacity-0 group-hover/item:opacity-100 hover:text-red-600",onClick:b=>{b.stopPropagation(),N(w)}})]},w))]})]}),t("div",{className:"relative",children:[e("button",{onClick:()=>o(!d),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-blue-600",children:e(Ue,{size:18})}),d&&t("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-xl p-3 z-50",children:[e("div",{className:"text-xs font-semibold text-zinc-400 mb-2",children:"SAVE CURRENT SCENARIO"}),t("div",{className:"flex gap-2",children:[e("input",{className:"flex-1 min-w-0 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1 text-sm",placeholder:"Scenario Name...",value:r,onChange:x=>l(x.target.value)}),e("button",{onClick:v,disabled:!r,className:"bg-blue-600 text-white px-3 py-1 rounded text-xs font-bold disabled:opacity-50",children:"Save"})]})]})]})]})]}),t("div",{className:"space-y-6",children:[t("div",{className:"space-y-4",children:[t("h4",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:[e(re,{size:14})," Current Status"]}),e(it,{label:"Total Active Students",value:c.studentCount,onChange:x=>h("studentCount",x)}),e(it,{label:"Avg. Membership Price ($)",value:c.avgMembershipPrice,onChange:x=>h("avgMembershipPrice",x)}),e(it,{label:"Avg. Drop-In Price ($)",value:c.avgDropInPrice,onChange:x=>h("avgDropInPrice",x)}),t("div",{className:"space-y-1",children:[t("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex justify-between",children:[e("span",{children:"Membership Split"}),t("span",{className:"text-zinc-500",children:[c.membershipSplit,"% Members"]})]}),e("input",{type:"range",min:"0",max:"100",value:c.membershipSplit,onChange:x=>h("membershipSplit",x.target.value),className:"w-full accent-blue-600"})]})]}),t("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800 space-y-4",children:[t("h4",{className:"text-xs font-bold text-purple-500 uppercase tracking-widest flex items-center gap-2",children:[e(dt,{size:14})," Growth & Churn"]}),t("div",{className:"grid grid-cols-2 gap-4",children:[e(it,{label:"New Students / Mo",value:c.growthRate,onChange:x=>h("growthRate",x)}),e(it,{label:"Churn Rate (%)",value:c.churnRate,onChange:x=>h("churnRate",x)})]}),t("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-100 dark:border-zinc-700",children:[t("div",{className:"space-y-0.5",children:[e("label",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Seasonality"}),e("div",{className:"text-xs text-zinc-500",children:"Summer slump simulation"})]}),t("div",{className:"flex items-center gap-3",children:[c.seasonalityEnabled&&t("div",{className:"flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100",children:["-",c.seasonalityResult,"%"]}),e("button",{onClick:()=>h("seasonalityEnabled",!c.seasonalityEnabled),className:`w-10 h-6 rounded-full transition-colors relative ${c.seasonalityEnabled?"bg-blue-600":"bg-zinc-200 dark:bg-zinc-700"}`,children:e("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-transform ${c.seasonalityEnabled?"left-5":"left-1"}`})})]})]})]}),t("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800 space-y-4",children:[t("h4",{className:"text-xs font-bold text-red-400 uppercase tracking-widest flex items-center gap-2",children:[e(ve,{size:14})," Expenses (Monthly)"]}),e(it,{label:"Rent & Utilities",value:c.rent,onChange:x=>h("rent",x)}),t("div",{className:"grid grid-cols-2 gap-4",children:[e(it,{label:"Pay / Class",value:c.payrollPerClass,onChange:x=>h("payrollPerClass",x)}),e(it,{label:"Classes / Mo",value:c.classesPerMonth,onChange:x=>h("classesPerMonth",x)})]}),e(it,{label:"Other Expenses",value:c.otherExpenses,onChange:x=>h("otherExpenses",x)})]})]})]})}),t("div",{className:"lg:col-span-2 space-y-6",children:[t("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg w-fit",children:[t("button",{onClick:()=>n("growth"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all flex items-center gap-2 ${i==="growth"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:[e(K,{size:16}),"24-Month Forecast"]}),t("button",{onClick:()=>n("static"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all flex items-center gap-2 ${i==="static"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:[e(dt,{size:16}),"Profitability Curve"]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"Current Revenue"}),t("div",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:["$",p.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0}),e("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]}),t("div",{className:"text-xs text-zinc-500 mt-2 flex gap-2",children:["Margins: ",t("span",{className:p.margin>20?"text-green-600":"text-zinc-600",children:[p.margin.toFixed(1),"%"]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"12-Month Outlook"}),t("div",{className:"text-3xl font-black text-blue-600 flex items-center gap-2",children:["$",m[11].revenue.toLocaleString(void 0,{maximumFractionDigits:0}),m[11].revenue>p.totalRevenue?e(dt,{size:20}):e(Re,{size:20})]}),t("p",{className:"text-xs text-zinc-500 mt-2",children:[m[11].students," Active Students (+",m[11].students-c.studentCount,")"]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"Net Income (12mo)"}),t("div",{className:`text-3xl font-black ${m[11].profit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[m[11].profit>=0?"+":"","$",m[11].profit.toLocaleString(void 0,{maximumFractionDigits:0})]}),t("p",{className:"text-xs text-zinc-500 mt-2",children:["Projected for ",m[11].month]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[450px]",children:[e("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:i==="growth"?"24-Month Growth Forecast":"Profitability Analysis"}),e(Ht,{width:"100%",height:"100%",minHeight:300,children:i==="growth"?t(pr,{data:m,margin:{top:10,right:30,left:10,bottom:0},children:[e(Yt,{dataKey:"month",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"}}),e(It,{yAxisId:"left",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},tickFormatter:x=>`$${x/1e3}k`}),e(It,{yAxisId:"right",orientation:"right",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"}}),e(Zt,{vertical:!1,strokeDasharray:"3 3",stroke:"#E4E4E7"}),e(Lt,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(x,w)=>[w==="Students"?x:`$${Number(x).toLocaleString()}`,w]}),e(gr,{}),e(ns,{yAxisId:"left",type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#3B82F6",strokeWidth:3,dot:!1}),e(ns,{yAxisId:"left",type:"monotone",dataKey:"expenses",name:"Expenses",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),e(ns,{yAxisId:"right",type:"monotone",dataKey:"students",name:"Students",stroke:"#8B5CF6",strokeWidth:2,dot:!1})]}):t(gn,{data:g,margin:{top:10,right:30,left:10,bottom:0},children:[t("defs",{children:[t("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.1}),e("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),t("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),e("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),e(Yt,{dataKey:"students",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},label:{value:"Number of Students",position:"insideBottomRight",offset:-10,fontSize:12,fill:"#71717A"}}),e(It,{tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},tickFormatter:x=>`$${x/1e3}k`}),e(Zt,{vertical:!1,strokeDasharray:"3 3",stroke:"#E4E4E7"}),e(Lt,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:x=>[`$${Number(x).toLocaleString()}`,""]}),e(gt,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2}),e(gt,{type:"monotone",dataKey:"expenses",name:"Expenses",stroke:"#EF4444",fill:"none",strokeWidth:2,strokeDasharray:"5 5"}),e(gt,{type:"monotone",dataKey:"profit",name:"Net Profit",stroke:"#10B981",fillOpacity:1,fill:"url(#colorProfit)",strokeWidth:2}),e(Ti,{x:c.studentCount,stroke:"#F59E0B",strokeDasharray:"3 3",label:{position:"top",value:"Current",fill:"#F59E0B",fontSize:12}})]})})]})]})]})}function it({label:i,value:n,onChange:s}){return t("div",{className:"space-y-1",children:[e("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:i}),e("input",{type:"number",value:n,onChange:a=>s(a.target.value),className:"w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]})}const yc=j(function(){return e("div",{className:"animate-in fade-in duration-500",children:e(vc,{})})}),zc=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"}));function Bi(i,n,s){const a=new Date,r=new Date;if(i==="30d")r.setDate(a.getDate()-30);else if(i==="90d")r.setDate(a.getDate()-90);else if(i==="1y")r.setFullYear(a.getFullYear()-1);else return{startDate:n,endDate:s};return{startDate:r.toISOString(),endDate:a.toISOString()}}function Nc(i,n,s,a){const{getToken:r}=J(),{startDate:l,endDate:d}=lt(()=>Bi(n,s,a),[n,s,a]);return be({queryKey:["analytics","revenue",i,n,l,d],queryFn:async()=>{const o=await r();return await z(`/reports/revenue?startDate=${l}&endDate=${d}`,o,{headers:{"X-Tenant-Slug":i}})},enabled:!!i,retry:1})}function kc(i,n,s,a){const{getToken:r}=J(),{startDate:l,endDate:d}=lt(()=>Bi(n,s,a),[n,s,a]);return be({queryKey:["analytics","attendance",i,n,l,d],queryFn:async()=>{const o=await r();return await z(`/reports/attendance?startDate=${l}&endDate=${d}`,o,{headers:{"X-Tenant-Slug":i}})},enabled:!!i,retry:1})}function wc(i){const{getToken:n}=J();return be({queryKey:["analytics","retention",i],queryFn:async()=>{const s=await n();return await z("/analytics/retention",s,{headers:{"X-Tenant-Slug":i}})},enabled:!!i})}function Cc(i){const{getToken:n}=J();return be({queryKey:["analytics","ltv",i],queryFn:async()=>{const s=await n();return await z("/analytics/ltv",s,{headers:{"X-Tenant-Slug":i}})},enabled:!!i})}function Sc(i){const{getToken:n}=J();return be({queryKey:["analytics","utilization",i],queryFn:async()=>{const s=await n();return await z("/analytics/utilization",s,{headers:{"X-Tenant-Slug":i}})},enabled:!!i})}function jc(i){const{getToken:n}=J();return be({queryKey:["reports","schedules",i],queryFn:async()=>{const s=await n();return await z("/reports/schedules",s,{headers:{"X-Tenant-Slug":i}})},enabled:!!i})}function Mc(i){const{getToken:n}=J(),s=en(),a=Us({mutationFn:async l=>{const d=await n();return z("/reports/schedules",d,{method:"POST",body:JSON.stringify(l),headers:{"X-Tenant-Slug":i}})},onSuccess:()=>{s.invalidateQueries({queryKey:["reports","schedules",i]})}}),r=Us({mutationFn:async l=>{const d=await n();return z(`/reports/schedules/${l}`,d,{method:"DELETE",headers:{"X-Tenant-Slug":i}})},onSuccess:()=>{s.invalidateQueries({queryKey:["reports","schedules",i]})}});return{createMutation:a,deleteMutation:r}}function _c(i){const{getToken:n}=J();return be({queryKey:["reports","custom",i],queryFn:async()=>{const s=await n();return(await z("/reports/custom",s,{headers:{"X-Tenant-Slug":i}})).reports||[]},enabled:!!i})}function mn({title:i,value:n,subtext:s,icon:a}){return t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("div",{className:"flex justify-between items-start mb-4",children:e("div",{className:"p-2 bg-zinc-50 dark:bg-zinc-800 rounded-lg text-zinc-600 dark:text-zinc-400",children:a})}),t("div",{children:[e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:i}),e("div",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:n}),s&&e("p",{className:"text-xs text-zinc-500 mt-2",children:s})]})]})}function Ac({data:i}){return!i||i.length===0||i.every(n=>n.value===0)?e("div",{className:"h-full flex flex-col items-center justify-center text-zinc-400",children:e("div",{className:"mb-2",children:"No attendance data for this period"})}):e(Ht,{width:"100%",height:"100%",children:t(gn,{data:i,children:[e(Zt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),e(Yt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12},dy:10,tickFormatter:n=>{const s=new Date(n);return`${s.getMonth()+1}/${s.getDate()}`}}),e(It,{axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12}}),e(Lt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:n=>[n,"Attendees"],labelFormatter:n=>new Date(n).toLocaleDateString()}),e(gt,{type:"monotone",dataKey:"value",stroke:"#10B981",fill:"#ECFDF5",strokeWidth:2})]})})}const $c=j(function(){const{tenant:n,dateRange:s}=U(),{data:a,isLoading:r,isError:l,error:d}=kc(n.slug,s);return r?t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-pulse",children:[e("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl"}),e("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl"}),e("div",{className:"col-span-1 md:col-span-2 h-80 bg-zinc-100 dark:bg-zinc-800 rounded-xl"})]}):l?t("div",{className:"text-red-500",children:["Error loading attendance: ",d?.message]}):t("div",{className:"animate-in fade-in duration-500",children:[e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:a&&t(G,{children:[e(mn,{title:"Total Bookings",value:a.totalBookings,icon:e(re,{size:20,className:"text-blue-600"})}),e(mn,{title:"Check-in Rate",value:`${(a.totalCheckins/(a.totalBookings||1)*100).toFixed(0)}%`,subtext:`${a.totalCheckins} Checked-in`,icon:e(yt,{size:20,className:"text-green-600"})})]})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-2 bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative min-h-[400px]",children:[e("h3",{className:"text-lg font-semibold mb-6",children:"Attendance Trends"}),e("div",{className:"h-80 w-full",children:e(Ac,{data:a?.chartData})})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative",children:[e("h3",{className:"text-lg font-semibold mb-6",children:"Top Classes"}),a?.topClasses&&t("div",{className:"space-y-4",children:[a.topClasses.map((o,c)=>t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm font-medium truncate max-w-[180px]",children:o.title}),t("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-24 h-2 bg-zinc-100 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(o.attendees/50*100,100)}%`}})}),e("span",{className:"text-xs text-zinc-500 w-6 text-right",children:o.attendees})]})]},c)),a.topClasses.length===0&&e("div",{className:"text-center text-sm text-zinc-500 py-8",children:"No data available"})]})]})]})]})}),Tc=Object.freeze(Object.defineProperty({__proto__:null,default:$c},Symbol.toStringTag,{value:"Module"}));function Pc({data:i}){return!i||i.length===0||i.every(n=>n.value===0)?t("div",{className:"h-full flex flex-col items-center justify-center text-zinc-400",children:[e("div",{className:"mb-2",children:"No revenue data for this period"}),e("div",{className:"text-xs text-zinc-500",children:"Record sales in POS to see trends"})]}):e(Ht,{width:"100%",height:"100%",children:t(gn,{data:i,children:[e(Zt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),e(Yt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12},dy:10,tickFormatter:n=>{const s=new Date(n);return`${s.getMonth()+1}/${s.getDate()}`}}),e(It,{axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12}}),e(Lt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:n=>[`$${Number(n).toFixed(2)}`,"Revenue"],labelFormatter:n=>new Date(n).toLocaleDateString()}),e(gt,{type:"monotone",dataKey:"value",stroke:"#3B82F6",fill:"#EFF6FF",strokeWidth:2})]})})}function $n({revealed:i,children:n,blurAmount:s="blur-sm",className:a="",placeholder:r}){return i?e(G,{children:n}):t("span",{className:`relative inline-block select-none ${a}`,title:"Hidden for privacy",children:[e("span",{className:`filter ${s} opacity-50`,children:n}),r&&e("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-mono text-zinc-500 font-bold bg-white/50 dark:bg-black/50 backdrop-blur-md rounded",children:r})]})}const Ic=j(function(){const{tenant:n,dateRange:s,shouldBlur:a}=U(),{getToken:r}=J(),[l,d]=f(!1),{data:o,isLoading:c,isError:u,error:p}=Nc(n.slug,s),g=async()=>{d(!0);const m=new Date,h=new Date;s==="30d"&&h.setDate(m.getDate()-30),s==="90d"&&h.setDate(m.getDate()-90),s==="1y"&&h.setFullYear(m.getFullYear()-1);try{const v=await r(),N=await(await fetch(`${window.ENV.VITE_API_URL||""}/reports/accounting/journal?format=csv&startDate=${h.toISOString()}&endDate=${m.toISOString()}`,{headers:{Authorization:`Bearer ${v}`,"X-Tenant-Slug":n.slug}})).blob(),x=window.URL.createObjectURL(N),w=document.createElement("a");w.href=x,w.download=`journal_${h.toISOString().split("T")[0]}_${m.toISOString().split("T")[0]}.csv`,w.click(),window.URL.revokeObjectURL(x)}catch(v){console.error("Failed to export journal",v),_.error("Export failed")}finally{d(!1)}};return c?t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[e("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl"}),e("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl"}),e("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 rounded-xl"}),e("div",{className:"col-span-1 md:col-span-3 h-80 bg-zinc-100 dark:bg-zinc-800 rounded-xl"})]}):u?t("div",{className:"text-red-500",children:["Error loading financials: ",p?.message]}):t("div",{className:"animate-in fade-in duration-500",children:[e("div",{className:"flex justify-end mb-6",children:t("button",{onClick:g,disabled:l,className:"px-4 py-2 text-sm font-medium rounded-md bg-emerald-600 text-white shadow hover:bg-emerald-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[e(_t,{size:16}),l?"Exporting...":"Export Journal (CSV)"]})}),e("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:o&&t(G,{children:[e(mn,{title:"Gross Volume (Period)",value:e($n,{revealed:!a,placeholder:"***",children:`$${(o.grossVolume/100).toFixed(2)}`}),icon:e(ve,{size:20,className:"text-green-600"})}),e(mn,{title:"Monthly Recurring Revenue",value:e($n,{revealed:!a,placeholder:"***",children:`$${(o.mrr/100).toFixed(2)}`}),subtext:"Active subscriptions snapshot",icon:e(dt,{size:20,className:"text-blue-600"})}),e(mn,{title:"Sales Breakdown",value:e($n,{revealed:!a,placeholder:"***",children:`${(o.breakdown.retail/(o.grossVolume||1)*100).toFixed(0)}% Retail`}),subtext:`$${(o.breakdown.packs/100).toFixed(0)} Packs`,icon:e(ve,{size:20,className:"text-purple-600"})})]})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-2 bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative min-h-[400px]",children:[e("h3",{className:"text-lg font-semibold mb-6",children:"Revenue Trends"}),a&&e("div",{className:"absolute inset-0 z-10 backdrop-blur-md bg-white/30 dark:bg-black/30 flex items-center justify-center rounded-xl",children:e("div",{className:"bg-white dark:bg-zinc-800 px-4 py-2 rounded-lg shadow lg text-sm font-medium",children:"Privacy Mode Enabled"})}),e("div",{className:"h-80 w-full",children:e(Pc,{data:o?.chartData})})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative",children:[e("h3",{className:"text-lg font-semibold mb-6",children:"Top Selling"}),a&&e("div",{className:"absolute inset-0 z-10 backdrop-blur-md bg-white/30 dark:bg-black/30 flex items-center justify-center rounded-xl"}),o?.breakdown&&t("div",{className:"space-y-4",children:[Object.entries(o.breakdown).map(([m,h])=>{const v=Number(h);if(v===0)return null;const y=o.grossVolume||1,N=v/y*100;return t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm font-medium capitalize text-zinc-700 dark:text-zinc-300",children:m}),t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-24 h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-emerald-500",style:{width:`${N}%`}})}),t("span",{className:"text-xs font-mono text-zinc-500 w-16 text-right",children:["$",(v/100).toFixed(2)]})]})]},m)}),Object.values(o.breakdown).every(m=>m===0)&&e("div",{className:"text-center text-sm text-zinc-500 py-8",children:"No specific sales data recorded."})]})]})]})]})}),Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Ic},Symbol.toStringTag,{value:"Module"})),Dc=j(function(){const{tenant:n}=U(),{data:s=[]}=jc(n.slug),{data:a=[]}=_c(n.slug),{createMutation:r,deleteMutation:l}=Mc(n.slug),[d,o]=f(!1),[c,u]=f({reportType:"revenue",frequency:"weekly",recipients:"",customReportId:""});return t("div",{className:"animate-in fade-in duration-500 max-w-4xl",children:[t("div",{className:"mb-8",children:[e("h2",{className:"text-xl font-semibold mb-2",children:"Scheduled Reports"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"Automated email summaries delivered to your inbox."})]}),e("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 border border-blue-100 dark:border-blue-900/20 p-6 rounded-xl shadow-sm",children:t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-5 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[t("h4",{className:"font-semibold mb-4 text-sm flex items-center gap-2",children:[e(ee,{size:16})," New Schedule"]}),t("form",{onSubmit:async g=>{g.preventDefault(),o(!0);try{const m=c.recipients.split(",").map(h=>h.trim()).filter(h=>!!h);await r.mutateAsync({...c,recipients:m}),_.success("Schedule created"),u({reportType:"revenue",frequency:"weekly",recipients:"",customReportId:""})}catch(m){_.error(m.message)}finally{o(!1)}},className:"space-y-4",children:[t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Report Type"}),t("select",{value:c.reportType,onChange:g=>u({...c,reportType:g.target.value}),className:"w-full text-sm border rounded-md p-2 dark:bg-zinc-800",children:[e("option",{value:"revenue",children:"Revenue"}),e("option",{value:"attendance",children:"Attendance"}),e("option",{value:"journal",children:"Journal"}),e("option",{value:"custom",children:"Custom Report"})]})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Frequency"}),t("select",{value:c.frequency,onChange:g=>u({...c,frequency:g.target.value}),className:"w-full text-sm border rounded-md p-2 dark:bg-zinc-800",children:[e("option",{value:"daily",children:"Daily"}),e("option",{value:"weekly",children:"Weekly"}),e("option",{value:"monthly",children:"Monthly"})]})]})]}),c.reportType==="custom"&&t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Select Saved Report"}),t("select",{value:c.customReportId,onChange:g=>u({...c,customReportId:g.target.value}),className:"w-full text-sm border rounded-md p-2 dark:bg-zinc-800",required:!0,children:[e("option",{value:"",children:"-- Choose a report --"}),a.map(g=>e("option",{value:g.id,children:g.name},g.id))]})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Recipients (comma separated)"}),e("input",{placeholder:"owner@example.com, manager@example.com",value:c.recipients,onChange:g=>u({...c,recipients:g.target.value}),className:"w-full text-sm border rounded-md p-2 dark:bg-zinc-800",required:!0})]}),e("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white rounded-md py-2 text-sm font-bold hover:bg-blue-700 disabled:opacity-50 transition-colors",children:d?"Creating...":"Create Email Schedule"})]})]}),t("div",{className:"space-y-3",children:[t("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[e(K,{size:16})," Active Schedules"]}),s.length===0?e("div",{className:"text-zinc-400 text-sm italic py-8 text-center border-2 border-dashed rounded-lg",children:"No schedules configured."}):s.map(g=>t("div",{className:"bg-white dark:bg-zinc-900 p-3 rounded-lg border border-zinc-100 dark:border-zinc-800 flex justify-between items-center shadow-sm",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 bg-zinc-50 dark:bg-zinc-800 rounded-full flex items-center justify-center text-blue-600",children:e(Ye,{size:18})}),t("div",{children:[t("div",{className:"text-sm font-bold capitalize",children:[g.reportType," ",g.frequency]}),e("div",{className:"text-xs text-zinc-500 truncate max-w-[200px]",children:g.recipients.join(", ")})]})]}),e("button",{onClick:()=>{l.mutate(g.id),_.success("Schedule deleted")},className:"p-2 text-zinc-400 hover:text-red-500 transition-colors",children:e(ue,{size:16})})]},g.id))]})]})})]})}),Oc=Object.freeze(Object.defineProperty({__proto__:null,default:Dc},Symbol.toStringTag,{value:"Module"})),Ec=({request:i})=>Y(i.url.replace(/\/analytics\/?$/,"/analytics/financials")),Bc=j(function(){return null}),Fc=Object.freeze(Object.defineProperty({__proto__:null,default:Bc,loader:Ec},Symbol.toStringTag,{value:"Module"})),Rc=H(()=>import("./CustomAnalyticsPage-DMuy_I2E.js")),Xc=j(function(){return e(V,{fallback:e("div",{className:"h-96 flex items-center justify-center",children:"Loading Analytics..."}),children:e(W,{fallback:e("div",{className:"h-96 flex items-center justify-center",children:"Loading Analytics..."}),children:e(Rc,{})})})}),Uc=Object.freeze(Object.defineProperty({__proto__:null,default:Xc},Symbol.toStringTag,{value:"Module"})),Wc=async({params:i})=>Y(`/studio/${i.slug}`),Hc=j(function(){return null}),Qc=Object.freeze(Object.defineProperty({__proto__:null,default:Hc,loader:Wc},Symbol.toStringTag,{value:"Module"})),Jc=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;let r=[];try{r=(await z("/commerce/coupons",s,{headers:{"X-Tenant-Slug":a}})).coupons||[]}catch(l){console.error("Failed to load coupons",l)}return{coupons:r,token:s,slug:a}},Vc=j(function(){const{coupons:n,token:s,slug:a}=D(),[r,l]=f(n),[d,o]=f(!1),[c,u]=f({code:"",type:"percent",value:"10"}),[p,g]=f(!1),[m,h]=f(null);async function v(x){x.preventDefault(),g(!0);const w=parseInt(c.value),b=c.type==="amount"?w*100:w;try{const k=await z("/commerce/coupons",s,{method:"POST",headers:{"X-Tenant-Slug":a},body:JSON.stringify({...c,value:b})});if(k.error)alert(k.error);else{const S=await z("/commerce/coupons",s,{headers:{"X-Tenant-Slug":a}});l(S.coupons||[]),o(!1),u({code:"",type:"percent",value:"10"})}}catch(k){console.error(k)}finally{g(!1)}}async function y(x){h(x)}async function N(){if(m)try{await z(`/commerce/coupons/${m}`,s,{method:"DELETE",headers:{"X-Tenant-Slug":a}}),l(x=>x.filter(w=>w.id!==m)),h(null)}catch(x){console.error(x)}}return t("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900",children:"Discounts"}),e("p",{className:"text-zinc-500",children:"Manage promo codes and coupons."})]}),t("button",{onClick:()=>o(!d),className:"bg-zinc-900 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 hover:bg-zinc-800",children:[e(ee,{className:"h-4 w-4"})," Create Code"]})]}),d&&t("div",{className:"bg-zinc-50 border border-zinc-200 rounded-lg p-6 mb-8",children:[e("h3",{className:"font-semibold text-zinc-900 mb-4",children:"New Coupon"}),t("form",{onSubmit:v,className:"flex flex-col md:flex-row gap-4 items-end",children:[t("div",{className:"flex-1",children:[e("label",{className:"block text-xs font-medium text-zinc-500 uppercase mb-1",children:"Code"}),e("input",{type:"text",className:"w-full border border-zinc-300 rounded px-3 py-2 uppercase font-mono",placeholder:"SUMMER20",value:c.code,onChange:x=>u({...c,code:x.target.value.toUpperCase()}),required:!0})]}),t("div",{className:"w-32",children:[e("label",{className:"block text-xs font-medium text-zinc-500 uppercase mb-1",children:"Type"}),t("select",{className:"w-full border border-zinc-300 rounded px-3 py-2",value:c.type,onChange:x=>u({...c,type:x.target.value}),children:[e("option",{value:"percent",children:"% Percent"}),e("option",{value:"amount",children:"$ Amount"})]})]}),t("div",{className:"w-32",children:[e("label",{className:"block text-xs font-medium text-zinc-500 uppercase mb-1",children:"Value"}),e("input",{type:"number",className:"w-full border border-zinc-300 rounded px-3 py-2",placeholder:"10",value:c.value,onChange:x=>u({...c,value:x.target.value}),required:!0})]}),e("button",{type:"submit",disabled:p,className:"bg-blue-600 text-white px-6 py-2 rounded font-medium hover:bg-blue-700 disabled:opacity-50",children:p?"Saving...":"Save Coupon"})]})]}),e("div",{className:"bg-white rounded-lg border border-zinc-200 shadow-sm overflow-hidden",children:t("table",{className:"min-w-full divide-y divide-zinc-200",children:[e("thead",{className:"bg-zinc-50",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Code"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Discount"}),e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Status"}),e("th",{className:"px-6 py-3 text-right text-xs font-medium text-zinc-500 uppercase",children:"Actions"})]})}),t("tbody",{className:"divide-y divide-zinc-200",children:[r.map(x=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex items-center gap-2",children:[e(Ge,{className:"h-4 w-4 text-zinc-400"}),e("span",{className:"font-mono font-medium text-zinc-900",children:x.code})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-zinc-600",children:x.type==="percent"?`${x.value}% Off`:`$${(x.value/100).toFixed(2)} Off`}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("span",{className:`px-2 py-1 text-xs rounded-full ${x.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:x.active?"Active":"Inactive"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:x.active&&e("button",{onClick:()=>y(x.id),className:"text-red-600 hover:text-red-800",children:e(Xa,{className:"h-4 w-4"})})})]},x.id)),r.length===0&&e("tr",{children:e("td",{colSpan:4,className:"px-6 py-8 text-center text-zinc-500 italic",children:"No coupons created yet."})})]})]})}),e(Yn,{open:!!m,onOpenChange:x=>!x&&h(null),onConfirm:N,title:"Deactivate Coupon",description:"Are you sure? This will deactivate the code and prevent future uses.",confirmText:"Deactivate",variant:"destructive"})]})}),qc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc,loader:Jc},Symbol.toStringTag,{value:"Module"})),Gc=j(function(){const{slug:n}=ae(),{token:s,features:a}=U()||{},[r,l]=f("status"),[d,o]=f(!0),[c,u]=f([]),[p,g]=f([]),[m,h]=f([]),[v,y]=f("");E(()=>{N()},[n,r]);const N=async()=>{o(!0);try{if(r==="status"){const k=await z("/inventory",s);u(k||[])}else if(r==="suppliers"){const k=await z("/inventory/suppliers",s);g(k||[])}else if(r==="orders"){const k=await z("/inventory/purchase-orders",s);h(k||[])}}catch(k){console.error(k),_.error("Failed to load inventory data")}finally{o(!1)}},x=async k=>{if(confirm("Mark this purchase order as received? Stocks will be updated automatically."))try{await z(`/inventory/purchase-orders/${k}/receive`,s,{method:"POST"}),_.success("Purchase order received and inventory updated"),N()}catch{_.error("Failed to receive purchase order")}},w=async(k,S,C)=>{try{await z("/inventory/adjust",s,{method:"POST",body:JSON.stringify({productId:k,delta:S,reason:C})}),_.success("Stock adjusted"),N()}catch{_.error("Failed to adjust stock")}},b=c.filter(k=>k.name.toLowerCase().includes(v.toLowerCase())||k.sku?.toLowerCase().includes(v.toLowerCase()));return t("div",{className:"flex-1 flex flex-col min-h-0 bg-zinc-50 dark:bg-zinc-950",children:[t("div",{className:"bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 px-8 py-6",children:[t("div",{className:"flex items-center justify-between mb-6",children:[t("div",{children:[t("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-3",children:[e(et,{className:"text-blue-600"})," Inventory & Suppliers"]}),e("p",{className:"text-sm text-zinc-500 mt-1",children:"Track stock levels, manage vendors, and handle purchase orders."})]}),e("div",{className:"flex items-center gap-3",children:t("button",{className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-xl text-sm font-semibold hover:opacity-90 shadow-lg shadow-zinc-200 dark:shadow-none transition-all",children:[e(ee,{size:18})," New Purchase Order"]})})]}),e("div",{className:"flex items-center gap-6",children:[{id:"status",label:"Stock Status",icon:e(et,{size:16})},{id:"suppliers",label:"Suppliers",icon:e(ts,{size:16})},{id:"orders",label:"Purchase Orders",icon:e(tt,{size:16})}].map(k=>t("button",{onClick:()=>l(k.id),className:`flex items-center gap-2 pb-3 px-1 text-sm font-medium transition-all relative ${r===k.id?"text-blue-600":"text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-300"}`,children:[k.icon," ",k.label,r===k.id&&e("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 rounded-full"})]},k.id))})]}),e("div",{className:"flex-1 overflow-y-auto p-8",children:d?t("div",{className:"h-64 flex flex-col items-center justify-center text-zinc-400 gap-4",children:[e(Xe,{className:"animate-spin",size:32}),e("p",{className:"animate-pulse",children:"Fetching inventory sync..."})]}):t("div",{className:"max-w-7xl mx-auto space-y-6",children:[t("div",{className:"flex flex-wrap items-center justify-between gap-4 bg-white dark:bg-zinc-900 p-4 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[t("div",{className:"relative flex-1 min-w-[300px]",children:[e(De,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),e("input",{className:"w-full pl-10 pr-4 py-2.5 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Search products, SKUs, or suppliers...",value:v,onChange:k=>y(k.target.value)})]}),t("div",{className:"flex items-center gap-3",children:[e("button",{className:"p-2.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl text-zinc-500 transition-colors",children:e(Ua,{size:18})}),e("div",{className:"h-8 w-[1px] bg-zinc-200 dark:bg-zinc-800"}),t("div",{className:"flex items-center gap-4 px-2",children:[t("div",{className:"text-center",children:[e("div",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider",children:"Out of Stock"}),e("div",{className:"text-lg font-bold text-red-500",children:c.filter(k=>k.stockQuantity<=0).length})]}),t("div",{className:"text-center",children:[e("div",{className:"text-xs text-zinc-500 uppercase font-bold tracking-wider",children:"Low Stock"}),e("div",{className:"text-lg font-bold text-amber-500",children:c.filter(k=>k.stockQuantity>0&&k.stockQuantity<=k.lowStockThreshold).length})]})]})]})]}),r==="status"&&e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(k=>t("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl border border-zinc-200 dark:border-zinc-800 overflow-hidden group hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[t("div",{className:"p-6",children:[t("div",{className:"flex justify-between items-start mb-4",children:[e("div",{className:"p-3 bg-zinc-100 dark:bg-zinc-800 rounded-2xl text-zinc-600 dark:text-zinc-300 group-hover:bg-blue-600 group-hover:text-white transition-colors duration-500",children:e(et,{size:24})}),t("div",{className:"flex flex-col items-end",children:[e("span",{className:`text-2xl font-black ${k.stockQuantity<=k.lowStockThreshold?"text-red-500":"text-zinc-900 dark:text-zinc-100"}`,children:k.stockQuantity}),e("span",{className:"text-[10px] text-zinc-500 font-bold uppercase tracking-tighter",children:"In Stock"})]})]}),e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-1",children:k.name}),t("div",{className:"flex items-center gap-2 mb-4",children:[e("span",{className:"text-xs font-mono text-zinc-400 bg-zinc-50 dark:bg-zinc-800 px-2 py-0.5 rounded border border-zinc-100 dark:border-zinc-700",children:k.sku||"NO SKU"}),k.stockQuantity<=k.lowStockThreshold&&t("span",{className:"flex items-center gap-1 text-[10px] text-red-600 font-bold uppercase bg-red-50 dark:bg-red-900/20 px-2 py-0.5 rounded-full border border-red-100 dark:border-red-800",children:[e(nn,{size:10})," Low Stock"]})]}),t("div",{className:"space-y-3 py-4 border-t border-zinc-100 dark:border-zinc-800",children:[t("div",{className:"flex justify-between text-sm",children:[e("span",{className:"text-zinc-500",children:"Supplier"}),e("span",{className:"text-zinc-900 dark:text-zinc-100 font-medium",children:k.supplier?.name||"Unassigned"})]}),t("div",{className:"flex justify-between text-sm",children:[e("span",{className:"text-zinc-500",children:"Threshold"}),t("span",{className:"text-zinc-900 dark:text-zinc-100 font-medium",children:[k.lowStockThreshold||5," units"]})]})]})]}),t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900/50 border-t border-zinc-100 dark:border-zinc-800 flex gap-2",children:[t("button",{onClick:()=>w(k.id,1,"correction"),className:"flex-1 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl text-xs font-bold hover:bg-zinc-50 flex items-center justify-center gap-2",children:[e(ee,{size:14})," Quick Add"]}),e("button",{className:"p-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:text-blue-600 transition-colors",children:e(Mt,{size:16})})]})]},k.id))}),r==="suppliers"&&e("div",{className:"bg-white dark:bg-zinc-900 rounded-3xl border border-zinc-200 dark:border-zinc-800 overflow-hidden shadow-sm",children:t("table",{className:"w-full text-left border-collapse",children:[e("thead",{children:t("tr",{className:"bg-zinc-50 dark:bg-zinc-950 border-b border-zinc-200 dark:border-zinc-800",children:[e("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Vendor Info"}),e("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Contact"}),e("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:p.map(k=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-xl",children:e(ps,{size:20})}),t("div",{children:[e("div",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:k.name}),e("div",{className:"text-xs text-zinc-500 truncate w-40",children:k.notes||"No description"})]})]})}),e("td",{className:"px-6 py-4",children:t("div",{className:"space-y-1",children:[t("div",{className:"text-sm flex items-center gap-2 text-zinc-600 dark:text-zinc-400",children:[e(Ye,{size:14})," ",k.email||"â€”"]}),t("div",{className:"text-sm flex items-center gap-2 text-zinc-600 dark:text-zinc-400",children:[e(wi,{size:14})," ",k.phone||"â€”"]})]})}),e("td",{className:"px-6 py-4",children:t("span",{className:"px-3 py-1 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 text-xs font-bold rounded-full border border-green-100 dark:border-green-800 flex items-center gap-1 w-fit",children:[e(yt,{size:12})," Active"]})}),e("td",{className:"px-6 py-4 text-right",children:t("div",{className:"flex justify-end gap-2",children:[e("button",{className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500 hover:text-blue-600",children:e(Wa,{size:16})}),e("button",{className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500 hover:text-zinc-900",children:e(Ci,{size:16})})]})})]},k.id))})]})}),r==="orders"&&t("div",{className:"space-y-4",children:[m.map(k=>t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-zinc-200 dark:border-zinc-800 flex items-center justify-between shadow-sm hover:shadow-md transition-shadow",children:[t("div",{className:"flex items-center gap-6",children:[e("div",{className:"p-4 bg-zinc-100 dark:bg-zinc-800 rounded-2xl text-zinc-600",children:e(tt,{size:24})}),t("div",{children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:k.poNumber}),e("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded-full border ${k.status==="received"?"bg-green-50 text-green-700 border-green-100":k.status==="sent"?"bg-blue-50 text-blue-700 border-blue-100":"bg-zinc-100 text-zinc-600 border-zinc-200"}`,children:k.status})]}),t("div",{className:"flex items-center gap-4 text-xs text-zinc-500 font-medium",children:[t("span",{className:"flex items-center gap-1",children:[e(ts,{size:12})," ",k.supplierName]}),t("span",{className:"flex items-center gap-1",children:[e(he,{size:12})," ",new Date(k.createdAt).toLocaleDateString()]})]})]})]}),t("div",{className:"flex items-center gap-8",children:[t("div",{className:"text-right",children:[e("div",{className:"text-xs text-zinc-400 font-bold uppercase tracking-tight",children:"Total Value"}),t("div",{className:"text-lg font-black text-zinc-900 dark:text-zinc-100",children:["$",(k.totalAmount/100).toFixed(2)]})]}),t("div",{className:"flex items-center gap-2",children:[t("button",{className:"px-4 py-2 border border-zinc-200 dark:border-zinc-700 rounded-xl text-xs font-bold hover:bg-zinc-50 transition-colors flex items-center gap-2",children:[e(zt,{size:16})," Details"]}),k.status!=="received"&&t("button",{onClick:()=>x(k.id),className:"px-4 py-2 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 shadow-lg shadow-blue-100 transition-all flex items-center gap-2",children:[e(yt,{size:16})," Receive Order"]})]})]})]},k.id)),m.length===0&&t("div",{className:"h-48 bg-zinc-100/50 dark:bg-zinc-900/50 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-3xl flex flex-col items-center justify-center text-zinc-400 gap-2",children:[e(ts,{size:32}),e("p",{className:"text-sm font-medium",children:"No purchase orders found."})]})]})]})})]})}),Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Gc},Symbol.toStringTag,{value:"Module"})),Zc=H(()=>import("./MarketingPage-vf0SBUnG.js")),Kc=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;let r=[],l=[];try{const[d,o]=await Promise.all([z("/marketing",s,{headers:{"X-Tenant-Slug":a}}),z("/marketing/automations",s,{headers:{"X-Tenant-Slug":a}})]);r=d.campaigns||[],l=o.automations||[]}catch(d){console.error("Failed to load marketing data",d)}return{campaigns:r,automations:l,slug:a}},eu=j(function(){const{campaigns:n,automations:s,slug:a}=D();return e(V,{fallback:e("div",{className:"p-8 animate-pulse bg-zinc-50 dark:bg-zinc-900 rounded-xl h-96"}),children:e(Zc,{campaigns:n,automations:s,slug:a})})}),tu=Object.freeze(Object.defineProperty({__proto__:null,default:eu,loader:Kc},Symbol.toStringTag,{value:"Module"})),nu=H(()=>import("./MarketingAutomationsPage-BjgNuEJH.js")),su=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n(),l=a||"";try{const[d,o]=await Promise.all([z("/marketing/automations",r,{headers:{"X-Tenant-Slug":l}}),z("/marketing/automations/stats",r,{headers:{"X-Tenant-Slug":l}}).catch(()=>null)]);return{automations:d?.automations||[],stats:o}}catch(d){return console.error("Automations Loader Error",d),{automations:[],stats:null}}},iu=async i=>{const{getToken:n}=await P(i),{slug:s}=i.params,a=await n(),r=await i.request.formData(),l=r.get("intent"),d=s||"";if(l==="create"||l==="update"){const o={};for(const[c,u]of r.entries())if(c!=="intent")try{o[c]=JSON.parse(u)}catch{o[c]=u}if(l==="update"){const c=o.id;await z(`/marketing/automations/${c}`,a,{method:"PATCH",headers:{"X-Tenant-Slug":d},body:JSON.stringify(o)})}else await z("/marketing/automations",a,{method:"POST",headers:{"X-Tenant-Slug":d},body:JSON.stringify(o)});return{success:!0}}if(l==="toggle"){const o=r.get("id");return await z(`/marketing/automations/${o}/toggle`,a,{method:"POST",headers:{"X-Tenant-Slug":d}}),{success:!0}}if(l==="delete"){const o=r.get("id");return await z(`/marketing/automations/${o}`,a,{method:"DELETE",headers:{"X-Tenant-Slug":d}}),{success:!0}}return{success:!0}},au=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(nu,{})})})}),ru=Object.freeze(Object.defineProperty({__proto__:null,action:iu,default:au,loader:su},Symbol.toStringTag,{value:"Module"})),lu=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n();try{const[l,d,o]=await Promise.all([z("/referrals/my-code",r,{headers:{"X-Tenant-Slug":a}}),z("/referrals",r,{headers:{"X-Tenant-Slug":a}}),z("/referrals/stats",r,{headers:{"X-Tenant-Slug":a}}).catch(()=>null)]);return{myCode:l?.code||"",referrals:d||[],stats:o,slug:a}}catch(l){return console.error("Referrals Loader Error",l),{myCode:"",referrals:[],stats:null,slug:a}}},du=async i=>{const{getToken:n}=await P(i),{slug:s}=i.params,a=await n(),r=await i.request.formData();if(r.get("intent")==="reward"){const d=r.get("id");await z(`/referrals/${d}/reward`,a,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify({rewardType:r.get("rewardType"),rewardValue:parseInt(r.get("rewardValue")||"0")})})}return{success:!0}},ou=j(function(){const{myCode:n,referrals:s,stats:a,slug:r}=D();On();const[l,d]=f(!1),o=`${typeof window<"u"?window.location.origin:""}/studio/${r}/join?ref=${n}`,c=async()=>{await navigator.clipboard.writeText(o),d(!0),setTimeout(()=>d(!1),2e3)},u=async()=>{navigator.share?await navigator.share({title:"Join me at the studio!",text:"Use my referral code to get started",url:o}):c()},p=m=>new Date(m*1e3).toLocaleDateString(),g={pending:"bg-yellow-100 text-yellow-700",completed:"bg-blue-100 text-blue-700",rewarded:"bg-green-100 text-green-700",expired:"bg-zinc-100 text-zinc-500"};return t("div",{className:"flex flex-col h-full bg-zinc-50",children:[e("header",{className:"bg-white border-b border-zinc-200 px-6 py-4",children:t("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg text-white",children:e(gs,{size:20})}),t("div",{children:[e("h1",{className:"text-xl font-bold text-zinc-900",children:"Referral Program"}),e("p",{className:"text-sm text-zinc-500",children:"Invite friends and earn rewards"})]})]})}),t("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[t("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl p-6 text-white",children:[t("div",{className:"flex items-center gap-2 mb-4",children:[e(pn,{size:20}),e("span",{className:"font-medium",children:"Your Referral Code"})]}),t("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 flex items-center justify-between mb-4",children:[e("span",{className:"text-2xl font-mono font-bold tracking-wider",children:n}),e("button",{onClick:c,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition",children:l?e(pe,{size:20}):e(Bt,{size:20})})]}),t("div",{className:"flex gap-3",children:[t("button",{onClick:c,className:"flex-1 py-2.5 bg-white text-purple-600 rounded-lg font-medium hover:bg-purple-50 flex items-center justify-center gap-2",children:[e(Bt,{size:16})," Copy Link"]}),t("button",{onClick:u,className:"flex-1 py-2.5 bg-white/20 rounded-lg font-medium hover:bg-white/30 flex items-center justify-center gap-2",children:[e(Js,{size:16})," Share"]})]})]}),a&&t("div",{className:"grid grid-cols-4 gap-4",children:[t("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e("div",{className:"text-2xl font-bold text-zinc-900",children:a.total}),e("div",{className:"text-xs text-zinc-500",children:"Total Referrals"})]}),t("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e("div",{className:"text-2xl font-bold text-yellow-600",children:a.pending}),e("div",{className:"text-xs text-zinc-500",children:"Pending"})]}),t("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e("div",{className:"text-2xl font-bold text-blue-600",children:a.completed}),e("div",{className:"text-xs text-zinc-500",children:"Completed"})]}),t("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e("div",{className:"text-2xl font-bold text-green-600",children:a.rewarded}),e("div",{className:"text-xs text-zinc-500",children:"Rewarded"})]})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200",children:[e("div",{className:"p-4 border-b border-zinc-100",children:t("h2",{className:"font-bold text-zinc-900 flex items-center gap-2",children:[e(re,{size:18})," Your Referrals"]})}),s.length===0?t("div",{className:"p-8 text-center text-zinc-500",children:[e(gs,{size:32,className:"mx-auto mb-2 opacity-50"}),e("p",{children:"No referrals yet. Share your code to get started!"})]}):e("div",{className:"divide-y divide-zinc-100",children:s.map(m=>t("div",{className:"p-4 flex items-center justify-between",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-10 h-10 bg-zinc-100 rounded-full flex items-center justify-center",children:e(re,{size:18,className:"text-zinc-500"})}),t("div",{children:[e("div",{className:"font-medium text-zinc-900",children:m.referrer?.user?.profile?.firstName||m.referrer?.user?.email||"Member"}),t("div",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e(he,{size:12})," ",p(m.createdAt)]})]})]}),t("div",{className:"flex items-center gap-3",children:[e("span",{className:`px-2 py-1 rounded text-xs font-medium ${g[m.status]}`,children:m.status}),m.status==="completed"&&a&&t(Le,{method:"post",className:"flex items-center gap-2",children:[e("input",{type:"hidden",name:"intent",value:"reward"}),e("input",{type:"hidden",name:"id",value:m.id}),t("select",{name:"rewardType",className:"text-xs border rounded px-2 py-1",children:[e("option",{value:"credit",children:"Credit"}),e("option",{value:"discount",children:"Discount"}),e("option",{value:"free_class",children:"Free Class"})]}),e("input",{type:"number",name:"rewardValue",defaultValue:"500",className:"w-16 text-xs border rounded px-2 py-1"}),e("button",{type:"submit",className:"p-1 bg-green-100 text-green-700 rounded hover:bg-green-200",children:e(ut,{size:14})})]})]})]},m.id))})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e("h2",{className:"font-bold text-zinc-900 mb-4",children:"How It Works"}),e("div",{className:"space-y-4",children:[{icon:Js,title:"Share Your Code",desc:"Send your unique referral code to friends"},{icon:re,title:"Friend Signs Up",desc:"They join using your referral link"},{icon:ut,title:"Both Get Rewarded",desc:"You and your friend receive special perks"}].map((m,h)=>t("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600",children:e(m.icon,{size:18})}),t("div",{className:"flex-1",children:[e("div",{className:"font-medium text-zinc-900",children:m.title}),e("div",{className:"text-sm text-zinc-500",children:m.desc})]}),h<2&&e(tn,{size:16,className:"text-zinc-300"})]},h))})]})]})]})}),cu=Object.freeze(Object.defineProperty({__proto__:null,action:du,default:ou,loader:lu},Symbol.toStringTag,{value:"Module"})),uu=j(function(){const{tenant:n}=U(),s=Ft(),[a,r]=f(n.branding?.primaryColor||"#4f46e5"),[l,d]=f(n.branding?.hidePoweredBy||!1),[o,c]=f(!1),[u,p]=f(null),[g,m]=f(null),h=n.tier?.toLowerCase()==="scale",v=async y=>{y.preventDefault(),c(!0),p(null),m(null);try{const N=await window.Clerk?.session?.getToken();await z("/tenant/settings",N,{method:"PATCH",headers:{"X-Tenant-Slug":n.slug},body:JSON.stringify({branding:{primaryColor:a,hidePoweredBy:l}})}),m("Branding saved successfully."),s.revalidate()}catch(N){p(N.message||"Failed to save branding.")}finally{c(!1)}};return t("div",{className:"max-w-4xl pb-10",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Customize Branding"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Manage your studio's look and feel."}),t("p",{className:"text-xs text-zinc-400 mt-1",children:["Current tier: ",e("strong",{className:"font-mono",children:n.tier||"unknown"})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm",children:[u&&e("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded mb-4 text-sm",children:u}),g&&e("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-3 rounded mb-4 text-sm",children:g}),t("form",{onSubmit:v,className:"flex flex-col gap-6",children:[t("div",{children:[e("label",{className:"block text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wide mb-2",children:"Primary Brand Color"}),t("div",{className:"flex gap-3",children:[e("input",{type:"color",value:/^#[0-9A-F]{6}$/i.test(a)?a:"#000000",onChange:y=>r(y.target.value),className:"w-10 h-10 p-0 border-none rounded cursor-pointer bg-transparent"}),e("input",{type:"text",value:a,onChange:y=>r(y.target.value),className:"flex-1 bg-transparent text-zinc-900 dark:text-zinc-100 border border-zinc-200 dark:border-zinc-700 rounded-md px-3 py-2 text-sm font-mono focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),t("div",{className:"border-t border-zinc-200 dark:border-zinc-800 pt-6",children:[e("h2",{className:"text-base font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Platform Branding"}),t("div",{className:"flex items-start gap-3",children:[e("div",{className:"flex items-center h-5",children:e("input",{id:"hidePoweredBy",type:"checkbox",checked:l,onChange:y=>d(y.target.checked),disabled:!h,className:"h-4 w-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"})}),t("div",{className:"text-sm",children:[e("label",{htmlFor:"hidePoweredBy",className:`font-medium ${h?"text-zinc-900 dark:text-zinc-100":"text-zinc-400 dark:text-zinc-500"}`,children:'Hide "Powered by StudioPlatform" badge'}),t("p",{className:"text-zinc-500 dark:text-zinc-400",children:["Remove the branding badge from your site footer.",!h&&e("span",{className:"text-pink-600 dark:text-pink-400 ml-1 font-medium",children:"Requires Scale tier."})]})]})]})]}),e("div",{className:"pt-2",children:e("button",{type:"submit",disabled:o,className:`bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-5 py-2.5 rounded-md font-medium text-sm hover:opacity-90 transition-opacity ${o?"opacity-70 cursor-not-allowed":""}`,children:o?"Saving...":"Save Changes"})})]})]})]})}),mu=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"}));function hu({token:i,slug:n,onApply:s,onRemove:a}){const[r,l]=f(""),[d,o]=f(!1),[c,u]=f(null),[p,g]=f(null),m=async()=>{if(r){o(!0),u(null);try{const v=await z(`/gift-cards/validate/${r}`,i,{headers:{"X-Tenant-Slug":n}});v.error?u(v.error):(g(v),s(v))}catch{u("Invalid or expired gift card code.")}finally{o(!1)}}},h=()=>{g(null),l(""),a()};return p?t("div",{className:"flex items-center justify-between p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-800 rounded-xl animate-in zoom-in-95",children:[t("div",{className:"flex items-center gap-3 text-emerald-700 dark:text-emerald-400",children:[e(yt,{size:18}),t("div",{className:"flex flex-col",children:[e("span",{className:"text-sm font-bold",children:p.code}),t("span",{className:"text-[10px] uppercase font-bold tracking-tighter opacity-70",children:["Applied: $",(p.balance/100).toFixed(2)," Credit"]})]})]}),e("button",{onClick:h,className:"p-1 hover:bg-emerald-100 dark:hover:bg-emerald-800 rounded text-emerald-600",children:e(xt,{size:18})})]}):t("div",{className:"space-y-2",children:[t("div",{className:"relative",children:[e(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),e("input",{type:"text",placeholder:"Wanna use a Gift Card?",value:r,onChange:v=>l(v.target.value.toUpperCase()),className:"w-full pl-10 pr-24 py-3 bg-zinc-100 dark:bg-zinc-800 border-none rounded-2xl text-sm focus:ring-2 focus:ring-blue-500 outline-none uppercase font-mono tracking-wider"}),e("button",{onClick:m,disabled:d||!r,className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-1.5 bg-zinc-900 dark:bg-zinc-100 dark:text-zinc-900 text-white text-xs font-bold rounded-xl disabled:opacity-50",children:d?e(oe,{size:14,className:"animate-spin"}):"APPLY"})]}),c&&t("p",{className:"text-[10px] text-red-500 font-bold uppercase tracking-tight ml-4 flex items-center gap-1",children:[e(xt,{size:10})," ",c]})]})}const pu=vr(void 0),gu=async i=>{const{getToken:n}=await sn(i),s=await n(),a=new URL(i.request.url),r=a.searchParams.get("packId"),l=a.searchParams.get("planId"),d=a.searchParams.get("giftCardAmount"),o=a.searchParams.get("recipientEmail"),c=a.searchParams.get("recipientName"),u=a.searchParams.get("senderName"),p=a.searchParams.get("message");return{token:s,packId:r,planId:l,giftCardAmount:d,recipientEmail:o,recipientName:c,senderName:u,message:p,slug:i.params.slug}},bu=j(function(){const{token:n,packId:s,planId:a,giftCardAmount:r,recipientEmail:l,recipientName:d,senderName:o,message:c,slug:u}=D(),[p,g]=f(null),[m,h]=f(null),v=Ne(),[y,N]=f(""),[x,w]=f(null),[b,k]=f(!1),[S,C]=f("summary"),[T,M]=f(null);E(()=>{if(!s&&!r&&!a||!n)return;const A=sessionStorage.getItem("pending_coupon");A?(N(A),$(A)):$()},[s,r,a,n,u]);const $=(A,R)=>{k(!0);const I={packId:s,planId:a,couponCode:A,giftCardAmount:r,recipientEmail:l,recipientName:d,senderName:o,message:c};R&&(I.giftCardCode=R),z("/commerce/checkout/session",n,{method:"POST",headers:{"X-Tenant-Slug":u},body:JSON.stringify(I)}).then(F=>{F.error?h(F.error):F.complete&&F.returnUrl?window.location.href=F.returnUrl:(g(F.clientSecret),h(null))}).catch(F=>{h(F.message||"Failed to initialize checkout.")}).finally(()=>k(!1))},B=async()=>{y&&$(y)};return m?t("div",{className:"max-w-md mx-auto py-12 text-center",children:[e("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg mb-4",children:m}),e("button",{onClick:()=>v(-1),className:"text-blue-600 hover:underline",children:"Go Back"})]}):p?t("div",{className:"max-w-3xl mx-auto py-8 px-4",children:[t("button",{onClick:()=>v(-1),className:"flex items-center text-sm text-zinc-500 hover:text-zinc-900 mb-6",children:[e($e,{className:"h-4 w-4 mr-1"}),"Back"]}),e("div",{className:"mb-6 space-y-4",children:t("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm space-y-4",children:[e("h3",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest pl-1",children:"Apply Promotion"}),t("div",{className:"flex gap-2",children:[e("input",{type:"text",placeholder:"Promo Code",className:"flex-1 border-none bg-zinc-100 rounded-xl px-4 py-3 text-sm uppercase font-mono outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:A=>N(A.target.value.toUpperCase())}),e("button",{onClick:B,disabled:b||!y,className:"bg-zinc-900 text-white px-6 py-2 rounded-xl text-sm font-bold hover:bg-zinc-800 disabled:opacity-50 transition-all",children:"Apply"})]}),e("div",{className:"pt-2 border-t border-zinc-50",children:e(hu,{token:n,slug:u,onApply:A=>$(y,A.code),onRemove:()=>$(y)})})]})}),e("div",{id:"checkout",className:"bg-white p-6 rounded-lg shadow-sm border border-zinc-200",children:e(yr,{stripe:pu,options:{clientSecret:p},children:e(zr,{})})})]}):e("div",{className:"flex justify-center items-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}),fu=Object.freeze(Object.defineProperty({__proto__:null,default:bu,loader:gu},Symbol.toStringTag,{value:"Module"})),xu=async i=>{const{getToken:n}=await P(i),s=await n(),r=new URL(i.request.url).searchParams.get("session_id");let l=!1;try{l=(await z("/waivers/status",s,{headers:{"X-Tenant-Slug":i.params.slug}})).needsSignature}catch(d){console.error("Failed to check waiver status",d)}return{sessionId:r,slug:i.params.slug,needsWaiver:l}},vu=j(function(){const{sessionId:n,slug:s,needsWaiver:a}=D();return t("div",{className:"max-w-md mx-auto py-16 px-4 text-center",children:[t("div",{className:"bg-green-50 text-green-800 p-8 rounded-2xl mb-8 border border-green-100",children:[e("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl",children:"âœ“"}),e("h1",{className:"text-2xl font-bold mb-2",children:"Payment Successful!"}),e("p",{className:"text-green-700 mb-4",children:"Thank you for your purchase. Your credits have been added to your account."}),n&&t("p",{className:"text-xs text-green-600/60 font-mono break-all",children:["Reference: ",n]})]}),t("div",{className:"flex flex-col gap-3",children:[a&&t(L,{to:`/studio/${s}/waivers`,className:"w-full py-4 bg-amber-500 text-white rounded-lg font-bold hover:bg-amber-600 transition-all shadow-lg animate-bounce flex items-center justify-center gap-2",children:[e("span",{children:"âœï¸"})," Sign Your Waiver"]}),e(L,{to:`/studio/${s}`,className:"w-full py-3 bg-zinc-900 text-white rounded-lg font-medium hover:bg-zinc-800 transition-colors",children:"Return to Studio"}),e(L,{to:`/studio/${s}/profile`,className:"w-full py-3 bg-white text-zinc-900 border border-zinc-200 rounded-lg font-medium hover:bg-zinc-50 transition-colors",children:"View My Profile & Credits"})]})]})}),yu=Object.freeze(Object.defineProperty({__proto__:null,default:vu,loader:xu},Symbol.toStringTag,{value:"Module"})),zu=H(()=>import("./FinancesPage-ULgabzef.js")),Nu=j(function(){return e(V,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Finances..."}),children:e(W,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Finances..."}),children:e(zu,{})})})}),ku=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),wu={Flame:Pn,Calendar:K,Clock:he,Trophy:mt,TrendingUp:dt,Award:ut,Dumbbell:Wn,Heart:Ss},Cu=j(function(){const{slug:n}=ae(),{tenant:s,features:a}=U()||{},[r,l]=f([]),[d,o]=f(!0);E(()=>{c()},[n]);const c=async()=>{try{const x=await window.Clerk?.session?.getToken(),w=await z("/tenant/progress/my-stats",x,{headers:{"X-Tenant-Slug":n||""}});l(w)}catch(x){console.error("Failed to load progress stats",x)}finally{o(!1)}};if(!a?.has("progress_tracking"))return t("div",{className:"max-w-3xl mx-auto p-8 text-center",children:[e(mt,{className:"h-16 w-16 text-zinc-300 mx-auto mb-4"}),e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Progress Tracking"}),e("p",{className:"text-zinc-500 mb-6",children:"This feature is not enabled for this studio."}),e(L,{to:`/studio/${n}`,className:"text-blue-600 hover:underline",children:"â† Back to Dashboard"})]});if(d)return e("div",{className:"flex items-center justify-center p-16",children:e(oe,{className:"h-8 w-8 animate-spin text-blue-600"})});const u=r.filter(x=>x.category==="mindfulness"),p=r.filter(x=>x.category==="strength"),g=r.filter(x=>x.category==="cardio"),m=r.filter(x=>x.category==="custom"),h=x=>x?wu[x]||mt:mt,v=x=>{switch(x){case"mindfulness":return"from-purple-500 to-indigo-600";case"strength":return"from-orange-500 to-red-600";case"cardio":return"from-green-500 to-emerald-600";default:return"from-blue-500 to-cyan-600"}},y=({stat:x})=>{const w=h(x.icon);return t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[t("div",{className:"flex items-center gap-3 mb-3",children:[e("div",{className:`p-2 rounded-lg bg-gradient-to-br ${v(x.category)} text-white`,children:e(w,{className:"h-5 w-5"})}),t("div",{children:[e("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:x.name}),e("p",{className:"text-xs text-zinc-500 capitalize",children:x.category})]})]}),t("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:[x.value.toLocaleString(),e("span",{className:"text-base font-normal text-zinc-500 ml-1",children:x.unit})]})]})},N=({title:x,stats:w,color:b})=>w.length===0?null:t("div",{className:"mb-8",children:[e("h2",{className:`text-lg font-semibold mb-4 bg-gradient-to-r ${b} bg-clip-text text-transparent`,children:x}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(k=>e(y,{stat:k},k.metricId))})]});return t("div",{className:"max-w-5xl pb-10",children:[t("div",{className:"mb-8",children:[t("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(mt,{className:"h-7 w-7 text-amber-500"}),"My Progress"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Track your journey and achievements"})]}),r.length===0?t("div",{className:"text-center py-16 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-zinc-200 dark:border-zinc-800",children:[e(K,{className:"h-12 w-12 text-zinc-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold text-zinc-700 dark:text-zinc-300 mb-2",children:"No Progress Yet"}),e("p",{className:"text-zinc-500 mb-4",children:"Start attending classes to see your progress here!"}),t(L,{to:`/studio/${n}/schedule`,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e(K,{className:"h-4 w-4"})," View Schedule"]})]}):t(G,{children:[e("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:r.slice(0,4).map(x=>t("div",{className:`p-4 rounded-xl bg-gradient-to-br ${v(x.category)} text-white`,children:[e("div",{className:"text-3xl font-bold",children:x.value.toLocaleString()}),e("div",{className:"text-sm opacity-90",children:x.name})]},x.metricId))}),e(N,{title:"Mindfulness & Practice",stats:u,color:"from-purple-500 to-indigo-600"}),e(N,{title:"Strength & Fitness",stats:p,color:"from-orange-500 to-red-600"}),e(N,{title:"Cardio & Endurance",stats:g,color:"from-green-500 to-emerald-600"}),e(N,{title:"Custom Metrics",stats:m,color:"from-blue-500 to-cyan-600"})]})]})}),Su=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"}));function ju({events:i,onSelectEvent:n,onSelectSlot:s,defaultDate:a=new Date}){const[r,l]=f(a),d=xs(r,{weekStartsOn:0}),o=Array.from({length:7}).map((p,g)=>un(d,g)),c=Array.from({length:14}).map((p,g)=>g+6),u=p=>{l(p==="today"?new Date:p==="prev"?un(r,-7):un(r,7))};return t("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-900 rounded-lg shadow-sm border border-zinc-200 dark:border-zinc-800",role:"region","aria-label":"Weekly Calendar",children:[t("div",{className:"flex items-center justify-between p-4 border-b border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>u("prev"),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full","aria-label":"Previous Week",children:e(ki,{size:20})}),e("button",{onClick:()=>u("next"),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full","aria-label":"Next Week",children:e(tn,{size:20})}),e("h2",{className:"text-lg font-semibold ml-2",children:ie(d,"MMMM yyyy")})]}),e("button",{onClick:()=>u("today"),className:"text-sm font-medium px-3 py-1 bg-zinc-100 dark:bg-zinc-800 rounded hover:bg-zinc-200 transition-colors",children:"Today"})]}),t("div",{className:"flex-1 overflow-auto min-h-[600px]",role:"grid",tabIndex:0,"aria-label":"Calendar Grid",children:[t("div",{className:"grid grid-cols-8 border-b border-zinc-200 dark:border-zinc-800 sticky top-0 bg-white dark:bg-zinc-900 z-10",role:"row",children:[e("div",{className:"p-2 border-r border-zinc-100 dark:border-zinc-800 w-16",role:"columnheader",children:e("span",{className:"sr-only",children:"Time"})}),o.map(p=>t("div",{className:Dt("p-2 text-center border-r border-zinc-100 dark:border-zinc-800 min-w-[120px]",at(p,new Date)&&"bg-blue-50 dark:bg-blue-900/20"),role:"columnheader","aria-label":ie(p,"EEEE, MMMM do"),children:[e("div",{className:Dt("text-xs font-medium uppercase",at(p,new Date)?"text-blue-600":"text-zinc-500"),children:ie(p,"EEE")}),e("div",{className:Dt("text-lg font-bold",at(p,new Date)?"text-blue-700":"text-zinc-900"),children:ie(p,"d")})]},p.toISOString()))]}),t("div",{className:"relative grid grid-cols-8",role:"row",children:[e("div",{className:"w-16 flex-shrink-0 border-r border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",role:"rowheader",children:c.map(p=>e("div",{className:"h-20 border-b border-zinc-100 dark:border-zinc-800 text-xs text-zinc-400 p-1 text-right pr-2 sticky left-0",children:p>12?`${p-12} PM`:`${p} AM`},p))}),o.map(p=>{const g=i.filter(m=>at(m.start,p));return t("div",{className:"relative border-r border-zinc-100 dark:border-zinc-800 min-w-[120px]",role:"gridcell",onClick:()=>s({start:p}),children:[c.map(m=>e("div",{className:"h-20 border-b border-zinc-50 dark:border-zinc-800/50 pointer-events-none"},m)),g.map(m=>{const h=m.start.getHours(),v=m.start.getMinutes();m.end.getHours(),m.end.getMinutes();const y=(h-6)*80+v/60*80,x=(m.end.getTime()-m.start.getTime())/6e4/60*80;return h<6?null:t("button",{onClick:w=>{w.stopPropagation(),n({resource:m.resource})},className:"absolute left-1 right-1 rounded px-2 py-1 text-xs text-left overflow-hidden hover:brightness-95 transition-all shadow-sm focus:ring-2 focus:ring-blue-500 z-10",style:{top:`${y}px`,height:`${Math.max(x,24)}px`,backgroundColor:"var(--calendar-event-bg, #eff6ff)",border:"1px solid var(--calendar-event-border, #bfdbfe)",color:"var(--calendar-event-text, #1e40af)"},"aria-label":`${m.title}, ${ie(m.start,"h:mm a")} to ${ie(m.end,"h:mm a")}`,children:[e("div",{className:"font-semibold truncate",children:m.title}),e("div",{className:"opacity-75",children:ie(m.start,"h:mm a")})]},m.id)})]},p.toISOString())})]})]})]})}function Mu({isOpen:i,onClose:n,onSuccess:s,locations:a=[],instructors:r=[],plans:l=[]}){const{getToken:d}=J(),{slug:o}=ae(),[c,u]=f(!1),[p,g]=f(""),[m,h]=f({name:"",description:"",instructorId:"",locationId:"",startTime:"",durationMinutes:60,capacity:20,price:0,isRecurring:!1,recurrencePattern:"weekly",recurrenceEndDate:"",createZoom:!1,minEnrollment:1,autoCancelThreshold:2,autoCancelEnabled:!1,type:"class",memberPrice:"",allowCredits:!0,payrollModel:"default",payrollValue:"",includedPlanIds:[],recurringDays:[]});return e(fn,{isOpen:i,onClose:n,title:"Schedule Class",children:t("form",{onSubmit:async y=>{y.preventDefault(),u(!0),g("");try{const N=await d();let x;m.isRecurring&&(x=m.recurrencePattern==="weekly"?"FREQ=WEEKLY":"FREQ=DAILY",m.recurrencePattern==="weekly"&&m.recurringDays.length>0&&(x+=`;BYDAY=${m.recurringDays.join(",")}`));const w=await z("/classes",N,{method:"POST",headers:{"X-Tenant-Slug":o},body:JSON.stringify({title:m.name,description:m.description,instructorId:m.instructorId||void 0,locationId:m.locationId||void 0,startTime:new Date(m.startTime).toISOString(),durationMinutes:Number(m.durationMinutes),capacity:Number(m.capacity),price:Number(m.price),createZoomMeeting:m.createZoom,isRecurring:m.isRecurring,recurrenceRule:x,recurrenceEnd:m.recurrenceEndDate?new Date(m.recurrenceEndDate).toISOString():void 0,minStudents:Number(m.minEnrollment),autoCancelThreshold:Number(m.autoCancelThreshold),autoCancelEnabled:m.autoCancelEnabled,type:m.type,memberPrice:m.memberPrice?Number(m.memberPrice):null,allowCredits:m.allowCredits,includedPlanIds:m.includedPlanIds,payrollModel:m.payrollModel==="default"?null:m.payrollModel,payrollValue:m.payrollModel!=="default"&&m.payrollValue?Number(m.payrollValue):null})});if(w.error){const b=typeof w.error=="string"?w.error:w.error.message||w.error.error||JSON.stringify(w.error);g(b)}else s(w.class||w),n(),h({name:"",description:"",instructorId:"",locationId:"",startTime:"",durationMinutes:60,capacity:20,price:0,isRecurring:!1,recurrencePattern:"weekly",recurrenceEndDate:"",createZoom:!1,minEnrollment:1,autoCancelThreshold:2,autoCancelEnabled:!1,type:"class",memberPrice:"",allowCredits:!0,payrollModel:"default",payrollValue:"",includedPlanIds:[],recurringDays:[]})}catch(N){g(N.message||"Failed to create class")}finally{u(!1)}},className:"space-y-4",children:[p&&e("div",{className:"p-3 bg-red-50 text-red-600 rounded text-sm",children:p}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{htmlFor:"className",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Class Name"}),e("input",{id:"className",type:"text",required:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:m.name,onChange:y=>h({...m,name:y.target.value}),placeholder:"e.g. Morning Vinyasa"})]}),t("div",{children:[e("label",{htmlFor:"instructor",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Instructor"}),t("select",{id:"instructor",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:m.instructorId,onChange:y=>h({...m,instructorId:y.target.value}),children:[e("option",{value:"",children:"TBA (No Instructor)"}),r.map(y=>t("option",{value:y.id,children:[y.user?.profile?.firstName," ",y.user?.profile?.lastName]},y.id))]})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Class Type"}),t("select",{className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:m.type,onChange:y=>h({...m,type:y.target.value}),children:[e("option",{value:"class",children:"Regular Class"}),e("option",{value:"workshop",children:"Workshop"}),e("option",{value:"event",children:"Event"}),e("option",{value:"appointment",children:"Appointment (Private)"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Location"}),t("select",{className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:m.locationId,onChange:y=>h({...m,locationId:y.target.value}),children:[e("option",{value:"",children:"Select Location (Optional)"}),a.map(y=>e("option",{value:y.id,children:y.name},y.id))]})]}),t("div",{children:[t("label",{className:"flex items-center gap-2 text-sm text-zinc-700 cursor-pointer",children:[e("input",{type:"checkbox",checked:m.createZoom,onChange:y=>h({...m,createZoom:y.target.checked}),className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{children:"Enable Zoom (Virtual Access)"})]}),m.createZoom&&e("p",{className:"text-xs text-zinc-500 ml-6 mt-1",children:"A Zoom meeting will be created automatically."})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{htmlFor:"startTime",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Start Time"}),e("input",{id:"startTime",type:"datetime-local",required:!0,step:"600",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:m.startTime,onChange:y=>h({...m,startTime:y.target.value})})]}),t("div",{children:[e("label",{htmlFor:"duration",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Duration (min)"}),e("input",{id:"duration",type:"number",required:!0,min:"15",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:m.durationMinutes,onChange:y=>h({...m,durationMinutes:Number(y.target.value)})})]})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{htmlFor:"capacity",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Capacity"}),e("input",{id:"capacity",type:"number",required:!0,min:"1",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:m.capacity,onChange:y=>h({...m,capacity:Number(y.target.value)})})]}),t("div",{children:[e("label",{htmlFor:"price",className:"block text-sm font-medium text-zinc-700 mb-1",children:"Price ($)"}),e("input",{id:"price",type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:m.price,onChange:y=>h({...m,price:Number(y.target.value)})})]})]}),t("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-lg space-y-4",children:[e("h3",{className:"text-sm font-semibold text-zinc-900 border-b border-zinc-200 pb-2",children:"Access & Pricing Rules"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Member Price ($)"}),e("input",{type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm",value:m.memberPrice,onChange:y=>h({...m,memberPrice:y.target.value}),placeholder:"Optional"})]}),e("div",{className:"flex items-center",children:t("label",{className:"flex items-center gap-2 text-sm text-zinc-700 cursor-pointer",children:[e("input",{type:"checkbox",checked:m.allowCredits,onChange:y=>h({...m,allowCredits:y.target.checked}),className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{children:"Accept Class Packs/Credits?"})]})})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Included Free in Plans:"}),t("div",{className:"max-h-24 overflow-y-auto border border-zinc-300 rounded bg-white p-2 space-y-1",children:[l.map(y=>t("label",{className:"flex items-center gap-2 text-xs hover:bg-zinc-50 p-1 rounded cursor-pointer",children:[e("input",{type:"checkbox",checked:m.includedPlanIds.includes(y.id),onChange:N=>{const x=N.target.checked?[...m.includedPlanIds,y.id]:m.includedPlanIds.filter(w=>w!==y.id);h({...m,includedPlanIds:x})},className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{children:y.name})]},y.id)),l.length===0&&e("span",{className:"text-zinc-400 italic",children:"No plans found."})]})]})]}),t("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-lg space-y-4",children:[e("h3",{className:"text-sm font-semibold text-zinc-900 border-b border-zinc-200 pb-2",children:"Instructor Payroll (Smart Pricing)"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Payroll Model"}),t("select",{className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm bg-white",value:m.payrollModel,onChange:y=>h({...m,payrollModel:y.target.value}),children:[e("option",{value:"default",children:"Use Instructor Default"}),e("option",{value:"flat",children:"Flat Rate Per Class"}),e("option",{value:"hourly",children:"Hourly Rate"}),e("option",{value:"percentage",children:"Percentage of Revenue"})]})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:m.payrollModel==="percentage"?"Percentage (%)":"Rate ($)"}),e("input",{type:"number",min:"0",step:m.payrollModel==="percentage"?"1":"0.01",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm",value:m.payrollValue,onChange:y=>h({...m,payrollValue:y.target.value}),disabled:m.payrollModel==="default",placeholder:m.payrollModel==="default"?"Using Default":"Enter value"})]})]})]}),t("div",{className:"bg-zinc-50 border border-zinc-200 p-4 rounded-lg space-y-4",children:[e("h3",{className:"text-sm font-semibold text-zinc-900 border-b border-zinc-200 pb-2",children:"Enrollment Policies"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Min. Enrollment to Run"}),e("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm",value:m.minEnrollment,onChange:y=>h({...m,minEnrollment:Number(y.target.value)})})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-700 mb-1",children:"Auto-Cancel Cutoff (hrs)"}),e("input",{type:"number",min:"1",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none text-sm",value:m.autoCancelThreshold,onChange:y=>h({...m,autoCancelThreshold:Number(y.target.value)}),placeholder:"Hours before start"})]})]}),t("label",{className:"flex items-center gap-2 text-sm text-zinc-700 cursor-pointer",children:[e("input",{type:"checkbox",checked:m.autoCancelEnabled,onChange:y=>h({...m,autoCancelEnabled:y.target.checked}),className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{children:"Enable automatic cancellation if minimum is not met"})]})]}),t("div",{className:"border-t border-zinc-200 pt-4 mt-2",children:[t("label",{className:"flex items-center gap-2 text-sm text-zinc-700 cursor-pointer",children:[e("input",{type:"checkbox",checked:m.isRecurring,onChange:y=>h({...m,isRecurring:y.target.checked}),className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{children:"Repeat this class"})]}),m.isRecurring&&t("div",{className:"mt-3 p-3 bg-zinc-50 rounded border border-zinc-200 space-y-3",children:[t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-1",children:"Frequency"}),t("select",{className:"w-full px-2 py-1.5 text-sm border border-zinc-300 rounded focus:ring-blue-500 outline-none",value:m.recurrencePattern,onChange:y=>h({...m,recurrencePattern:y.target.value}),children:[e("option",{value:"weekly",children:"Weekly"}),e("option",{value:"daily",children:"Daily"})]})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-1",children:"End Date"}),e("input",{type:"date",required:m.isRecurring,className:"w-full px-2 py-1.5 text-sm border border-zinc-300 rounded focus:ring-blue-500 outline-none",value:m.recurrenceEndDate,onChange:y=>h({...m,recurrenceEndDate:y.target.value}),min:m.startTime?new Date(m.startTime).toISOString().split("T")[0]:void 0})]})]}),m.recurrencePattern==="weekly"&&t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-2",children:"Repeat On"}),e("div",{className:"flex flex-wrap gap-2",children:[{label:"Mon",value:"MO"},{label:"Tue",value:"TU"},{label:"Wed",value:"WE"},{label:"Thu",value:"TH"},{label:"Fri",value:"FR"},{label:"Sat",value:"SA"},{label:"Sun",value:"SU"}].map(y=>t("label",{className:`
                                                flex items-center justify-center w-8 h-8 rounded-full text-xs font-medium cursor-pointer transition-colors border
                                                ${m.recurringDays.includes(y.value)?"bg-blue-600 text-white border-blue-600":"bg-white text-zinc-600 border-zinc-200 hover:border-blue-300"}
                                            `,children:[e("input",{type:"checkbox",className:"hidden",checked:m.recurringDays.includes(y.value),onChange:N=>{const x=N.target.checked?[...m.recurringDays,y.value]:m.recurringDays.filter(w=>w!==y.value);h({...m,recurringDays:x})}}),y.label[0]]},y.value))})]})]})]}),t("div",{className:"flex justify-end gap-3 pt-2",children:[e("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-zinc-700 bg-white border border-zinc-300 rounded-md hover:bg-zinc-50",children:"Cancel"}),e("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50",children:c?"Scheduling...":"Schedule Class"})]})]})})}function _u({isOpen:i,onClose:n,classEvent:s,onRecordingAdded:a,onRecordingDeleted:r,canAttachRecording:l=!1,currentUserMemberId:d,userRoles:o=[],tenantSlug:c,onSubRequested:u,onBookRequested:p}){const[g,m]=f(""),[h,v]=f(!1),[y,N]=f(null),[x,w]=f(null),{getToken:b}=J();if(E(()=>{m(""),N(null),v(!1)},[s?.id]),!s)return null;const k=!!s.resource?.cloudflareStreamId,S=s.resource?.recordingStatus,C=async I=>{I.preventDefault(),v(!0),N(null);try{const F=await b(),le=await z(`/classes/${s.id}/recording`,F,{method:"POST",body:JSON.stringify({url:g})});if(le.error)throw new Error(le.error);a(s.id,le.videoId),n()}catch(F){N(F.message||"Failed to add recording")}finally{v(!1)}},T=async()=>{w({type:"delete_recording"})},M=async()=>{v(!0);try{const I=await b(),F=await z(`/classes/${s.id}/recording`,I,{method:"DELETE"});if(F.error)throw new Error(F.error);r(s.id),n()}catch(I){alert(I.message||"Failed to delete recording")}finally{v(!1)}},$=async()=>{w({type:"request_sub"})},B=async()=>{v(!0);try{const I=await b(),F=await z("/substitutions/request",I,{method:"POST",headers:{"X-Tenant-Slug":c},body:JSON.stringify({classId:s.id})});if(F.error)throw new Error(F.error);alert("Substitute check requested! Staff will be notified."),u?.(s.id),n()}catch(I){alert(I.message)}finally{v(!1)}},A=async I=>{w({type:"claim_sub",subId:I})},R=async()=>{const I=x?.subId;if(I){v(!0);try{const F=await b(),le=await z(`/substitutions/${I}/claim`,F,{method:"POST",headers:{"X-Tenant-Slug":c}});if(le.error)throw new Error(le.error);alert("Shift claimed! Pending approval."),n()}catch(F){alert(F.message)}finally{v(!1)}}};return t(G,{children:[e(ot,{appear:!0,show:i,as:Ie,children:t(pt,{as:"div",className:"relative z-50",onClose:n,children:[e(ot.Child,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black/25 backdrop-blur-sm"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(ot.Child,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(pt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[t("div",{className:"flex justify-between items-start mb-4",children:[t("div",{children:[e(pt.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s.title}),e("p",{className:"text-sm text-gray-500 mt-1",children:new Date(s.start).toLocaleString([],{dateStyle:"medium",timeStyle:"short"})})]}),e("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:e(Te,{size:20})})]}),t("div",{className:"space-y-6",children:[t("div",{className:"bg-gray-50 p-3 rounded-md text-sm text-gray-700 space-y-2",children:[t("div",{className:"grid grid-cols-2 gap-2",children:[t("p",{children:[e("strong",{children:"Instructor:"})," ",s.resource?.instructor?.user?.profile?.firstName||"Unknown"]}),t("p",{children:[e("strong",{children:"Duration:"})," ",s.resource?.durationMinutes," min"]})]}),s.resource?.location&&t("p",{children:[e("strong",{children:"Location:"})," ",s.resource.location.name]}),t("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[t("div",{className:"flex justify-between items-center mb-2",children:[e("span",{className:"font-semibold text-gray-900",children:"Bookings"}),e("a",{href:`/studio/${window.location.pathname.split("/")[2]}/classes/${s.id}/roster`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View Roster â†’"})]}),t("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[t("div",{className:"bg-white p-2 rounded border border-gray-200",children:[e("span",{className:"block text-gray-500",children:"Confirmed"}),t("span",{className:"block text-lg font-bold text-gray-900",children:[s.resource?.confirmedCount||0,t("span",{className:"text-gray-400 font-normal text-xs ml-1",children:["/ ",s.resource?.capacity||"âˆž"]})]})]}),t("div",{className:"bg-white p-2 rounded border border-gray-200",children:[e("span",{className:"block text-gray-500",children:"Waitlist"}),e("span",{className:`block text-lg font-bold ${s.resource?.waitlistCount>0?"text-amber-600":"text-gray-900"}`,children:s.resource?.waitlistCount||0})]})]})]})]}),(s.resource?.zoomEnabled||s.resource?.zoomMeetingUrl)&&t("div",{className:"bg-blue-50 p-3 rounded-md text-sm border border-blue-100",children:[t("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[e(vt,{size:16}),"Virtual Class Access"]}),s.resource?.zoomMeetingUrl?t("div",{className:"space-y-2",children:[e("a",{href:s.resource.zoomMeetingUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-blue-600 text-white py-2 rounded-md font-medium hover:bg-blue-700 transition",children:"Launch Zoom Meeting"}),s.resource?.zoomMeetingId&&t("div",{className:"text-xs text-blue-800 space-y-1 mt-2 pt-2 border-t border-blue-200",children:[t("div",{className:"flex justify-between",children:[e("span",{className:"font-medium",children:"Meeting ID:"}),e("span",{className:"font-mono select-all",children:s.resource.zoomMeetingId})]}),s.resource?.zoomPassword&&t("div",{className:"flex justify-between",children:[e("span",{className:"font-medium",children:"Passcode:"}),e("span",{className:"font-mono select-all",children:s.resource.zoomPassword})]})]})]}):e("div",{className:"text-blue-700 text-xs italic",children:"Zoom link is being generated or not available."})]}),p&&!o.includes("instructor")&&e("div",{className:"border-t pt-4",children:e("button",{onClick:p,className:"w-full bg-zinc-900 text-white py-3 rounded-md font-medium text-sm hover:bg-zinc-800 shadow-sm",children:"Book This Class"})}),t("div",{className:"border-t pt-4",children:[t("div",{className:"flex justify-between items-center mb-3",children:[e("h4",{className:"text-sm font-semibold text-gray-900",children:"Shift Coverage"}),s.resource?.substitutions?.length>0&&t("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${s.resource.substitutions[0].status==="approved"?"bg-green-100 text-green-700":s.resource.substitutions[0].status==="claimed"?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:["Sub: ",s.resource.substitutions[0].status]})]}),s.resource?.substitutions?.length>0?t("div",{className:"bg-zinc-50 p-4 rounded-lg text-sm border border-zinc-200",children:[e("p",{className:"text-zinc-600",children:s.resource.substitutions[0].status==="pending"?"Seeking coverage...":s.resource.substitutions[0].status==="claimed"?"Claimed - Awaiting approval":"Substitution approved"}),s.resource.substitutions[0].status==="pending"&&d!==s.resource?.instructorId&&e("button",{onClick:()=>A(s.resource.substitutions[0].id),className:"mt-3 w-full bg-blue-600 text-white py-2 rounded-md font-medium text-xs hover:bg-blue-700",children:"Claim this shift"})]}):e(G,{children:d===s.resource?.instructorId&&e("button",{onClick:$,disabled:h,className:"w-full border border-zinc-300 py-2 rounded-md text-xs font-medium text-zinc-600 hover:bg-zinc-50 disabled:opacity-50",children:"Request Substitute"})})]}),l&&t("div",{className:"border-t pt-4",children:[t("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e(vt,{size:16}),"Class Recording"]}),k?t("div",{className:"space-y-3",children:[t("div",{className:"bg-green-50 text-green-800 p-3 rounded-md text-sm flex items-center gap-2",children:[e("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),t("span",{children:["Recording attached (",S||"processed",")"]}),e("button",{onClick:T,type:"button",disabled:h,className:"ml-auto text-green-700 hover:text-red-600 p-1",title:"Delete Recording",children:e(ue,{size:16})})]}),e("div",{className:"aspect-video bg-black rounded-lg overflow-hidden relative",children:e("iframe",{src:`https://iframe.videodelivery.net/${s.resource.cloudflareStreamId}`,className:"border-none absolute top-0 left-0 w-full h-full",allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0,title:"Class Recording"})})]}):t("form",{onSubmit:C,children:[t("div",{className:"mb-3",children:[e("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Add External Video URL (e.g. Zoom Cloud Link)"}),e("input",{type:"url",required:!0,placeholder:"https://zoom.us/rec/...",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",value:g,onChange:I=>m(I.target.value)})]}),y&&e("p",{className:"text-xs text-red-600 mb-2",children:y}),e("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:opacity-50",children:h?t("span",{className:"flex items-center gap-2",children:[e(oe,{size:16,className:"animate-spin"})," Uploading..."]}):"Attach Recording"})]})]})]})]})})})})]})}),e(Yn,{open:!!x,onOpenChange:I=>!I&&w(null),onConfirm:()=>{x?.type==="delete_recording"?M():x?.type==="request_sub"?B():x?.type==="claim_sub"&&R()},title:x?.type==="delete_recording"?"Delete Recording":x?.type==="request_sub"?"Request Substitute":"Claim Shift",description:x?.type==="delete_recording"?"Are you sure you want to delete this recording? This cannot be undone.":x?.type==="request_sub"?"Are you sure you want to request a substitute? Instructors will be notified.":"Are you sure you want to claim this shift?",confirmText:x?.type==="delete_recording"?"Delete":"Confirm",variant:x?.type==="delete_recording"?"destructive":"default"})]})}function Au({isOpen:i,onClose:n,classEvent:s,family:a,member:r}){const l=En(),[d,o]=f("in_person");if(!s)return null;const c=!s.zoomEnabled&&(s.confirmedCount||0)>=(s.capacity||1/0);return e(ot,{appear:!0,show:i,as:Ie,children:t(pt,{as:"div",className:"relative z-50",onClose:n,children:[e(ot.Child,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(ot.Child,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(pt.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white dark:bg-zinc-900 p-6 text-left align-middle shadow-xl transition-all border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex justify-between items-start mb-4",children:[t(pt.Title,{as:"h3",className:"text-lg font-bold leading-6 text-zinc-900 dark:text-zinc-100",children:["Book ",s.title]}),e("button",{onClick:n,className:"text-zinc-400 hover:text-zinc-500",children:e(Te,{size:20})})]}),t("div",{className:"space-y-4",children:[s.zoomEnabled&&t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-3 rounded-lg text-sm border border-zinc-200 dark:border-zinc-700",children:[e("p",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:"Attendance Preference"}),t("div",{className:"flex gap-4",children:[t("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"radio",name:"attendanceType",checked:d==="in_person",onChange:()=>o("in_person"),className:"text-blue-600 focus:ring-blue-500"}),e("span",{className:"text-zinc-700 dark:text-zinc-300",children:"In-Person"})]}),t("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"radio",name:"attendanceType",checked:d==="zoom",onChange:()=>o("zoom"),className:"text-blue-600 focus:ring-blue-500"}),e("span",{className:"text-zinc-700 dark:text-zinc-300",children:"Virtual (Zoom)"})]})]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 p-3 rounded-lg text-sm border border-zinc-200 dark:border-zinc-700",children:[t("div",{className:"flex justify-between items-center mb-1",children:[e("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Price"}),e("span",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:r?.memberships?.some(u=>u.status==="active"&&s.includedPlanIds?.includes(u.planId))?e("span",{className:"text-green-600",children:"Free (Included)"}):s.allowCredits&&r?.purchasedPacks?.some(u=>u.remainingCredits>0)?e("span",{className:"text-blue-600",children:"1 Credit"}):r&&s.memberPrice!==void 0&&s.memberPrice!==null?t("span",{children:["$",s.memberPrice.toFixed(2)," ",t("span",{className:"text-xs font-normal text-zinc-500 line-through",children:["$",s.price]})]}):s.price?`$${s.price.toFixed(2)}`:"Free"})]}),t("div",{className:"text-xs text-zinc-500",children:[s.type==="workshop"?"Workshop":"Class"," â€¢ ",s.durationMinutes," min"]})]}),e("div",{className:"text-sm",children:c&&d==="in_person"?e("div",{className:"text-amber-600 mb-2 font-medium",children:"Class is full. You will be added to the waitlist."}):e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-2",children:"Who is this booking for?"})}),t("div",{className:"space-y-2",children:[t(l.Form,{method:"post",action:`/studio/${window.location.pathname.split("/")[2]}/classes?index`,onSubmit:()=>n(),children:[e("input",{type:"hidden",name:"classId",value:s.id}),e("input",{type:"hidden",name:"attendanceType",value:d}),e("input",{type:"hidden",name:"intent",value:c&&d==="in_person"?"waitlist":"book"}),t("button",{type:"submit",disabled:l.state!=="idle",className:"w-full text-left px-4 py-3 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 flex justify-between items-center group transition-colors",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-full text-blue-600 dark:text-blue-400",children:e(nt,{size:16})}),e("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Myself"})]}),e("span",{className:"text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-zinc-100",children:"â†’"})]})]}),a.map(u=>t(l.Form,{method:"post",action:`/studio/${window.location.pathname.split("/")[2]}/classes?index`,onSubmit:()=>n(),children:[e("input",{type:"hidden",name:"classId",value:s.id}),e("input",{type:"hidden",name:"memberId",value:u.memberId||""}),e("input",{type:"hidden",name:"attendanceType",value:d}),e("input",{type:"hidden",name:"intent",value:c&&d==="in_person"?"waitlist":"book"}),t("button",{type:"submit",disabled:l.state!=="idle",className:"w-full text-left px-4 py-3 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800 flex justify-between items-center group transition-colors",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-2 rounded-full text-purple-600 dark:text-purple-400",children:e(re,{size:16})}),t("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:[u.firstName," ",u.lastName]})]}),e("span",{className:"text-zinc-400 group-hover:text-zinc-900 dark:group-hover:text-zinc-100",children:"â†’"})]})]},u.userId))]})]})]})})})})]})})}function $u(i,n){const{getToken:s}=J();return be({queryKey:["classes",i,n],queryFn:async()=>{const a=await s(),r=new URLSearchParams;return n?.search&&r.set("search",n.search),n?.status&&n.status!=="all"&&r.set("status",n.status),z(`/classes?${r.toString()}`,a,{headers:{"X-Tenant-Slug":i}})},enabled:!!i,staleTime:1e3*60*5})}function Tu(i){const{getToken:n,userId:s}=J();return be({queryKey:["user",s,i],queryFn:async()=>{const a=await n(),r={};i&&(r["X-Tenant-Slug"]=i);const[l,d]=await Promise.all([z("/users/me",a,{headers:r}).catch(()=>null),z("/users/me/family",a,{headers:r}).catch(()=>({family:[]}))]);return{profile:l,family:d?.family||[]}},enabled:!!s,staleTime:1e3*60*10})}function Pu(i){const{getToken:n}=J();return be({queryKey:["studio-data",i],queryFn:async()=>{const s=await n(),a={"X-Tenant-Slug":i},[r,l]=await Promise.all([z("/locations",s,{headers:a}).catch(()=>({locations:[]})),z("/members?role=instructor",s,{headers:a}).catch(()=>({members:[]}))]);return{locations:r.locations||[],instructors:l.members||[]}},enabled:!!i,staleTime:1e3*60*10})}const Iu=j(function(){const{slug:n}=ae(),s=en(),{tenant:a,me:r,features:l,roles:d,isStudentView:o}=U()||{},c=!o&&(d?.includes("owner")||d?.includes("instructor")),{data:u=[],isLoading:p,error:g}=$u(n),{data:m}=Pu(n),{data:h}=Tu(n),v=h?.family||[],y=m?.locations||[],N=m?.instructors||[],[x,w]=f(!1),[b,k]=f(!1),[S,C]=f(!1),[T,M]=f(null),$=lt(()=>u.map(F=>({id:F.id,title:F.title,start:new Date(F.startTime),end:new Date(new Date(F.startTime).getTime()+F.durationMinutes*6e4),resource:F})),[u]),B=()=>{s.invalidateQueries({queryKey:["classes",n]}),w(!1)},A=Tn(({start:F})=>{c&&w(!0)},[c]),R=Tn(F=>{M(F.resource),k(!0)},[]),I=()=>{s.invalidateQueries({queryKey:["classes",n]})};return t("div",{className:"p-6 h-screen flex flex-col space-y-4",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Schedule"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:o?"View upcoming classes and book sessions.":"Manage your class calendar and bookings."})]}),c&&t(Q,{onClick:()=>w(!0),children:[e(ee,{className:"mr-2 h-4 w-4"}),"Schedule Class"]})]}),e(rn,{children:e("div",{className:"flex-1 overflow-hidden bg-white dark:bg-zinc-900 rounded-lg shadow-sm border border-zinc-200 dark:border-zinc-800",children:e(ju,{events:$,onSelectEvent:R,onSelectSlot:A,defaultDate:new Date})})}),e(Mu,{isOpen:x,onClose:()=>w(!1),onSuccess:B,tenantId:a?.id,locations:y,instructors:N}),e(_u,{isOpen:b,onClose:()=>k(!1),classEvent:T,onRecordingAdded:I,onRecordingDeleted:I,canAttachRecording:l?.has("vod"),currentUserMemberId:r?.member?.id,userRoles:r?.roles,tenantSlug:a?.slug,onSubRequested:I,onBookRequested:()=>{k(!1),C(!0)}}),e(Au,{isOpen:S,onClose:()=>C(!1),classEvent:T,family:v})]})}),Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),Du=j(function(){const n=U();return e(ze,{context:n})}),Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Du},Symbol.toStringTag,{value:"Module"})),ls=typeof window<"u"?window.ENV?.API_URL:"",Eu=async i=>{const{getToken:n}=await P(i),s=i.params.slug,a=await n();let r=[];try{r=(await z("/appointments/services",a,{headers:{"X-Tenant-Slug":s}})).services||[]}catch(l){console.error("Failed to load services",l)}return{services:r,slug:s,token:a}},Bu=j(function(){const{services:n,slug:s,token:a}=D(),{roles:r=[]}=U()||{},l=r.includes("owner")||r.includes("admin"),[d,o]=f(n),[c,u]=f(null),[p,g]=f(!1),[m,h]=f(null),[v,y]=f(!1),[N,x]=f({title:"",description:"",durationMinutes:60,price:0,currency:"usd"}),w=()=>{x({title:"",description:"",durationMinutes:60,price:0,currency:"usd"}),u(null),g(!1)},b=async()=>{if(!N.title.trim()){_.error("Title is required");return}y(!0);try{const M=await z("/appointments/services",a,{method:"POST",headers:{"X-Tenant-Slug":s},body:JSON.stringify(N)},ls);M.id?(o([...d,{...N,id:M.id,isActive:!0}]),_.success("Service created!"),w()):_.error(M.error||"Failed to create service")}catch(M){_.error("Error: "+M.message)}finally{y(!1)}},k=async()=>{if(!c||!N.title.trim()){_.error("Title is required");return}y(!0);try{const M=await z(`/appointments/services/${c}`,a,{method:"PUT",headers:{"X-Tenant-Slug":s},body:JSON.stringify(N)},ls);M.success?(o(d.map($=>$.id===c?{...$,...N}:$)),_.success("Service updated!"),w()):_.error(M.error||"Failed to update service")}catch(M){_.error("Error: "+M.message)}finally{y(!1)}},S=async()=>{if(m){try{const M=await z(`/appointments/services/${m.id}`,a,{method:"DELETE",headers:{"X-Tenant-Slug":s}},ls);M.success?(o(d.filter($=>$.id!==m.id)),_.success("Service deleted!")):_.error(M.error||"Failed to delete service")}catch(M){_.error("Error: "+M.message)}h(null)}},C=M=>{x({title:M.title,description:M.description||"",durationMinutes:M.durationMinutes,price:M.price,currency:M.currency}),u(M.id),g(!1)},T=()=>{w(),g(!0)};return l?t("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{className:"flex items-center gap-4",children:[e(L,{to:`/studio/${s}/appointments`,className:"p-2 hover:bg-zinc-100 rounded-full",children:e($e,{className:"h-5 w-5"})}),t("div",{children:[e("h1",{className:"text-2xl font-bold",children:"Appointment Services"}),e("p",{className:"text-zinc-500 text-sm",children:"Configure 1:1 bookable sessions for your studio"})]})]}),!p&&!c&&t("button",{onClick:T,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-4 py-2 rounded-lg hover:bg-zinc-800 transition",children:[e(ee,{size:16}),"Add Service"]})]}),(p||c)&&t("div",{className:"bg-white border border-zinc-200 rounded-xl p-6 mb-6 shadow-sm",children:[e("h3",{className:"font-semibold text-lg mb-4",children:c?"Edit Service":"Create New Service"}),t("div",{className:"grid gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Service Name *"}),e("input",{type:"text",value:N.title,onChange:M=>x({...N,title:M.target.value}),placeholder:"e.g. Private Yoga Session",className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Description"}),e("textarea",{value:N.description,onChange:M=>x({...N,description:M.target.value}),placeholder:"What students can expect from this session...",rows:3,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 resize-none"})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Duration (minutes)"}),e("input",{type:"number",value:N.durationMinutes,onChange:M=>x({...N,durationMinutes:parseInt(M.target.value)||0}),min:15,step:15,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Price"}),t("div",{className:"flex",children:[e("span",{className:"inline-flex items-center px-3 bg-zinc-100 border border-r-0 border-zinc-200 rounded-l-lg text-zinc-500",children:"$"}),e("input",{type:"number",value:N.price,onChange:M=>x({...N,price:parseInt(M.target.value)||0}),min:0,className:"w-full px-3 py-2 border border-zinc-200 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-zinc-900"})]})]})]}),t("div",{className:"flex justify-end gap-3 pt-4 border-t border-zinc-100",children:[e("button",{onClick:w,className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 rounded-lg transition",children:"Cancel"}),e("button",{onClick:c?k:b,disabled:v,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-4 py-2 rounded-lg hover:bg-zinc-800 transition disabled:opacity-50",children:v?e("span",{className:"animate-pulse",children:"Saving..."}):t(G,{children:[e(Ue,{size:16}),c?"Update Service":"Create Service"]})})]})]})]}),d.length===0&&!p&&t("div",{className:"bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-xl p-12 text-center",children:[e(K,{className:"h-16 w-16 text-zinc-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-700 mb-2",children:"No services yet"}),e("p",{className:"text-zinc-500 mb-6",children:"Create your first appointment service to allow students to book 1:1 sessions."}),t("button",{onClick:T,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-5 py-2.5 rounded-lg hover:bg-zinc-800 transition",children:[e(ee,{size:18}),"Create Your First Service"]})]}),d.length>0&&e("div",{className:"space-y-3",children:d.map(M=>e("div",{className:"bg-white border border-zinc-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:t("div",{className:"flex justify-between items-start",children:[t("div",{className:"flex-1",children:[e("h3",{className:"font-semibold text-lg",children:M.title}),M.description&&e("p",{className:"text-zinc-500 text-sm mt-1 line-clamp-2",children:M.description}),t("div",{className:"flex items-center gap-4 mt-3 text-sm text-zinc-600",children:[t("div",{className:"flex items-center gap-1",children:[e(he,{className:"h-4 w-4"}),M.durationMinutes," min"]}),t("div",{className:"flex items-center gap-1 font-medium",children:[e(ve,{className:"h-4 w-4"}),M.price===0?"Free":`${M.price}`]})]})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>C(M),className:"p-2 text-zinc-400 hover:text-zinc-600 hover:bg-zinc-100 rounded-lg transition",title:"Edit",children:e(bt,{size:18})}),e("button",{onClick:()=>h(M),className:"p-2 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:e(ue,{size:18})})]})]})},M.id))}),e(Se,{isOpen:!!m,onClose:()=>h(null),onConfirm:S,title:"Delete Service",message:`Are you sure you want to delete "${m?.title}"? This will deactivate the service and it will no longer be bookable.`,confirmText:"Delete",isDestructive:!0})]}):e("div",{className:"p-8 text-center",children:e("p",{className:"text-zinc-500",children:"You don't have permission to manage appointment services."})})}),Fu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu,loader:Eu},Symbol.toStringTag,{value:"Module"})),Ru=H(()=>import("./IntegrationsPage-D_vcyWeW.js")),Xu=j(function(){return e(V,{fallback:e("div",{className:"p-8",children:"Loading Integrations..."}),children:e(W,{fallback:e("div",{className:"p-8",children:"Loading Integrations..."}),children:e(Ru,{})})})}),Uu=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),Wu=async i=>{const{slug:n}=i.params;try{const{getToken:s}=await P(i),a=await s();if(!n)throw new Error("Tenant slug missing");const[r,l]=await Promise.all([z("/tenant/tags",a,{headers:{"X-Tenant-Slug":n}}),z("/tenant/custom-fields",a,{headers:{"X-Tenant-Slug":n}})]);return{tags:r,customFields:l,token:a,error:null}}catch(s){return console.error("Tags Loader Error:",s),{tags:[],customFields:[],token:null,error:`[${n}] ${s.message||"Failed to load tags data"}`}}},Hu=j(function(){const{tags:n,customFields:s,token:a,error:r}=D();E(()=>{r&&_.error(r)},[r]);const{revalidate:l}=Ft(),{slug:d}=ae(),[o,c]=f("tags"),[u,p]=f(!1),[g,m]=f(null),[h,v]=f({name:"",color:"#3B82F6",description:""}),[y,N]=f(null),[x,w]=f(!1),[b,k]=f(null),[S,C]=f({entityType:"member",key:"",label:"",fieldType:"text",options:[],isRequired:!1}),[T,M]=f(null),$=async()=>{try{g?(await z(`/tenant/tags/${g.id}`,a,{method:"PUT",headers:{"X-Tenant-Slug":d},body:JSON.stringify(h)}),_.success("Tag updated")):(await z("/tenant/tags",a,{method:"POST",headers:{"X-Tenant-Slug":d},body:JSON.stringify(h)}),_.success("Tag created")),p(!1),m(null),v({name:"",color:"#3B82F6",description:""}),l()}catch(I){_.error(I.message)}},B=async()=>{if(y)try{await z(`/tenant/tags/${y}`,a,{method:"DELETE",headers:{"X-Tenant-Slug":d}}),_.success("Tag deleted"),l()}catch(I){_.error(I.message)}finally{N(null)}},A=async()=>{try{S.key||(S.key=S.label.toLowerCase().replace(/\s+/g,"_")),b?(await z(`/tenant/custom-fields/${b.id}`,a,{method:"PUT",headers:{"X-Tenant-Slug":d},body:JSON.stringify({label:S.label,options:S.options,isRequired:S.isRequired})}),_.success("Field updated")):(await z("/tenant/custom-fields",a,{method:"POST",headers:{"X-Tenant-Slug":d},body:JSON.stringify(S)}),_.success("Field created")),w(!1),k(null),C({entityType:"member",key:"",label:"",fieldType:"text",options:[],isRequired:!1}),l()}catch(I){_.error(I.message)}},R=async()=>{if(T)try{await z(`/tenant/custom-fields/${T}`,a,{method:"DELETE",headers:{"X-Tenant-Slug":d}}),_.success("Field deleted"),l()}catch(I){_.error(I.message)}finally{M(null)}};return t("div",{className:"max-w-4xl mx-auto p-6",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Tags & Custom Fields"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Manage metadata for your members and classes."})]}),t("div",{className:"flex border-b border-zinc-200 dark:border-zinc-800 mb-6",children:[e("button",{onClick:()=>c("tags"),className:`px-6 py-3 font-medium text-sm transition-colors border-b-2 ${o==="tags"?"border-blue-600 text-blue-600":"border-transparent text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-200"}`,children:"Member Tags"}),e("button",{onClick:()=>c("fields"),className:`px-6 py-3 font-medium text-sm transition-colors border-b-2 ${o==="fields"?"border-blue-600 text-blue-600":"border-transparent text-zinc-500 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-200"}`,children:"Custom Fields"})]}),o==="tags"&&t("div",{children:[e("div",{className:"flex justify-end mb-4",children:t("button",{onClick:()=>{p(!0),m(null),v({name:"",color:"#3B82F6",description:""})},className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-lg hover:opacity-90 transition font-medium text-sm",children:[e(ee,{size:16}),"Create Tag"]})}),(u||g)&&t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 mb-6 animate-in fade-in slide-in-from-top-2",children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:g?"Edit Tag":"New Tag"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Name"}),e("input",{type:"text",value:h.name,onChange:I=>v({...h,name:I.target.value}),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2 text-sm",placeholder:"e.g. VIP"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Color"}),t("div",{className:"flex items-center gap-2",children:[e("input",{type:"color",value:h.color,onChange:I=>v({...h,color:I.target.value}),className:"h-9 w-16 p-1 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg cursor-pointer"}),e("span",{className:"text-sm font-mono text-zinc-500",children:h.color})]})]}),t("div",{className:"md:col-span-2",children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Description"}),e("input",{type:"text",value:h.description||"",onChange:I=>v({...h,description:I.target.value}),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2 text-sm",placeholder:"Optional description"})]})]}),t("div",{className:"flex justify-end gap-2",children:[e("button",{onClick:()=>{p(!1),m(null)},className:"px-3 py-2 text-sm text-zinc-600 hover:text-zinc-900",children:"Cancel"}),t("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:[e(Ue,{size:16}),"Save Tag"]})]})]}),t("div",{className:"grid gap-3",children:[n.length===0&&!u&&t("div",{className:"text-center py-12 text-zinc-500 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[e(Ge,{className:"mx-auto h-8 w-8 mb-3 opacity-50"}),e("p",{children:"No tags created yet"})]}),n.map(I=>t("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:I.color}}),t("div",{children:[e("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:I.name}),I.description&&e("p",{className:"text-xs text-zinc-500",children:I.description})]})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>{m(I),v({name:I.name,color:I.color,description:I.description}),p(!0)},className:"p-2 text-zinc-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",children:e(bt,{size:16})}),e("button",{onClick:()=>N(I.id),className:"p-2 text-zinc-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",children:e(ue,{size:16})})]})]},I.id))]})]}),o==="fields"&&t("div",{children:[e("div",{className:"flex justify-end mb-4",children:t("button",{onClick:()=>{w(!0),k(null),C({entityType:"member",key:"",label:"",fieldType:"text",options:[],isRequired:!1})},className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-lg hover:opacity-90 transition font-medium text-sm",children:[e(ee,{size:16}),"Add Field"]})}),(x||b)&&t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 p-4 rounded-xl border border-zinc-200 dark:border-zinc-800 mb-6 animate-in fade-in slide-in-from-top-2",children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:b?"Edit Field":"New Custom Field"}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Entity"}),t("select",{disabled:!!b,value:S.entityType,onChange:I=>C({...S,entityType:I.target.value}),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2 text-sm disabled:opacity-50",children:[e("option",{value:"member",children:"Member"}),e("option",{value:"lead",children:"Lead"}),e("option",{value:"class",children:"Class"})]})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Field Label"}),e("input",{type:"text",value:S.label,onChange:I=>C({...S,label:I.target.value}),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2 text-sm",placeholder:"e.g. T-Shirt Size"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-500 mb-1",children:"Type"}),t("select",{disabled:!!b,value:S.fieldType,onChange:I=>C({...S,fieldType:I.target.value}),className:"w-full bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg px-3 py-2 text-sm disabled:opacity-50",children:[e("option",{value:"text",children:"Text"}),e("option",{value:"number",children:"Number"}),e("option",{value:"boolean",children:"Yes/No"}),e("option",{value:"date",children:"Date"}),e("option",{value:"select",children:"Dropdown"})]})]}),e("div",{className:"flex items-center pt-6",children:t("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:S.isRequired,onChange:I=>C({...S,isRequired:I.target.checked}),className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Required Field"})]})})]}),t("div",{className:"flex justify-end gap-2",children:[e("button",{onClick:()=>{w(!1),k(null)},className:"px-3 py-2 text-sm text-zinc-600 hover:text-zinc-900",children:"Cancel"}),t("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:[e(Ue,{size:16}),"Save Field"]})]})]}),t("div",{className:"grid gap-3",children:[s.length===0&&!x&&t("div",{className:"text-center py-12 text-zinc-500 bg-zinc-50 dark:bg-zinc-900/30 rounded-xl border border-dashed border-zinc-200 dark:border-zinc-800",children:[e(qe,{className:"mx-auto h-8 w-8 mb-3 opacity-50"}),e("p",{children:"No custom fields defined"})]}),s.map(I=>t("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl",children:[t("div",{children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400",children:I.entityType}),e("h4",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:I.label})]}),t("p",{className:"text-xs text-zinc-500 flex items-center gap-2",children:["Key: ",e("code",{className:"bg-zinc-100 dark:bg-zinc-800 px-1 rounded",children:I.key})," â€¢ Type: ",I.fieldType," ",I.isRequired&&"â€¢ Required"]})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>{k(I),C({...I}),w(!0)},className:"p-2 text-zinc-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition",children:e(bt,{size:16})}),e("button",{onClick:()=>M(I.id),className:"p-2 text-zinc-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",children:e(ue,{size:16})})]})]},I.id))]})]}),e(Se,{isOpen:!!y,onClose:()=>N(null),onConfirm:B,title:"Delete Tag?",message:"Are you sure you want to delete this tag? This will remove it from all members."}),e(Se,{isOpen:!!T,onClose:()=>M(null),onConfirm:R,title:"Delete Field?",message:"Are you sure you want to delete this custom field? All data associated with this field will be lost."})]})}),Qu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu,loader:Wu},Symbol.toStringTag,{value:"Module"}));function Ju(i,n=!0){const{getToken:s}=J();return be({queryKey:["webhooks",i],queryFn:async()=>{const a=await s(),r=await z("/tenant/webhooks/endpoints",a,{headers:{"X-Tenant-Slug":i}});return r.endpoints||r||[]},enabled:!!i&&n,staleTime:1e3*60*5})}function Vu({defaultValue:i,className:n,children:s,...a}){return e(qu,{defaultValue:i,className:n,children:s})}const Ts=Bn(null);function qu({defaultValue:i,children:n,className:s}){const[a,r]=f(i);return e(Ts.Provider,{value:{activeTab:a,setActiveTab:r},children:e("div",{className:s,children:n})})}function Gu({className:i,children:n}){return e("div",{className:`inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400 ${i}`,children:n})}function ds({value:i,children:n,className:s}){const{activeTab:a,setActiveTab:r}=Rt(Ts);return e("button",{onClick:()=>r(i),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 
            ${a===i?"bg-white text-zinc-950 shadow-sm dark:bg-zinc-950 dark:text-zinc-50":"hover:bg-zinc-200 dark:hover:bg-zinc-700"} 
            ${s}`,children:n})}function os({value:i,children:n,className:s}){const{activeTab:a}=Rt(Ts);return a!==i?null:e("div",{className:`mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 ${s}`,children:n})}const Ps=Ee.forwardRef(({className:i,...n},s)=>e("div",{className:"relative w-full overflow-auto",children:e("table",{ref:s,className:Z("w-full caption-bottom text-sm text-left",i),...n})}));Ps.displayName="Table";const Is=Ee.forwardRef(({className:i,...n},s)=>e("thead",{ref:s,className:Z("[&_tr]:border-b",i),...n}));Is.displayName="TableHeader";const Fi=Ee.forwardRef(({className:i,...n},s)=>e("tbody",{ref:s,className:Z("[&_tr:last-child]:border-0",i),...n}));Fi.displayName="TableBody";const Yu=Ee.forwardRef(({className:i,...n},s)=>e("tfoot",{ref:s,className:Z("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",i),...n}));Yu.displayName="TableFooter";const Ot=Ee.forwardRef(({className:i,...n},s)=>e("tr",{ref:s,className:Z("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",i),...n}));Ot.displayName="TableRow";const rt=Ee.forwardRef(({className:i,...n},s)=>e("th",{ref:s,className:Z("h-12 px-4 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 dark:text-zinc-400",i),...n}));rt.displayName="TableHead";const Je=Ee.forwardRef(({className:i,...n},s)=>e("td",{ref:s,className:Z("p-4 align-middle [&:has([role=checkbox])]:pr-0",i),...n}));Je.displayName="TableCell";const Zu=Ee.forwardRef(({className:i,...n},s)=>e("caption",{ref:s,className:Z("mt-4 text-sm text-zinc-500 dark:text-zinc-400",i),...n}));Zu.displayName="TableCaption";const Ku=j(function(){const{slug:n}=ae(),{tenant:s,features:a}=U()||{},{getToken:r}=J(),l=en(),d=a?.has?.("webhooks"),{data:o=[],isLoading:c}=Ju(n,d),[u,p]=f(!1),[g,m]=f(""),[h,v]=f("student.created, payment.succeeded"),[y,N]=f(null),[x,w]=f(null),b=()=>l.invalidateQueries({queryKey:["webhooks",n]}),k=async()=>{if(g){p(!0);try{const M=await r();await z("/tenant/webhooks/endpoints",M,{method:"POST",headers:{"X-Tenant-Slug":n||""},body:JSON.stringify({url:g,events:h.split(",").map($=>$.trim()),description:"Developer API Endpoint"})}),m(""),_.success("Webhook created successfully"),b()}catch(M){_.error("Failed to create: "+M.message)}finally{p(!1)}}},S=async()=>{if(y)try{const M=await r();await z(`/tenant/webhooks/endpoints/${y}`,M,{method:"DELETE",headers:{"X-Tenant-Slug":n||""}}),_.success("Webhook deleted"),b()}catch(M){_.error("Failed to delete: "+M.message)}finally{N(null)}},C=(M,$)=>{navigator.clipboard.writeText(M),w($),setTimeout(()=>w(null),2e3),_.success("Copied to clipboard")},T=async()=>{try{const M=await r();await z("/tenant/features",M,{method:"POST",headers:{"X-Tenant-Slug":n||""},body:JSON.stringify({featureKey:"webhooks",enabled:!0})}),window.location.reload()}catch(M){_.error(M.message||"Failed to enable feature")}};return a&&!d?e("div",{className:"max-w-4xl mx-auto py-12 p-6",children:t(se,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900/50",children:[t(we,{children:[t(Ce,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-400",children:[e(Pe,{className:"h-5 w-5"})," Webhooks Feature Disabled"]}),e(Ve,{className:"text-amber-700 dark:text-amber-500",children:"Developer webhooks are not enabled for this studio."})]}),t(de,{children:[e("p",{className:"text-sm text-amber-700 dark:text-amber-500 mb-6",children:"Webhooks allow your developers to receive real-time notifications about events in your studio. To use this feature, you must enable it in your studio features or upgrade your plan."}),e(Q,{onClick:T,className:"bg-amber-600 hover:bg-amber-700 text-white border-none",children:"Enable Webhooks"})]})]})}):t("div",{className:"max-w-5xl h-full flex flex-col bg-zinc-50 dark:bg-zinc-950",children:[e("header",{className:"bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 px-6 py-4",children:e("div",{className:"flex items-center justify-between",children:t("div",{children:[t("h1",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(ws,{className:"h-5 w-5 text-blue-600"})," Developer Settings"]}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Manage API access, outgoing webhooks, and developer tools."})]})})}),e(rn,{children:e("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:t(Vu,{defaultValue:"endpoints",children:[t(Gu,{className:"mb-4",children:[e(ds,{value:"endpoints",children:"Endpoints"}),e(ds,{value:"logs",children:"Logs"}),e(ds,{value:"test",children:"Test Tool"})]}),t(os,{value:"endpoints",className:"space-y-6",children:[t(se,{children:[t(we,{children:[e(Ce,{children:"Outgoing Webhooks"}),e(Ve,{children:"Subscription endpoints that receive JSON payloads when events occur."})]}),t(de,{className:"space-y-6",children:[c?e("div",{className:"space-y-3",children:[1,2].map(M=>e("div",{className:"h-16 bg-zinc-100 dark:bg-zinc-800 animate-pulse rounded-lg"},M))}):e("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden",children:t("table",{className:"w-full text-sm",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 text-zinc-500 dark:text-zinc-400 font-medium border-b border-zinc-100 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"text-left py-3 px-4",children:"Endpoint"}),e("th",{className:"text-left py-3 px-4",children:"Events"}),e("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),t("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:[o.length===0&&e("tr",{children:e("td",{colSpan:3,className:"py-8 text-center text-zinc-500",children:"No webhooks configured."})}),o.map(M=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/40 transition-colors",children:[t("td",{className:"py-3 px-4",children:[e("div",{className:"font-mono text-blue-600 dark:text-blue-400 break-all",children:M.url}),t("div",{className:"text-[10px] text-zinc-400 mt-1 flex items-center gap-1",children:[e(Ha,{className:"h-3 w-3"})," Secret: ",t("span",{className:"blur-xs hover:blur-none transition-all cursor-text",children:[M.secret.substring(0,10),"..."]}),e(Q,{variant:"ghost",size:"icon",className:"h-5 w-5 ml-1 text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200",onClick:()=>C(M.secret,`sec-${M.id}`),children:x===`sec-${M.id}`?e(pe,{className:"h-3 w-3 text-green-500"}):e(Bt,{className:"h-3 w-3"})})]})]}),e("td",{className:"py-3 px-4",children:e("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(M.events)?M.events:M.events.split(",")).map($=>e(ge,{variant:"secondary",className:"text-[10px] font-mono font-medium",children:$},$))})}),e("td",{className:"py-3 px-4 text-right",children:e(Q,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-950/30 h-8 w-8",onClick:()=>N(M.id),children:e(ue,{className:"h-4 w-4"})})})]},M.id))]})]})}),t("div",{className:"pt-6 border-t border-zinc-100 dark:border-zinc-800",children:[e("h4",{className:"text-sm font-semibold mb-3",children:"Add Endpoint"}),t("div",{className:"grid gap-4 sm:grid-cols-2",children:[t("div",{className:"space-y-1.5",children:[e(ne,{children:"Target URL"}),e(ye,{placeholder:"https://api.myapp.com/webhooks",value:g,onChange:M=>m(M.target.value)})]}),t("div",{className:"space-y-1.5",children:[e(ne,{children:"Events (comma separated)"}),e(ye,{value:h,onChange:M=>v(M.target.value)}),e("p",{className:"text-[10px] text-zinc-400",children:"Available: student.created, payment.succeeded, *"})]})]}),e("div",{className:"mt-4 flex justify-end",children:t(Q,{onClick:k,disabled:!g||u,className:"gap-2",children:[u?e(oe,{className:"h-4 w-4 animate-spin"}):e(ee,{className:"h-4 w-4"}),"Register Webhook"]})})]})]})]}),t(se,{children:[t(we,{children:[e(Ce,{children:"API Access"}),e(Ve,{children:"Identify your requests and authenticate with the Studio API."})]}),t(de,{className:"space-y-4",children:[t("div",{className:"space-y-2",children:[e(ne,{className:"text-xs font-semibold uppercase tracking-wider text-zinc-400",children:"Studio ID"}),t("div",{className:"flex gap-2",children:[e(ye,{readOnly:!0,value:s?.id||"",className:"font-mono bg-zinc-50 dark:bg-zinc-900 max-w-md"}),e(Q,{variant:"outline",size:"icon",onClick:()=>C(s?.id||"","tenantId"),children:x==="tenantId"?e(pe,{className:"h-4 w-4 text-green-500"}):e(Bt,{className:"h-4 w-4"})})]})]}),t("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/50 rounded-lg p-4 flex gap-3",children:[e(Hn,{className:"h-5 w-5 text-blue-600 shrink-0"}),t("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[e("p",{className:"font-semibold mb-1",children:"Authenticated Requests"}),t("p",{children:["Requests from your own application must include your generated Webhook Secret or a valid Studio JWT in the ",e("code",{children:"Authorization"})," or ",e("code",{children:"X-Studio-Signature"})," header."]})]})]})]})]})]}),e(os,{value:"logs",children:e(em,{slug:n||""})}),e(os,{value:"test",children:e(tm,{slug:n||""})})]})})}),e(Se,{isOpen:!!y,onClose:()=>N(null),onConfirm:S,title:"Delete Webhook Endpoint",message:"Are you sure you want to stop sending events to this URL? This action cannot be undone.",isDestructive:!0,confirmText:"Delete Endpoint"})]})});function em({slug:i}){const{getToken:n}=J(),{data:s=[],isLoading:a}=be({queryKey:["webhookRequests",i],queryFn:async()=>{const r=await n();return await z("/tenant/webhooks/logs?limit=50",r,{headers:{"X-Tenant-Slug":i}})},refetchInterval:5e3});return a?e("div",{className:"text-center py-10",children:"Loading logs..."}):t(se,{children:[t(we,{children:[e(Ce,{children:"Recent Activity"}),e(Ve,{children:"Log of recent webhook delivery attempts."})]}),e(de,{children:e("div",{className:"rounded-md border",children:t(Ps,{children:[e(Is,{children:t(Ot,{children:[e(rt,{children:"Status"}),e(rt,{children:"Event"}),e(rt,{children:"Time"}),e(rt,{className:"text-right",children:"Duration"})]})}),t(Fi,{children:[s.length===0&&e(Ot,{children:e(Je,{colSpan:4,className:"h-24 text-center",children:"No logs found."})}),s.map(r=>t(Ot,{children:[e(Je,{children:e(ge,{variant:r.statusCode>=200&&r.statusCode<300?"default":"destructive",children:r.statusCode||"ERR"})}),e(Je,{className:"font-medium font-mono text-xs",children:r.eventType}),e(Je,{className:"text-muted-foreground text-xs",children:new Date(r.createdAt).toLocaleString()}),t(Je,{className:"text-right font-mono text-xs",children:[r.durationMs,"ms"]})]},r.id))]})]})})})]})}function tm({slug:i}){const{getToken:n}=J(),[s,a]=f("test.ping"),[r,l]=f(JSON.stringify({message:"Hello World"},null,2)),[d,o]=f(!1);return t(se,{children:[t(we,{children:[e(Ce,{children:"Test Tool"}),e(Ve,{children:"Manually trigger a webhook event to all your registered endpoints."})]}),t(de,{className:"space-y-4",children:[t("div",{children:[e(ne,{children:"Event Type"}),e(ye,{value:s,onChange:u=>a(u.target.value)})]}),t("div",{children:[e(ne,{children:"Payload (JSON)"}),e("textarea",{className:"w-full h-32 p-3 font-mono text-xs border rounded-md",value:r,onChange:u=>l(u.target.value)})]}),t(Q,{onClick:async()=>{try{o(!0);const u=await n();await z("/tenant/webhooks/test",u,{method:"POST",headers:{"X-Tenant-Slug":i},body:JSON.stringify({eventType:s,payload:JSON.parse(r)})}),_.success("Test event triggered!")}catch(u){_.error("Failed: "+u.message)}finally{o(!1)}},disabled:d,className:"w-full",children:[d?e(oe,{className:"h-4 w-4 animate-spin mr-2"}):e(Qa,{className:"h-4 w-4 mr-2"}),"Trigger Event"]})]})]})}const nm=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"}));function sm(i){const{getToken:n}=J();return be({queryKey:["locations",i],queryFn:async()=>{const s=await n();return(await z("/locations",s,{headers:{"X-Tenant-Slug":i}})).locations||[]},enabled:!!i,staleTime:1e3*60*60})}const im=j(function(){const{slug:n}=ae(),{getToken:s}=J(),a=en(),{data:r=[],isLoading:l,error:d}=sm(n),[o,c]=f(null),[u,p]=f(!1),[g,m]=f(null),[h,v]=f(!1),y=()=>a.invalidateQueries({queryKey:["locations",n]}),N=async()=>{if(g)try{const b=await s();await z(`/locations/${g}`,b,{method:"DELETE",headers:{"X-Tenant-Slug":n}}),_.success("Location deleted"),y()}catch(b){_.error(b.message||"Failed to delete location")}finally{m(null)}},x=async b=>{try{const k=await s();await z(`/locations/${b}/set-primary`,k,{method:"POST",headers:{"X-Tenant-Slug":n}}),_.success("Primary location updated"),y()}catch(k){_.error(k.message||"Failed to update primary location")}},w=async b=>{v(!0);try{const k=await s(),S=o?.id,C={name:b.name,address:b.address,timezone:b.timezone,isPrimary:b.isPrimary,isActive:b.isActive,settings:{phone:b.phone,hours:b.hours}};await z(S?`/locations/${S}`:"/locations",k,{method:S?"PATCH":"POST",headers:{"X-Tenant-Slug":n},body:JSON.stringify(C)}),_.success(S?"Location updated":"Location created"),y(),c(null),p(!1)}catch(k){console.error(k),_.error(k.message||"Failed to save location")}finally{v(!1)}};return t("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-zinc-950",children:[e("header",{className:"bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 px-6 py-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-zinc-900 dark:bg-zinc-100 rounded-lg text-white dark:text-zinc-900",children:e(hs,{size:20})}),t("div",{children:[e("h1",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Locations"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Manage your physical or virtual locations."})]})]}),t(Q,{onClick:()=>p(!0),children:[e(ee,{size:16,className:"mr-2"})," Add Location"]})]})}),e(rn,{children:e("div",{className:"flex-1 overflow-y-auto p-6",children:l?e("div",{className:"space-y-4",children:[1,2].map(b=>e(se,{className:"opacity-50",children:e("div",{className:"p-6 h-32 animate-pulse bg-zinc-100 dark:bg-zinc-800 rounded-xl"})},b))}):r.length===0?t("div",{className:"text-center py-20 text-zinc-500 dark:text-zinc-400",children:[e(Ja,{size:48,className:"mx-auto mb-4 opacity-50"}),e("p",{children:"No locations configured"}),e(Q,{variant:"link",onClick:()=>p(!0),className:"mt-2",children:"Add your first location"})]}):e("div",{className:"space-y-4",children:r.map(b=>e(se,{className:Z("transition-all",b.isPrimary?"border-amber-200 dark:border-amber-900/50 bg-amber-50/30 dark:bg-amber-900/10":"hover:border-zinc-300 dark:hover:border-zinc-700"),children:t(de,{className:"p-5 flex items-start justify-between",children:[t("div",{className:"flex items-start gap-4",children:[e("div",{className:Z("p-3 rounded-xl",b.isPrimary?"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400":"bg-zinc-100 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400"),children:e(hs,{size:24})}),t("div",{children:[t("div",{className:"flex items-center gap-2",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:b.name}),b.isPrimary&&t(ge,{variant:"outline",className:"border-amber-200 text-amber-700 bg-amber-100/50 dark:border-amber-800 dark:text-amber-400 dark:bg-amber-900/30 flex items-center gap-1 scale-90",children:[e(bs,{size:10,fill:"currentColor"})," Primary"]}),!b.isActive&&e(ge,{variant:"secondary",children:"Inactive"})]}),b.address&&e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:b.address}),t("div",{className:"flex items-center gap-4 mt-2 text-xs text-zinc-400 dark:text-zinc-500",children:[b.timezone&&t("span",{className:"flex items-center gap-1",children:[e(he,{size:12})," ",b.timezone]}),b.settings?.phone&&t("span",{className:"flex items-center gap-1",children:[e(wi,{size:12})," ",b.settings.phone]})]})]})]}),t("div",{className:"flex items-center gap-2",children:[!b.isPrimary&&e(Q,{variant:"ghost",size:"icon",onClick:()=>x(b.id),className:"text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:text-amber-500 dark:hover:bg-amber-900/20",title:"Set as primary",children:e(bs,{size:16})}),e(Q,{variant:"ghost",size:"icon",onClick:()=>c(b),children:e(Va,{size:16,className:"text-zinc-500"})}),e(Q,{variant:"ghost",size:"icon",onClick:()=>m(b.id),children:e(ue,{size:16,className:"text-red-500"})})]})]})},b.id))})})}),e(am,{isOpen:!!o||u,location:o,onClose:()=>{c(null),p(!1)},onSave:w,isSubmitting:h}),e(Se,{isOpen:!!g,onClose:()=>m(null),onConfirm:N,title:"Delete Location",message:"Are you sure you want to delete this location? This action cannot be undone.",confirmText:"Delete",isDestructive:!0})]})});function am({isOpen:i,location:n,onClose:s,onSave:a,isSubmitting:r}){const[l,d]=f(n?.name||""),[o,c]=f(n?.address||""),[u,p]=f(n?.timezone||"UTC"),[g,m]=f(n?.settings?.phone||""),[h,v]=f(n?.settings?.hours||""),[y,N]=f(n?.isPrimary||!1),[x,w]=f(n?.isActive!==!1);return f(()=>{i&&(d(n?.name||""),c(n?.address||""),p(n?.timezone||"UTC"),m(n?.settings?.phone||""),v(n?.settings?.hours||""),N(n?.isPrimary||!1),w(n?.isActive!==!1))}),e(kt,{open:i,onOpenChange:s,children:t(wt,{className:"sm:max-w-md",children:[e(Ct,{children:e(St,{children:n?"Edit Location":"New Location"})}),t("form",{onSubmit:k=>{k.preventDefault(),a({name:l,address:o,timezone:u,phone:g,hours:h,isPrimary:y,isActive:x})},className:"space-y-4 py-2",children:[t("div",{className:"space-y-2",children:[e("label",{className:"text-sm font-medium leading-none",children:"Name"}),e(ye,{required:!0,value:l,onChange:k=>d(k.target.value),placeholder:"Main Studio"})]}),t("div",{className:"space-y-2",children:[e("label",{className:"text-sm font-medium leading-none",children:"Address"}),e(ye,{value:o,onChange:k=>c(k.target.value),placeholder:"123 Main St, City, State"})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"space-y-2",children:[e("label",{className:"text-sm font-medium leading-none",children:"Timezone"}),t("select",{value:u,onChange:k=>p(k.target.value),className:"flex h-10 w-full rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",children:[e("option",{value:"UTC",children:"UTC"}),e("option",{value:"America/New_York",children:"Eastern"}),e("option",{value:"America/Chicago",children:"Central"}),e("option",{value:"America/Denver",children:"Mountain"}),e("option",{value:"America/Los_Angeles",children:"Pacific"})]})]}),t("div",{className:"space-y-2",children:[e("label",{className:"text-sm font-medium leading-none",children:"Phone"}),e(ye,{type:"tel",value:g,onChange:k=>m(k.target.value)})]})]}),t("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[t("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e("input",{type:"checkbox",checked:y,onChange:k=>N(k.target.checked),className:"rounded border-zinc-300"}),"Primary location"]}),t("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e("input",{type:"checkbox",checked:x,onChange:k=>w(k.target.checked),className:"rounded border-zinc-300"}),"Active"]})]}),t(an,{className:"pt-4",children:[e(Q,{type:"button",variant:"ghost",onClick:s,disabled:r,children:"Cancel"}),t(Q,{type:"submit",disabled:r,children:[r&&e(oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Save"]})]})]})]})})}const rm=Object.freeze(Object.defineProperty({__proto__:null,default:im},Symbol.toStringTag,{value:"Module"})),Ri=Bn(null);function Xi({children:i,open:n,onOpenChange:s,side:a="left"}){const[r,l]=f(!1),d=n!==void 0,o=d?n:r,c=d?s:l;return e(Ri.Provider,{value:{isOpen:o,setIsOpen:c,side:a},children:i})}function Ui({children:i,className:n=""}){const{isOpen:s,setIsOpen:a,side:r}=Rt(Ri),l=r==="left"?"-translate-x-full":"translate-x-full",d="translate-x-0",o="translate-x-0",c=r==="left"?"-translate-x-full":"translate-x-full",u=r==="left"?"left-0":"right-0",p=r==="left"?"border-r":"border-l";return e(ot,{appear:!0,show:s,as:Ie,children:t(pt,{as:"div",className:"relative z-50",onClose:()=>a(!1),children:[e(In,{as:Ie,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black/80"})}),e("div",{className:"fixed inset-0 overflow-hidden",children:e("div",{className:"absolute inset-0 overflow-hidden",children:e("div",{className:`pointer-events-none fixed inset-y-0 ${u} flex max-w-full`,children:e(In,{as:Ie,enter:"transform transition ease-in-out duration-300 sm:duration-300",enterFrom:l,enterTo:d,leave:"transform transition ease-in-out duration-300 sm:duration-300",leaveFrom:o,leaveTo:c,children:e(_i,{className:`pointer-events-auto w-screen max-w-md ${n}`,children:e("div",{className:`flex h-full flex-col overflow-y-auto bg-white dark:bg-zinc-950 shadow-xl border-zinc-200 dark:border-zinc-800 ${p}`,children:t("div",{className:"px-4 sm:px-6 py-6 flex-1 relative",children:[t("button",{type:"button",className:"absolute right-4 top-4 rounded-md text-zinc-400 hover:text-zinc-500 focus:outline-none",onClick:()=>a(!1),children:[e("span",{className:"sr-only",children:"Close panel"}),e(Te,{className:"h-6 w-6","aria-hidden":"true"})]}),i]})})})})})})})]})})}function lm({children:i,className:n}){return e("div",{className:`flex flex-col space-y-2 text-center sm:text-left ${n}`,children:i})}function dm({children:i,className:n}){return e(Ai,{as:"h3",className:`text-lg font-semibold text-zinc-900 dark:text-zinc-50 ${n}`,children:i})}const om=async i=>{const{getToken:n}=await P(i),s=await n(),r=new URL(i.request.url).searchParams,l=new URLSearchParams;return l.set("limit","50"),r.get("startDate")&&l.set("startDate",r.get("startDate")),r.get("endDate")&&l.set("endDate",r.get("endDate")),r.get("action")&&l.set("action",r.get("action")),r.get("actorId")&&l.set("actorId",r.get("actorId")),{logs:await z(`/tenant/audit-logs?${l.toString()}`,s).catch(()=>[]),token:s}},cm=j(function(){const{logs:n}=D(),[s]=Kt(),a=On(),l=jt().state==="loading",[d,o]=f(s.get("startDate")||""),[c,u]=f(s.get("endDate")||""),[p,g]=f(s.get("action")||""),[m,h]=f(s.get("actorId")||""),[v,y]=f(null);E(()=>{const b=setTimeout(()=>{m!==(s.get("actorId")||"")&&N()},500);return()=>clearTimeout(b)},[m]);const N=()=>{const b=new FormData;d&&b.set("startDate",d),c&&b.set("endDate",c),p&&b.set("action",p),m&&b.set("actorId",m),a(b,{method:"get"})},x=()=>{o(""),u(""),g(""),h(""),a({},{method:"get"})},w=b=>b.includes("delete")||b.includes("remove")?"destructive":b.includes("create")||b.includes("add")?"success":b.includes("update")||b.includes("edit")?"warning":"secondary";return t("div",{className:"max-w-6xl mx-auto p-6",children:[t("div",{className:"mb-8",children:[t("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(yi,{className:"text-blue-600"}),"Activity Log"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Track important changes and actions within your studio."})]}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 shadow-sm mb-6",children:t("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[t("div",{className:"w-full md:w-auto",children:[e("label",{className:"block text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-1",children:"Date Range"}),t("div",{className:"flex items-center gap-2",children:[t("div",{className:"relative",children:[e(K,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-zinc-400"}),e("input",{type:"date",className:"pl-9 pr-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:b=>{o(b.target.value);const k=new FormData;k.set("startDate",b.target.value),c&&k.set("endDate",c),p&&k.set("action",p),m&&k.set("actorId",m),a(k,{method:"get"})}})]}),e("span",{className:"text-zinc-400",children:"-"}),t("div",{className:"relative",children:[e(K,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-zinc-400"}),e("input",{type:"date",className:"pl-9 pr-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",value:c,onChange:b=>{u(b.target.value);const k=new FormData;d&&k.set("startDate",d),k.set("endDate",b.target.value),p&&k.set("action",p),m&&k.set("actorId",m),a(k,{method:"get"})}})]})]})]}),t("div",{className:"w-full md:w-48",children:[e("label",{className:"block text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-1",children:"Action"}),t("select",{className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",value:p,onChange:b=>{g(b.target.value);const k=new FormData;d&&k.set("startDate",d),c&&k.set("endDate",c),k.set("action",b.target.value),m&&k.set("actorId",m),a(k,{method:"get"})},children:[e("option",{value:"",children:"All Actions"}),e("option",{value:"create",children:"Create"}),e("option",{value:"update",children:"Update"}),e("option",{value:"delete",children:"Delete"}),e("option",{value:"login",children:"Login"}),e("option",{value:"settings_update",children:"Settings Update"})]})]}),t("div",{className:"w-full md:w-48",children:[e("label",{className:"block text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-1",children:"User ID"}),t("div",{className:"relative",children:[e(De,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-zinc-400"}),e("input",{type:"text",placeholder:"Search User ID...",className:"w-full pl-9 pr-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",value:m,onChange:b=>h(b.target.value)})]})]}),e("button",{onClick:x,disabled:!d&&!c&&!p&&!m,className:"px-3 py-2 text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md disabled:opacity-50 transition-colors",children:"Clear"}),l&&e("span",{className:"text-xs text-zinc-400 animate-pulse ml-auto",children:"Loading..."})]})}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm",children:t("table",{className:"w-full text-left text-sm",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Action"}),e("th",{className:"px-6 py-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Target"}),e("th",{className:"px-6 py-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"User"}),e("th",{className:"px-6 py-4 font-semibold text-zinc-900 dark:text-zinc-100",children:"Date"})]})}),t("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:[n.length===0&&e("tr",{children:e("td",{colSpan:4,className:"px-6 py-12 text-center text-zinc-500",children:"No activity recorded matching your filters."})}),n.map(b=>t("tr",{onClick:()=>y(b),className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition cursor-pointer group",children:[e("td",{className:"px-6 py-4 font-medium text-zinc-900 dark:text-zinc-200",children:e(ge,{variant:w(b.action),children:b.action})}),e("td",{className:"px-6 py-4 text-zinc-600 dark:text-zinc-400",children:t("div",{className:"flex flex-col",children:[e("span",{className:"font-medium text-zinc-900 dark:text-zinc-300 capitalize",children:b.targetType||"System"}),e("span",{className:"text-xs font-mono text-zinc-400 truncate max-w-[150px]",children:b.targetId})]})}),e("td",{className:"px-6 py-4 text-zinc-600 dark:text-zinc-400",children:t("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-6 h-6 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:e(nt,{size:12})}),e("span",{className:"font-mono text-xs",children:b.actorId?b.actorId.substring(0,15)+"...":"System"})]})}),e("td",{className:"px-6 py-4 text-zinc-600 dark:text-zinc-400 whitespace-nowrap",children:ie(new Date(b.createdAt),"MMM d, h:mm a")})]},b.id))]})]})}),e(Xi,{open:!!v,onOpenChange:b=>!b&&y(null),side:"right",children:t(Ui,{className:"w-full sm:max-w-xl",children:[e(lm,{className:"mb-6",children:e(dm,{children:"Activity Details"})}),v&&t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-100 dark:border-zinc-700",children:[t("div",{children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Action"}),e("div",{className:"font-semibold text-lg",children:v.action})]}),e(ge,{variant:w(v.action),className:"text-sm px-3 py-1",children:v.action})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"p-3 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[e("div",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Actor"}),e("div",{className:"font-mono text-sm break-all",children:v.actorId||"System"})]}),t("div",{className:"p-3 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[e("div",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Date"}),e("div",{className:"text-sm",children:ie(new Date(v.createdAt),"PPpp")})]}),t("div",{className:"p-3 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[e("div",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Target Type"}),e("div",{className:"text-sm capitalize",children:v.targetType||"N/A"})]}),t("div",{className:"p-3 border border-zinc-200 dark:border-zinc-700 rounded-lg",children:[e("div",{className:"text-xs font-medium text-zinc-500 uppercase mb-1",children:"Target ID"}),e("div",{className:"font-mono text-xs break-all",children:v.targetId||"N/A"})]})]}),v.details&&t("div",{children:[e("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 mb-2",children:"Payload Details"}),e("div",{className:"bg-zinc-950 text-zinc-50 rounded-lg p-4 font-mono text-xs overflow-auto max-h-[400px] border border-zinc-800 shadow-inner",children:e("pre",{children:JSON.stringify(v.details,null,2)})})]}),v.ipAddress&&t("div",{className:"text-xs text-zinc-400 mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800 flex items-center gap-2",children:[e("span",{children:"IP Address:"}),e("span",{className:"font-mono",children:v.ipAddress})]})]})]})})]})}),um=Object.freeze(Object.defineProperty({__proto__:null,default:cm,loader:om},Symbol.toStringTag,{value:"Module"})),mm=async i=>{const{getToken:n}=await P(i),s=await n();try{return{assets:await z("/video-management/branding",s)}}catch{return{assets:[]}}},hm=H(()=>import("./BrandingPage-Cf0uVdpn.js")),pm=j(function(){return e(V,{fallback:e("div",{className:"p-8",children:"Loading Branding..."}),children:e(W,{fallback:e("div",{className:"p-8",children:"Loading Branding..."}),children:e(hm,{})})})}),gm=Object.freeze(Object.defineProperty({__proto__:null,default:pm,loader:mm},Symbol.toStringTag,{value:"Module"})),bm=j(function(){const{tenant:n}=U(),{getToken:s}=J(),[a,r]=f([]),[l,d]=f(!0),[o,c]=f(null),[u,p]=f(!1),[g,m]=f({name:n.name,line1:n.address||"",city:"",state:"",postal_code:"",country:"US",phone:""}),[h,v]=f(!1);E(()=>{(async()=>{const x=await s(),w="https://studio-platform-api.slichti.workers.dev";try{const b=await z(`${w}/platform/hardware/skus`,x);b&&b.data&&r(b.data)}catch(b){console.error("Failed to fetch SKUs",b)}finally{d(!1)}})()},[s]);const y=async()=>{if(!o)return;v(!0);const N=await s(),x={skuId:o.id,quantity:1,shipping:{name:g.name,address:{line1:g.line1,city:g.city,state:g.state,postal_code:g.postal_code,country:g.country},phone:g.phone}},w=await z("https://studio-platform-api.slichti.workers.dev/platform/hardware/orders",N,{method:"POST",body:JSON.stringify(x)});v(!1),w&&!w.error?(_.success("Order Placed Successfully! You will receive confirmation shortly."),p(!1)):_.error(`Order Failed: ${w?.error||"Unknown error"}`)};return t("div",{className:"max-w-4xl text-zinc-900 dark:text-zinc-100",children:[e("h1",{className:"text-2xl font-bold mb-6",children:"Hardware & Terminals"}),e("p",{className:"text-zinc-500 mb-8 max-w-2xl",children:"Purchase Stripe Terminal readers to accept in-person payments fully integrated with your studio."}),u&&o&&e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-xl border border-zinc-200 dark:border-zinc-800 w-full max-w-lg p-6 my-8",children:[t("h3",{className:"text-lg font-bold mb-4",children:["Order ",o.product?.name||"Reader"]}),t("div",{className:"space-y-4",children:[t("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg flex items-center gap-4",children:[o.image&&e("img",{src:o.image,alt:"",className:"w-12 h-12 object-contain"}),t("div",{children:[e("div",{className:"font-medium",children:o.product?.name}),t("div",{className:"text-sm text-zinc-500",children:["$",(o.price.unit_amount/100).toFixed(2)]})]})]}),e("h4",{className:"font-medium border-b dark:border-zinc-700 pb-2",children:"Shipping Address"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"col-span-2",children:[e("label",{className:"block text-xs font-medium mb-1",children:"Recipient Name"}),e("input",{value:g.name,onChange:N=>m({...g,name:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]}),t("div",{className:"col-span-2",children:[e("label",{className:"block text-xs font-medium mb-1",children:"Address Line 1"}),e("input",{value:g.line1,onChange:N=>m({...g,line1:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium mb-1",children:"City"}),e("input",{value:g.city,onChange:N=>m({...g,city:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium mb-1",children:"State"}),e("input",{value:g.state,onChange:N=>m({...g,state:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium mb-1",children:"Zip Code"}),e("input",{value:g.postal_code,onChange:N=>m({...g,postal_code:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium mb-1",children:"Country"}),t("select",{value:g.country,onChange:N=>m({...g,country:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm",children:[e("option",{value:"US",children:"United States"}),e("option",{value:"CA",children:"Canada"}),e("option",{value:"GB",children:"United Kingdom"})]})]}),t("div",{className:"col-span-2",children:[e("label",{className:"block text-xs font-medium mb-1",children:"Phone"}),e("input",{value:g.phone,onChange:N=>m({...g,phone:N.target.value}),className:"w-full bg-zinc-50 dark:bg-zinc-800 border-none rounded-md px-3 py-2 text-sm"})]})]})]}),t("div",{className:"flex gap-3 mt-6 justify-end",children:[e("button",{onClick:()=>p(!1),className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-md",children:"Cancel"}),e("button",{onClick:y,disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:h?"Placing Order...":"Confirm Purchase"})]})]})}),l?e("div",{children:"Loading hardware..."}):a.length===0?e("div",{className:"p-8 bg-zinc-50 dark:bg-zinc-900 rounded-lg text-center text-zinc-500",children:"No hardware available for purchase at this time."}):e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(N=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden shadow-sm flex flex-col",children:[e("div",{className:"aspect-video bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center p-4",children:N.image?e("img",{src:N.image,alt:N.product?.name,className:"h-full object-contain"}):e("div",{className:"text-4xl",children:"ðŸ“ "})}),t("div",{className:"p-6 flex-1 flex flex-col",children:[e("h3",{className:"text-lg font-bold mb-1",children:N.product?.name||"Terminal Reader"}),e("p",{className:"text-sm text-zinc-500 mb-4 flex-1",children:N.product?.description||"Accept payments securely with this Stripe Terminal reader."}),t("div",{className:"flex items-center justify-between mt-auto pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[t("div",{className:"text-xl font-bold",children:["$",(N.price.unit_amount/100).toFixed(2)]}),e("button",{onClick:()=>{c(N),p(!0)},className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-md text-sm font-medium hover:opacity-90",children:"Buy Now"})]})]})]},N.id))})]})}),fm=Object.freeze(Object.defineProperty({__proto__:null,default:bm},Symbol.toStringTag,{value:"Module"})),Qt=Ee.forwardRef(({className:i,children:n,...s},a)=>t("div",{className:"relative",children:[e("select",{className:Z("appearance-none flex h-10 w-full items-center justify-between rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",i),ref:a,...s,children:n}),e(Gt,{className:"absolute right-3 top-3 h-4 w-4 opacity-50 pointer-events-none"})]}));Qt.displayName="Select";function xm({children:i}){return e(Jn,{as:"div",className:"relative inline-block text-left",children:i})}function vm({children:i,className:n,...s}){return e(Jn.Button,{className:Z("inline-flex justify-center",n),...s,children:i})}function ym({children:i,className:n,align:s="end"}){return e(ot,{as:Ie,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e(Jn.Items,{className:Z("absolute z-50 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-zinc-950 dark:ring-zinc-800",s==="end"?"right-0":"left-0",n),children:e("div",{className:"py-1",children:i})})})}function ni({children:i,className:n,onClick:s}){return e(Jn.Item,{children:({active:a})=>e("button",{onClick:s,className:Z("flex w-full items-center px-4 py-2 text-sm",a?"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100":"text-zinc-700 dark:text-zinc-300",n),children:i})})}function _f({children:i,className:n}){return e("div",{className:Z("px-4 py-2 text-xs font-semibold text-zinc-500 uppercase tracking-wider dark:text-zinc-400",n),children:i})}function Af({className:i}){return e("div",{className:Z("my-1 h-px bg-zinc-100 dark:bg-zinc-800",i)})}function Ls({checked:i,onCheckedChange:n,disabled:s,className:a="",id:r}){return e(ur,{id:r,checked:i,onChange:n,disabled:s,className:`${i?"bg-zinc-900 dark:bg-zinc-50":"bg-zinc-200 dark:bg-zinc-800"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 dark:focus-visible:ring-zinc-300 dark:focus-visible:ring-offset-zinc-950 ${a}`,children:e("span",{className:`${i?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})}const vs=[{value:"Trophy",label:"Trophy",icon:mt},{value:"Dumbbell",label:"Dumbbell",icon:Wn},{value:"Heart",label:"Heart",icon:Ss},{value:"Calendar",label:"Calendar",icon:K},{value:"Activity",label:"Activity",icon:_e},{value:"Flame",label:"Flame",icon:K}],zm=j(function(){const{slug:n}=ae(),[s,a]=f([]),[r,l]=f(!0),[d,o]=f(!1),[c,u]=f(null);E(()=>{p()},[n]);const p=async()=>{try{const h=await window.Clerk?.session?.getToken(),v=await z("/tenant/progress/metrics",h,{headers:{"X-Tenant-Slug":n||""}});a(v.sort((y,N)=>(y.displayOrder||0)-(N.displayOrder||0)))}catch(h){console.error(h),_.error("Failed to load metrics")}finally{l(!1)}},g=async(h,v)=>{a(y=>y.map(N=>N.id===h?{...N,...v}:N));try{const y=await window.Clerk?.session?.getToken();await z(`/tenant/progress/metrics/${h}`,y,{method:"PUT",headers:{"X-Tenant-Slug":n||""},body:JSON.stringify(v)}),_.success("Updated")}catch{_.error("Failed to update"),p()}},m=async()=>{if(c)try{const h=await window.Clerk?.session?.getToken();await z(`/tenant/progress/metrics/${c}`,h,{method:"DELETE",headers:{"X-Tenant-Slug":n||""}}),a(v=>v.filter(y=>y.id!==c)),_.success("Metric deleted")}catch{_.error("Failed to delete")}finally{u(null)}};return t("div",{className:"max-w-5xl pb-10",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Metric Management"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Configure what metrics are tracked for your students."})]}),e(Nm,{open:d,onOpenChange:o,onSuccess:h=>{a(v=>[...v,h]),o(!1)},slug:n})]}),t("div",{className:"space-y-4",children:[s.map(h=>t("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm",children:[t("div",{className:"flex items-center gap-4",children:[e("div",{className:"p-2 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-500",children:vs.find(v=>v.value===h.icon)?.icon?vs.find(v=>v.value===h.icon).icon({className:"h-5 w-5"}):e(_e,{className:"h-5 w-5"})}),t("div",{children:[t("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[h.name,!h.active&&e(ge,{variant:"outline",className:"text-xs",children:"Inactive"})]}),t("div",{className:"text-xs text-zinc-500 flex gap-2",children:[e("span",{className:"capitalize",children:h.category}),e("span",{children:"â€¢"}),e("span",{children:h.aggregation.toUpperCase()}),e("span",{children:"â€¢"}),t("span",{children:["Unit: ",h.unit]})]})]})]}),t("div",{className:"flex items-center gap-6",children:[t("div",{className:"flex items-center gap-2",children:[e(ne,{htmlFor:`visible-${h.id}`,className:"text-xs text-zinc-500",children:"Student Visible"}),e(Ls,{id:`visible-${h.id}`,checked:h.visibleToStudents,onCheckedChange:v=>g(h.id,{visibleToStudents:v})})]}),t(xm,{children:[e(vm,{asChild:!0,children:e(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e(Ci,{className:"h-4 w-4"})})}),t(ym,{align:"end",children:[e(ni,{onClick:()=>g(h.id,{active:!h.active}),children:h.active?"Deactivate":"Activate"}),t(ni,{className:"text-red-600",onClick:()=>u(h.id),children:[e(ue,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},h.id)),s.length===0&&!r&&e("div",{className:"text-center py-12 text-zinc-500",children:"No metrics defined. Add one to start tracking."})]}),e(Se,{isOpen:!!c,onClose:()=>u(null),onConfirm:m,title:"Delete Metric",message:"Are you sure? This will delete all historical data for this metric.",confirmText:"Delete",isDestructive:!0})]})});function Nm({open:i,onOpenChange:n,onSuccess:s,slug:a}){const[r,l]=f(!1);return t(kt,{open:i,onOpenChange:n,children:[e(Dn,{asChild:!0,children:t(Q,{children:[e(ee,{className:"mr-2 h-4 w-4"}),"Add Metric"]})}),t(wt,{children:[t(Ct,{children:[e(St,{children:"Add Custom Metric"}),e(As,{children:"Define a new metric to track for your students."})]}),t("form",{onSubmit:async o=>{o.preventDefault(),l(!0);const c=new FormData(o.currentTarget),u={name:c.get("name"),unit:c.get("unit"),category:c.get("category"),aggregation:c.get("aggregation"),icon:c.get("icon"),visibleToStudents:!0};try{const p=await window.Clerk?.session?.getToken(),g=await z("/tenant/progress/metrics",p,{method:"POST",headers:{"X-Tenant-Slug":a||""},body:JSON.stringify(u)});s(g),_.success("Metric created")}catch(p){_.error(p.message||"Failed to create")}finally{l(!1)}},className:"space-y-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Metric Name"}),e(ye,{name:"name",placeholder:"e.g. Burpees",required:!0})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Category"}),t(Qt,{name:"category",defaultValue:"custom",children:[e("option",{value:"mindfulness",children:"Mindfulness"}),e("option",{value:"strength",children:"Strength"}),e("option",{value:"cardio",children:"Cardio"}),e("option",{value:"custom",children:"Custom"})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Unit"}),e(ye,{name:"unit",placeholder:"e.g. reps, mins",required:!0})]})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Aggregation"}),t(Qt,{name:"aggregation",defaultValue:"sum",children:[e("option",{value:"sum",children:"Sum (Total)"}),e("option",{value:"max",children:"Max (Record)"}),e("option",{value:"avg",children:"Average"}),e("option",{value:"latest",children:"Latest Value"})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Icon"}),e(Qt,{name:"icon",defaultValue:"Activity",children:vs.map(o=>e("option",{value:o.value,children:o.label},o.value))})]})]}),e(an,{children:e(Q,{type:"submit",disabled:r,children:r?"Creating...":"Create Metric"})})]})]})]})}const km=Object.freeze(Object.defineProperty({__proto__:null,default:zm},Symbol.toStringTag,{value:"Module"})),wm=async i=>{const{getToken:n,userId:s}=await P(i),a=await n(),r=i.params.slug;try{const[l,d,o]=await Promise.all([z("/tenant/info",a,{headers:{"X-Tenant-Slug":r}}),z("/tenant/usage",a,{headers:{"X-Tenant-Slug":r}}),z("/public/plans",a)]);if(!l.roles?.includes("owner")&&!l.roles?.includes("admin")&&d.error)throw new Response("Unauthorized",{status:403});return{tenant:l,usage:d,plans:o,slug:r,token:a}}catch{throw new Response("Unauthorized",{status:401})}},Cm=H(()=>import("./BillingPage-DBFFN40T.js")),Sm=j(function(){return e(V,{fallback:e("div",{className:"p-8",children:"Loading Billing..."}),children:e(W,{fallback:e("div",{className:"p-8",children:"Loading Billing..."}),children:e(Cm,{})})})}),jm=Object.freeze(Object.defineProperty({__proto__:null,default:Sm,loader:wm},Symbol.toStringTag,{value:"Module"})),Mm=H(()=>import("./SettingsIndex-CDWGcqPQ.js")),_m=async i=>{const{getToken:n}=await P(i),s=await n(),a=await i.request.formData(),r=a.get("intent"),l=i.params.slug;if(r==="create_location"){const d=a.get("name"),o=a.get("address");if(!d)return{error:"Name is required"};try{return await z("/locations",s,{method:"POST",headers:{"X-Tenant-Slug":l},body:JSON.stringify({name:d,address:o})}),{success:!0}}catch{return{error:"Failed to create location"}}}if(r==="delete_location"){const d=a.get("id");try{return await z(`/locations/${d}`,s,{method:"DELETE",headers:{"X-Tenant-Slug":l}}),{success:!0}}catch{return{error:"Failed to delete location"}}}return null},Am=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;let r=[];try{r=(await z("/locations",s,{headers:{"X-Tenant-Slug":a}})).locations||[]}catch(l){console.error("Failed to load locations",l)}return{locations:r,token:s}},$m=j(function(){const{locations:n}=D();return e(V,{fallback:e("div",{className:"p-8 animate-pulse bg-zinc-50 dark:bg-zinc-900 rounded-xl h-96"}),children:e(Mm,{locations:n})})}),Tm=Object.freeze(Object.defineProperty({__proto__:null,action:_m,default:$m,loader:Am},Symbol.toStringTag,{value:"Module"})),Pm=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;let r=[],l="";try{const d=await z("/tenant/info",s,{headers:{"X-Tenant-Slug":a}});l=d.id,r=(d.features||[]).map(o=>({featureKey:o,enabled:!0}))}catch(d){console.error("Failed to load addons",d)}return{features:r,tenantId:l,token:s,slug:a}},Im=j(function(){const{features:n,tenantId:s,token:a,slug:r}=D(),[l,d]=f(n||[]),[o,c]=f(null),u=l.find(g=>g.featureKey==="sms"&&g.enabled);async function p(){if(!s)return;c("sms");const g=!u;try{await z("/tenant/features",a,{method:"POST",headers:{"X-Tenant-Slug":r},body:JSON.stringify({featureKey:"sms",enabled:g})}),d(g?[...l,{featureKey:"sms",enabled:!0}]:l.filter(m=>m.featureKey!=="sms")),_.success(`SMS Add-on ${g?"enabled":"disabled"}`)}catch(m){_.error("Failed to update add-on"),console.error(m)}finally{c(null)}}return t("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900",children:"Add-ons"}),e("p",{className:"text-zinc-500",children:"Enable power features for your studio."})]}),t("div",{className:"grid gap-6",children:[t("div",{className:"bg-white border border-zinc-200 rounded-xl p-6 flex flex-col md:flex-row items-start md:items-center justify-between shadow-sm",children:[t("div",{className:"flex gap-4",children:[e("div",{className:"bg-blue-100 p-3 rounded-lg text-blue-600",children:e(ft,{className:"h-6 w-6"})}),t("div",{children:[e("h3",{className:"text-lg font-semibold text-zinc-900",children:"SMS Notifications"}),e("p",{className:"text-zinc-600 max-w-md mt-1",children:"Send automated text reminders for classes, waitlist alerts, and announcements to your students."}),t("div",{className:"mt-2 flex items-center gap-2 text-sm text-zinc-500",children:[e("span",{className:"font-medium text-zinc-900",children:"$10.00/mo"}),e("span",{children:"+ $0.01 per message"})]})]})]}),t("div",{className:"mt-4 md:mt-0 flex gap-3 items-center",children:[u?t("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium bg-green-50 px-3 py-1 rounded-full",children:[e(pe,{className:"h-4 w-4"})," Active"]}):e("span",{className:"text-zinc-400 text-sm",children:"Inactive"}),e("button",{onClick:p,disabled:!!o,className:`px-4 py-2 rounded-lg text-sm font-medium border transition-colors ${u?"border-red-200 text-red-700 hover:bg-red-50":"bg-blue-600 text-white border-transparent hover:bg-blue-700"}`,children:o==="sms"?"Updating...":u?"Disable":"Enable Add-on"})]})]}),e("div",{className:"bg-zinc-50 border border-zinc-200 border-dashed rounded-xl p-6 text-center text-zinc-500",children:"More add-ons coming soon (Payroll, Branded App, etc.)"})]})]})}),Lm=Object.freeze(Object.defineProperty({__proto__:null,default:Im,loader:Pm},Symbol.toStringTag,{value:"Module"})),Dm=async i=>{const{params:n}=i,{getToken:s}=await P(i),a=await s();try{return{domainInfo:await z("/tenant/domain",a,{headers:{"X-Tenant-Slug":n.slug}})}}catch{return{domainInfo:{domain:null}}}},Om=j(function(){const{tenant:n}=U(),{domainInfo:s}=D(),[a,r]=f(!1),[l,d]=f(""),[o,c]=f(null),[u,p]=f(!1);if(n.tier!=="scale")return t("div",{className:"max-w-4xl mx-auto py-10",children:[t("div",{className:"mb-8",children:[e(L,{to:`/studio/${n.slug}/settings`,className:"text-sm text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300 mb-2 inline-block",children:"â† Back to Settings"}),e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Custom Domain"})]}),t("div",{className:"bg-gradient-to-br from-purple-50 to-white dark:from-purple-900/10 dark:to-zinc-900 border border-purple-100 dark:border-purple-800/30 rounded-xl p-8 text-center max-w-2xl mx-auto shadow-sm",children:[e("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full flex items-center justify-center mx-auto mb-6",children:e(xe,{className:"w-8 h-8"})}),e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-50 mb-2",children:"Connect Your Own Domain"}),t("p",{className:"text-zinc-600 dark:text-zinc-400 mb-6",children:["Use a custom domain (e.g., ",e("span",{className:"font-mono text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/30 px-1 rounded",children:"www.mystudio.com"}),") instead of ",e("span",{className:"font-mono",children:"studio-platform.com"}),". This feature is exclusive to the ",e("strong",{children:"Scale"})," plan."]}),e("div",{className:"flex justify-center gap-4",children:e(L,{to:`/studio/${n.slug}/settings/billing`,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-sm",children:"Upgrade to Scale"})})]})]});const g=async y=>{y.preventDefault(),r(!0),c(null);try{const N=await window.Clerk?.session?.getToken();await z("/tenant/domain",N,{method:"POST",headers:{"X-Tenant-Slug":n.slug},body:JSON.stringify({domain:l})}),window.location.reload()}catch(N){c(N.message||"Failed to add domain.")}finally{r(!1)}},m=async()=>{p(!0)},h=async()=>{r(!0);try{const y=await window.Clerk?.session?.getToken();await z("/tenant/domain",y,{method:"DELETE",headers:{"X-Tenant-Slug":n.slug}}),window.location.reload()}catch(y){_.error(y.message)}finally{r(!1),p(!1)}},v=!!s?.domain;return t("div",{className:"max-w-4xl pb-10",children:[t("div",{className:"mb-8",children:[e(L,{to:`/studio/${n.slug}/settings`,className:"text-sm text-zinc-500 hover:text-zinc-800 dark:hover:text-zinc-300 mb-2 inline-block",children:"â† Back to Settings"}),e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Custom Domain"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Connect your own web address to your studio portal."})]}),o&&t("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 text-sm flex items-start gap-2 border border-red-100",children:[e(nn,{className:"w-5 h-5 shrink-0"}),o]}),v?e("div",{className:"space-y-6",children:t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm",children:[t("div",{className:"flex justify-between items-start mb-6",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`p-2 rounded-full ${s.status==="active"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:s.status==="active"?e(me,{className:"w-6 h-6"}):e(Xe,{className:`w-6 h-6 ${s.status!=="active"?"animate-spin-slow":""}`})}),t("div",{children:[e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:s.domain}),e("p",{className:`text-sm font-medium ${s.status==="active"?"text-green-600":"text-yellow-600"}`,children:s.status==="active"?"Active & Secured":"Verification Pending"})]})]}),e("button",{onClick:m,disabled:a,className:"text-zinc-400 hover:text-red-600 p-2 rounded hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",title:"Remove Domain",children:e(ue,{className:"w-5 h-5"})})]}),s.status!=="active"&&t("div",{className:"bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700 rounded-lg p-4 mb-4",children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 text-sm mb-3",children:"DNS Configuration Required"}),e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"To verify ownership and route traffic, please add the following DNS records to your domain provider (e.g. GoDaddy, Namecheap)."}),t("div",{className:"space-y-3",children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded p-3 text-sm font-mono flex justify-between items-center group",children:[t("div",{className:"flex-1",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Type"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200",children:"CNAME"})]}),t("div",{className:"flex-[2] border-l border-zinc-100 dark:border-zinc-800 pl-4",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Name (Host)"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200",children:s.domain})]}),t("div",{className:"flex-[3] border-l border-zinc-100 dark:border-zinc-800 pl-4",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Content (Target)"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200 break-all",children:"studio-platform-web.pages.dev"})]})]}),s.dns_records?.length>0&&s.dns_records.map((y,N)=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded p-3 text-sm font-mono flex justify-between items-center group",children:[t("div",{className:"flex-1",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Type"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200",children:"TXT"})]}),t("div",{className:"flex-[2] border-l border-zinc-100 dark:border-zinc-800 pl-4",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Name"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200",children:y.txt_name||"_cf-custom-hostname"})]}),t("div",{className:"flex-[3] border-l border-zinc-100 dark:border-zinc-800 pl-4",children:[e("div",{className:"text-xs text-zinc-400 uppercase tracking-wide mb-1",children:"Content"}),e("div",{className:"font-semibold text-zinc-800 dark:text-zinc-200 break-all",children:y.txt_value})]})]},N))]}),e("div",{className:"mt-4 flex justify-end",children:t("button",{onClick:()=>window.location.reload(),className:"text-xs font-medium text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[e(Xe,{className:"w-3 h-3"})," Check Verification Status"]})})]}),s.status==="active"&&t("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 p-4 rounded-lg flex items-start gap-3",children:[e(Hn,{className:"w-5 h-5 shrink-0 mt-0.5"}),t("div",{children:[e("h4",{className:"font-semibold text-sm",children:"SSL Certificate Active"}),e("p",{className:"text-sm mt-1 opacity-90",children:"Your custom domain is secured with a managed SSL certificate. It may take up to 24 hours for DNS to propagate globally."}),t("a",{href:`https://${s.domain}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 mt-3 text-sm font-medium hover:underline",children:["Visit ",s.domain," ",e(Nt,{className:"w-3 h-3"})]})]})]})]})}):t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm",children:[e("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"Add a Custom Domain"}),e("form",{onSubmit:g,className:"max-w-md",children:t("div",{className:"mb-4",children:[e("label",{className:"block text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Domain Name"}),t("div",{className:"flex gap-2",children:[e("input",{type:"text",value:l,onChange:y=>d(y.target.value),className:"flex-1 px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md bg-white dark:bg-zinc-800 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"studio.example.com",disabled:a}),e("button",{type:"submit",disabled:a||!l,className:"bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 px-4 py-2 rounded-md font-medium text-sm hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50",children:a?"Adding...":"Add Domain"})]}),t("p",{className:"text-xs text-zinc-500 mt-2",children:["We recommend using a subdomain like ",e("span",{className:"font-mono",children:"app.yourdomain.com"})," or ",e("span",{className:"font-mono",children:"studio.yourdomain.com"}),"."]})]})})]}),e(Se,{isOpen:u,onClose:()=>p(!1),onConfirm:h,title:"Disconnect Domain",message:"Are you sure? This will disconnect your custom domain immediately. Your studio will revert to the default subdomain.",confirmText:"Disconnect",isDestructive:!0})]})}),Em=Object.freeze(Object.defineProperty({__proto__:null,default:Om,loader:Dm},Symbol.toStringTag,{value:"Module"})),Bm=j(function(){const{tenant:n}=U(),{slug:s}=ae(),[a,r]=f(null),l=typeof window<"u"?window.location.origin:"https://platform.com",d=`${l}/embed/${s}/calendar`,o=(u,p=800)=>`<iframe 
  src="${u}" 
  style="width: 100%; height: ${p}px; border: none; border-radius: 8px; overflow: hidden;"
  title="${n.name} Schedule"
></iframe>`,c=(u,p)=>{navigator.clipboard.writeText(u),r(p),setTimeout(()=>r(null),2e3)};return t("div",{className:"max-w-4xl p-8 animate-in fade-in duration-500",children:[t("div",{className:"mb-8",children:[e("h2",{className:"text-3xl font-extrabold text-zinc-900 dark:text-zinc-100 tracking-tight mb-2",children:"Website Widgets"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Embed your studio schedule directly into your website (Wix, Squarespace, WordPress, etc.)."})]}),t("div",{className:"grid grid-cols-1 gap-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl p-8 shadow-sm",children:[t("div",{className:"flex justify-between items-start mb-6",children:[t("div",{className:"flex gap-4",children:[e("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl h-fit",children:e(Ni,{size:24})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Class Calendar"}),e("p",{className:"text-sm text-zinc-500 mt-1 max-w-lg",children:"Display your upcoming classes. Students can view details and clear up availability. Booking actions will open in a secure window."})]})]}),t("a",{href:d,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline",children:[e(Nt,{size:14}),"Preview"]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 font-mono text-xs overflow-x-auto relative group",children:[e("code",{className:"text-zinc-700 dark:text-zinc-300 whitespace-pre-wrap break-all",children:o(d)}),e("button",{onClick:()=>c(o(d),"calendar"),className:"absolute top-4 right-4 p-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-md shadow-sm hover:bg-zinc-50 transition-colors",children:a==="calendar"?e(pe,{size:14,className:"text-emerald-500"}):e(Bt,{size:14,className:"text-zinc-500"})})]}),t("div",{className:"mt-6 flex flex-col gap-4",children:[e("h4",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100",children:"Setup Instructions"}),t("ol",{className:"list-decimal list-inside text-sm text-zinc-600 dark:text-zinc-400 space-y-2",children:[e("li",{children:"Copy the code snippet above."}),e("li",{children:"Go to your website builder (Wix, Squarespace, etc.)."}),t("li",{children:["Add an ",e("strong",{children:"Embed"})," or ",e("strong",{children:"HTML Code"})," block."]}),e("li",{children:"Paste the code snippet and save."})]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl p-8 shadow-sm",children:[t("div",{className:"flex justify-between items-start mb-6",children:[t("div",{className:"flex gap-4",children:[e("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-xl h-fit",children:e(ks,{size:24})}),t("div",{children:[e("h3",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Membership Pricing"}),e("p",{className:"text-sm text-zinc-500 mt-1 max-w-lg",children:"Showcase your memberships and class packs. The layout is responsive and adapts to your site width."})]})]}),t("a",{href:`${l}/embed/${s}/pricing`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline",children:[e(Nt,{size:14}),"Preview"]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 font-mono text-xs overflow-x-auto relative group",children:[e("code",{className:"text-zinc-700 dark:text-zinc-300 whitespace-pre-wrap break-all",children:o(`${l}/embed/${s}/pricing`,600)}),e("button",{onClick:()=>c(o(`${l}/embed/${s}/pricing`,600),"pricing"),className:"absolute top-4 right-4 p-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-md shadow-sm hover:bg-zinc-50 transition-colors",children:a==="pricing"?e(pe,{size:14,className:"text-emerald-500"}):e(Bt,{size:14,className:"text-zinc-500"})})]}),t("div",{className:"mt-6 flex flex-col gap-4",children:[e("h4",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100",children:"Usage Tips"}),t("ul",{className:"list-disc list-inside text-sm text-zinc-600 dark:text-zinc-400 space-y-2",children:[t("li",{children:["Set the iframe height to ",e("code",{children:"600px"})," or more to avoid scrollbars."]}),e("li",{children:"If you have no memberships created, a demo preview (based on average studio pricing) will appear to help you visualize the layout."})]})]})]})]})]})}),Fm=Object.freeze(Object.defineProperty({__proto__:null,default:Bm},Symbol.toStringTag,{value:"Module"})),Rm=j(function(){const{tenant:n,token:s}=U(),[a,r]=f(null),[l,d]=f(!0),[o,c]=f(!1);E(()=>{s&&z(`/studios/${n.id}/mobile-config`,s).then(p=>{p.error?_.error("Failed to load mobile settings"):r(p)}).catch(()=>_.error("Failed to load mobile settings")).finally(()=>d(!1))},[s,n.id]);const u=async()=>{c(!0);try{const p=await z(`/studios/${n.id}/mobile-config`,s,{method:"PUT",body:JSON.stringify(a)});if(p.error)throw new Error(p.error);_.success("Mobile settings saved successfully")}catch(p){_.error(p.message||"Failed to save settings")}finally{c(!1)}};return l?e("div",{className:"p-12 flex justify-center",children:e(oe,{className:"animate-spin text-zinc-400"})}):a?t("div",{className:"max-w-4xl mx-auto p-8",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[t("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-50 flex items-center gap-2",children:[e(Me,{className:"w-6 h-6"}),"Mobile App Configuration"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage your dedicated mobile app appearance and features."})]}),t("button",{onClick:u,disabled:o,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition disabled:opacity-50",children:[o?e(oe,{className:"w-4 h-4 animate-spin"}):e(Ue,{className:"w-4 h-4"}),"Save Changes"]})]}),t("div",{className:"grid gap-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 flex items-center justify-between",children:[t("div",{children:[e("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100",children:"Enable Mobile App Access"}),e("p",{className:"text-sm text-zinc-500",children:"Allow members to log in to your studio via the mobile app."})]}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:a.enabled,onChange:p=>r({...a,enabled:p.target.checked})}),e("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-zinc-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-zinc-600 peer-checked:bg-blue-600"})]})]}),t("div",{className:`transition-opacity ${a.enabled?"":"opacity-50 pointer-events-none"}`,children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 mb-6",children:[t("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[e(bi,{className:"w-5 h-5"})," Theming"]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Accent Color"}),t("div",{className:"flex items-center gap-3",children:[e("input",{type:"color",value:a.theme.primaryColor,onChange:p=>r({...a,theme:{...a.theme,primaryColor:p.target.value}}),className:"h-10 w-20 rounded cursor-pointer bg-transparent border-none p-0"}),e("span",{className:"text-sm font-mono text-zinc-500 uppercase",children:a.theme.primaryColor})]}),e("p",{className:"text-xs text-zinc-500 mt-1",children:"Used for buttons, tabs, and highlights."})]}),t("div",{className:"flex items-center justify-between bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded-lg",children:[t("div",{children:[e("span",{className:"block font-medium text-zinc-900 dark:text-zinc-100",children:"Force Dark Mode"}),e("span",{className:"text-xs text-zinc-500",children:"Always use dark theme regardless of system settings."})]}),t("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",className:"sr-only peer",checked:a.theme.darkMode,onChange:p=>r({...a,theme:{...a.theme,darkMode:p.target.checked}})}),e("div",{className:"w-11 h-6 bg-zinc-200 rounded-full peer peer-checked:bg-blue-600 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"})]})]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 mb-6",children:[t("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[e(qa,{className:"w-5 h-5"})," Features Tabs"]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{k:"booking",l:"Book Classes"},{k:"shop",l:"Shop / Store"},{k:"vod",l:"Video Library"},{k:"profile",l:"Member Profile"}].map(p=>t("label",{className:"flex items-center p-3 border border-zinc-200 dark:border-zinc-700 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-800 cursor-pointer transition",children:[e("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded border-zinc-300 focus:ring-blue-500",checked:a.features[p.k],onChange:g=>r({...a,features:{...a.features,[p.k]:g.target.checked}})}),e("span",{className:"ml-3 font-medium text-zinc-700 dark:text-zinc-300",children:p.l})]},p.k))})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6",children:[t("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[e(Ga,{className:"w-5 h-5"})," Your App Access"]}),t("div",{className:"space-y-4",children:[t("div",{className:"bg-zinc-50 dark:bg-zinc-800 p-4 rounded-lg flex items-center justify-between",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Studio Code"}),e("p",{className:"text-xs text-zinc-500",children:"Your members will enter this code in the [Platform] App to access your studio."})]}),e("div",{className:"text-xl font-mono font-bold text-blue-600 bg-white dark:bg-zinc-900 px-4 py-2 rounded border border-blue-200 dark:border-blue-900",children:n.slug})]}),t("div",{className:"mt-8 border-t border-zinc-100 dark:border-zinc-800 pt-6",children:[e("h4",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 mb-4",children:"Scan to Join"}),t("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e("div",{className:"bg-white p-4 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-sm",children:e(Pi,{value:`https://app.studioplatform.com/join/${n.slug}`,size:160,level:"H",className:"h-40 w-40"})}),t("div",{className:"flex-1",children:[e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-3",children:"Print this QR code and display it at your front desk. New members can scan it to instantly load your studio in the app."}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>window.print(),className:"text-sm bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-800 dark:hover:bg-zinc-700 text-zinc-900 dark:text-zinc-100 px-3 py-1.5 rounded-md transition",children:"Print Page"})})]})]})]})]})]})]})]})]}):e("div",{className:"p-12 text-center text-zinc-500",children:"Failed to load configuration."})}),Xm=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"}));function Um(i){const{getToken:n}=J();return be({queryKey:["roles",i],queryFn:async()=>{const s=await n();return await z("/tenant/roles",s,{headers:{"X-Tenant-Slug":i}})||[]},enabled:!!i,staleTime:1e3*60*60})}const Wm=[{name:"Financials",permissions:[{key:"view_financials",label:"View Financials & Reports"},{key:"manage_financials",label:"Manage Payroll & Payouts"}]},{name:"Members",permissions:[{key:"view_members",label:"View Member Profiles"},{key:"manage_members",label:"Edit Member Details & Notes"},{key:"export_data",label:"Export Data (CSV)"}]},{name:"Schedule",permissions:[{key:"view_schedule",label:"View Schedule"},{key:"manage_schedule",label:"Create/Edit Classes"},{key:"manage_bookings",label:"Manage Bookings & Check-ins"}]},{name:"Operations",permissions:[{key:"manage_waivers",label:"Manage Waivers"},{key:"manage_staff",label:"Manage Staff & Availability"},{key:"manage_roles",label:"Manage Roles & Permissions"}]},{name:"Marketing",permissions:[{key:"view_marketing",label:"View Campaigns"},{key:"manage_marketing",label:"Create Campaigns & Automations"}]},{name:"Settings",permissions:[{key:"manage_settings",label:"Manage Studio Settings"}]}],Hm=j(function(){const{slug:n}=ae(),{getToken:s}=J(),a=en(),{data:r=[],isLoading:l}=Um(n),[d,o]=f(!1),[c,u]=f(null),[p,g]=f(null),[m,h]=f(!1),v=()=>a.invalidateQueries({queryKey:["roles",n]}),y=()=>{u(null),o(!0)},N=b=>{u(b),o(!0)},x=async()=>{if(p)try{const b=await s();await z(`/tenant/roles/${p}`,b,{method:"DELETE",headers:{"X-Tenant-Slug":n}}),_.success("Role deleted"),v()}catch(b){_.error(b.message||"Failed to delete role")}finally{g(null)}},w=async(b,k)=>{h(!0);try{const S=await s(),C=k?`/tenant/roles/${k}`:"/tenant/roles";await z(C,S,{method:k?"PUT":"POST",headers:{"X-Tenant-Slug":n},body:JSON.stringify(b)}),_.success(k?"Role updated":"Role created"),v(),o(!1)}catch(S){console.error(S),_.error(S.message||"Failed to save role")}finally{h(!1)}};return t("div",{className:"flex flex-col h-full bg-zinc-50 dark:bg-zinc-950",children:[e("header",{className:"bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 px-6 py-4",children:t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Roles & Permissions"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Create custom roles to grant specific access to your team."})]}),t(Q,{onClick:y,children:[e(ee,{className:"mr-2 h-4 w-4"})," Create Role"]})]})}),e(rn,{children:e("div",{className:"flex-1 overflow-y-auto p-6",children:l?e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3].map(b=>e(se,{className:"opacity-50",children:e("div",{className:"h-40 bg-zinc-100 dark:bg-zinc-800 animate-pulse rounded-xl m-4"})},b))}):t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e(se,{className:"border-blue-100 bg-blue-50/50 dark:bg-blue-900/10 dark:border-blue-800",children:t(de,{className:"p-6",children:[t("div",{className:"flex items-center gap-3 mb-4",children:[e("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:e(Oe,{size:20})}),e("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"System Roles"})]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Owner"}),e("div",{className:"text-sm text-blue-600 dark:text-blue-300/80",children:"Full access to everything. Cannot be restricted."})]}),t("div",{children:[e("div",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Instructor"}),e("div",{className:"text-sm text-blue-600 dark:text-blue-300/80",children:"Can manage their own classes, schedule, and view roster."})]})]})]})}),r.map(b=>e(se,{className:"hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors",children:t(de,{className:"p-6",children:[t("div",{className:"flex justify-between items-start mb-4",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:b.name}),b.description&&e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:b.description})]}),t("div",{className:"flex gap-2",children:[e(Q,{variant:"ghost",size:"icon",onClick:()=>N(b),children:e(bt,{size:16,className:"text-zinc-500"})}),e(Q,{variant:"ghost",size:"icon",onClick:()=>g(b.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:e(ue,{size:16})})]})]}),t("div",{className:"flex flex-wrap gap-2",children:[(b.permissions||[]).slice(0,5).map(k=>e(ge,{variant:"secondary",className:"font-normal text-xs bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 border-zinc-200 dark:border-zinc-700",children:k.replace(/_/g," ")},k)),(b.permissions?.length||0)>5&&t(ge,{variant:"outline",className:"text-xs text-zinc-400",children:["+",b.permissions.length-5," more"]})]})]})},b.id))]})})}),e(Qm,{isOpen:d,role:c,onClose:()=>o(!1),onSave:w,isSubmitting:m}),e(Se,{isOpen:!!p,onClose:()=>g(null),onConfirm:x,title:"Delete Role",message:"Are you sure you want to delete this role? This will remove this role from all members.",confirmText:"Delete Role",isDestructive:!0})]})});function Qm({isOpen:i,role:n,onClose:s,onSave:a,isSubmitting:r}){const[l,d]=f(""),[o,c]=f(""),[u,p]=f(new Set);f(()=>{i&&(d(n?.name||""),c(n?.description||""),p(new Set(n?.permissions||[])))});const g=h=>{const v=new Set(u);v.has(h)?v.delete(h):v.add(h),p(v)};return e(kt,{open:i,onOpenChange:s,children:t(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e(Ct,{children:e(St,{children:n?"Edit Role":"Create Custom Role"})}),t("form",{onSubmit:h=>{h.preventDefault(),a({name:l,description:o,permissions:Array.from(u)},n?.id)},className:"space-y-6 py-4",children:[t("div",{className:"space-y-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Role Name"}),e(ye,{required:!0,value:l,onChange:h=>d(h.target.value),placeholder:"e.g. Front Desk"})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Description"}),e(ye,{value:o,onChange:h=>c(h.target.value),placeholder:"Optional description"})]})]}),e("div",{className:"space-y-6",children:Wm.map(h=>t("div",{className:"border-t border-zinc-100 dark:border-zinc-800 pt-4",children:[e("h3",{className:"font-semibold text-xs text-zinc-500 uppercase tracking-wider mb-3",children:h.name}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.permissions.map(v=>{const y=u.has(v.key);return t("label",{className:Z("flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all",y?"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800":"border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/50"),children:[e("input",{type:"checkbox",className:"w-4 h-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-500",checked:y,onChange:()=>g(v.key)}),e("span",{className:Z("text-sm font-medium",y?"text-blue-900 dark:text-blue-100":"text-zinc-700 dark:text-zinc-300"),children:v.label})]},v.key)})})]},h.name))}),t(an,{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[e(Q,{type:"button",variant:"ghost",onClick:s,disabled:r,children:"Cancel"}),t(Q,{type:"submit",disabled:r,children:[r&&e(oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Role"]})]})]})]})})}const Jm=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"})),Vm=H(()=>import("./StaffPage-CiMAGxOa.js")),qm=j(function(){return e(V,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading staff..."}),children:()=>e(W,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading staff..."}),children:e(Vm,{})})})}),Gm=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"})),Wi=({node:i,index:n,parentPath:s,onUpdate:a,onDelete:r})=>{const[l,d]=f(!0);return t("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-lg bg-white dark:bg-zinc-900 overflow-hidden mb-2",children:[t("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-800/50 flex items-center gap-2 border-b border-zinc-100 dark:border-zinc-800",children:[e("button",{onClick:()=>d(!l),className:"p-1 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded text-zinc-500 dark:text-zinc-400",children:e(tn,{size:14,className:`transition-transform ${l?"rotate-90":""}`})}),e("input",{value:i.label,onChange:o=>a({...i,label:o.target.value}),className:"bg-transparent font-medium text-sm focus:outline-none flex-1 text-zinc-900 dark:text-zinc-100 placeholder-zinc-400",placeholder:"Option Label"}),t("div",{className:"flex items-center gap-1",children:[t("select",{value:i.type,onChange:o=>a({...i,type:o.target.value,children:o.target.value==="menu"?[]:void 0}),className:"text-xs border border-zinc-200 dark:border-zinc-700 rounded px-1 py-0.5 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-200",children:[e("option",{value:"action",children:"Action"}),e("option",{value:"menu",children:"Sub-Menu"})]}),e("button",{onClick:r,className:"text-red-500 p-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:e(ue,{size:14})})]})]}),l&&e("div",{className:"p-3 space-y-3 bg-white dark:bg-zinc-900",children:i.type==="action"?t("div",{className:"grid grid-cols-2 gap-3",children:[t("div",{children:[e("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 block mb-1",children:"Route To Role"}),t("select",{value:i.routeToRole||"support",onChange:o=>a({...i,routeToRole:o.target.value}),className:"w-full text-sm border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-200 focus:ring-2 focus:ring-black dark:focus:ring-zinc-600 outline-none",children:[e("option",{value:"support",children:"General Support"}),e("option",{value:"instructor",children:"Instructor"}),e("option",{value:"admin",children:"Admin / Billing"}),e("option",{value:"owner",children:"Owner"})]})]}),t("div",{children:[e("label",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 block mb-1",children:"Auto-Reply Message"}),e("input",{value:i.autoReply||"",onChange:o=>a({...i,autoReply:o.target.value}),className:"w-full text-sm border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1.5 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-200 focus:ring-2 focus:ring-black dark:focus:ring-zinc-600 outline-none",placeholder:"Optional auto-reply..."})]})]}):t("div",{className:"pl-4 border-l-2 border-zinc-100 dark:border-zinc-800",children:[i.children?.map((o,c)=>e(Wi,{node:o,index:c,parentPath:[...s,c],onUpdate:u=>{const p=[...i.children||[]];p[c]=u,a({...i,children:p})},onDelete:()=>{const u=[...i.children||[]];u.splice(c,1),a({...i,children:u})}},o.id)),t("button",{onClick:()=>{const o={id:crypto.randomUUID(),label:"New Option",type:"action"};a({...i,children:[...i.children||[],o]})},className:"flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400 font-medium mt-2 hover:underline",children:[e(Ya,{size:12})," Add Sub-Option"]})]})})]})},Ym=j(function(){const{slug:n}=ae(),{tenant:s}=U()||{},[a,r]=f(s?.settings?.chatConfig||[{id:"init-1",label:"I have a question about classes",type:"action",actionType:"message",routeToRole:"instructor",autoReply:"An instructor will get back to you shortly."},{id:"init-2",label:"Billing Issue",type:"action",actionType:"message",routeToRole:"admin",autoReply:"We are checking your billing details."}]),[l,d]=f(!1);return t("div",{className:"max-w-4xl pb-20",children:[t("div",{className:"mb-6 flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Chat Configuration"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Design the decision tree for your support chat."})]}),e("button",{onClick:async()=>{d(!0);try{const c=await window.Clerk?.session?.getToken();await z(`/studios/${s.id}/integrations`,c,{method:"PUT",headers:{"X-Tenant-Slug":n||""},body:JSON.stringify({chatEnabled:s.settings?.chatEnabled,chatConfig:a})}),_.success("Chat configuration saved!"),window.location.reload()}catch(c){_.error(c.message||"Failed to save")}finally{d(!1)}},disabled:l,className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 rounded-lg hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 transition-colors font-medium",children:l?"Saving...":t(G,{children:[e(Ue,{size:16})," Save Config"]})})]}),e("div",{className:"grid gap-6",children:t(se,{children:[t(we,{children:[e(Ce,{children:"Main Menu"}),e(Ve,{children:"These are the top-level options users will see when they open the chat."})]}),t(de,{children:[a.map((c,u)=>e(Wi,{node:c,index:u,parentPath:[u],onUpdate:p=>{const g=[...a];g[u]=p,r(g)},onDelete:()=>{const p=[...a];p.splice(u,1),r(p)}},c.id||`node-${u}`)),t("button",{onClick:()=>r([...a,{id:crypto.randomUUID(),label:"New Option",type:"action"}]),className:"w-full py-3 border-2 border-dashed border-zinc-200 dark:border-zinc-700 rounded-lg text-zinc-500 dark:text-zinc-400 hover:border-zinc-300 dark:hover:border-zinc-600 hover:text-zinc-700 dark:hover:text-zinc-300 font-medium text-sm flex items-center justify-center gap-2 mt-4 transition-colors",children:[e(ee,{size:16})," Add Root Option"]})]})]})})]})}),Zm=Object.freeze(Object.defineProperty({__proto__:null,default:Ym},Symbol.toStringTag,{value:"Module"}));function Cn({value:i,title:n,description:s,size:a=200,color:r="#000000",bgColor:l="#FFFFFF"}){const d=ht(null);return t("div",{className:"flex flex-col items-center p-6 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-sm hover:shadow-md transition-all",children:[n&&e("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:n}),s&&e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 text-center mb-6 max-w-[250px]",children:s}),e("div",{ref:d,className:"p-4 bg-white rounded-lg border border-zinc-100 dark:border-zinc-800 mb-6",children:e(Pi,{size:a,style:{height:"auto",maxWidth:"100%",width:"100%"},value:i,viewBox:"0 0 256 256",fgColor:r,bgColor:l})}),t("button",{onClick:()=>{if(!d.current)return;const c=d.current.querySelector("svg");if(!c)return;const u=new XMLSerializer().serializeToString(c),p=document.createElement("canvas"),g=p.getContext("2d"),m=new Image,h=40;p.width=a+h*2,p.height=a+h*2,m.onload=()=>{if(!g)return;g.fillStyle="#FFFFFF",g.fillRect(0,0,p.width,p.height),g.drawImage(m,h,h);const v=p.toDataURL("image/png"),y=document.createElement("a");y.download=`${n||"qrcode"}.png`,y.href=v,y.click()},m.src="data:image/svg+xml;base64,"+btoa(u)},className:"flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-900 dark:text-zinc-100 text-sm font-medium rounded-lg transition-colors",children:[e(_t,{size:16}),"Download PNG"]})]})}const Km=j(function(){const{tenant:n}=U(),[s,a]=f("");E(()=>{typeof window<"u"&&a(window.location.origin)},[]);const r="?utm_source=qr&utm_medium=offline";(n.customDomain?`https://${n.customDomain}`:`${s}/site/${n.slug}`)+r;const l=n.customDomain?`https://${n.customDomain}`:`${s}/site/${n.slug}`,d=`${l}${r}`,o=`${l}/classes${r}`,c=`${s}/studio/${n.slug}/checkin/kiosk${r}`,u=n.mobileAppConfig?.publicDownloadUrl?`${n.mobileAppConfig.publicDownloadUrl}${r}`:"";return s?t("div",{className:"p-6 max-w-6xl mx-auto",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"QR Codes"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Download and print these QR codes to display in your studio or share with students."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e(Cn,{value:d,title:"Studio Website",description:"Direct link to your studio's home page.",color:n.branding?.primaryColor||"#000000"}),e(Cn,{value:c,title:"Kiosk Check-in",description:"Display this at your front desk for quick student check-ins.",color:n.branding?.primaryColor||"#000000"}),e(Cn,{value:o,title:"Class Schedule",description:"Direct link for students to view classes and book.",color:n.branding?.primaryColor||"#000000"}),u&&e(Cn,{value:u,title:"Download App",description:"Direct link to download your studio's mobile app.",color:n.branding?.primaryColor||"#000000"})]}),t("div",{className:"mt-12 p-6 bg-blue-50 dark:bg-zinc-900 border border-blue-100 dark:border-zinc-800 rounded-xl",children:[e("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"ðŸ’¡ Tips for using QR Codes"}),t("ul",{className:"list-disc list-inside text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[t("li",{children:["Print the ",e("strong",{children:"Kiosk Check-in"})," code and place it on your front desk."]}),t("li",{children:["Add the ",e("strong",{children:"Studio Website"})," code to your business cards or flyers."]}),t("li",{children:["Post the ",e("strong",{children:"Download App"})," code in your lobby to encourage students to book via the app."]})]})]})]}):null}),e0=Object.freeze(Object.defineProperty({__proto__:null,default:Km},Symbol.toStringTag,{value:"Module"})),t0=j(function(){const n=U();return e(ze,{context:n})}),n0=Object.freeze(Object.defineProperty({__proto__:null,default:t0},Symbol.toStringTag,{value:"Module"})),s0=H(()=>import("./StudentsPage-DAMHFMmO.js")),i0=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Students..."}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Students..."}),children:e(s0,{})})})}),a0=Object.freeze(Object.defineProperty({__proto__:null,default:i0},Symbol.toStringTag,{value:"Module"})),r0=H(()=>import("./StudentProfilePage-CrYRj8A8.js")),l0=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(r0,{})})})}),d0=Object.freeze(Object.defineProperty({__proto__:null,default:l0},Symbol.toStringTag,{value:"Module"})),o0=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params,r=new Date,l=new Date(r.getFullYear(),r.getMonth(),r.getDate()),d=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59);try{return{classes:await z(`/classes?startDate=${l.toISOString()}&endDate=${d.toISOString()}`,s,{headers:{"X-Tenant-Slug":a}}),token:s}}catch(o){return console.error("Check-in loader failed",o),{classes:[],token:s}}},c0=H(()=>import("./CheckInPage-BZnXyorf.js")),u0=j(function(){return e(V,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Check-in..."}),children:e(W,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Check-in..."}),children:e(c0,{})})})}),m0=Object.freeze(Object.defineProperty({__proto__:null,default:u0,loader:o0},Symbol.toStringTag,{value:"Module"})),h0=j(function(){const n=U();return e(ze,{context:n})}),p0=Object.freeze(Object.defineProperty({__proto__:null,default:h0},Symbol.toStringTag,{value:"Module"})),g0=j(function(){const{classId:n}=ae(),[s,a]=f(""),{getToken:r}=J(),[l,d]=f(null);if(E(()=>{import("@livekit/components-react").then(p=>{d(p),import("@livekit/components-styles")}),n&&(async()=>{try{const p=await r(),g=await z("/video/token",p,{method:"POST",body:JSON.stringify({classId:n,isInstructor:!1})});g.token&&a(g.token)}catch(p){console.error("Failed to get video token",p)}})()},[n,r]),!s||!l)return e("div",{className:"flex items-center justify-center h-screen bg-zinc-900 text-white",children:e("p",{children:"Loading Studio..."})});const{LiveKitRoom:o,VideoConference:c}=l;return e(V,{children:e(o,{video:!0,audio:!0,token:s,serverUrl:"wss://your-project.livekit.cloud","data-lk-theme":"default",style:{height:"100vh"},children:e(c,{})})})}),b0=Object.freeze(Object.defineProperty({__proto__:null,default:g0},Symbol.toStringTag,{value:"Module"})),f0=H(()=>import("./ClassRosterPage-_mevR6Kn.js")),x0=async i=>{const{request:n,params:s}=i,{getToken:a}=await P(i),r=await a(),l=await n.formData(),d=l.get("intent"),o=l.get("bookingId"),c=s.id;if(d==="check_in"){const u=l.get("checkedIn")==="true";return await z(`/classes/${c}/bookings/${o}/check-in`,r,{method:"PATCH",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({checkedIn:u})}),{success:!0}}return d==="cancel_booking"?(await z(`/classes/${c}/bookings/${o}/cancel`,r,{method:"POST",headers:{"X-Tenant-Slug":s.slug}}),{success:!0}):d==="promote"?(await z(`/classes/${c}/bookings/${o}/promote`,r,{method:"POST",headers:{"X-Tenant-Slug":s.slug}}),{success:!0}):null},v0=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a,id:r}=i.params;try{return{bookings:await z(`/classes/${r}/bookings`,s,{headers:{"X-Tenant-Slug":a}})}}catch(l){throw console.error("Failed to load roster",l),new Response("Failed to load roster",{status:500})}},y0=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(f0,{})})})}),z0=Object.freeze(Object.defineProperty({__proto__:null,action:x0,default:y0,loader:v0},Symbol.toStringTag,{value:"Module"})),N0=H(()=>import("./ClassesPage-B3Lztlxw.js")),k0=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Schedule..."}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Schedule..."}),children:e(N0,{})})})}),w0=Object.freeze(Object.defineProperty({__proto__:null,default:k0},Symbol.toStringTag,{value:"Module"})),C0=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params;try{const r=await z("/challenges/my-progress",s,{headers:{"X-Tenant-Slug":a}});return{challenges:Array.isArray(r)?r:[],isOwnerOrAdmin:!1,error:null}}catch{return{challenges:[],isOwnerOrAdmin:!1,error:"Failed to load challenges"}}},S0=async i=>{const{request:n,params:s}=i,{getToken:a}=await P(i),r=await a(),{slug:l}=s,d=await n.formData(),o=d.get("intent");if(o==="join"){const c=d.get("challengeId");try{return await z(`/challenges/${c}/join`,r,{method:"POST",headers:{"X-Tenant-Slug":l}}),{success:!0}}catch(u){return{error:u.message||"Failed to join challenge"}}}if(o==="create"){const c=d.get("rewardType");let u={};if(c==="retail_credit")u={creditAmount:d.get("creditAmount")};else if(d.get("rewardValue"))try{u=JSON.parse(d.get("rewardValue"))}catch{}const p={title:d.get("title"),description:d.get("description"),type:d.get("type"),targetValue:parseInt(d.get("targetValue")||"0"),frequency:parseInt(d.get("frequency")||"1"),period:d.get("period"),rewardType:c,rewardValue:u,startDate:d.get("startDate"),endDate:d.get("endDate")};try{return await z("/challenges",r,{method:"POST",headers:{"X-Tenant-Slug":l},body:JSON.stringify(p)}),{success:!0}}catch(g){return{error:g.message||"Failed to create"}}}return null},j0=H(()=>import("./LoyaltyPage-B_xv0Cxm.js")),M0=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Challenges..."}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:"Loading Challenges..."}),children:e(j0,{})})})}),_0=Object.freeze(Object.defineProperty({__proto__:null,action:S0,default:M0,loader:C0},Symbol.toStringTag,{value:"Module"}));function A0({token:i}){const n=En(),[s,a]=f([]),[r,l]=f(!1),[d,o]=f(null);E(()=>{i&&z("/users/me/family",i).then(g=>{g.family&&a(g.family)}).catch(g=>{console.error("Failed to load family",g),o("Failed to load family members")})},[i]),E(()=>{n.data?.success&&n.data?.child&&(a(g=>[...g,n.data.child]),l(!1))},[n.data]);const[c,u]=f(null);E(()=>{i&&z("/users/session-info",i).then(u).catch(console.error)},[i]);const p=async g=>{try{const m=await z("/users/me/switch-profile",i,{method:"POST",body:JSON.stringify({targetUserId:g})});m.token?(document.cookie=`__impersonate_token=${m.token}; path=/; SameSite=Lax`,localStorage.setItem("impersonation_token",m.token),window.location.reload()):m.isSelf&&(document.cookie="__impersonate_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("impersonation_token"),window.location.reload())}catch(m){console.error(m),o(m.message||"Failed to switch profile")}};return t("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 p-6 mt-6",children:[t("div",{className:"flex justify-between items-center mb-4",children:[t("div",{children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Family Members"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Manage household accounts and dependents."})]}),t("div",{className:"flex gap-2",children:[c?.isImpersonating&&c.impersonatorId&&e("button",{onClick:()=>p(c.impersonatorId),className:"text-sm font-medium text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-300 transition-colors bg-amber-50 dark:bg-amber-900/20 px-3 py-1.5 rounded-md border border-amber-200 dark:border-amber-800",children:"Back to Parent"}),e("button",{onClick:()=>l(!r),className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:r?"Cancel":"+ Add Child"})]})]}),d&&e("div",{className:"p-3 mb-4 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md border border-red-200 dark:border-red-800",children:d}),r&&t(n.Form,{method:"post",className:"mb-6 p-4 bg-zinc-50 dark:bg-zinc-900/50 rounded-md border border-zinc-200 dark:border-zinc-800 animate-in fade-in slide-in-from-top-2",children:[e("input",{type:"hidden",name:"intent",value:"add_child"}),t("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t("div",{children:[e("label",{className:"block text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase mb-1",children:"First Name"}),e("input",{name:"firstName",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"e.g. Leo"})]}),t("div",{children:[e("label",{className:"block text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase mb-1",children:"Last Name"}),e("input",{name:"lastName",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all",placeholder:"e.g. Smith"})]})]}),t("div",{className:"mb-4",children:[e("label",{className:"block text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase mb-1",children:"Date of Birth"}),e("input",{name:"dob",type:"date",className:"w-full px-3 py-2 bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-700 rounded-md text-sm text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all"})]}),e("div",{className:"flex justify-end pt-2",children:e("button",{type:"submit",disabled:n.state==="submitting",className:"bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-4 py-2 text-sm font-medium rounded-md hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 transition-colors shadow-sm",children:n.state==="submitting"?"Adding Profile...":"Create Child Profile"})})]}),t("div",{className:"space-y-3",children:[s.length===0&&!r&&t("div",{className:"text-center py-8 bg-zinc-50 dark:bg-zinc-900/50 rounded-lg border border-dashed border-zinc-200 dark:border-zinc-800",children:[e($0,{className:"w-8 h-8 text-zinc-300 mx-auto mb-2"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"No family members linked yet."})]}),s.map(g=>t("div",{className:"flex items-center justify-between p-3 border border-zinc-100 dark:border-zinc-800 rounded-lg bg-zinc-50 dark:bg-zinc-900/30 hover:bg-zinc-100 dark:hover:bg-zinc-900/50 transition-colors group",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-9 h-9 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 flex items-center justify-center font-bold text-sm shadow-sm ring-1 ring-white dark:ring-zinc-800",children:g.firstName[0]}),t("div",{children:[t("div",{className:"flex items-center gap-2",children:[t("p",{className:"font-medium text-sm text-zinc-900 dark:text-zinc-100",children:[g.firstName," ",g.lastName]}),g.memberId&&e("span",{className:"text-[10px] font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded-full",children:"Member"})]}),e("div",{className:"flex items-center gap-3 mt-0.5",children:g.dob&&t("div",{className:"flex items-center gap-1 text-xs text-zinc-500 dark:text-zinc-400",children:[e(Za,{size:12}),e("span",{children:new Date(g.dob).toLocaleDateString()})]})})]})]}),e("button",{onClick:()=>p(g.userId),className:"bg-white dark:bg-black border border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 px-3 py-1.5 text-xs font-medium rounded-md hover:border-blue-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors shadow-sm opacity-0 group-hover:opacity-100",children:"Switch Profile"})]},g.userId))]})]})}function $0({className:i}){return t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function T0({token:i,tenantSlug:n}){const[s,a]=f([]),[r,l]=f(!0),[d,o]=f(!1),c=[{id:1,label:"Monday"},{id:2,label:"Tuesday"},{id:3,label:"Wednesday"},{id:4,label:"Thursday"},{id:5,label:"Friday"},{id:6,label:"Saturday"},{id:0,label:"Sunday"}];E(()=>{u()},[]);async function u(){try{const g=await z("/appointments/availability/settings",i,{headers:{"X-Tenant-Slug":n}});g.availabilities&&a(g.availabilities)}catch(g){console.error("Failed to load availability",g)}finally{l(!1)}}async function p(g){g.preventDefault(),o(!0);const m=g.target,h=new FormData(m),v=Number(h.get("dayOfWeek")),y=h.get("startTime"),N=h.get("endTime");try{await z("/appointments/availability",i,{method:"POST",headers:{"X-Tenant-Slug":n},body:JSON.stringify({dayOfWeek:v,startTime:y,endTime:N})}),await u(),m.reset()}catch{alert("Failed to save")}finally{o(!1)}}return r?e("div",{children:"Loading availability..."}):t("div",{className:"bg-white rounded-lg border border-zinc-200 p-6 mb-6",children:[e("h3",{className:"text-lg font-semibold mb-4",children:"Instructor Availability"}),e("p",{className:"text-sm text-zinc-500 mb-4",children:"Set your weekly recurring available hours for private sessions."}),t("div",{className:"space-y-2 mb-6",children:[s.length===0&&e("p",{className:"text-sm text-zinc-400 italic",children:"No availability set."}),s.map(g=>t("div",{className:"flex items-center justify-between bg-zinc-50 px-3 py-2 rounded text-sm",children:[e("span",{className:"font-medium text-zinc-700",children:c.find(m=>m.id===g.dayOfWeek)?.label}),t("span",{className:"text-zinc-600",children:[g.startTime," - ",g.endTime]})]},g.id))]}),t("form",{onSubmit:p,className:"flex gap-3 items-end border-t border-zinc-100 pt-4",children:[t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-1",children:"Day"}),e("select",{name:"dayOfWeek",className:"text-sm border border-zinc-300 rounded px-2 py-1.5 focus:ring-2 focus:ring-blue-500 outline-none",children:c.map(g=>e("option",{value:g.id,children:g.label},g.id))})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-1",children:"Start"}),e("input",{name:"startTime",type:"time",required:!0,className:"text-sm border border-zinc-300 rounded px-2 py-1.5"})]}),t("div",{children:[e("label",{className:"block text-xs font-medium text-zinc-600 mb-1",children:"End"}),e("input",{name:"endTime",type:"time",required:!0,className:"text-sm border border-zinc-300 rounded px-2 py-1.5"})]}),e("button",{type:"submit",disabled:d,className:"bg-zinc-900 text-white px-3 py-1.5 rounded text-sm font-medium hover:bg-zinc-800 disabled:opacity-50",children:d?"Adding...":"Add Slot"})]})]})}function P0({token:i,tenantSlug:n}){const[s,a]=f([]),[r,l]=f(!0),[d,o]=f(null);return E(()=>{l(!0),z("/commerce/invoices",i,{headers:{"X-Tenant-Slug":n}}).then(c=>{c.invoices?a(c.invoices):a([])}).catch(c=>{console.error("Failed to fetch invoices",c),o("Could not load billing history.")}).finally(()=>l(!1))},[i,n]),r?t("div",{className:"bg-white rounded-lg border border-zinc-200 p-6 animate-pulse",children:[e("div",{className:"h-6 w-1/3 bg-zinc-100 rounded mb-4"}),t("div",{className:"space-y-3",children:[e("div",{className:"h-4 w-full bg-zinc-100 rounded"}),e("div",{className:"h-4 w-full bg-zinc-100 rounded"})]})]}):d?t("div",{className:"bg-white rounded-lg border border-dashed border-zinc-300 p-8 text-center text-zinc-500",children:[e(Pe,{className:"w-8 h-8 mx-auto mb-2 text-red-400"}),e("p",{children:d})]}):s.length===0?t("div",{className:"bg-white rounded-lg border border-zinc-200 p-6 text-center text-zinc-500",children:[e(tt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e("p",{children:"No invoices found."})]}):t("div",{className:"bg-white rounded-lg border border-zinc-200 overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-zinc-100 bg-zinc-50/50",children:e("h3",{className:"text-lg font-semibold text-zinc-900",children:"Billing History"})}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"text-xs text-zinc-500 uppercase bg-zinc-50 border-b border-zinc-100",children:t("tr",{children:[e("th",{className:"px-6 py-3 font-medium",children:"Date"}),e("th",{className:"px-6 py-3 font-medium",children:"Description"}),e("th",{className:"px-6 py-3 font-medium",children:"Amount"}),e("th",{className:"px-6 py-3 font-medium",children:"Status"}),e("th",{className:"px-6 py-3 font-medium text-right",children:"Invoice"})]})}),e("tbody",{className:"divide-y divide-zinc-100",children:s.map(c=>t("tr",{className:"hover:bg-zinc-50/50 transition-colors",children:[t("td",{className:"px-6 py-4 text-zinc-600 space-y-0.5",children:[e("div",{className:"font-medium text-zinc-900",children:ie(new Date(c.date),"MMM d, yyyy")}),e("div",{className:"text-xs text-zinc-400 font-mono",children:c.number})]}),e("td",{className:"px-6 py-4 text-zinc-600",children:c.description}),e("td",{className:"px-6 py-4 font-medium text-zinc-900",children:(c.amount/100).toLocaleString("en-US",{style:"currency",currency:c.currency.toUpperCase()})}),e("td",{className:"px-6 py-4",children:e(I0,{status:c.status})}),e("td",{className:"px-6 py-4 text-right",children:c.pdfUrl?t("a",{href:c.pdfUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1.5 text-xs font-medium text-indigo-600 hover:text-indigo-700 hover:underline",children:[e(_t,{className:"w-3.5 h-3.5"}),"Download"]}):e("span",{className:"text-zinc-400 text-xs italic",children:"Not available"})})]},c.id))})]})})]})}function I0({status:i}){return i==="paid"?e("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20",children:"Paid"}):i==="open"?e("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-50 text-yellow-800 ring-1 ring-inset ring-yellow-600/20",children:"Due"}):i==="void"?e("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-zinc-50 text-zinc-600 ring-1 ring-inset ring-zinc-500/10",children:"Void"}):i==="uncollectible"?e("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/10",children:"Failed"}):e("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-zinc-100 text-zinc-600",children:i})}const L0=async i=>{const{getToken:n}=await P(i),s=await n(),{slug:a}=i.params;return{user:await z("/users/me",s),token:s,slug:a}},D0=async i=>{const{request:n,params:s}=i,{getToken:a}=await P(i),r=await a(),l=await n.formData();if(l.get("intent")==="add_child"){const o=l.get("firstName"),c=l.get("lastName"),u=l.get("dob");try{return await z("/users/me/family",r,{method:"POST",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({firstName:o,lastName:c,dob:u})})}catch(p){return{error:p.message}}}return null};function O0({token:i,slug:n}){const[s,a]=f(null),[r,l]=f(null);E(()=>{z("/users/me/settings/notifications",i,{headers:{"X-Tenant-Slug":n}}).then(p=>{p.settings&&a(p.settings)}).catch(console.error)},[i,n]);async function d(p,g){if(!s)return;l(`${p}-${g}`);const h=!(s.notifications?.[p]?.[g]??g==="email");try{const v=await z("/users/me/settings/notifications",i,{method:"PUT",headers:{"X-Tenant-Slug":n},body:JSON.stringify({notifications:{[p]:{[g]:h}}})});v.settings?a(v.settings):(_.success("Settings saved"),a(y=>({...y,notifications:{...y.notifications,[p]:{...y.notifications?.[p],[g]:h}}})))}catch{_.error("Failed to update settings")}finally{l(null)}}if(!s)return null;const o=s.notifications?.substitutions?.email!==!1,c=s.notifications?.substitutions?.sms===!0,u=s.notifications?.substitutions?.push===!0;return t("div",{className:"bg-white rounded-lg border border-zinc-200 p-6 mb-6",children:[e("h3",{className:"text-lg font-semibold mb-4",children:"Notification Preferences"}),e("div",{className:"space-y-6",children:t("div",{children:[e("h4",{className:"text-sm font-medium text-zinc-900 mb-2",children:"Substitute Alerts"}),e("p",{className:"text-sm text-zinc-500 mb-4",children:"Choose how you want to be notified when coverage is needed or found."}),t("div",{className:"flex flex-col gap-3",children:[t("div",{className:"flex items-center justify-between bg-zinc-50 p-3 rounded-md",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`p-2 rounded-full ${o?"bg-blue-100 text-blue-600":"bg-zinc-200 text-zinc-400"}`,children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e("div",{children:e("p",{className:"text-sm font-medium text-zinc-900",children:"Email Alerts"})})]}),e("button",{onClick:()=>d("substitutions","email"),disabled:r!==null,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-blue-600":"bg-zinc-200"}`,children:e("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),t("div",{className:"flex items-center justify-between bg-zinc-50 p-3 rounded-md",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`p-2 rounded-full ${u?"bg-purple-100 text-purple-600":"bg-zinc-200 text-zinc-400"}`,children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-900",children:"Push Notifications (App)"}),e("p",{className:"text-xs text-zinc-500",children:"Requires mobile app installation."})]})]}),e("button",{onClick:()=>d("substitutions","push"),disabled:r!==null,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${u?"bg-purple-600":"bg-zinc-200"}`,children:e("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]}),t("div",{className:"flex items-center justify-between bg-zinc-50 p-3 rounded-md",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`p-2 rounded-full ${c?"bg-green-100 text-green-600":"bg-zinc-200 text-zinc-400"}`,children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e("div",{children:e("p",{className:"text-sm font-medium text-zinc-900",children:"SMS Alerts"})})]}),e("button",{onClick:()=>d("substitutions","sms"),disabled:r!==null,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${c?"bg-green-600":"bg-zinc-200"}`,children:e("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c?"translate-x-6":"translate-x-1"}`})})]})]})]})})]})}const E0=j(function(){const{user:n,token:s,slug:a}=D();return t("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 mb-2",children:"Your Profile"}),e("p",{className:"text-zinc-500 mb-8",children:"Manage your information and family members."}),t("div",{className:"bg-white rounded-lg border border-zinc-200 p-6 mb-6",children:[e("h3",{className:"text-lg font-semibold mb-4",children:"Personal Info"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"text-xs font-semibold text-zinc-500 uppercase",children:"First Name"}),e("p",{className:"text-zinc-900",children:n.profile?.firstName})]}),t("div",{children:[e("label",{className:"text-xs font-semibold text-zinc-500 uppercase",children:"Last Name"}),e("p",{className:"text-zinc-900",children:n.profile?.lastName})]}),t("div",{className:"col-span-2",children:[e("label",{className:"text-xs font-semibold text-zinc-500 uppercase",children:"Email"}),e("p",{className:"text-zinc-900",children:n.email})]})]})]}),e(O0,{token:s,slug:a}),e("div",{className:"mb-6",children:e(P0,{token:s,tenantSlug:a})}),e(T0,{token:s,tenantSlug:a}),e(A0,{token:s})]})}),B0=Object.freeze(Object.defineProperty({__proto__:null,action:D0,default:E0,loader:L0},Symbol.toStringTag,{value:"Module"})),F0=({request:i})=>{const n=new URL(i.url);return n.pathname.includes("/custom")?Y(n.pathname.replace("/reports/custom","/analytics/custom")):Y(n.pathname.replace(/\/reports\/?$/,"/analytics/financials"))},R0=j(function(){return null}),X0=Object.freeze(Object.defineProperty({__proto__:null,default:R0,loader:F0},Symbol.toStringTag,{value:"Module"}));function U0({data:i}){const[n,s]=f(null);if(E(()=>{import("recharts").then(g=>s(g))},[]),!n)return e("div",{className:"h-full w-full bg-zinc-100 dark:bg-zinc-800 animate-pulse rounded-xl"});const{BarChart:a,Bar:r,XAxis:l,YAxis:d,CartesianGrid:o,Tooltip:c,Legend:u,ResponsiveContainer:p}=n;return e(p,{width:"100%",height:"100%",children:t(a,{data:i,margin:{top:10,right:30,left:0,bottom:0},children:[e(o,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E5"}),e(l,{dataKey:"month",stroke:"#71717A",fontSize:12,tickLine:!1,axisLine:!1}),e(d,{stroke:"#71717A",fontSize:12,tickLine:!1,axisLine:!1}),e(c,{cursor:{fill:"#F4F4F5"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e(u,{}),e(r,{dataKey:"total",name:"New Members",fill:"#E4E4E7",radius:[4,4,0,0]}),e(r,{dataKey:"retained",name:"Retained Active",fill:"#4F46E5",radius:[4,4,0,0]})]})})}const W0=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function H0({data:i}){const n=(r,l)=>{const d=i.find(o=>parseInt(o.day)===r&&parseInt(o.hour)===l);return d?d.bookingCount:0},s=Math.max(...i.map(r=>r.bookingCount)||[0],1),a=r=>{if(r===0)return"bg-zinc-50 dark:bg-zinc-900";const l=r/s;return l<.25?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":l<.5?"bg-indigo-300 dark:bg-indigo-700/60 text-indigo-900 dark:text-indigo-100":l<.75?"bg-indigo-500 text-white":"bg-indigo-700 text-white"};return t("div",{className:"overflow-x-auto",children:[e("div",{className:"min-w-[800px]",children:t("div",{className:"grid grid-cols-[auto_repeat(24,1fr)] gap-1",children:[e("div",{className:"h-8 w-16"})," ",Array.from({length:24}).map((r,l)=>e("div",{className:"h-8 flex items-center justify-center text-[10px] text-zinc-400 font-medium",children:l},`h-${l}`)),W0.map((r,l)=>t(G,{children:[e("div",{className:"h-10 flex items-center pr-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:r},`d-${l}`),Array.from({length:24}).map((d,o)=>{const c=n(l,o);return e("div",{title:`${r} @ ${o}:00 - ${c} bookings`,className:`h-10 rounded-md flex items-center justify-center text-xs font-medium transition-all hover:scale-110 ${a(c)}`,children:c>0?c:""},`${l}-${o}`)})]}))]})}),t("div",{className:"mt-4 flex items-center justify-end gap-2 text-xs text-zinc-500",children:[e("span",{children:"Less Busy"}),t("div",{className:"flex gap-1",children:[e("div",{className:"w-4 h-4 rounded bg-indigo-100 dark:bg-indigo-900/40"}),e("div",{className:"w-4 h-4 rounded bg-indigo-300 dark:bg-indigo-700/60"}),e("div",{className:"w-4 h-4 rounded bg-indigo-500"}),e("div",{className:"w-4 h-4 rounded bg-indigo-700"})]}),e("span",{children:"More Busy"})]})]})}const Q0=j(function(){const{slug:n}=ae(),{tenant:s}=U(),a=s?.currency?.toUpperCase()||"USD",[r,l]=f(null);if(E(()=>{import("recharts").then(v=>l(v))},[]),!n)return e("div",{children:"Invalid slug"});const{data:d}=Cc(n),{data:o}=wc(n),{data:c}=Sc(n);if(!d||!o||!c||!r)return e("div",{className:"p-12 flex justify-center",children:e(oe,{className:"animate-spin text-zinc-400"})});const{ResponsiveContainer:u,PieChart:p,Pie:g,Tooltip:m}=r,h=[{name:"Class Packs",value:d?.sources?.packs||0,fill:"#4F46E5"},{name:"Retail / POS",value:d?.sources?.pos||0,fill:"#10B981"}];return t("div",{className:"p-6 max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Advanced Analytics"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Deep dive into studio performance and retention."})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm col-span-1",children:[e("h3",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2",children:"Average Lifetime Value"}),e("div",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-100",children:new Intl.NumberFormat(void 0,{style:"currency",currency:a}).format(d.averageLtv)})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm col-span-2 flex items-center justify-between",children:[t("div",{children:[e("h3",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2",children:"Revenue Sources"}),t("div",{className:"flex gap-6",children:[t("div",{children:[e("p",{className:"text-xs text-zinc-500",children:"Class Packs"}),e("p",{className:"text-xl font-bold text-indigo-600",children:new Intl.NumberFormat(void 0,{style:"currency",currency:a}).format(d.sources?.packs||0)})]}),t("div",{children:[e("p",{className:"text-xs text-zinc-500",children:"Retail / POS"}),e("p",{className:"text-xl font-bold text-emerald-500",children:new Intl.NumberFormat(void 0,{style:"currency",currency:a}).format(d.sources?.pos||0)})]})]})]}),e("div",{className:"h-24 w-24",children:e(u,{width:"100%",height:"100%",children:t(p,{children:[e(g,{data:h,dataKey:"value",innerRadius:25,outerRadius:40,paddingAngle:5}),e(m,{})]})})})]})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100 mb-6",children:"Member Retention by Cohort"}),e("div",{className:"h-80 w-full",children:e(U0,{data:o})})]}),t("section",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100 mb-6",children:"Class Utilization Heatmap"}),e(H0,{data:c})]})]})}),J0=Object.freeze(Object.defineProperty({__proto__:null,default:Q0},Symbol.toStringTag,{value:"Module"})),V0=j(function(){const n=U();return e(ze,{context:n})}),q0=Object.freeze(Object.defineProperty({__proto__:null,default:V0},Symbol.toStringTag,{value:"Module"}));function Hi({onChange:i,width:n=500,height:s=200}){const a=ht(null),[r,l]=f(!1),[d,o]=f(!1);E(()=>{const g=a.current;if(!g)return;const m=g.getContext("2d");m&&(m.lineWidth=2,m.lineCap="round",m.strokeStyle="#000000")},[]);const c=g=>{if(!r)return;const m=a.current;if(!m)return;const h=m.getContext("2d");if(!h)return;const v=m.getBoundingClientRect();let y,N;"touches"in g?(y=g.touches[0].clientX-v.left,N=g.touches[0].clientY-v.top):(y=g.clientX-v.left,N=g.clientY-v.top),h.lineTo(y,N),h.stroke(),h.beginPath(),h.moveTo(y,N)};return t("div",{className:"border border-zinc-300 rounded-lg overflow-hidden bg-white inline-block",children:[e("canvas",{ref:a,width:n,height:s,className:"touch-none cursor-crosshair bg-white",style:{touchAction:"none"},onMouseDown:g=>{l(!0);const m=a.current;if(!m)return;const h=m.getContext("2d");if(!h)return;const v=m.getBoundingClientRect(),y=g.clientX-v.left,N=g.clientY-v.top;h.beginPath(),h.moveTo(y,N)},onMouseMove:g=>{r&&c(g)},onMouseUp:()=>{l(!1);const g=a.current;g&&(g.getContext("2d")?.beginPath(),i(g.toDataURL()),o(!0))},onMouseLeave:()=>{l(!1);const g=a.current;g&&r&&(g.getContext("2d")?.beginPath(),i(g.toDataURL()),o(!0))},onTouchStart:g=>{const m=a.current;if(!m)return;const h=m.getContext("2d");if(!h)return;const v=m.getBoundingClientRect(),y=g.touches[0].clientX-v.left,N=g.touches[0].clientY-v.top;h.beginPath(),h.moveTo(y,N),l(!0)},onTouchMove:g=>{r&&c(g)},onTouchEnd:()=>{l(!1);const g=a.current;g&&(g.getContext("2d")?.beginPath(),i(g.toDataURL()),o(!0))}}),t("div",{className:"bg-zinc-50 border-t border-zinc-200 p-2 flex justify-between items-center px-4",children:[e("span",{className:"text-xs text-zinc-500",children:"Sign above"}),e("button",{type:"button",onClick:g=>{g.preventDefault();const m=a.current;if(!m)return;const h=m.getContext("2d");h&&(h.clearRect(0,0,m.width,m.height),o(!1),i(null))},className:"text-xs text-red-600 hover:text-red-800 font-medium",children:"Clear Signature"})]})]})}const G0=async i=>{const{params:n}=i,{getToken:s}=await P(i),a=await s();try{return{data:await z("/waivers",a,{headers:{"X-Tenant-Slug":n.slug}})}}catch(r){return console.error("Failed to load waivers",r),{data:null,error:r.message}}},Y0=async i=>{const{request:n,params:s}=i,{getToken:a}=await P(i),r=await a(),l=await n.formData(),d=l.get("intent");if(d==="create"){const o=l.get("title"),c=l.get("content"),u=l.get("pdfUrl");try{return await z("/waivers",r,{method:"POST",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({title:o,content:c,pdfUrl:u})}),{success:!0}}catch(p){return{error:p.message}}}else if(d==="toggle_active"){const o=l.get("templateId"),c=l.get("active")==="true";try{return await z(`/waivers/${o}`,r,{method:"PATCH",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({active:c})}),{success:!0}}catch(u){return{error:u.message}}}else if(d==="sign"){const o=l.get("templateId"),c=l.get("signatureData"),u=l.get("onBehalfOfMemberId");try{return await z(`/waivers/${o}/sign`,r,{method:"POST",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({signatureData:c,onBehalfOfMemberId:u})}),{success:!0}}catch(p){return{error:p.message}}}return null},Z0=j(function(){const{data:n,error:s}=D(),{me:a,roles:r}=U(),l=r.includes("owner"),o=jt().state==="submitting",[c,u]=f(null);if(s)return t("div",{className:"p-8 text-red-600",children:["Error: ",s]});if(l){const b=n?.templates||[];return t("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[t("div",{className:"flex justify-between items-center mb-6",children:[e("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Waivers & Forms"}),e(L,{to:"new",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm font-medium flex items-center gap-2",children:"+ Create Waiver"})]}),e("div",{className:"space-y-4",children:b.length===0?t("div",{className:"p-12 text-center text-zinc-500 dark:text-zinc-400 bg-zinc-50 dark:bg-zinc-900 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700",children:[e("p",{className:"mb-2 font-medium",children:"No waiver templates yet"}),e("p",{className:"text-sm",children:"Create a liability waiver for your members to sign."})]}):b.map(k=>t("div",{className:"p-6 rounded-lg shadow-sm bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 transition-colors",children:[t("div",{className:"flex justify-between items-start mb-2",children:[e("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100",children:k.title}),t(Le,{method:"post",children:[e("input",{type:"hidden",name:"intent",value:"toggle_active"}),e("input",{type:"hidden",name:"templateId",value:k.id}),e("input",{type:"hidden",name:"active",value:(!k.active).toString()}),e("button",{type:"submit",className:`text-xs px-2 py-1 rounded border font-medium transition-colors ${k.active?"bg-green-100 text-green-800 border-green-200 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800":"bg-zinc-100 text-zinc-800 border-zinc-200 hover:bg-zinc-200 dark:bg-zinc-800 dark:text-zinc-400 dark:border-zinc-700"}`,children:k.active?"Active":"Inactive"})]})]}),e("div",{className:"text-sm line-clamp-3 mb-1 whitespace-pre-wrap text-zinc-600 dark:text-zinc-400 font-mono bg-zinc-50 dark:bg-zinc-950 p-3 rounded border border-zinc-100 dark:border-zinc-800/50",children:k.content})]},k.id))})]})}const{waiver:p,required:g,signed:m,signatureDate:h,family:v,signedMemberIds:y}=n||{},[N,x]=f(null);if(!g||!p)return t("div",{className:"max-w-md mx-auto py-12 px-4 text-center",children:[e("div",{className:"mb-4 inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),e("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Good to go!"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"You have no pending waivers to sign."})]});const w=y?.includes(N||a?.id);return t("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e("h2",{className:"text-2xl font-bold mb-6 text-zinc-900 dark:text-zinc-100",children:p.title}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-6 max-h-[60vh] overflow-y-auto",children:e("div",{className:"prose dark:prose-invert text-zinc-700 dark:text-zinc-300 whitespace-pre-wrap font-serif text-sm leading-relaxed",children:p.content})}),v&&v.length>0&&t("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800/50 rounded-lg p-4",children:[e("label",{className:"block text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Who are you signing for?"}),t("select",{className:"w-full bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 rounded-md text-sm px-3 py-2",value:N||"",onChange:b=>x(b.target.value||null),children:[t("option",{value:"",children:["Myself ",m?"âœ…":""]}),v.map(b=>t("option",{value:b.memberId,children:[b.firstName," ",b.lastName," ",y?.includes(b.memberId)?"âœ…":""]},b.memberId))]})]}),w?t("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-900/50 text-green-800 dark:text-green-300 p-6 rounded-lg flex flex-col items-center justify-center gap-2 text-center",children:[e("div",{className:"text-2xl",children:"âœ…"}),e("div",{className:"font-bold",children:"Waiver Signed"}),e("div",{className:"text-sm opacity-80",children:"This member has successfully signed the waiver."})]}):t("div",{className:"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6",children:[e("h3",{className:"font-bold mb-4 text-zinc-900 dark:text-white",children:"Sign Waiver"}),e("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:"Please draw your signature below to accept this agreement."}),e("div",{className:"mb-6 bg-white dark:bg-zinc-950 rounded border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:e(Hi,{onChange:b=>u(b),width:600,height:200})}),c&&t("p",{className:"text-xs text-green-600 dark:text-green-400 mb-4 flex items-center gap-1 font-medium",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("polyline",{points:"20 6 9 17 4 12"})}),"Signature captured"]}),t(Le,{method:"post",children:[e("input",{type:"hidden",name:"intent",value:"sign"}),e("input",{type:"hidden",name:"templateId",value:p.id}),e("input",{type:"hidden",name:"signatureData",value:c||""}),e("input",{type:"hidden",name:"onBehalfOfMemberId",value:N||""}),t("div",{className:"flex items-start gap-3 mb-6",children:[e("input",{type:"checkbox",required:!0,id:"agree",className:"mt-1 w-4 h-4 rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("label",{htmlFor:"agree",className:"text-sm text-zinc-700 dark:text-zinc-300 leading-snug",children:"I have read and agree to the terms of this waiver. By drawing my signature above and checking this box, I electronically sign this document."})]}),e("button",{type:"submit",disabled:!c||o,className:"w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?"Signing...":"Sign Waiver"})]})]})]})}),K0=Object.freeze(Object.defineProperty({__proto__:null,action:Y0,default:Z0,loader:G0},Symbol.toStringTag,{value:"Module"})),eh=async i=>{const{request:n,params:s}=i,{getToken:a}=await P(i),r=await a(),l=await n.formData(),d=l.get("title"),o=l.get("content"),c=l.get("pdfUrl");try{const u=await z("/waivers",r,{method:"POST",headers:{"X-Tenant-Slug":s.slug},body:JSON.stringify({title:d,content:o,pdfUrl:c})});return u.error?{error:u.error}:{success:!0,id:u.id}}catch(u){return{error:u.message}}},th=j(function(){const n=ys(),a=jt().state==="submitting";if(n?.success)return t("div",{className:"max-w-2xl mx-auto py-12 text-center",children:[e("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e(Ue,{className:"w-8 h-8"})}),e("h2",{className:"text-2xl font-bold mb-2",children:"Template Created!"}),e("p",{className:"text-zinc-600 mb-8",children:"Your waiver template has been successfully saved."}),e("div",{className:"flex justify-center gap-4",children:e(L,{to:"../waivers",className:"px-4 py-2 bg-zinc-900 text-white rounded-md hover:bg-zinc-800 transition",children:"Back to Waivers"})})]});const[r,l]=f(!1),{getToken:d}=J();return t("div",{className:"max-w-4xl mx-auto py-8",children:[t("div",{className:"mb-8",children:[t(L,{to:"../waivers",className:"flex items-center text-sm text-zinc-500 hover:text-zinc-900 mb-4 transition-colors",children:[e($e,{className:"w-4 h-4 mr-1"}),"Back to Waivers"]}),e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Create Waiver Template"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Design a liability waiver for your members to sign."})]}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm",children:t(Le,{method:"post",className:"space-y-6",children:[n&&"error"in n&&n.error&&t("div",{className:"text-red-600 text-sm bg-red-50 p-2 rounded border border-red-200",children:["Error saving: ",n.error]}),"                ",t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Document Title"}),e("input",{type:"text",name:"title",required:!0,placeholder:"e.g. Activity Liability Waiver 2024",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100"})]}),t("div",{children:[t("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:["Legal Content",e("span",{className:"ml-2 text-xs font-normal text-zinc-500",children:"(You can paste plain text or HTML here)"})]}),e("textarea",{name:"content",required:!0,rows:15,placeholder:"I, the undersigned, agree to...",className:"w-full px-3 py-2 border border-zinc-300 dark:border-zinc-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 font-mono text-sm"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Create from PDF (Optional)"}),e("p",{className:"text-xs text-zinc-500 mb-2",children:"Upload a PDF to link it or extract text (extraction not yet supported, just linking)."}),e("input",{type:"file",accept:".pdf",onChange:async o=>{const c=o.target.files?.[0];if(c){l(!0);try{const u=await d(),p=window.location.pathname.split("/")[2],g=new FormData;g.append("file",c);const m=await fetch("https://studio-platform-api.slichti.workers.dev/uploads/pdf",{method:"POST",headers:{Authorization:`Bearer ${u}`,"X-Tenant-Slug":p},body:g});if(!m.ok)throw new Error(await m.text());const h=await m.json(),v=document.getElementById("pdf-url-input");v&&(v.value=h.url),_.success("PDF Uploaded successfully!")}catch(u){_.error("Upload failed: "+u.message)}finally{l(!1)}}},className:"block w-full text-sm text-zinc-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e("input",{type:"hidden",name:"pdfUrl",id:"pdf-url-input"})]}),e("div",{className:"flex justify-end pt-4 border-t border-zinc-100 dark:border-zinc-800",children:t("button",{type:"submit",disabled:a||r,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[e(Ue,{className:"w-4 h-4"}),a?"Saving...":"Save Template"]})})]})})]})}),nh=Object.freeze(Object.defineProperty({__proto__:null,action:eh,default:th},Symbol.toStringTag,{value:"Module"})),sh=async i=>{let n=null;const s=i.request.headers.get("Cookie");if(s?.includes("__e2e_bypass_user_id=")){const r=s.match(/__e2e_bypass_user_id=([^;]+)/);r&&(n=r[1])}if(!n){const{getToken:r}=await P(i);n=await r()}const{slug:a}=i.params;try{const[r,l,d]=await Promise.all([z("/tenant/stats",n,{headers:{"X-Tenant-Slug":a}}).catch(()=>({activeStudents:0})),z("/challenges/my-progress",n,{headers:{"X-Tenant-Slug":a}}).catch(()=>[]),z("/reports/upcoming-renewals?days=14",n,{headers:{"X-Tenant-Slug":a}}).catch(()=>({count:0,renewals:[]}))]);return{stats:r,myProgress:l,upcomingRenewals:d}}catch(r){return console.error("Dashboard loader failed:",r),{stats:{activeStudents:0,upcomingBookings:0,monthlyRevenueCents:0},myProgress:[],upcomingRenewals:{count:0,renewals:[]}}}},ih=H(()=>import("./DashboardPage-D__GvCuW.js")),ah=j(function(){return e(V,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Dashboard..."}),children:e(W,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Dashboard..."}),children:e(ih,{})})})}),rh=Object.freeze(Object.defineProperty({__proto__:null,default:ah,loader:sh},Symbol.toStringTag,{value:"Module"})),lh=async i=>{const{getToken:n,userId:s}=await P(i),{slug:a}=i.params;if(!s)return Y("/sign-in");const r=await n(),l=a||"";try{return{products:await z("/products",r,{headers:{"X-Tenant-Slug":l}})||[]}}catch(d){return console.error("Retail Loader Error",d),{products:[]}}},dh=async i=>{const{getToken:n}=await P(i),{slug:s}=i.params,a=await n(),r=await i.request.formData(),l=r.get("intent"),d=s||"";if(l==="upload_image"){const o=r.get("file"),c=new FormData;return o&&c.append("file",o),await z("/products/images",a,{method:"POST",body:c})}if(l==="import_products"){const o=r.get("products");let c=[];try{c=JSON.parse(o)}catch{return{error:"Invalid JSON"}}return await z("/products/import",a,{method:"POST",headers:{"X-Tenant-Slug":d},body:JSON.stringify({products:c})})}if(l==="create"||l==="update"){const o=r.get("id"),c={name:r.get("name"),description:r.get("description"),category:r.get("category"),sku:r.get("sku"),price:parseInt(r.get("price")||"0"),stockQuantity:parseInt(r.get("stockQuantity")||"0"),lowStockThreshold:parseInt(r.get("lowStockThreshold")||"5"),imageUrl:r.get("imageUrl"),isActive:r.get("isActive")==="true"};await z(o?`/products/${o}`:"/products",a,{method:o?"PATCH":"POST",headers:{"X-Tenant-Slug":d},body:JSON.stringify(c)})}if(l==="delete"){const o=r.get("id");await z(`/products/${o}`,a,{method:"DELETE",headers:{"X-Tenant-Slug":d}})}return{success:!0}},oh=H(()=>import("./RetailPage-BLfOvcrj.js")),ch=j(function(){return e(V,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Retail..."}),children:e(W,{fallback:e("div",{className:"h-screen flex items-center justify-center",children:"Loading Retail..."}),children:e(oh,{})})})}),uh=Object.freeze(Object.defineProperty({__proto__:null,action:dh,default:ch,loader:lh},Symbol.toStringTag,{value:"Module"})),mh=H(()=>import("./LeadsPage-AzrUrfKW.js")),hh=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;try{return{leads:(await z("/leads",s,{headers:{"X-Tenant-Slug":a}})).leads||[],token:s,slug:a}}catch(r){return{leads:[],token:s,slug:a,error:r.message}}},ph=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(mh,{})})})}),gh=Object.freeze(Object.defineProperty({__proto__:null,default:ph,loader:hh},Symbol.toStringTag,{value:"Module"})),bh=H(()=>import("./TasksPage-D_1yjQQ_.js")),fh=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.slug;try{const r=await z("/tasks",s,{headers:{"X-Tenant-Slug":a}}),l=await z("/tenant/me",s,{headers:{"X-Tenant-Slug":a}});return{initialTasks:r||[],me:l,token:s,slug:a}}catch(r){return{initialTasks:[],me:null,token:s,slug:a,error:r.message}}},xh=j(function(){return e(V,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading tasks..."}),children:()=>e(W,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading tasks..."}),children:e(bh,{})})})}),vh=Object.freeze(Object.defineProperty({__proto__:null,default:xh,loader:fh},Symbol.toStringTag,{value:"Module"})),yh=async i=>{const{getToken:n}=await P(i),s=await n();try{const[a,r]=await Promise.all([z("/chat/rooms?type=support",s),z("/tenant/info",s)]);return{rooms:a,tenant:r,token:s,error:null}}catch(a){return{rooms:[],tenant:null,token:null,error:a.message}}},zh=j(function(){const{rooms:n,tenant:s,token:a,error:r}=D(),{slug:l}=ae(),[d,o]=f(!1),[c,u]=f(s?.settings?.chatConfig||{timezone:"UTC",offlineEmail:"",schedule:{Mon:["09:00","17:00"],Tue:["09:00","17:00"],Wed:["09:00","17:00"],Thu:["09:00","17:00"],Fri:["09:00","17:00"]}}),p=async()=>{try{await z("/tenant/settings",a,{method:"PATCH",body:JSON.stringify({settings:{chatConfig:c}})}),o(!1)}catch{_.error("Failed to save settings")}},g=(x,w)=>{const b=["Mon","Tue","Wed","Thu","Fri"],k={...c.schedule};b.forEach(S=>{k[S]=[x,w]}),u({...c,schedule:k})},[m,h]=f("all");if(r)return t("div",{className:"p-8 text-red-600",children:["Error: ",r]});const v=n.filter(x=>x.metadata?.source==="widget"||x.customerEmail),y=n.filter(x=>!x.customerEmail&&x.metadata?.source!=="widget"),N=m==="all"?v:v.filter(x=>x.metadata?.routedRole===m);return t("div",{className:"p-8 max-w-6xl mx-auto h-full flex flex-col",children:[t("div",{className:"mb-8 flex items-center justify-between",children:[t("div",{children:[t("h1",{className:"text-2xl font-bold text-zinc-900 flex items-center gap-2",children:[e(Rn,{className:"text-blue-600"}),"Messages"]}),e("p",{className:"text-zinc-500 mt-1",children:"Manage customer support inquiries and platform tickets"})]}),t("div",{children:[t("button",{onClick:()=>o(!0),className:"flex items-center gap-2 text-sm text-zinc-600 hover:text-zinc-900 mr-4",children:[e(Mt,{size:14}),"Chat Settings"]}),t(L,{to:`/embed/${l}/chat`,target:"_blank",className:"flex items-center gap-2 text-sm text-blue-600 hover:underline",children:[e(Nt,{size:14}),"Test Widget"]})]})]}),e(fn,{isOpen:d,onClose:()=>o(!1),title:"Chat Settings",children:t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Offline Email"}),e("input",{type:"email",className:"w-full border border-zinc-300 rounded-lg p-2 text-sm",placeholder:"support@example.com",value:c.offlineEmail,onChange:x=>u({...c,offlineEmail:x.target.value})}),e("p",{className:"text-xs text-zinc-500 mt-1",children:"Visitors will be asked to email this address when you are offline."})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Timezone"}),t("select",{className:"w-full border border-zinc-300 rounded-lg p-2 text-sm",value:c.timezone,onChange:x=>u({...c,timezone:x.target.value}),children:[e("option",{value:"UTC",children:"UTC"}),e("option",{value:"America/New_York",children:"Eastern Time (US)"}),e("option",{value:"America/Chicago",children:"Central Time (US)"}),e("option",{value:"America/Denver",children:"Mountain Time (US)"}),e("option",{value:"America/Los_Angeles",children:"Pacific Time (US)"}),e("option",{value:"Europe/London",children:"London (UK)"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Weekday Hours (Mon-Fri)"}),t("div",{className:"flex items-center gap-2",children:[e("input",{type:"time",className:"border border-zinc-300 rounded-lg p-2 text-sm",value:c.schedule?.Mon?.[0]||"09:00",onChange:x=>g(x.target.value,c.schedule?.Mon?.[1]||"17:00")}),e("span",{className:"text-zinc-400",children:"to"}),e("input",{type:"time",className:"border border-zinc-300 rounded-lg p-2 text-sm",value:c.schedule?.Mon?.[1]||"17:00",onChange:x=>g(c.schedule?.Mon?.[0]||"09:00",x.target.value)})]})]}),e("div",{className:"pt-4 flex justify-end",children:e("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700",children:"Save Settings"})})]})}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t("div",{className:"bg-white rounded-xl border border-zinc-200 overflow-hidden flex flex-col h-[600px]",children:[t("div",{className:"p-4 border-b border-zinc-200 bg-zinc-50 flex justify-between items-center",children:[t("h2",{className:"font-semibold text-zinc-900 flex items-center gap-2",children:[e(nt,{size:18,className:"text-blue-600"}),"Customer Inquiries"]}),t("div",{className:"flex items-center gap-2",children:[t("select",{value:m,onChange:x=>h(x.target.value),className:"text-xs border border-zinc-200 rounded px-2 py-1",children:[e("option",{value:"all",children:"All"}),e("option",{value:"owner",children:"Owner"}),e("option",{value:"admin",children:"Admin"}),e("option",{value:"instructor",children:"Instructor"}),e("option",{value:"support",children:"Support"})]}),e("span",{className:"text-xs bg-zinc-200 text-zinc-600 px-2 py-0.5 rounded-full",children:N.length})]})]}),e("div",{className:"flex-1 overflow-y-auto divide-y divide-zinc-100",children:N.length===0?e("div",{className:"p-8 text-center text-zinc-500 text-sm",children:m==="all"?"No customer messages yet.":`No messages routed to ${m}.`}):N.map(x=>t(L,{to:`/studio/${l}/chat/${x.id}`,className:"block p-4 hover:bg-zinc-50 transition-colors",children:[t("div",{className:"flex justify-between items-start mb-1",children:[e("span",{className:"font-medium text-zinc-900",children:x.name}),e("span",{className:"text-xs text-zinc-400",children:new Date(x.createdAt).toLocaleDateString()})]}),t("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[x.customerEmail&&e("span",{children:x.customerEmail}),e("span",{className:`px-1.5 py-0.5 rounded capitalize ${x.status==="open"?"bg-green-100 text-green-700":x.status==="closed"?"bg-zinc-100 text-zinc-500":"bg-blue-50 text-blue-700"}`,children:x.status||"open"}),x.metadata?.routedRole&&t("span",{className:"px-1.5 py-0.5 rounded bg-purple-50 text-purple-700 capitalize",children:["â†’ ",x.metadata.routedRole]})]})]},x.id))})]}),t("div",{className:"bg-white rounded-xl border border-zinc-200 overflow-hidden flex flex-col h-[600px]",children:[t("div",{className:"p-4 border-b border-zinc-200 bg-zinc-50 flex justify-between items-center",children:[t("h2",{className:"font-semibold text-zinc-900 flex items-center gap-2",children:[e(Oe,{size:18,className:"text-purple-600"}),"Platform Support Tickets"]}),t("button",{className:"text-xs flex items-center gap-1 bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200 transition-colors",children:[e(ee,{size:12}),"New Ticket"]})]}),e("div",{className:"flex-1 overflow-y-auto divide-y divide-zinc-100",children:y.length===0?e("div",{className:"p-8 text-center text-zinc-500 text-sm",children:"No active support tickets with Platform Admin."}):y.map(x=>t(L,{to:`/studio/${l}/chat/${x.id}`,className:"block p-4 hover:bg-zinc-50 transition-colors",children:[t("div",{className:"flex justify-between items-start mb-1",children:[e("span",{className:"font-medium text-zinc-900",children:x.name}),e("span",{className:"text-xs text-zinc-400",children:new Date(x.createdAt).toLocaleDateString()})]}),t("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[e("span",{className:`px-1.5 py-0.5 rounded capitalize ${x.status==="open"?"bg-green-100 text-green-700":x.status==="closed"?"bg-zinc-100 text-zinc-500":"bg-blue-50 text-blue-700"}`,children:x.status||"open"}),x.assignedToId&&e("span",{className:"bg-purple-50 text-purple-700 px-1.5 py-0.5 rounded",children:"Assigned"})]})]},x.id))})]})]})]})}),Nh=Object.freeze(Object.defineProperty({__proto__:null,default:zh,loader:yh},Symbol.toStringTag,{value:"Module"})),kh=async i=>{const{getToken:n,userId:s}=await P(i),a=await n(),r=i.params.roomId;if(!s)throw new Response("Unauthorized",{status:401});try{const l=await z(`/chat/rooms/${r}`,a),d=await z("/tenant/me",a);return{room:l,token:a,user:{id:d.userId,name:d.firstName+" "+d.lastName},apiUrl:Fe}}catch{throw new Response("Room not found or access denied",{status:404})}},wh=j(function(){const{room:n,token:s,user:a,apiUrl:r}=D(),{slug:l}=ae(),[d,o]=f(n.status||"open"),c=n.metadata?.source==="widget"||n.customerEmail,u=async p=>{try{await z(`/chat/rooms/${n.id}`,s,{method:"PATCH",body:JSON.stringify({status:p})}),o(p)}catch{_.error("Failed to update status")}};return t("div",{className:"h-[calc(100vh-64px)] bg-zinc-50 flex flex-col",children:[t("header",{className:"bg-white border-b border-zinc-200 px-6 py-3 flex items-center justify-between",children:[t("div",{className:"flex items-center gap-4",children:[e(L,{to:`/studio/${l}/chat`,className:"p-2 hover:bg-zinc-100 rounded-full text-zinc-500",children:e($e,{size:20})}),t("div",{children:[e("h1",{className:"font-bold text-zinc-900 leading-tight",children:n.name}),t("div",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e("span",{className:"uppercase tracking-wider font-semibold",children:c?"Customer Inquiry":"Platform Ticket"}),e("span",{children:"â€¢"}),e("span",{className:"font-mono text-zinc-400",children:n.id.slice(0,8)})]})]})]}),t("div",{className:"flex items-center gap-2",children:[e("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${d==="open"?"bg-green-100 text-green-700":d==="closed"?"bg-zinc-100 text-zinc-600":"bg-blue-50 text-blue-700"}`,children:d}),c&&d!=="closed"&&t("button",{onClick:()=>u("closed"),className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-md text-sm hover:bg-green-700",children:[e(me,{size:14}),"Resolve"]}),c&&d==="closed"&&t("button",{onClick:()=>u("open"),className:"flex items-center gap-1 px-3 py-1.5 bg-zinc-100 text-zinc-700 rounded-md text-sm hover:bg-zinc-200",children:[e(he,{size:14}),"Reopen"]})]})]}),e("main",{className:"flex-1 p-6 flex justify-center overflow-hidden",children:e("div",{className:"w-full max-w-4xl h-full flex flex-col",children:e(qn,{roomId:n.id,token:s,currentUser:a,wsUrl:r})})})]})}),Ch=Object.freeze(Object.defineProperty({__proto__:null,default:wh,loader:kh},Symbol.toStringTag,{value:"Module"})),Sh=j(function(){const{tenant:n}=U(),s=bn(),a=[{name:"Export Data",path:`/studio/${n.slug}/data/export`,icon:_t},{name:"Import Data",path:`/studio/${n.slug}/data/import`,icon:Si}];return t("div",{className:"max-w-4xl p-8 animate-in fade-in duration-500",children:[e("div",{className:"mb-8",children:t("div",{className:"flex items-center gap-3 mb-2",children:[e("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:e(qe,{size:24})}),t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Data Management"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Manage your studio's data, exports, and migrations."})]})]})}),e("div",{className:"border-b border-zinc-200 dark:border-zinc-800 mb-8",children:e("nav",{className:"-mb-px flex space-x-8",children:a.map(r=>{const l=r.icon,d=s.pathname===r.path||r.path.endsWith("/export")&&s.pathname.endsWith("/data");return t(L,{to:r.path,className:`
                                    flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
                                    ${d?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-500 hover:text-zinc-700 hover:border-zinc-300 dark:text-zinc-400 dark:hover:text-zinc-300"}
                                `,children:[e(l,{size:16}),r.name]},r.name)})})}),e(ze,{context:U()})]})}),jh=Object.freeze(Object.defineProperty({__proto__:null,default:Sh},Symbol.toStringTag,{value:"Module"})),Mh=async({request:i})=>{const n=new URL(i.url);return n.pathname.endsWith("/export")?null:Y(`${n.pathname}/export`)},_h=j(function(){return null}),Ah=Object.freeze(Object.defineProperty({__proto__:null,default:_h,loader:Mh},Symbol.toStringTag,{value:"Module"})),$h=j(function(){const{tenant:n}=U(),[s,a]=f(null),[r,l]=f({isOpen:!1,message:""}),d=async o=>{a(o);try{const c=await window.Clerk?.session?.getToken(),u=await fetch(`${Fe}/tenant/settings/export?type=${o}`,{headers:{Authorization:`Bearer ${c}`,"X-Tenant-Slug":n.slug}});if(!u.ok)throw new Error("Export failed");const p=await u.blob(),g=window.URL.createObjectURL(p),m=document.createElement("a");m.href=g,m.download=`export_${o}_${n.slug}.csv`,document.body.appendChild(m),m.click(),m.remove()}catch{l({isOpen:!0,message:"Export failed. Please try again."})}finally{a(null)}};return t("div",{className:"space-y-6",children:[e(ln,{isOpen:r.isOpen,onClose:()=>l({...r,isOpen:!1}),message:r.message}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[t("div",{className:"mb-6",children:[t("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(_t,{size:20,className:"text-blue-500"}),"Export Data"]}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Download your studio data in CSV format for analysis or backup."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("button",{onClick:()=>d("subscribers"),disabled:!!s,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-blue-200 dark:hover:border-blue-800 transition-all text-center",children:[e("div",{className:"w-12 h-12 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e(Xt,{size:24})}),e("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Subscribers"}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:s==="subscribers"?"Generating CSV...":"Active members & history"})]}),t("button",{onClick:()=>d("financials"),disabled:!!s,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-emerald-200 dark:hover:border-emerald-800 transition-all text-center",children:[e("div",{className:"w-12 h-12 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e(Ae,{size:24})}),e("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Financials"}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:s==="financials"?"Generating CSV...":"Invoices & Transactions"})]}),t("button",{onClick:()=>d("products"),disabled:!!s,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-purple-200 dark:hover:border-purple-800 transition-all text-center",children:[e("div",{className:"w-12 h-12 rounded-full bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e(Ka,{size:24})}),e("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Products"}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:s==="products"?"Generating CSV...":"Memberships & Items"})]})]})]}),t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-lg p-4 text-xs text-zinc-500 dark:text-zinc-400",children:[e("strong",{children:"Note:"})," Exports include sensitive data. Please handle these files securely."]})]})}),Th=Object.freeze(Object.defineProperty({__proto__:null,default:$h},Symbol.toStringTag,{value:"Module"})),Ph=j(function(){const{tenant:n}=U(),[s,a]=f(null),[r,l]=f(!1),[d,o]=f(null),[c,u]=f(null);return t("div",{className:"max-w-4xl pb-10",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900",children:"Data Import"}),e("p",{className:"text-zinc-500 mt-2",children:"Migrate your data from another system using CSV files."})]}),t("div",{className:"bg-white border border-zinc-200 rounded-lg p-6 shadow-sm mb-8",children:[e("h2",{className:"text-lg font-semibold mb-4",children:"Import Users & Memberships"}),t("div",{className:"mb-6 p-4 bg-blue-50 text-blue-800 rounded text-sm",children:[e("p",{className:"font-semibold mb-1",children:"CSV Format Requirements:"}),t("ul",{className:"list-disc pl-5 space-y-1",children:[t("li",{children:["Headers required: ",e("code",{children:"email"}),", ",e("code",{children:"firstname"}),", ",e("code",{children:"lastname"})]}),t("li",{children:["Optional: ",e("code",{children:"phone"}),", ",e("code",{children:"address"}),", ",e("code",{children:"dob"})," (YYYY-MM-DD), ",e("code",{children:"minor"})," (yes/no)"]}),t("li",{children:["Membership: ",e("code",{children:"membership"})," (Plan Name - must match exactly)"]})]}),e("p",{className:"font-semibold mt-3 mb-1",children:"OR Import Classes:"}),t("ul",{className:"list-disc pl-5 space-y-1",children:[t("li",{children:["Headers required: ",e("code",{children:"title"}),", ",e("code",{children:"start_time"})," (ISO 8601), ",e("code",{children:"duration"})," (minutes), ",e("code",{children:"instructor_email"})]}),t("li",{children:["Optional: ",e("code",{children:"description"}),", ",e("code",{children:"capacity"}),", ",e("code",{children:"price"}),", ",e("code",{children:"location"})," (Name)"]})]})]}),t("form",{onSubmit:async m=>{if(m.preventDefault(),!s){u("Please select a file.");return}l(!0),u(null),o(null);try{const h=await window.Clerk?.session?.getToken(),v=new FormData;v.append("file",s);const y=await z("/import/csv",h,{method:"POST",headers:{"X-Tenant-Slug":n.slug},body:v});y.error?(u(y.error),y.details&&console.error(y.details)):o(y)}catch(h){u(h.message||"Upload failed.")}finally{l(!1)}},className:"space-y-6",children:[t("div",{className:"border-2 border-dashed border-zinc-300 rounded-lg p-8 flex flex-col items-center justify-center text-center hover:bg-zinc-50 transition-colors",children:[e(Si,{className:"h-10 w-10 text-zinc-400 mb-3"}),s?t("div",{className:"flex items-center gap-2 text-zinc-900 font-medium",children:[e(tt,{className:"h-5 w-5 text-blue-500"}),s.name]}):t("div",{children:[t("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[e("span",{className:"text-blue-600 font-medium hover:text-blue-500",children:"Upload a file"}),e("span",{className:"text-zinc-500",children:" or drag and drop"}),e("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".csv",onChange:m=>{m.target.files&&m.target.files[0]&&(a(m.target.files[0]),u(null),o(null))}})]}),e("p",{className:"text-xs text-zinc-500 mt-1",children:"CSV up to 10MB"})]})]}),c&&t("div",{className:"flex items-start gap-2 bg-red-50 text-red-600 p-3 rounded",children:[e(Pe,{className:"h-5 w-5 shrink-0"}),e("span",{className:"text-sm",children:c})]}),d&&t("div",{className:"bg-green-50 text-green-800 p-4 rounded border border-green-200",children:[t("div",{className:"flex items-center gap-2 mb-2 font-semibold",children:[e(me,{className:"h-5 w-5"}),"Import Complete"]}),t("div",{className:"text-sm space-y-1",children:[t("p",{children:["Total Rows: ",d.total]}),t("p",{children:["Created: ",d.created]}),t("p",{children:["Skipped: ",d.skipped]}),d.errors&&d.errors.length>0&&t("div",{className:"mt-2",children:[e("p",{className:"font-medium text-red-600",children:"Errors:"}),e("ul",{className:"list-disc pl-5 text-red-600 max-h-32 overflow-y-auto",children:d.errors.map((m,h)=>e("li",{children:m},h))})]})]})]}),e("div",{className:"flex justify-end",children:e("button",{type:"submit",disabled:!s||r,className:"bg-zinc-900 text-white px-4 py-2 rounded-md font-medium text-sm hover:bg-zinc-800 disabled:opacity-50 flex items-center gap-2",children:r?"Importing...":"Start Import"})})]})]})]})}),Ih=Object.freeze(Object.defineProperty({__proto__:null,default:Ph},Symbol.toStringTag,{value:"Module"})),Lh=H(()=>import("./POSPage-DCjrT-6K.js")),Dh=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(Lh,{})})})}),Oh=Object.freeze(Object.defineProperty({__proto__:null,default:Dh},Symbol.toStringTag,{value:"Module"})),Eh=async({params:i})=>{try{return{data:await z("/waivers",null,{headers:{"X-Tenant-Slug":i.slug}}),tenantSlug:i.slug}}catch(n){throw console.error("Loader Error",n),new Response("Failed to load waiver",{status:500})}},Bh=async({request:i,params:n})=>{const s=await i.formData(),a=s.get("firstName"),r=s.get("lastName"),l=s.get("email"),d=s.get("signatureData"),o=s.get("templateId");try{const c=await z("/waivers/sign/public",null,{method:"POST",headers:{"X-Tenant-Slug":n.slug},body:JSON.stringify({firstName:a,lastName:r,email:l,signatureData:d,templateId:o})});return c.error?{error:c.error}:{success:!0}}catch(c){return{error:c.message}}},Fh=j(function(){const{data:n,tenantSlug:s}=D(),a=ys(),l=jt().state==="submitting",[d,o]=f(1),[c,u]=f(null),p=n?.waiver;return p?a?.success?e("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-950 p-4",children:t("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-zinc-200 dark:border-zinc-800 animate-in zoom-in duration-300",children:[e("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e(pe,{className:"w-10 h-10"})}),e("h1",{className:"text-2xl font-bold mb-2 text-zinc-900 dark:text-zinc-100",children:"Waiver Signed!"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-6",children:"Thank you for signing. A copy has been sent to your email."}),e("a",{href:`/site/${s}`,className:"text-blue-600 hover:underline",children:"Return to Home"})]})}):e("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 py-12 px-4 sm:px-6 lg:px-8 font-sans",children:t("div",{className:"max-w-3xl mx-auto",children:[t("div",{className:"text-center mb-10",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:p.title}),e("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400",children:"Please review and sign the document below."})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl overflow-hidden border border-zinc-200 dark:border-zinc-800",children:[e("div",{className:"p-8 max-h-[60vh] overflow-y-auto border-b border-zinc-100 dark:border-zinc-800",children:e("div",{className:"prose dark:prose-invert max-w-none text-zinc-700 dark:text-zinc-300 prose-sm sm:prose-base font-serif",children:p.content})}),e("div",{className:"p-8 bg-zinc-50 dark:bg-zinc-900/50",children:t(Le,{method:"post",className:"space-y-6",children:[e("input",{type:"hidden",name:"templateId",value:p.id}),a?.error&&e("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg text-sm mb-4",children:a.error}),d===1&&t("div",{className:"space-y-4 animate-in fade-in slide-in-from-right-8 duration-300",children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Step 1: Your Information"}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"First Name"}),e("input",{name:"firstName",required:!0,className:"w-full px-4 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Jane"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Last Name"}),e("input",{name:"lastName",required:!0,className:"w-full px-4 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Doe"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email Address"}),e("input",{name:"email",type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"jane@example.com"})]}),e("div",{className:"pt-4",children:t("button",{type:"button",onClick:()=>o(2),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg font-medium hover:opacity-90 transition-opacity",children:["Next: Sign Document ",e(Re,{size:16})]})})]}),d===2&&t("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-300",children:[t("div",{className:"flex items-center justify-between",children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Step 2: Signature"}),e("button",{type:"button",onClick:()=>o(1),className:"text-sm text-zinc-500 hover:text-zinc-900 underline",children:"Edit Info"})]}),t("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden",children:[e("p",{className:"p-2 text-xs text-center text-zinc-400 bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-100 dark:border-zinc-800",children:"Draw your signature below"}),e(Hi,{onChange:g=>u(g),width:600,height:200})]}),e("input",{type:"hidden",name:"signatureData",value:c||""}),t("div",{className:"flex items-start gap-3",children:[e("input",{type:"checkbox",required:!0,id:"agree",className:"mt-1 w-5 h-5 rounded border-zinc-300 text-blue-600 focus:ring-blue-500"}),e("label",{htmlFor:"agree",className:"text-sm text-zinc-600 dark:text-zinc-400 leading-relaxed",children:"I acknowledge that I have read and agree to the terms of the waiver above. I understand that by signing electronically, I am legally bound by this agreement."})]}),e("div",{className:"pt-2",children:e("button",{type:"submit",disabled:!c||l,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-blue-600 text-white rounded-lg font-bold text-lg hover:bg-blue-700 shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform active:scale-[0.99]",children:l?"Signing...":"Sign & Complete"})})]})]})})]}),t("div",{className:"text-center mt-8 text-zinc-400 text-sm",children:["Protected by ",e("strong",{children:"Studio Platform"})," security"]})]})}):e("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-950 p-4",children:t("div",{className:"text-center",children:[e("h1",{className:"text-2xl font-bold mb-2",children:"No Active Waiver"}),e("p",{className:"text-zinc-500",children:"This studio does not currently have an active waiver to sign."})]})})}),Rh=Object.freeze(Object.defineProperty({__proto__:null,action:Bh,default:Fh,loader:Eh},Symbol.toStringTag,{value:"Module"})),Xh=async({params:i})=>{const{slug:n}=i,a=await fetch(`https://studio-platform-api.slichti.workers.dev/public/tenant/${n}`);if(!a.ok)throw new Response("Studio not found",{status:404});return{tenant:await a.json()}},Uh=j(function(){const{tenant:n}=D(),s=n.branding?{"--primary":n.branding.primaryColor||"#3b82f6","--font-sans":n.branding.font||"Inter"}:{};return e(Li,{defaultTheme:"light",storageKey:"vite-ui-theme",children:t("div",{style:s,className:"font-sans antialiased bg-transparent min-h-screen",children:[e("style",{children:`
                    :root {
                        --radius: 0.5rem;
                    }
                `}),e(ze,{context:{tenant:n}})]})})}),Wh=Object.freeze(Object.defineProperty({__proto__:null,default:Uh,loader:Xh},Symbol.toStringTag,{value:"Module"})),Hh=async({params:i,request:n})=>{const{slug:s}=i,a="https://studio-platform-api.slichti.workers.dev";try{const r=await fetch(`${a}/classes`,{headers:{"X-Tenant-Slug":s}});if(!r.ok)throw new Error("Failed to load classes");const l=await r.json();return{classes:Array.isArray(l)?l:[]}}catch{return{classes:[],error:"Could not load schedule."}}},Qh=j(function(){const{classes:n,error:s}=D(),{tenant:a}=U(),r=(n||[]).reduce((d,o)=>{const c=new Date(o.startTime),u=ie(c,"EEEE, MMMM d");return d[u]||(d[u]=[]),d[u].push(o),d},{}),l=()=>{const d=`${window.location.origin}/studio/${a.slug}/classes`;window.open(d,"_blank")};return s?e("div",{className:"p-4 text-red-500 text-sm text-center",children:s}):n.length===0?t("div",{className:"flex flex-col items-center justify-center p-8 text-zinc-500 bg-white border rounded",children:[e(K,{className:"mb-2 opacity-50"}),e("p",{className:"text-sm",children:"No classes scheduled."})]}):e("div",{className:"bg-white min-h-[400px]",children:Object.entries(r).map(([d,o])=>t("div",{className:"mb-6 last:mb-0",children:[e("h3",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur py-2 px-4 border-b border-zinc-100 font-bold text-zinc-900 text-lg shadow-sm",children:d}),e("div",{className:"divide-y divide-zinc-100",children:o.map(c=>t("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-50 transition-colors group",children:[t("div",{className:"flex-1 min-w-0 pr-4",children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"font-bold text-zinc-900 truncate",children:c.title}),c.zoomEnabled&&e(vt,{size:14,className:"text-blue-500"})]}),t("div",{className:"text-sm text-zinc-500 flex flex-wrap gap-x-3 items-center",children:[e("span",{className:"font-medium text-zinc-700",children:ie(new Date(c.startTime),"h:mm a")}),e("span",{className:"text-zinc-300",children:"â€¢"}),t("span",{children:[c.durationMinutes," min"]}),c.instructor?.user?.profile?.firstName&&t(G,{children:[e("span",{className:"text-zinc-300",children:"â€¢"}),e("span",{children:c.instructor.user.profile.firstName})]})]})]}),t("button",{onClick:l,className:"shrink-0 px-4 py-2 bg-zinc-900 text-white text-sm font-medium rounded-lg hover:bg-zinc-800 transition-colors flex items-center gap-2",children:["Book",e(Nt,{size:14,className:"opacity-70"})]})]},c.id))})]},d))})}),Jh=Object.freeze(Object.defineProperty({__proto__:null,default:Qh,loader:Hh},Symbol.toStringTag,{value:"Module"})),Vh=async({params:i,request:n})=>{const{slug:s}=i,a="https://studio-platform-api.slichti.workers.dev";try{const[r,l]=await Promise.all([fetch(`${a}/commerce/packs`,{headers:{"X-Tenant-Slug":s}}),fetch(`${a}/contracts/definitions`,{headers:{"X-Tenant-Slug":s}})]),d=r.ok?await r.json():{packs:[]},o=l.ok?await l.json():{definitions:[]};return{packs:d.packs||[],memberships:o.definitions||[],error:null}}catch(r){return console.error("Failed to load pricing",r),{packs:[],memberships:[],error:"Could not load pricing."}}},qh=j(function(){const{packs:n,memberships:s,error:a}=D(),{tenant:r}=U(),l=n.length>0||s.length>0,d=l?n:[{id:"demo-1",name:"Drop-in Class",credits:1,price:2200,expirationDays:30},{id:"demo-2",name:"5-Class Pack",credits:5,price:9500,expirationDays:90},{id:"demo-3",name:"10-Class Pack",credits:10,price:18e3,expirationDays:180}],o=l?s:[{id:"demo-m1",name:"Monthly Unlimited",price:13500,interval:"month",description:"Unlimited access to all classes. Auto-renews monthly.",billingCycles:null}],c=(u,p)=>{if(!l){alert("This is a demo preview. Please configure pricing in your Studio Dashboard.");return}const g=`${window.location.origin}/studio/${r.slug}/checkout?${p==="pack"?"packId":"membershipId"}=${u}`;window.open(g,"_blank")};return a?e("div",{className:"p-4 text-red-500 text-sm text-center",children:a}):t("div",{className:"bg-white min-h-[400px] p-4 font-sans text-zinc-900",children:[!l&&t("div",{className:"mb-6 bg-blue-50 text-blue-800 p-3 rounded-lg text-sm flex items-center gap-2 border border-blue-100",children:[e(Pe,{className:"w-4 h-4"}),e("span",{children:"No pricing configured yet. Showing example yoga studio pricing based on market averages."})]}),t("div",{className:"space-y-8",children:[t("div",{children:[t("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e(pn,{className:"w-5 h-5 text-amber-500"}),"Memberships"]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(u=>t("div",{className:"border border-zinc-200 rounded-xl p-6 hover:shadow-lg transition-shadow bg-white flex flex-col",children:[t("div",{className:"mb-4",children:[e("h4",{className:"font-bold text-xl",children:u.name}),e("p",{className:"text-zinc-500 text-sm mt-1",children:u.description||"Recurring membership"})]}),t("div",{className:"mt-auto pt-4 border-t border-zinc-100",children:[e("div",{className:"flex justify-between items-end mb-4",children:t("div",{children:[t("span",{className:"text-3xl font-bold",children:["$",(u.price/100).toFixed(0)]}),t("span",{className:"text-zinc-500 text-sm",children:["/",u.interval==="month"?"mo":u.interval]})]})}),e("button",{onClick:()=>c(u.id,"membership"),className:"w-full py-2.5 bg-zinc-900 text-white rounded-lg font-medium hover:bg-zinc-800 transition-colors",children:"Select Plan"})]})]},u.id))})]}),t("div",{children:[t("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e(Ge,{className:"w-5 h-5 text-blue-500"}),"Class Packs"]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:d.map(u=>t("div",{className:"border border-zinc-200 rounded-xl p-5 hover:border-zinc-300 transition-colors bg-zinc-50/50",children:[e("h4",{className:"font-semibold text-lg mb-1",children:u.name}),t("div",{className:"flex items-baseline gap-1 mb-3",children:[t("span",{className:"text-2xl font-bold",children:["$",(u.price/100).toFixed(0)]}),t("span",{className:"text-zinc-500 text-xs",children:["/ ",(u.price/100/u.credits).toFixed(0)," per class"]})]}),t("ul",{className:"text-sm text-zinc-600 space-y-2 mb-4",children:[t("li",{className:"flex items-center gap-2",children:[e(pe,{className:"w-3 h-3 text-green-600"}),u.credits," Credits"]}),t("li",{className:"flex items-center gap-2",children:[e(pe,{className:"w-3 h-3 text-green-600"}),"Valid for ",u.expirationDays||365," days"]})]}),e("button",{onClick:()=>c(u.id,"pack"),className:"w-full py-2 border border-zinc-300 bg-white text-zinc-900 rounded-lg text-sm font-medium hover:bg-zinc-50 transition-colors",children:"Purchase"})]},u.id))})]})]})]})}),Gh=Object.freeze(Object.defineProperty({__proto__:null,default:qh,loader:Vh},Symbol.toStringTag,{value:"Module"}));function Yh({tenantSlug:i,apiUrl:n}){const[s,a]=f([]),[r,l]=f(!0),[d,o]=f(new Date),[c,u]=f(null),[p,g]=f({name:"",email:""}),[m,h]=f("idle"),[v,y]=f(!1),N=n||(typeof window<"u"?window.ENV?.API_URL:"")||"https://studio-platform-api.slichti.workers.dev";if(E(()=>{y(!0),x()},[i,d]),!v)return e("div",{className:"p-8 text-center text-zinc-400",children:"Loading..."});const x=async()=>{l(!0);try{const b=xs(d).toISOString(),S=await(await fetch(`${N}/guest/schedule/${i}?start=${b}`)).json();a(S.classes||[])}catch(b){console.error("Failed to load schedule",b)}finally{l(!1)}},w=async()=>{h("submitting");try{(await fetch(`${N}/guest/booking`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({classId:c.id,tenantId:c.tenantId,guestDetails:p})})).ok?h("success"):h("error")}catch{h("error")}};return m==="success"?t("div",{className:"p-8 text-center bg-green-50 rounded-xl",children:[e("h3",{className:"text-2xl font-bold text-green-800",children:"Booking Confirmed!"}),e("p",{className:"mt-2 text-green-700",children:"Check your email for details."}),e("button",{onClick:()=>{h("idle"),u(null)},className:"mt-6 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Book Another Class"})]}):t("div",{className:"w-full max-w-4xl mx-auto bg-white rounded-xl shadow-sm border border-zinc-200 overflow-hidden flex flex-col md:flex-row h-[600px]",children:[t("div",{className:"w-full md:w-1/3 bg-zinc-50 border-r border-zinc-200 p-6 flex flex-col",children:[e("h2",{className:"text-xl font-bold text-zinc-900 mb-6",children:"Select a Date"}),e("div",{className:"space-y-2",children:[0,1,2,3,4,5,6].map(b=>{const k=un(xs(d),b),S=at(k,d);return t("button",{onClick:()=>o(k),className:`w-full text-left px-4 py-3 rounded-lg transition-colors flex justify-between items-center ${S?"bg-blue-600 text-white shadow-md":"hover:bg-zinc-200 text-zinc-700"}`,children:[e("span",{className:"font-medium",children:ie(k,"EEEE")}),e("span",{className:S?"text-blue-200":"text-zinc-500",children:ie(k,"MMM d")})]},b)})})]}),t("div",{className:"flex-1 p-6 overflow-y-auto bg-white",children:[t("h2",{className:"text-xl font-bold text-zinc-900 mb-6 sticky top-0 bg-white py-2 z-10",children:["Classes for ",ie(d,"MMMM do")]}),r?e("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(b=>e("div",{className:"h-24 bg-zinc-100 rounded-lg"},b))}):s.filter(b=>at(new Date(b.startTime),d)).length===0?e("div",{className:"text-center py-12 text-zinc-500",children:"No classes scheduled for this day."}):e("div",{className:"space-y-4",children:s.filter(b=>at(new Date(b.startTime),d)).map(b=>e("div",{className:"group border border-zinc-200 rounded-xl p-4 hover:border-blue-300 hover:shadow-md transition-all",children:t("div",{className:"flex justify-between items-start",children:[t("div",{children:[e("div",{className:"font-bold text-zinc-900 text-lg",children:ie(new Date(b.startTime),"h:mm a")}),e("h3",{className:"text-zinc-800 font-semibold mt-1",children:b.title}),e("p",{className:"text-sm text-zinc-500 mt-1",children:b.instructor?.user?.name||b.instructor?.user?.email||"Instructor"})]}),e("button",{onClick:()=>u(b),className:"px-4 py-2 bg-white border border-zinc-300 text-zinc-700 font-medium rounded-lg hover:bg-zinc-50 group-hover:border-blue-500 group-hover:text-blue-600 transition-colors",children:"Book"})]})},b.id))})]}),c&&e("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:t("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 animate-in fade-in zoom-in-95 duration-200",children:[t("div",{className:"flex justify-between items-center mb-6",children:[e("h3",{className:"text-xl font-bold text-zinc-900",children:"Complete Booking"}),t("button",{onClick:()=>u(null),className:"text-zinc-400 hover:text-zinc-600",children:[e("span",{className:"sr-only",children:"Close"}),e("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),t("div",{className:"bg-zinc-50 p-4 rounded-xl mb-6",children:[e("p",{className:"font-bold text-zinc-900",children:c.title}),e("p",{className:"text-sm text-zinc-600 mt-1",children:ie(new Date(c.startTime),"EEEE, MMMM do @ h:mm a")})]}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Full Name"}),e("input",{type:"text",value:p.name,onChange:b=>g({...p,name:b.target.value}),className:"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Jane Doe"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Email Address"}),e("input",{type:"email",value:p.email,onChange:b=>g({...p,email:b.target.value}),className:"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"jane@example.com"})]})]}),e("div",{className:"mt-8",children:e("button",{onClick:w,disabled:!p.name||!p.email||m==="submitting",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-sm transition-all transform active:scale-[0.98]",children:m==="submitting"?"Booking...":"Confirm Booking"})})]})})]})}var Zh={};async function Kh({params:i,context:n}){const{slug:s}=i;if(!s)throw new Response("Slug required",{status:404});return{slug:s,apiUrl:n.cloudflare?.env.API_URL||Zh.API_URL}}const ep=j(function(){const{slug:n,apiUrl:s}=D();return e("div",{className:"min-h-screen bg-transparent flex items-center justify-center p-4 font-sans",children:e(Yh,{tenantSlug:n,apiUrl:s})})}),tp=Object.freeze(Object.defineProperty({__proto__:null,default:ep,loader:Kh},Symbol.toStringTag,{value:"Module"})),np=async({params:i})=>{try{const n=await fetch(`${Fe}/public/tenant/${i.slug}`);if(!n.ok)throw new Error("Tenant not found");const s=await n.json();return{apiUrl:Fe,tenant:s}}catch{return{apiUrl:Fe,tenant:null}}},sp=j(function(){const{apiUrl:n,tenant:s}=D(),{slug:a}=ae(),[r,l]=f("welcome"),[d,o]=f(null),[c,u]=f(!1),g=(()=>{if(!s?.chatConfig?.schedule)return!0;const{timezone:C,schedule:T}=s.chatConfig;try{const M=new Date,B=new Intl.DateTimeFormat("en-US",{timeZone:C||"UTC",weekday:"short",hour:"numeric",minute:"numeric",hour12:!1}).formatToParts(M),A=B.find(He=>He.type==="weekday")?.value,R=parseInt(B.find(He=>He.type==="hour")?.value||"0"),I=parseInt(B.find(He=>He.type==="minute")?.value||"0"),F=R*60+I;if(!A)return!0;const le=T[A];if(!le||!Array.isArray(le)||le.length!==2)return!1;const[O,te]=le,[ce,Be]=O.split(":").map(Number),[je,Ze]=te.split(":").map(Number),fe=ce*60+Be,We=je*60+Ze;return F>=fe&&F<We}catch(M){return console.error("Timezone Check Error",M),!0}})(),[m,h]=f(""),[v,y]=f(""),[N,x]=f(""),[w,b]=f(null);E(()=>{const C=localStorage.getItem(`chat_session_${a}`);if(C)try{const T=JSON.parse(C);o(T),l("chat")}catch{localStorage.removeItem(`chat_session_${a}`)}},[a]);const k=async C=>{C.preventDefault(),u(!0);try{const M=await(await fetch(`${n}/guest/token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,email:v})})).json();if(M.error)throw new Error(M.error);const $=M.token,B=M.user,R=await(await fetch(`${n}/chat/rooms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`,"X-Tenant-Slug":a||""},body:JSON.stringify({type:"support",name:`Support: ${m}`,customer_email:v,metadata:{source:"widget",initialMessage:N},priority:"normal",routedRole:w||void 0})})).json();if(R.error)throw new Error(R.error);const I=R.id;N.trim()&&await fetch(`${n}/chat/rooms/${I}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`,"X-Tenant-Slug":a||""},body:JSON.stringify({content:N})});const F={token:$,roomId:I,user:B};o(F),localStorage.setItem(`chat_session_${a}`,JSON.stringify(F)),l("chat")}catch(T){alert("Failed to start chat: "+T.message)}finally{u(!1)}},S=()=>{window.parent.postMessage({type:"studio-chat-close"},"*")};return r==="welcome"?t("div",{className:"h-screen w-screen bg-white flex flex-col font-sans",children:[e("div",{className:"bg-blue-600 p-4 text-white flex justify-between items-center shadow-md",children:t("div",{className:"flex items-center gap-2",children:[e(Rn,{size:20}),e("h1",{className:"font-semibold",children:"Support Chat"})]})}),t("div",{className:"flex-1 p-6 flex flex-col justify-center",children:[e("p",{className:"text-zinc-600 mb-6 text-center",children:g?"Welcome! Please fill in your details to start a support chat with us.":`We are currently offline. Please leave a message and we'll get back to you at ${s?.chatConfig?.offlineEmail||"email"}.`}),t("form",{onSubmit:k,className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Name"}),e("input",{required:!0,className:"w-full border border-zinc-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Your Name",value:m,onChange:C=>h(C.target.value)})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Email"}),e("input",{required:!0,type:"email",className:"w-full border border-zinc-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"you@example.com",value:v,onChange:C=>y(C.target.value)})]}),s?.settings?.chatConfig&&Array.isArray(s.settings.chatConfig)&&s.settings.chatConfig.length>0&&t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Topic"}),t("select",{className:"w-full border border-zinc-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",value:w||"",onChange:C=>b(C.target.value||null),children:[e("option",{value:"",children:"Select a topic..."}),s.settings.chatConfig.map(C=>e("option",{value:C.routeToRole||"",children:C.label},C.id))]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Message"}),e("textarea",{required:!0,rows:3,className:"w-full border border-zinc-300 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"How can we help?",value:N,onChange:C=>x(C.target.value)})]}),e("button",{type:"submit",disabled:c,className:`w-full text-white font-semibold py-3 rounded-lg shadow-sm disabled:opacity-50 ${g?"bg-blue-600 hover:bg-blue-700":"bg-zinc-800 hover:bg-zinc-900"}`,children:c?"Sending...":g?"Start Chat":"Send Message"})]})]}),e("div",{className:"p-4 text-center text-xs text-zinc-400 border-t border-zinc-100",children:"Powered by Studio Platform"})]}):d?e("div",{className:"h-screen w-screen bg-white",children:t("div",{className:"h-full flex flex-col relative",children:[e("div",{className:"absolute top-0 right-0 z-50 p-2 hidden",children:e("button",{onClick:S,children:e(Te,{})})}),e(qn,{roomId:d.roomId,token:d.token,currentUser:d.user,wsUrl:n,onClose:S})]})}):null}),ip=Object.freeze(Object.defineProperty({__proto__:null,default:sp,loader:np},Symbol.toStringTag,{value:"Module"})),ap=async i=>{const{slug:n}=i.params;try{return{products:await z("/products?active=true",null,{headers:{"X-Tenant-Slug":n||""}})||[],slug:n}}catch(s){return console.error("Shop Loader Error",s),{products:[],slug:n}}},rp=j(function(){const{products:n,slug:s}=D(),[a,r]=f(new Map),[l,d]=f(!1),o=h=>{r(v=>{const y=new Map(v);return y.set(h,(y.get(h)||0)+1),y})},c=h=>{r(v=>{const y=new Map(v),N=y.get(h)||0;return N<=1?y.delete(h):y.set(h,N-1),y})},u=Array.from(a.values()).reduce((h,v)=>h+v,0),p=Array.from(a.entries()).reduce((h,[v,y])=>{const N=n.find(x=>x.id===v);return h+(N?.price||0)*y},0),g=h=>`$${(h/100).toFixed(2)}`,m=[...new Set(n.map(h=>h.category||"Other"))];return t("div",{className:"min-h-screen bg-zinc-50",children:[e("header",{className:"sticky top-0 z-40 bg-white border-b border-zinc-200 px-4 py-3",children:t("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[e("h1",{className:"text-xl font-bold text-zinc-900",children:"Shop"}),t("button",{onClick:()=>d(!0),className:"relative p-2 hover:bg-zinc-100 rounded-full transition",children:[e(qt,{size:24}),u>0&&e("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-zinc-900 text-white text-xs font-bold rounded-full flex items-center justify-center",children:u})]})]})}),e("main",{className:"max-w-6xl mx-auto px-4 py-8",children:n.length===0?t("div",{className:"text-center py-20 text-zinc-500",children:[e(et,{size:48,className:"mx-auto mb-4 opacity-50"}),e("p",{children:"No products available"})]}):m.map(h=>t("section",{className:"mb-12",children:[e("h2",{className:"text-lg font-bold text-zinc-900 mb-4",children:h}),e("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.filter(v=>(v.category||"Other")===h).map(v=>t("div",{className:"bg-white rounded-lg border border-zinc-200 overflow-hidden hover:shadow-md transition",children:[e("div",{className:"aspect-square bg-zinc-100",children:v.imageUrl?e("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover"}):e("div",{className:"w-full h-full flex items-center justify-center",children:e(et,{size:32,className:"text-zinc-300"})})}),t("div",{className:"p-3",children:[e("h3",{className:"font-medium text-zinc-900 text-sm",children:v.name}),t("div",{className:"flex items-center justify-between mt-2",children:[e("span",{className:"font-bold text-zinc-900",children:g(v.price)}),v.stockQuantity<=0?e("span",{className:"text-xs text-red-500",children:"Out of Stock"}):e("button",{onClick:()=>o(v.id),className:"p-1.5 bg-zinc-900 text-white rounded-full hover:bg-zinc-800 transition",children:e(ee,{size:16})})]})]})]},v.id))})]},h))}),l&&t("div",{className:"fixed inset-0 z-50",children:[e("div",{className:"absolute inset-0 bg-black/30",onClick:()=>d(!1)}),t("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-md bg-white shadow-xl flex flex-col animate-in slide-in-from-right",children:[t("div",{className:"p-4 border-b border-zinc-200 flex items-center justify-between",children:[t("h2",{className:"text-lg font-bold",children:["Your Cart (",u,")"]}),e("button",{onClick:()=>d(!1),children:e(Te,{size:24})})]}),e("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:a.size===0?e("p",{className:"text-center text-zinc-500 py-8",children:"Your cart is empty"}):Array.from(a.entries()).map(([h,v])=>{const y=n.find(N=>N.id===h);return y?t("div",{className:"flex gap-4 p-3 bg-zinc-50 rounded-lg",children:[e("div",{className:"w-16 h-16 bg-zinc-200 rounded flex-shrink-0",children:y.imageUrl&&e("img",{src:y.imageUrl,className:"w-full h-full object-cover rounded"})}),t("div",{className:"flex-1",children:[e("h3",{className:"font-medium text-sm",children:y.name}),e("p",{className:"text-sm text-zinc-500",children:g(y.price)}),t("div",{className:"flex items-center gap-2 mt-2",children:[e("button",{onClick:()=>c(h),className:"p-1 bg-white border rounded",children:e(pi,{size:14})}),e("span",{className:"text-sm font-medium w-6 text-center",children:v}),e("button",{onClick:()=>o(h),className:"p-1 bg-white border rounded",children:e(ee,{size:14})})]})]}),e("div",{className:"font-bold text-sm",children:g(y.price*v)})]},h):null})}),a.size>0&&t("div",{className:"p-4 border-t border-zinc-200 space-y-4",children:[t("div",{className:"flex justify-between text-lg font-bold",children:[e("span",{children:"Total"}),e("span",{children:g(p)})]}),e("a",{href:`/studio/${s}/checkout?cart=${encodeURIComponent(JSON.stringify(Object.fromEntries(a)))}`,className:"block w-full py-3 bg-zinc-900 text-white text-center font-medium rounded-lg hover:bg-zinc-800",children:"Checkout"})]})]})]})]})}),lp=Object.freeze(Object.defineProperty({__proto__:null,default:rp,loader:ap},Symbol.toStringTag,{value:"Module"})),dp=async i=>{const n=i.params.slug;try{const s=await fetch(`${i.context.ENV.API_URL}/public/tenant/${n}`).then(a=>a.json());if(s.error)throw new Error(s.error);return{tenant:s}}catch{return{tenant:null,error:"Studio not found"}}},op=j(function(){const{tenant:n}=D();if(!n)return e("div",{className:"h-screen flex items-center justify-center bg-zinc-950 text-white",children:"Studio Not Found"});const s=n.branding?.primaryColor||"#7c3aed";return t("div",{className:"h-screen w-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-white overflow-hidden flex flex-col font-sans selection:bg-purple-500/30",children:[t("header",{className:"h-16 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-6 bg-white dark:bg-zinc-900 shrink-0",children:[t("div",{className:"flex items-center gap-3",children:[n.branding?.logoUrl&&e("img",{src:n.branding.logoUrl,className:"h-8 w-8 object-contain",alt:"Logo"}),e("span",{className:"font-bold text-lg tracking-tight",children:n.name})]}),e("div",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-bold uppercase rounded tracking-wider",children:"Kiosk Mode"})]}),e("main",{className:"flex-1 relative overflow-y-auto",children:e(ze,{context:{tenant:n,brandColor:s}})})]})}),cp=Object.freeze(Object.defineProperty({__proto__:null,default:op,loader:dp},Symbol.toStringTag,{value:"Module"})),up=j(function(){const{tenant:n,brandColor:s}=U(),a=Ne(),r=ae(),[l,d]=f(""),[o,c]=f(!1),u=m=>{l.length<6&&d(h=>h+m)},p=()=>{d(m=>m.slice(0,-1))},g=async()=>{if(!(l.length<4)){c(!0);try{const m=window.ENV.API_URL,v=await(await fetch(`${m}/kiosk/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantSlug:r.slug,pin:l})})).json();if(v.error)throw new Error(v.error);v.token&&localStorage.setItem(`kiosk_token_${r.slug}`,v.token),_.success("Kiosk Unlocked"),a(`/kiosk/${r.slug}/mode`)}catch(m){_.error(m.message||"Invalid PIN"),d("")}finally{c(!1)}}};return e("div",{className:"h-full flex flex-col items-center justify-center p-6",children:t("div",{className:"w-full max-w-sm",children:[t("div",{className:"text-center mb-10",children:[e("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e(gi,{className:"h-8 w-8 text-zinc-400"})}),e("h1",{className:"text-2xl font-bold mb-2",children:"Unlock Kiosk"}),e("p",{className:"text-zinc-500",children:"Enter the 4-6 digit Kiosk PIN"})]}),e("div",{className:"flex justify-center gap-4 mb-8",children:Array.from({length:6}).map((m,h)=>e("div",{className:`w-4 h-4 rounded-full transition-all ${h<l.length?"bg-purple-600 scale-110":"bg-zinc-200 dark:bg-zinc-800"}`},h))}),t("div",{className:"grid grid-cols-3 gap-4 max-w-64 mx-auto",children:[[1,2,3,4,5,6,7,8,9].map(m=>e("button",{onClick:()=>u(m),className:"bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 hover:border-purple-500/50 hover:bg-purple-50 dark:hover:bg-purple-900/10 active:scale-95 transition-all w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold font-mono",children:m},m)),e("div",{})," ",e("button",{onClick:()=>u(0),className:"bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 hover:border-purple-500/50 hover:bg-purple-50 active:scale-95 transition-all w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold font-mono",children:"0"}),e("button",{onClick:p,className:"text-zinc-400 hover:text-red-500 active:scale-95 transition-all w-16 h-16 flex items-center justify-center",children:e(er,{className:"h-6 w-6"})})]}),e("div",{className:"mt-8",children:e("button",{onClick:g,disabled:o||l.length<4,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold h-12 rounded-lg flex items-center justify-center gap-2 transition-all",children:o?"Unlocking...":t(G,{children:["Unlock ",e(Re,{className:"h-4 w-4"})]})})})]})})}),mp=Object.freeze(Object.defineProperty({__proto__:null,default:up},Symbol.toStringTag,{value:"Module"})),hp=j(function(){const{tenant:n}=U(),s=ae(),a=Ne(),[r,l]=f(""),[d,o]=f([]),[c,u]=f(!1),[p,g]=f(null);E(()=>{localStorage.getItem(`kiosk_token_${s.slug}`)||a(`/kiosk/${s.slug}/login`)},[s.slug,a]),E(()=>{const h=setTimeout(async()=>{if(r.length<2){o([]);return}u(!0);try{const v=localStorage.getItem(`kiosk_token_${s.slug}`),y=window.ENV.API_URL,N=await fetch(`${y}/kiosk/search?q=${encodeURIComponent(r)}`,{headers:{Authorization:`Bearer ${v}`}});if(N.status===401){a(`/kiosk/${s.slug}/login`);return}const x=await N.json();o(Array.isArray(x)?x:[])}catch(v){console.error(v)}finally{u(!1)}},300);return()=>clearTimeout(h)},[r,s.slug,a]);const m=async(h,v)=>{g(h);try{const y=localStorage.getItem(`kiosk_token_${s.slug}`),N=window.ENV.API_URL;if(!(await fetch(`${N}/kiosk/checkin/${h}`,{method:"POST",headers:{Authorization:`Bearer ${y}`}})).ok)throw new Error("Check-in failed");_.success(`Welcome, ${v}!`),setTimeout(()=>{l(""),o([])},2e3)}catch{_.error("Could not check in. Please see desk.")}finally{g(null)}};return t("div",{className:"h-full flex flex-col items-center pt-20 px-6 max-w-2xl mx-auto",children:[t("h1",{className:"text-4xl font-bold mb-2",children:["Welcome to ",n.name]}),e("p",{className:"text-zinc-500 mb-10 text-lg",children:"Search for your name to check in."}),t("div",{className:"relative w-full mb-12",children:[e(De,{className:"absolute left-6 top-1/2 -translate-y-1/2 h-8 w-8 text-zinc-400"}),e("input",{type:"text",autoFocus:!0,value:r,onChange:h=>l(h.target.value),placeholder:"Type your name...",className:"w-full h-20 pl-20 pr-6 rounded-2xl border-2 border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-800 shadow-sm text-2xl outline-none focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 transition-all"}),r&&e("button",{onClick:()=>{l(""),o([])},className:"absolute right-6 top-1/2 -translate-y-1/2 p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-full",children:e(xt,{className:"h-6 w-6 text-zinc-400"})})]}),e("div",{className:"w-full space-y-4",children:d.map(h=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 shadow-sm flex items-center justify-between",children:[t("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-12 h-12 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center overflow-hidden",children:h.portraitUrl?e("img",{src:h.portraitUrl,alt:"",className:"w-full h-full object-cover"}):e(nt,{className:"h-6 w-6 text-zinc-400"})}),t("div",{children:[t("div",{className:"font-bold text-lg",children:[h.firstName," ",h.lastName]}),h.nextBooking?t("div",{className:"flex items-center gap-2 text-green-600 text-sm font-medium",children:[e(K,{className:"h-4 w-4"}),h.nextBooking.className,t("span",{className:"text-zinc-400 font-normal",children:["â€¢ ",ie(new Date(h.nextBooking.startTime),"h:mm a")]})]}):e("div",{className:"text-zinc-400 text-sm",children:"No bookings today"})]})]}),e("div",{children:h.nextBooking?h.nextBooking.checkedInAt?t("div",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg font-medium flex items-center gap-2",children:[e(me,{className:"h-5 w-5"}),"Checked In"]}):e("button",{onClick:()=>m(h.nextBooking.id,h.firstName),disabled:!!p,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-bold text-lg shadow-sm active:scale-95 transition-all disabled:opacity-50",children:p===h.nextBooking.id?"...":"Check In"}):e("span",{className:"text-zinc-400 text-sm font-medium",children:"See Front Desk"})})]},h.memberId))}),d.length===0&&r.length>2&&!c&&t("div",{className:"text-zinc-400 mt-10 flex flex-col items-center",children:[e(De,{className:"h-12 w-12 mb-4 opacity-50"}),t("p",{children:['No students found matching "',r,'"']})]})]})}),pp=Object.freeze(Object.defineProperty({__proto__:null,default:hp},Symbol.toStringTag,{value:"Module"})),gp=({data:i})=>i?.page?[{title:i.page.seoTitle||i.page.title},{name:"description",content:i.page.seoDescription||""},{property:"og:title",content:i.page.seoTitle||i.page.title},{property:"og:description",content:i.page.seoDescription||""},{property:"og:type",content:"website"},...i.page.ogImage?[{property:"og:image",content:i.page.ogImage}]:[]]:[{title:"Page Not Found"}];async function bp({request:i,params:n}){const s=Di(i),{pageSlug:a}=n;if(!s)throw new Response("Not Found",{status:404});if(!a)throw new Response("Not Found",{status:404});const r=await _s(s,a);if(!r)throw new Response("Page Not Found",{status:404});return{page:r,tenantSlug:s}}const fp=j(function(){const{page:n,tenantSlug:s}=D();return e(Vn,{page:n,tenantSlug:s})}),xp=Object.freeze(Object.defineProperty({__proto__:null,default:fp,loader:bp,meta:gp},Symbol.toStringTag,{value:"Module"}));function vp({children:i,tenantName:n="Studio Platform",role:s,navItems:a,title:r="Overview"}){const{user:l,isLoaded:d}=st(),{signOut:o}=mi(),[c,u]=f(!1),[p,g]=f(null),m=bn(),[h,v]=f(!1);E(()=>{g(localStorage.getItem("impersonation_token"))},[]),E(()=>{v(!1)},[m.pathname]);const y=()=>{typeof window<"u"&&(localStorage.removeItem("impersonation_token"),g(null)),o({redirectUrl:"/"})},N=()=>t(G,{children:[t("div",{className:"p-6 flex items-center gap-4 border-b border-zinc-200 dark:border-zinc-800",children:[e("div",{className:"text-3xl",children:"ðŸ§˜â€â™€ï¸"}),e("div",{children:e("h1",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400 leading-tight",children:n})})]}),e("nav",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-2",children:a||e(G,{children:e(ct,{to:"/dashboard",className:({isActive:x})=>`block px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${x?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:text-zinc-900 dark:hover:text-zinc-200"}`,children:"Overview"})})})]});return t("div",{className:"flex h-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 font-sans transition-colors duration-300",children:[e("aside",{className:"hidden md:flex w-64 bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 flex-col transition-colors duration-300 flex-shrink-0",children:e(N,{})}),e(Xi,{open:h,onOpenChange:v,side:"left",children:e(Ui,{className:"p-0 w-[80%] max-w-[300px]",children:e("div",{className:"h-full flex flex-col bg-white dark:bg-zinc-900",children:e(N,{})})})}),t("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:[p&&t("div",{className:"bg-red-500 text-white px-4 py-2 flex items-center justify-center gap-3 text-sm font-medium",children:[t("span",{children:["âš ï¸ Impersonating ",typeof window<"u"?localStorage.getItem("impersonation_target_email"):"User"]}),e("button",{onClick:()=>{localStorage.removeItem("impersonation_token"),localStorage.removeItem("impersonation_target_email"),g(null),window.location.href="/"},className:"bg-white text-red-500 px-2 py-0.5 rounded text-xs font-bold hover:bg-red-50",children:"Exit"})]}),t("header",{className:"h-[70px] bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-4 md:px-8 transition-colors duration-300 flex-shrink-0 z-20",children:[t("div",{className:"flex items-center gap-3 md:gap-0",children:[e("div",{className:"md:hidden",children:e("button",{onClick:()=>v(!0),className:"p-2 rounded-md text-zinc-500 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:e(zs,{className:"w-6 h-6"})})}),e("div",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100 truncate",children:r})]}),t("div",{className:"flex items-center gap-3 md:gap-5",children:[e(Ut,{}),d&&l&&t("div",{className:"relative",children:[t("button",{className:"flex items-center gap-3 p-1 rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",onClick:()=>u(!c),children:[e("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-indigo-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:l.imageUrl?e("img",{src:l.imageUrl,alt:l.fullName||"User",className:"w-full h-full object-cover"}):e("span",{children:l.firstName?l.firstName[0]:"U"})}),t("div",{className:"text-left hidden md:block",children:[e("div",{className:"font-semibold text-sm text-zinc-900 dark:text-zinc-100 max-w-[120px] truncate",children:l.fullName}),e("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 capitalize",children:s||"admin"})]}),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-zinc-400 hidden md:block",children:e("polyline",{points:"6 9 12 15 18 9"})})]}),c&&t(G,{children:[e("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),t("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl shadow-lg p-2 z-50 animate-in fade-in zoom-in-95 duration-200",children:[t(ct,{to:"/dashboard/profile",onClick:()=>u(!1),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-colors",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})]}),"My Profile"]}),p&&t("button",{onClick:()=>{u(!1),localStorage.removeItem("impersonation_token"),localStorage.removeItem("impersonation_target_email"),g(null),window.location.href="/admin"},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M12 2a10 10 0 0 0-10 10v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6a10 10 0 0 0-10-10Z"}),e("path",{d:"M12 12v6"}),e("circle",{cx:"12",cy:"7",r:"1"})]}),"Return to Admin"]}),e("div",{className:"h-px bg-zinc-100 dark:bg-zinc-800 my-1"}),t("button",{onClick:()=>{u(!1),y()},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e("polyline",{points:"16 17 21 12 16 7"}),e("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign Out"]})]})]})]})]})]}),e("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-zinc-50 dark:bg-zinc-950 transition-colors duration-300 w-full",children:i})]})]})}const yp=async i=>{const{userId:n,getToken:s}=await P(i);if(!n)return Y("/sign-in");const a=await s();let r=!1,l=[],d=null,o=null;try{const c=await z("/users/me",a);c&&((c.isPlatformAdmin||c.role==="admin")&&(r=!0),l=c.tenants||[],d=c)}catch(c){console.error("Failed to fetch user profile",c),o=c.message||"Failed to load profile"}return r&&l.length===0?Y("/admin"):{isPlatformAdmin:r,tenants:l,userProfile:d,error:o}},zp=j(function(){const{isPlatformAdmin:n,userProfile:s}=D();let a=[e(ct,{to:"/dashboard",end:!0,className:({isActive:r})=>`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${r?"bg-zinc-800 text-white":"text-zinc-600 hover:bg-zinc-100 dark:text-zinc-400 dark:hover:bg-zinc-800 dark:hover:text-white"}`,children:"Overview"},"overview")];return n&&(a.push(e("div",{className:"my-2 border-t border-zinc-200 dark:border-zinc-800"},"separator")),a.push(e(ct,{to:"/admin",className:"block px-3 py-2 rounded-md text-sm font-medium text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-colors",children:"ðŸ›¡ï¸ Platform Admin"},"admin"))),t(vp,{navItems:a,role:s?.role,children:[n===!1&&D().error&&t("div",{className:"bg-red-50 text-red-700 p-4 border-b border-red-200 text-sm text-center",children:["Warning: Profile load failed. Admin features may be hidden. ",e("br",{}),e("span",{className:"font-mono text-xs opacity-75",children:D().error})]}),e(ze,{})]})}),Np=Object.freeze(Object.defineProperty({__proto__:null,default:zp,loader:yp},Symbol.toStringTag,{value:"Module"})),kp=j(function(){const n=U();return e(ze,{context:n})}),wp=Object.freeze(Object.defineProperty({__proto__:null,default:kp},Symbol.toStringTag,{value:"Module"})),Cp=async i=>{const{getToken:n}=await P(i),s=await n();return{bookings:await z(`/classes/${i.params.id}/bookings`,s),classId:i.params.id}},Sp=j(function(){const{bookings:n,classId:s}=D();return t("div",{children:[t("div",{style:{marginBottom:"20px"},children:[e(L,{to:"/dashboard/classes",style:{color:"#71717a",textDecoration:"none",fontSize:"0.875rem"},children:"â† Back to Classes"}),e("h2",{style:{fontSize:"1.875rem",fontWeight:"bold",marginTop:"10px"},children:"Class Roster"})]}),e("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #e4e4e7",overflow:"hidden"},children:t("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e("thead",{style:{background:"#f4f4f5",borderBottom:"1px solid #e4e4e7"},children:t("tr",{children:[e("th",{style:{textAlign:"left",padding:"12px 20px",fontSize:"0.875rem",color:"#52525b"},children:"Student"}),e("th",{style:{textAlign:"left",padding:"12px 20px",fontSize:"0.875rem",color:"#52525b"},children:"Email"}),e("th",{style:{textAlign:"left",padding:"12px 20px",fontSize:"0.875rem",color:"#52525b"},children:"Status"}),e("th",{style:{textAlign:"left",padding:"12px 20px",fontSize:"0.875rem",color:"#52525b"},children:"Booked At"})]})}),t("tbody",{children:[n.map(a=>t("tr",{style:{borderBottom:"1px solid #e4e4e7"},children:[e("td",{style:{padding:"12px 20px"},children:e("span",{style:{fontWeight:"500"},children:a.user.profile?.fullName||"Unknown"})}),e("td",{style:{padding:"12px 20px",color:"#52525b"},children:a.user.email}),e("td",{style:{padding:"12px 20px"},children:e("span",{style:{padding:"4px 10px",borderRadius:"999px",fontSize:"0.75rem",fontWeight:"bold",background:a.status==="confirmed"?"#dcfce7":"#f4f4f5",color:a.status==="confirmed"?"#166534":"#52525b"},children:a.status})}),e("td",{style:{padding:"12px 20px",color:"#71717a",fontSize:"0.875rem"},children:new Date(a.createdAt).toLocaleDateString()})]},a.id)),n.length===0&&e("tr",{children:e("td",{colSpan:4,style:{padding:"40px",textAlign:"center",color:"#71717a"},children:"No bookings yet."})})]})]})})]})}),jp=Object.freeze(Object.defineProperty({__proto__:null,default:Sp,loader:Cp},Symbol.toStringTag,{value:"Module"})),Mp=async i=>{const{params:n}=i,{getToken:s,userId:a}=await P(i),r=await s();try{const[l,d]=await Promise.all([z(`/classes/${n.id}/recording`,r),z(`/classes/${n.id}`,r).catch(()=>({title:"Class Recording"}))]);return{id:n.id,title:d.title||"Class Recording",...l}}catch{throw new Response("Error loading recording",{status:500})}},_p=j(function(){const{classId:n,videoId:s,title:a}=D();return t("div",{children:[e("div",{style:{marginBottom:"20px"},children:e(L,{to:"/dashboard/classes",style:{color:"#71717a",textDecoration:"none",fontSize:"0.875rem"},children:"â† Back to Classes"})}),t("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"20px"},children:a}),s?e("div",{style:{position:"relative",paddingTop:"56.25%"},children:e("iframe",{src:`https://customer-<YOUR_CODE>.cloudflarestream.com/${s}/iframe`,style:{border:"none",position:"absolute",top:0,left:0,height:"100%",width:"100%"},allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0})}):t("div",{style:{padding:"60px",background:"#f4f4f5",borderRadius:"8px",textAlign:"center",color:"#71717a"},children:[e("p",{children:"Recording is processing or not available."}),e("p",{style:{fontSize:"0.875rem",marginTop:"10px"},children:"Simulated Video Player"})]})]})]})}),Ap=Object.freeze(Object.defineProperty({__proto__:null,default:_p,loader:Mp},Symbol.toStringTag,{value:"Module"}));function $p({onUploadComplete:i}){const{getToken:n}=J(),[s,a]=f(!1),[r,l]=f(null);return t("div",{style:{marginTop:"10px"},children:[e("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"5px"},children:"Thumbnail"}),e("input",{type:"file",accept:"image/*",onChange:async o=>{const c=o.target.files?.[0];if(c){a(!0);try{const u=await n(),{uploadURL:p}=await z("/uploads/image",u,{method:"POST"}),g=new FormData;g.append("file",c);const m=await fetch(p,{method:"POST",body:g});if(!m.ok)throw new Error("Failed to upload image to Cloudflare");const v=(await m.json()).result.id;i(v),l(URL.createObjectURL(c))}catch(u){console.error(u),alert("Upload failed")}finally{a(!1)}}},disabled:s,style:{fontSize:"0.875rem"}}),s&&e("span",{style:{fontSize:"0.875rem",color:"#71717a",marginLeft:"10px"},children:"Uploading..."}),r&&e("div",{style:{marginTop:"10px"},children:e("img",{src:r,alt:"Preview",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"6px"}})})]})}const Tp=async i=>{const{getToken:n}=await P(i),s=await n();return{classes:await z("/classes",s)}},Pp=async i=>{const{request:n}=i,{getToken:s}=await P(i),a=await s(),r=await n.formData(),l=r.get("title"),d=r.get("startTime"),o=r.get("duration"),c=r.get("createZoom")==="on",u=r.get("thumbnailId");try{return await z("/classes",a,{method:"POST",body:JSON.stringify({title:l,description:"Class created via Dashboard",startTime:d,durationMinutes:Number(o),capacity:20,createZoomMeeting:c,thumbnailUrl:u?`https://imagedelivery.net/<ACCOUNT_HASH>/${u}/public`:void 0})}),{success:!0}}catch(p){return{error:p.message}}},Ip=j(function(){const{classes:n}=D(),s=ys(),r=jt().state==="submitting",[l,d]=f(null);return t("div",{children:[e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:e("h2",{style:{fontSize:"1.875rem",fontWeight:"bold"},children:"Classes"})}),t("div",{style:{background:"white",padding:"20px",borderRadius:"8px",border:"1px solid #e4e4e7",marginBottom:"40px"},children:[e("h3",{style:{fontSize:"1.1rem",fontWeight:"semibold",marginBottom:"15px"},children:"Create New Class"}),t(Le,{method:"post",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr auto",gap:"20px",alignItems:"end"},children:[t("div",{children:[e("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"5px"},children:"Title"}),e("input",{name:"title",required:!0,type:"text",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #d4d4d8"}})]}),t("div",{children:[e("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"5px"},children:"Start Time"}),e("input",{name:"startTime",required:!0,type:"datetime-local",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #d4d4d8"}})]}),t("div",{children:[e("label",{style:{display:"block",fontSize:"0.875rem",marginBottom:"5px"},children:"Duration (min)"}),e("input",{name:"duration",required:!0,type:"number",defaultValue:"60",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #d4d4d8"}})]}),e("input",{type:"hidden",name:"thumbnailId",value:l||""}),e("div",{style:{marginBottom:"10px"},children:t("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.875rem"},children:[e("input",{name:"createZoom",type:"checkbox"}),"Auto-create Zoom?"]})}),e("button",{disabled:r,type:"submit",style:{padding:"10px 20px",background:"#18181b",color:"white",borderRadius:"6px",border:"none",cursor:"pointer"},children:r?"Creating...":"Create Class"})]}),e("div",{style:{marginTop:"10px"},children:e($p,{onUploadComplete:o=>d(o)})}),s?.error&&e("p",{style:{color:"red",marginTop:"10px"},children:s.error})]}),t("div",{style:{display:"grid",gap:"15px"},children:[n.map(o=>t("div",{style:{background:"white",padding:"20px",borderRadius:"8px",border:"1px solid #e4e4e7",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t("div",{children:[e("h4",{style:{fontWeight:"bold"},children:o.title}),e("p",{style:{color:"#71717a",fontSize:"0.875rem"},children:new Date(o.startTime).toLocaleString()})]}),t("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[o.zoomMeetingUrl&&e("a",{href:o.zoomMeetingUrl,target:"_blank",rel:"noreferrer",style:{fontSize:"0.875rem",color:"#2563eb"},children:"Zoom Link"}),e("a",{href:`/dashboard/classes/${o.id}/roster`,style:{fontSize:"0.875rem",textDecoration:"underline"},children:"View Roster"})]})]},o.id)),n.length===0&&e("p",{style:{color:"#71717a"},children:"No classes found."})]})]})}),Lp=Object.freeze(Object.defineProperty({__proto__:null,action:Pp,default:Ip,loader:Tp},Symbol.toStringTag,{value:"Module"})),Dp=async i=>{const{getToken:n}=await P(i),s=await n();try{return{user:await z("/users/me",s)}}catch{return{user:null,error:"Could not load profile"}}},Op=async i=>{const{request:n}=i,{getToken:s}=await P(i),a=await s(),r=await n.formData(),l=r.get("phoneNumber"),d=r.get("address"),o=r.get("pref_email")==="on",c=r.get("pref_sms")==="on";try{return await z("/users/me/profile",a,{method:"PUT",body:JSON.stringify({phoneNumber:l,address:d,contactPreferences:{email:o,sms:c}})}),{success:!0}}catch(u){return{error:u.message}}},Ep=j(function(){const{user:n,error:s}=D();return s||!n?t("div",{style:{color:"red"},children:["Error loading profile: ",s||"Unknown error"]}):t("div",{className:"max-w-4xl mx-auto py-10 px-4",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Account Settings"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Manage your personal details and security settings."})]}),e("div",{className:"clerk-profile-wrapper",children:e(va,{path:"/dashboard/profile",routing:"path",appearance:{elements:{rootBox:"w-full",card:"w-full shadow-none border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 rounded-xl",navbar:"hidden md:flex",navbarButton:"text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100",headerTitle:"text-zinc-900 dark:text-zinc-100",headerSubtitle:"text-zinc-500 dark:text-zinc-400",profileSectionTitleText:"text-zinc-900 dark:text-zinc-100 font-bold",accordionTriggerButton:"text-zinc-900 dark:text-zinc-100"}}})})]})}),Bp=Object.freeze(Object.defineProperty({__proto__:null,action:Op,default:Ep,loader:Dp},Symbol.toStringTag,{value:"Module"})),Fp=j(function(){const n=ba("routes/dashboard"),s=n?.isPlatformAdmin||!1,a=n?.tenants||[],r=n?.userProfile;return t("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[t("div",{className:"mb-10",children:[t("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-50 tracking-tight",children:["Welcome back",r?.firstName?`, ${r.firstName}`:"","!"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Manage your studios, memberships, and classes from one place."})]}),s&&t("div",{className:"mb-12",children:[e("h3",{className:"text-sm font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-4",children:"Platform Administration"}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e(L,{to:"/admin",className:"group block p-6 bg-gradient-to-br from-purple-50 to-white dark:from-purple-900/20 dark:to-zinc-900 border border-purple-100 dark:border-purple-800/50 rounded-xl shadow-sm hover:shadow-md transition-all",children:t("div",{className:"flex items-center gap-4",children:[e("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/50 rounded-lg text-purple-600 dark:text-purple-300",children:e(Hn,{className:"w-6 h-6"})}),t("div",{children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-50 group-hover:text-purple-700 dark:group-hover:text-purple-300 transition-colors",children:"Admin Portal"}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage tenants, users, and platform settings."})]})]})})})]}),t("div",{className:"mb-12",children:[t("div",{className:"flex justify-between items-center mb-6",children:[e("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-50",children:"My Studios"}),t(L,{to:"/create-studio",className:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400",children:[e(ee,{className:"w-4 h-4"}),"Create new Studio"]})]}),a.length>0?e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(l=>t(L,{to:`/studio/${l.slug}/dashboard`,className:"group block bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md hover:border-blue-400 dark:hover:border-blue-600 transition-all",children:[t("div",{className:"h-32 bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center relative overflow-hidden",children:[l.branding?.logoUrl?e("img",{src:l.branding.logoUrl,alt:l.name,className:"h-16 w-16 object-contain"}):e(ps,{className:"w-12 h-12 text-zinc-300 dark:text-zinc-700"}),e("div",{className:"absolute top-3 right-3 px-2 py-1 bg-white/90 dark:bg-black/90 backdrop-blur-sm rounded text-xs font-medium text-zinc-600 dark:text-zinc-300 capitalize shadow-sm border border-zinc-200 dark:border-zinc-700",children:l.roles.join(", ")})]}),t("div",{className:"p-5",children:[e("h4",{className:"font-bold text-zinc-900 dark:text-zinc-50 text-lg mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:l.name}),e("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-mono",children:l.slug})]})]},l.id))}):t("div",{className:"text-center py-12 bg-zinc-50 dark:bg-zinc-900/50 rounded-xl border border-dashed border-zinc-300 dark:border-zinc-700",children:[e(ps,{className:"w-12 h-12 text-zinc-300 dark:text-zinc-600 mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:"No studios yet"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1 mb-6 max-w-sm mx-auto",children:"You haven't joined or created any studios yet. Get started by creating your own or finding one to join."}),t("div",{className:"flex justify-center gap-4",children:[e(L,{to:"/create-studio",className:"px-4 py-2 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-md text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors",children:"Create Studio"}),e("button",{disabled:!0,className:"px-4 py-2 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-md text-sm font-medium opacity-50 cursor-not-allowed",children:"Find a Studio"})]})]})]})]})}),Rp=Object.freeze(Object.defineProperty({__proto__:null,default:Fp},Symbol.toStringTag,{value:"Module"})),Xp=async({request:i})=>new Response(`
    <html>
        <head><title>SSR Debug</title></head>
        <body style="font-family:system-ui; padding:2rem;">
            <h1>SSR is Working</h1>
            <p>Time: ${new Date().toISOString()}</p>
            <p>Url: ${i.url}</p>
            <pre>
Headers:
${JSON.stringify(Object.fromEntries(i.headers.entries()),null,2)}
            </pre>
        </body>
    </html>
    `,{headers:{"Content-Type":"text/html"}}),Up=j(function(){return null}),Wp=Object.freeze(Object.defineProperty({__proto__:null,default:Up,loader:Xp},Symbol.toStringTag,{value:"Module"})),Hp=j(function(){return e("main",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-zinc-900 p-4",children:e(ya,{path:"/sign-in"})})}),Qp=Object.freeze(Object.defineProperty({__proto__:null,default:Hp},Symbol.toStringTag,{value:"Module"}));function Jp(){const{isLoaded:i,signUp:n,setActive:s}=za(),[a,r]=f(""),[l,d]=f(""),[o,c]=f(""),[u,p]=f(""),[g,m]=f(!1),[h,v]=f(null),[y,N]=f(!1),[x,w]=f(!1),[b,k]=f(""),S=Ne();if(!i)return null;const C=async M=>{M.preventDefault(),N(!0),v(null);try{await n.create({emailAddress:a,password:l,firstName:o,lastName:u}),await n.prepareEmailAddressVerification({strategy:"email_code"}),w(!0)}catch($){console.error($),v($.errors?.[0]?.message||"Failed to create account")}finally{N(!1)}},T=async M=>{M.preventDefault(),N(!0),v(null);try{const $=await n.attemptEmailAddressVerification({code:b});$.status!=="complete"&&v(JSON.stringify($,null,2)),$.status==="complete"&&(await s({session:$.createdSessionId}),S("/create-studio"))}catch($){console.error($),v($.errors?.[0]?.message||"Verification failed")}finally{N(!1)}};return x?t("div",{className:"w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-zinc-200 dark:border-zinc-800 p-8",children:[t("div",{className:"text-center mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Verify Email"}),t("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:["Enter the code sent to ",a]})]}),h&&e("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg text-sm",children:h}),t("form",{onSubmit:T,className:"space-y-5",children:[e("input",{value:b,onChange:M=>k(M.target.value),className:"w-full px-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-center text-2xl tracking-widest",placeholder:"000000"}),e("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white font-bold py-2 rounded-lg",children:y?"Verifying...":"Verify & Continue"})]})]}):t("div",{className:"w-full max-w-md bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-zinc-200 dark:border-zinc-800 p-8",children:[t("div",{className:"text-center mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Create Account"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm",children:"Get started with Studio Platform today."})]}),h&&t("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 rounded-lg flex items-start gap-3",children:[e(Pe,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e("p",{className:"text-sm text-red-700 dark:text-red-300",children:h})]}),t("form",{onSubmit:C,className:"space-y-4",children:[t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"First Name"}),e("input",{value:o,onChange:M=>c(M.target.value),className:"w-full px-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Last Name"}),e("input",{value:u,onChange:M=>p(M.target.value),className:"w-full px-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg",required:!0})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),e("input",{type:"email",value:a,onChange:M=>r(M.target.value),className:"w-full px-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg",required:!0})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),t("div",{className:"relative",children:[e("input",{type:g?"text":"password",value:l,onChange:M=>d(M.target.value),className:"w-full px-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg pr-10",required:!0}),e("button",{type:"button",onClick:()=>m(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400",children:g?e(Cs,{size:16}):e(zt,{size:16})})]})]}),e("button",{type:"submit",disabled:y,className:"w-full bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 font-semibold py-2.5 rounded-lg hover:bg-zinc-800 mt-2",children:y?"Creating...":"Sign Up"})]}),t("div",{className:"mt-8 text-center text-sm text-zinc-500 dark:text-zinc-400",children:["Already have an account?"," ",e(L,{to:"/sign-in",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Sign in"})]})]})}const Vp=j(function(){return e("main",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-zinc-900 p-4",children:e(Jp,{})})}),qp=Object.freeze(Object.defineProperty({__proto__:null,default:Vp},Symbol.toStringTag,{value:"Module"}));var Gp={};const Yp=[{id:"scheduling",title:"Scheduling & Booking",description:"Powerful class scheduling with 24/7 online booking",icon:K,color:"bg-blue-500",features:["Interactive calendar with multiple views","24/7 online booking for students","Waitlist management with auto-enrollment","1:1 private session booking","Multi-location support","Recurring class templates"]},{id:"memberships",title:"Memberships & Packages",description:"Flexible pricing options to fit every student",icon:Ae,color:"bg-green-500",features:["Recurring memberships with auto-billing","Class packs with punch-card tracking","Drop-in pricing options","Subscription bundles","Flexible payment plans","Family accounts & group pricing"]},{id:"crm",title:"Student Management",description:"Complete CRM to know and grow your community",icon:re,color:"bg-purple-500",features:["Detailed student profiles with history","Attendance tracking & analytics","Custom fields & tagging system","Digital waivers with e-signature","Communication tools (email/SMS)","Notes & student journey tracking"]},{id:"payments",title:"Payments & Commerce",description:"Secure payment processing with Stripe",icon:Ae,color:"bg-emerald-500",features:["Stripe integration for secure payments","Apple Pay & Google Pay support","Automatic billing & invoicing","Revenue reporting dashboards","Refund & credit management","Gift cards & promo codes"]},{id:"marketing",title:"Marketing & Growth",description:"Tools to attract and retain students",icon:Ye,color:"bg-orange-500",features:["Built-in email marketing","Mailchimp & Flodesk integrations","Lead capture forms","Discount codes & promotions","Referral program tools","Automated reminders & follow-ups"]},{id:"branding",title:"Website & Branding",description:"Beautiful, branded online presence",icon:xe,color:"bg-pink-500",features:["Custom domain support","Drag-and-drop website builder","Brand colors & logo customization","Mobile-responsive design","SEO optimization tools","Embeddable booking widgets"]},{id:"video",title:"On-Demand & Live Streaming",description:"Extend your reach with virtual classes",icon:vt,color:"bg-red-500",features:["Video on demand library","Zoom integration for live classes","Secure video hosting","Course creation tools","Hybrid in-person/online classes","Replay access for members"]},{id:"instructors",title:"Instructor Tools",description:"Empower your teaching team",icon:nt,color:"bg-indigo-500",features:["Instructor scheduling & availability","Payroll & payment tracking","Public instructor profiles","Sub request management","Permission-based access","Clock-in/clock-out tracking"]},{id:"analytics",title:"Analytics & Reporting",description:"Data-driven insights for growth",icon:Xt,color:"bg-cyan-500",features:["Revenue dashboards","Attendance reports","Student engagement metrics","Custom report builder","Export to CSV/PDF","Trend analysis"]},{id:"integrations",title:"Integrations",description:"Connect with your favorite tools",icon:Qn,color:"bg-yellow-500",features:["Zoom for virtual classes","Mailchimp & Flodesk","Slack notifications","Google Calendar sync","Zapier automation","API access for developers"]}],Zp=async i=>{let n=[];try{n=(await(await fetch(`${Gp.API_URL||"https://studio-platform-api.slichti.workers.dev"}/faqs?category=features`)).json()).faqs||[]}catch(s){console.error("Failed to load FAQs",s)}return{faqs:n}},Kp=j(function(){const{faqs:n}=D(),[s,a]=f(null),[r,l]=f(null);return t("div",{className:"min-h-screen bg-gradient-to-b from-zinc-50 to-white",children:[t("section",{className:"relative overflow-hidden",children:[e("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 opacity-10"}),e("div",{className:"max-w-6xl mx-auto px-4 py-20 md:py-32 relative",children:t("div",{className:"text-center max-w-3xl mx-auto",children:[t("div",{className:"inline-flex items-center gap-2 bg-indigo-50 text-indigo-700 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e(bs,{size:16,className:"fill-current"}),"All-in-One Studio Management"]}),t("h1",{className:"text-4xl md:text-6xl font-bold text-zinc-900 mb-6 leading-tight",children:["Everything You Need to"," ",e("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Run Your Studio"})]}),e("p",{className:"text-xl text-zinc-600 mb-8 leading-relaxed",children:"From class scheduling and online booking to memberships, payments, and marketing â€” we've built the complete toolkit for yoga studios, fitness centers, and wellness businesses."}),t("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t("a",{href:"/signup",className:"inline-flex items-center justify-center gap-2 bg-zinc-900 text-white px-8 py-4 rounded-xl font-semibold hover:bg-zinc-800 transition shadow-lg shadow-zinc-900/20",children:["Start Free Trial",e(Re,{size:20})]}),e("a",{href:"/contact",className:"inline-flex items-center justify-center gap-2 bg-white text-zinc-900 px-8 py-4 rounded-xl font-semibold border-2 border-zinc-200 hover:border-zinc-300 transition",children:"Schedule Demo"})]})]})})]}),e("section",{className:"border-y border-zinc-200 bg-white py-8",children:e("div",{className:"max-w-6xl mx-auto px-4",children:t("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-16 text-zinc-500 text-sm",children:[t("div",{className:"flex items-center gap-2",children:[e(Oe,{size:20,className:"text-green-500"}),e("span",{children:"Secure Payments"})]}),t("div",{className:"flex items-center gap-2",children:[e(Me,{size:20,className:"text-blue-500"}),e("span",{children:"Mobile Friendly"})]}),t("div",{className:"flex items-center gap-2",children:[e(he,{size:20,className:"text-purple-500"}),e("span",{children:"24/7 Booking"})]}),t("div",{className:"flex items-center gap-2",children:[e(Ss,{size:20,className:"text-pink-500"}),e("span",{children:"Loved by Studios"})]})]})})}),t("section",{className:"max-w-6xl mx-auto px-4 py-20",children:[t("div",{className:"text-center mb-16",children:[e("h2",{className:"text-3xl md:text-4xl font-bold text-zinc-900 mb-4",children:"Powerful Features, Simple to Use"}),e("p",{className:"text-lg text-zinc-600 max-w-2xl mx-auto",children:"Everything you need to manage classes, grow your community, and run a successful studio."})]}),e("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Yp.map(d=>{const o=d.icon,c=r===d.id;return t("div",{onClick:()=>l(c?null:d.id),className:`bg-white border rounded-2xl p-6 cursor-pointer transition-all duration-300 ${c?"border-zinc-900 shadow-xl ring-2 ring-zinc-900/10":"border-zinc-200 hover:border-zinc-300 hover:shadow-lg"}`,children:[e("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl ${d.color} text-white mb-4`,children:e(o,{size:24})}),e("h3",{className:"text-lg font-bold text-zinc-900 mb-2",children:d.title}),e("p",{className:"text-zinc-600 text-sm mb-4",children:d.description}),c&&e("ul",{className:"space-y-2 pt-4 border-t border-zinc-100",children:d.features.map((u,p)=>t("li",{className:"flex items-start gap-2 text-sm text-zinc-600",children:[e(pe,{size:16,className:"text-green-500 mt-0.5 flex-shrink-0"}),u]},p))}),t("button",{className:"mt-4 text-sm font-medium text-zinc-500 hover:text-zinc-900 flex items-center gap-1 transition",children:[c?"Show less":"View features",c?e(fs,{size:16}):e(Gt,{size:16})]})]},d.id)})})]}),n.length>0&&e("section",{className:"bg-zinc-50 py-20",children:t("div",{className:"max-w-3xl mx-auto px-4",children:[t("div",{className:"text-center mb-12",children:[e("h2",{className:"text-3xl md:text-4xl font-bold text-zinc-900 mb-4",children:"Frequently Asked Questions"}),e("p",{className:"text-lg text-zinc-600",children:"Have questions? We've got answers."})]}),e("div",{className:"space-y-4",children:n.map(d=>t("div",{className:"bg-white border border-zinc-200 rounded-xl overflow-hidden",children:[t("button",{onClick:()=>a(s===d.id?null:d.id),className:"w-full flex items-center justify-between p-6 text-left hover:bg-zinc-50 transition",children:[e("span",{className:"font-semibold text-zinc-900 pr-4",children:d.question}),s===d.id?e(fs,{className:"text-zinc-400 flex-shrink-0",size:20}):e(Gt,{className:"text-zinc-400 flex-shrink-0",size:20})]}),s===d.id&&e("div",{className:"px-6 pb-6",children:e("p",{className:"text-zinc-600 leading-relaxed whitespace-pre-wrap",children:d.answer})})]},d.id))})]})}),e("section",{className:"bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 py-20",children:t("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Studio?"}),e("p",{className:"text-xl text-zinc-400 mb-8 max-w-2xl mx-auto",children:"Join hundreds of studios using our platform to grow their business and delight their students."}),t("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t("a",{href:"/signup",className:"inline-flex items-center justify-center gap-2 bg-white text-zinc-900 px-8 py-4 rounded-xl font-semibold hover:bg-zinc-100 transition shadow-lg",children:["Start Your Free Trial",e(Re,{size:20})]}),e("a",{href:"/contact",className:"inline-flex items-center justify-center gap-2 bg-zinc-800 text-white px-8 py-4 rounded-xl font-semibold border border-zinc-700 hover:bg-zinc-700 transition",children:"Talk to Sales"})]}),e("p",{className:"text-zinc-500 text-sm mt-6",children:"No credit card required â€¢ Free 14-day trial â€¢ Cancel anytime"})]})})]})}),eg=Object.freeze(Object.defineProperty({__proto__:null,default:Kp,loader:Zp},Symbol.toStringTag,{value:"Module"})),tg=({data:i})=>i?.isStudioPage&&i?.page?[{title:i.page.seoTitle||i.page.title},{name:"description",content:i.page.seoDescription||""}]:[{title:"Studio Platform"},{name:"description",content:"Modern Studio Management Platform"}];async function ng({request:i}){const s=new URL(i.url).searchParams.get("__studio"),a=Di(i)||s;if(a){const r=await _s(a,"home");if(r)return{isStudioPage:!0,page:r,tenantSlug:a}}return{isStudioPage:!1,page:null,tenantSlug:null}}const sg=j(function(){const{user:n}=st(),s=D();return s.isStudioPage&&s.page?e(Vn,{page:s.page,tenantSlug:s.tenantSlug||""}):t("div",{className:"font-sans min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-50 transition-colors duration-300",children:[t("nav",{className:"flex justify-between items-center px-8 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950/80 backdrop-blur-sm sticky top-0 z-50",children:[e("div",{className:"flex items-center gap-3",children:e("span",{className:"text-xl font-bold tracking-tight",children:"ðŸ§˜ Studio Platform"})}),t("div",{className:"flex items-center gap-6",children:[e(Ut,{}),e(L,{to:"/pricing",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Pricing"}),!!n?.publicMetadata?.isPlatformAdmin&&e(L,{to:"/admin",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Admin"}),t(Et,{children:[e(L,{to:"/dashboard",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Dashboard"}),t("div",{className:"flex items-center gap-3 pl-2 border-l border-zinc-200 dark:border-zinc-800",children:[e("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:n?.firstName?`Hi, ${n.firstName}`:""}),e(Fn,{afterSignOutUrl:"/"})]})]}),t(Jt,{children:[e(L,{to:"/sign-in",className:"text-sm font-medium text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",children:"Sign In"}),e(L,{to:"/sign-up",className:"px-4 py-2 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-md text-sm font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-colors",children:"Get Started"})]})]})]}),t("main",{className:"max-w-7xl mx-auto px-6 py-24 text-center",children:[e("h1",{className:"text-5xl md:text-6xl font-extrabold mb-6 tracking-tight bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent pb-2",children:"Modern Studio Management"}),e("p",{className:"text-xl text-zinc-600 dark:text-zinc-400 mb-12 max-w-2xl mx-auto leading-relaxed",children:"Streamline your yoga studio operations with our comprehensive platform. Manage classes, memberships, and students all in one place."}),t("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-8",children:[e(Et,{children:e(L,{to:"/dashboard",className:"px-8 py-3.5 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-lg font-semibold text-lg hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all shadow-lg hover:shadow-xl",children:"Go to Dashboard"})}),t(Jt,{children:[e(L,{to:"/sign-up",className:"px-8 py-3.5 bg-zinc-900 dark:bg-zinc-50 text-white dark:text-zinc-900 rounded-lg font-semibold text-lg hover:bg-zinc-800 dark:hover:bg-zinc-200 transition-all shadow-lg hover:shadow-xl",children:"Start Your Free Trial"}),e(L,{to:"/sign-in",className:"px-8 py-3.5 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-white border border-zinc-200 dark:border-zinc-700 rounded-lg font-semibold text-lg hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all",children:"Log In"})]})]})]}),e("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 py-24 px-6 border-t border-zinc-100 dark:border-zinc-800",children:e("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Class Scheduling",desc:"Easy to use calendar for managing all your classes and recurring sessions."},{title:"Member Management",desc:"Track attendance, memberships, and payments for all your students."},{title:"Instructor Portal",desc:"Give your instructors access to their schedules and rosters."},{title:"Point of Sale",desc:"Integrated retail checkout with support for credit card terminals and inventory management."},{title:"Family Accounts",desc:"Link family members, share payment methods, and manage bookings for children."},{title:"Marketing CRM",desc:"Automated email campaigns, lead tracking, and retention tools to grow your studio."}].map((a,r)=>t("div",{className:"bg-white dark:bg-zinc-950 p-8 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm hover:shadow-md transition-shadow",children:[e("h3",{className:"text-xl font-bold mb-3 text-zinc-900 dark:text-zinc-100",children:a.title}),e("p",{className:"text-zinc-600 dark:text-zinc-400 leading-relaxed",children:a.desc})]},r))})}),e("div",{className:"py-24 px-6 border-t border-zinc-100 dark:border-zinc-800",children:t("div",{className:"max-w-4xl mx-auto text-center",children:[e("h2",{className:"text-3xl font-bold mb-6 text-zinc-900 dark:text-white",children:"Enterprise-Grade Security"}),t("p",{className:"text-lg text-zinc-600 dark:text-zinc-400 mb-8 leading-relaxed",children:["Security is our top priority. We use industry-leading Identity Providers (IDPs) like Google and Apple to handle your authentication. This means we ",e("strong",{children:"never"})," store your passwords or sensitive login credentials."]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[t("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-100 dark:border-blue-900/30",children:[e("h3",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"No Stored Passwords"}),e("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:"By relying on secure IDPs, we eliminate the risk of password leaks from our databases. Your credentials stay with the providers you trust."})]}),t("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/10 rounded-lg border border-purple-100 dark:border-purple-900/30",children:[e("h3",{className:"font-semibold text-purple-900 dark:text-purple-300 mb-2",children:"Advanced Protection"}),e("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:"Benefit from the multi-factor authentication (MFA) and anomaly detection systems of major identity providers automatically."})]})]}),e("div",{className:"mt-12 text-left",children:e("div",{className:"p-8 bg-white dark:bg-zinc-900 rounded-xl text-zinc-900 dark:text-white shadow-lg border border-zinc-200 dark:border-zinc-800",children:e("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:t("div",{className:"flex-1",children:[e("h3",{className:"text-2xl font-bold mb-3 flex items-center gap-2",children:"Powered by Stripe Connect"}),t("p",{className:"opacity-90 leading-relaxed mb-4 text-zinc-600 dark:text-zinc-300",children:["We use Stripe to handle all payment processing. This means we never see or store your credit card information, ensuring full ",e("strong",{children:"PCI Compliance"})," from day one."]}),t("div",{className:"flex flex-col sm:flex-row gap-4 mt-6",children:[t("div",{className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 p-4 rounded-lg border border-zinc-100 dark:border-zinc-800",children:[e("strong",{className:"block mb-1",children:"Bring Your Own Stripe"}),e("span",{className:"text-sm opacity-80 text-zinc-600 dark:text-zinc-400",children:"Connect your existing Stripe account to keep your history, or create a new one that you fully own and control."})]}),t("div",{className:"flex-1 bg-zinc-50 dark:bg-zinc-950/50 p-4 rounded-lg border border-zinc-100 dark:border-zinc-800",children:[e("strong",{className:"block mb-1",children:"Direct Payouts"}),e("span",{className:"text-sm opacity-80 text-zinc-600 dark:text-zinc-400",children:"Funds flow directly to your bank account. We don't hold your money."})]})]})]})})})})]})}),e(Ms,{roomId:n?`support-${n.id}`:"support-guest",tenantId:"platform",userId:n?.id,userName:n?.fullName||"Guest"})]})}),ig=Object.freeze(Object.defineProperty({__proto__:null,default:sg,loader:ng,meta:tg},Symbol.toStringTag,{value:"Module"}));function Qi({token:i,isPlatformAdmin:n}){const[s,a]=f(!1),[r,l]=f(""),[d,o]=f({students:[],classes:[],orders:[],users:[],tenants:[]}),[c,u]=f(!1),[p,g]=f(0),{slug:m}=ae(),h=Ne(),v=ht(null),y=[...(d.tenants||[]).map(w=>({...w,type:"tenant"})),...(d.users||[]).map(w=>({...w,type:"user"})),...(d.students||[]).map(w=>({...w,type:"student"})),...(d.classes||[]).map(w=>({...w,type:"class"})),...(d.orders||[]).map(w=>({...w,type:"order"}))];E(()=>{const w=b=>{b.key==="k"&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),a(k=>!k)),b.key==="Escape"&&a(!1),s&&(b.key==="ArrowDown"&&(b.preventDefault(),g(k=>(k+1)%Math.max(1,y.length))),b.key==="ArrowUp"&&(b.preventDefault(),g(k=>(k-1+y.length)%Math.max(1,y.length))),b.key==="Enter"&&y[p]&&(b.preventDefault(),N(y[p].type,y[p])))};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s,y,p]),E(()=>{const w=()=>a(!0);return window.addEventListener("open-command-bar",w),()=>window.removeEventListener("open-command-bar",w)},[]),E(()=>{s&&(setTimeout(()=>v.current?.focus(),10),l(""),o({students:[],classes:[],orders:[]}))},[s]),E(()=>{if(!r||r.length<2){o({students:[],classes:[],orders:[]});return}const w=setTimeout(async()=>{u(!0);try{let b;n&&!m?b=await z(`/admin/search?q=${r}`,i):m&&(b=await z(`/tenant/search?q=${r}`,i,{headers:{"X-Tenant-Slug":m}})),o(b||{}),g(0)}catch(b){console.error("Search failed",b)}finally{u(!1)}},300);return()=>clearTimeout(w)},[r,m,i,n]);const N=(w,b)=>{a(!1),w==="student"&&h(`/studio/${m}/students/${b.id}`),w==="class"&&h(`/studio/${m}/classes/${b.id}`),w==="order"&&h(`/studio/${m}/pos`),w==="tenant"&&h(`/studio/${b.slug}`),w==="user"&&h(`/admin/users/${b.id}`)};if(!s)return null;const x=y;return e("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] px-4 backdrop-blur-sm bg-zinc-900/50 animate-in fade-in duration-200",children:t("div",{className:"w-full max-w-2xl bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl border border-zinc-200 dark:border-zinc-800 overflow-hidden flex flex-col max-h-[60vh] animate-in zoom-in-95 duration-200",children:[t("div",{className:"flex items-center px-4 py-3 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:[e(De,{className:"h-5 w-5 text-zinc-400 mr-3"}),e("input",{ref:v,type:"text",placeholder:n&&!m?"Search users, tenants...":"Search students, classes, or orders...",value:r,onChange:w=>l(w.target.value),className:"flex-1 bg-transparent border-none outline-none text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-500 text-base"}),t("div",{className:"flex items-center gap-2",children:[c&&e(oe,{className:"h-4 w-4 text-zinc-400 animate-spin"}),e("button",{onClick:()=>a(!1),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded",children:e(Te,{className:"h-4 w-4 text-zinc-400"})})]})]}),t("div",{className:"flex-1 overflow-y-auto p-2",children:[r.length<2&&t("div",{className:"p-8 text-center text-zinc-500",children:[e(ag,{}),e("p",{className:"text-sm mt-2",children:"Type at least 2 characters to search..."})]}),r.length>=2&&x.length===0&&!c&&e("div",{className:"p-8 text-center text-zinc-500",children:t("p",{className:"text-sm",children:['No results found for "',r,'"']})}),e("div",{className:"space-y-1",children:x.map((w,b)=>t("button",{onClick:()=>N(w.type,w),onMouseEnter:()=>g(b),className:`w-full flex items-center gap-4 px-3 py-2.5 rounded-xl transition-all text-left ${p===b?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"hover:bg-zinc-100 dark:hover:bg-zinc-800 text-zinc-700 dark:text-zinc-300"}`,children:[t("div",{className:`p-2 rounded-lg ${p===b?"bg-white/20":"bg-zinc-100 dark:bg-zinc-800"}`,children:[w.type==="student"&&e(nt,{size:18}),w.type==="class"&&e(Wn,{size:18}),w.type==="order"&&e(qt,{size:18}),w.type==="tenant"&&e(_e,{size:18}),w.type==="user"&&e(nt,{size:18})]}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"font-bold text-sm truncate",children:[w.type==="student"?`${w.name?.firstName||"Student"} ${w.name?.lastName||""}`:w.title||w.name,w.type==="order"&&`Order #${w.id.substring(0,8)}`]}),t("div",{className:"text-[10px] uppercase font-bold tracking-tight opacity-70",children:[w.type," â€¢ ",w.email||w.category||(w.totalAmount?`$${(w.totalAmount/100).toFixed(2)}`:"")||w.slug]})]}),e("div",{className:"text-[10px] opacity-40 font-mono",children:p===b?"Enter":""})]},w.id))})]}),t("div",{className:"px-4 py-2 bg-zinc-50 dark:bg-zinc-900 border-t border-zinc-100 dark:border-zinc-800 flex items-center justify-between text-[10px] text-zinc-400 font-medium",children:[t("div",{className:"flex items-center gap-4",children:[t("span",{className:"flex items-center gap-1.5",children:[e(Sn,{children:"CMD"})," + ",e(Sn,{children:"K"})," Toggle"]}),t("span",{className:"flex items-center gap-1.5",children:[e(Sn,{children:"â†‘â†“"})," Navigate"]}),t("span",{className:"flex items-center gap-1.5",children:[e(Sn,{children:"Enter"})," Select"]})]}),e("span",{children:"Zenflow Search Engine"})]})]})})}function Sn({children:i}){return e("kbd",{className:"px-1.5 py-0.5 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded text-[9px] font-sans antialiased text-zinc-500",children:i})}function ag(){return t("div",{className:"relative w-10 h-10 mx-auto opacity-20",children:[e(De,{className:"absolute inset-0 w-full h-full text-zinc-400"}),e("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-zinc-400 animate-pulse"})]})}const rg=Object.freeze(Object.defineProperty({__proto__:null,CommandBar:Qi},Symbol.toStringTag,{value:"Module"})),lg=async i=>{const{getToken:n,userId:s}=await sn(i),a=await n();if(!s||!a)return Y("/sign-in?redirect_url=/admin");try{const l=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev",d=await z("/users/me",a,{},l);if(!d.isPlatformAdmin&&d.role!=="admin")throw console.warn(`Admin Access Denied: User ${d.email} (${d.id}) is not a Platform Admin.`),new Response("Forbidden",{status:403});return{user:d,token:a}}catch(r){if(r.status===403||r.message?.includes("Forbidden"))throw new Response("Access Denied",{status:403});if(r.status===401)return Y("/sign-in?redirect_url=/admin");throw console.error("Admin Loader Error:",r),new Response(`System Unavailable: ${r.message}`,{status:503})}},dg=j(function(){const{user:n,isLoaded:s}=st(),a=D(),r=a?.user,l=r?.firstName||n?.fullName||"Admin User",d=r?.email||n?.primaryEmailAddress?.emailAddress||"admin@platform.com",o=r?.portraitUrl||n?.imageUrl,c=[{label:"Activity Logs",href:"/admin/logs",icon:"ðŸ“‹"},{label:"Architecture",href:"/admin/architecture",icon:"ðŸ—ï¸"},{label:"Backups",href:"/admin/backups",icon:"ðŸ’¾"},{label:"Chat System",href:"/admin/chat",icon:"ðŸ’¬"},{label:"Communications",href:"/admin/comms",icon:"ðŸ“¡"},{label:"Coupons",href:"/admin/coupons",icon:"ðŸŽŸï¸"},{label:"Diagnostics",href:"/admin/diagnostics",icon:"ðŸ©º"},{label:"Financials",href:"/admin/financials",icon:"ðŸ’°"},{label:"Global User Directory",href:"/admin/users",icon:"ðŸ‘¥"},{label:"Internal Docs",href:"/documentation",icon:"ðŸ“š"},{label:"Marketing Automations",href:"/admin/workflows",icon:"ðŸ“‹"},{label:"Mobile App",href:"/admin/mobile",icon:"ðŸ“±"},{label:"Overview",href:"/admin",end:!0,icon:"ðŸ“Š"},{label:"Operations Dashboard",href:"/admin/ops",icon:"ðŸ› ï¸"},{label:"Platform Features",href:"/admin/features",icon:"âš™ï¸"},{label:"Platform Plans",href:"/admin/plans",icon:"ðŸ’Ž"},{label:"Projections",href:"/admin/projections",icon:"ðŸ“ˆ"},{label:"System Status",href:"/admin/status",icon:"ðŸŸ¢"},{label:"Tenants",href:"/admin/tenants",icon:"ðŸ¢"},{label:"Video Manager",href:"/admin/videos",icon:"ðŸŽ¬"},{label:"Website Builder",href:"/admin/website",icon:"ðŸŒ"}];return t("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 font-sans flex text-zinc-900 dark:text-zinc-100",children:[t("aside",{className:"w-64 bg-zinc-950 text-zinc-400 flex flex-col border-r border-zinc-800 shadow-xl z-10",children:[t("div",{className:"p-6 border-b border-zinc-900/50 flex items-center gap-3",children:[e("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold shadow-lg shadow-indigo-900/20",children:"S"}),t("div",{children:[e("div",{className:"font-semibold text-zinc-100 leading-tight",children:"Studio Platform"}),e("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500 font-medium",children:r?.role==="owner"?"Platform Owner":"Platform Admin"})]})]}),e("nav",{className:"flex-1 p-3 space-y-1 mt-2",children:c.map(u=>t(ct,{to:u.href,end:u.end,className:({isActive:p})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${p?"bg-zinc-800/80 text-white shadow-inner":"hover:bg-zinc-900 hover:text-zinc-200"}`,...u.href.includes("documentation")?{target:"_blank",rel:"noopener noreferrer"}:{},children:[e("span",{className:"opacity-70",children:u.icon}),u.label]},u.href))}),e("div",{className:"p-4 border-t border-zinc-900/50 text-xs text-zinc-600 text-center",children:"Â© 2024 Studio Platform"})]}),t("main",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-zinc-50/50 dark:bg-zinc-950",children:[t("header",{className:"h-16 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800 flex items-center justify-between px-8",children:[t("div",{className:"flex items-center gap-2 text-sm text-zinc-500",children:[e("span",{className:"hover:text-zinc-900 dark:hover:text-zinc-300 cursor-pointer",children:"Admin"}),e("span",{children:"/"}),e("span",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Dashboard"})]}),t("div",{className:"flex items-center gap-4",children:[e("span",{className:"text-xs font-mono text-zinc-400 bg-zinc-100 dark:bg-zinc-800 px-2 py-1 rounded",children:"v1.0.0-dev"}),t("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-command-bar")),className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-xs text-zinc-500 dark:text-zinc-400 hover:border-blue-500 transition-all shadow-sm group",children:[e(De,{size:14,className:"group-hover:text-blue-500"}),e("span",{children:"Search..."}),e("kbd",{className:"ml-2 px-1.5 py-0.5 bg-zinc-100 dark:bg-zinc-700 rounded font-sans opacity-50",children:"âŒ˜K"})]}),e(Ut,{}),e("div",{className:"h-4 w-px bg-zinc-200 dark:bg-zinc-800 mx-2"}),s&&(n||r)?t("div",{className:"flex items-center gap-3",children:[t("div",{className:"flex flex-col items-end",children:[e("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 leading-none",children:l}),e("span",{className:"text-xs text-zinc-500",children:d})]}),e("div",{className:"w-8 h-8 rounded-full bg-zinc-100 border border-zinc-200 overflow-hidden",children:e("img",{src:o,alt:"Profile",className:"w-full h-full object-cover"})})]}):t("div",{className:"flex items-center gap-3 animate-pulse",children:[t("div",{className:"flex flex-col items-end gap-1",children:[e("div",{className:"h-4 w-24 bg-zinc-100 rounded"}),e("div",{className:"h-3 w-32 bg-zinc-100 rounded"})]}),e("div",{className:"w-8 h-8 rounded-full bg-zinc-100"})]}),e(Oi,{})]})]}),e("div",{className:"flex-1 overflow-auto p-8",children:e(ze,{})}),e(Qi,{token:a?.token||"",isPlatformAdmin:!0})]})]})}),og=Object.freeze(Object.defineProperty({__proto__:null,default:dg,loader:lg},Symbol.toStringTag,{value:"Module"})),cg=H(()=>import("@puckeditor/core").then(i=>({default:i.Puck}))),ug=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.pageId;try{const l=(await z("/platform-pages/pages",s)).find(d=>d.id===a);if(!l)throw new Error("Page not found");return{page:l,error:null}}catch(r){return{page:null,error:r.message}}},mg=j(function(){const{page:n,error:s}=D(),{getToken:a}=J(),r=Ne(),l=ae(),[d,o]=f(!1),[c,u]=f(null),[p,g]=f(n?.content||{root:{props:{}},content:[]}),[m,h]=f({isOpen:!1,message:""}),v=async y=>{o(!0);try{const N=await a();await z(`/platform-pages/pages/${l.pageId}`,N,{method:"PUT",body:JSON.stringify({content:y})}),u(new Date)}catch(N){h({isOpen:!0,message:"Failed to save: "+N.message})}finally{o(!1)}};return s?t("div",{className:"p-8",children:[t("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",s]}),t("button",{onClick:()=>r("/admin/website"),className:"mt-4 text-blue-600 hover:underline flex items-center gap-2",children:[e($e,{size:16})," Back to Pages"]})]}):t("div",{className:"h-screen flex flex-col",children:[e(ln,{isOpen:m.isOpen,onClose:()=>h({...m,isOpen:!1}),message:m.message}),t("div",{className:"bg-white border-b border-zinc-200 px-4 py-3 flex items-center justify-between z-50",children:[t("div",{className:"flex items-center gap-4",children:[t("button",{onClick:()=>r("/admin/website"),className:"flex items-center gap-2 text-zinc-600 hover:text-zinc-900",children:[e($e,{size:18}),e("span",{className:"text-sm",children:"Back"})]}),e("div",{className:"h-6 w-px bg-zinc-200"}),t("div",{children:[e("h1",{className:"font-medium text-zinc-900",children:n?.title}),t("p",{className:"text-xs text-zinc-500",children:["/",n?.slug," â€¢ Platform Page"]})]})]}),t("div",{className:"flex items-center gap-3",children:[c&&t("span",{className:"text-xs text-zinc-400",children:["Saved ",c.toLocaleTimeString()]}),t("button",{onClick:()=>{const y=n?.slug==="home"?"/":`/${n?.slug}`;window.open(y,"_blank")},className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-600 hover:bg-zinc-100 rounded-lg",children:[e(zt,{size:16}),"Preview"]}),t("button",{onClick:()=>v(p),disabled:d,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e(Ue,{size:16}),d?"Saving...":"Save"]})]})]}),e("div",{className:"flex-1 overflow-hidden",children:e(W,{fallback:e("div",{className:"flex h-full items-center justify-center",children:e(oe,{className:"h-8 w-8 animate-spin text-zinc-400"})}),children:e(cg,{config:js,data:p,onPublish:v,onChange:g})})})]})}),hg=Object.freeze(Object.defineProperty({__proto__:null,default:mg,loader:ug},Symbol.toStringTag,{value:"Module"})),pg=async i=>{const{getToken:n,userId:s}=await P(i);if(!s)return{logs:[],pagination:{},error:"Unauthorized"};const a=await n(),r=new URL(i.request.url),l=new URLSearchParams(r.search);l.get("page")||l.set("page","1"),l.get("limit")||l.set("limit","50");try{const d=await z(`/admin/communications/logs?${l.toString()}`,a);return{logs:d.logs||[],pagination:d.pagination||{page:1,pages:1},params:Object.fromEntries(l),error:null}}catch(d){return{logs:[],pagination:{page:1,pages:1},params:{},error:d.message}}},gg=j(function(){const{logs:n,pagination:s,params:a,error:r}=D(),[l,d]=Kt(),[o,c]=f(null),u=h=>{h.preventDefault();const y=new FormData(h.target).get("search");d(N=>(N.set("search",y),N.set("page","1"),N))},p=(h,v)=>{d(y=>(v==="all"?y.delete(h):y.set(h,v),y.set("page","1"),y))},g=async h=>{c(h);try{const v=await window.Clerk?.session?.getToken();await z(`/admin/communications/resend/${h}`,v,{method:"POST"}),_.success("Email resent successfully")}catch(v){_.error("Failed to resend: "+v.message)}finally{c(null)}},m=({status:h,errorMsg:v})=>h==="sent"?t("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:[e(me,{className:"w-3 h-3"})," Sent"]}):h==="failed"?t("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",title:v,children:[e(xt,{className:"w-3 h-3"})," Failed"]}):e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300",children:h});return t("div",{className:"space-y-6",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[t("h1",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Ye,{className:"text-blue-600"}),"Email Logs"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Monitor and manage platform communication logs."})]}),t("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700 text-sm font-medium transition",onClick:()=>window.location.reload(),children:[e(Xe,{className:"w-4 h-4"})," Refresh"]})]}),r&&e("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm",children:r}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg shadow-sm",children:[t("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-800 flex flex-col sm:flex-row gap-4 justify-between",children:[t("form",{onSubmit:u,className:"flex gap-2 w-full sm:w-auto",children:[e("input",{name:"search",placeholder:"Search subject or recipient...",defaultValue:a.search,className:"flex-1 sm:w-[300px] px-3 py-2 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md bg-transparent dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),e("button",{type:"submit",className:"px-3 py-2 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-md transition",children:e(De,{className:"w-4 h-4"})})]}),t("div",{className:"flex gap-2",children:[t("select",{onChange:h=>p("status",h.target.value),defaultValue:a.status||"all",className:"h-9 px-3 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md bg-transparent dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",children:[e("option",{value:"all",children:"All Status"}),e("option",{value:"sent",children:"Sent"}),e("option",{value:"failed",children:"Failed"})]}),t("select",{onChange:h=>p("type",h.target.value),defaultValue:a.type||"all",className:"h-9 px-3 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md bg-transparent dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",children:[e("option",{value:"all",children:"All Types"}),e("option",{value:"transactional",children:"Transactional"}),e("option",{value:"campaign",children:"Marketing"})]})]})]}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-sm text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Sent At"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Recipient"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Subject"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Type"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Tenant"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400",children:"Status"}),e("th",{className:"px-4 py-3 font-semibold text-xs uppercase text-zinc-500 dark:text-zinc-400 text-right",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:n.length===0?e("tr",{children:e("td",{colSpan:7,className:"text-center py-12 text-zinc-500 dark:text-zinc-400",children:"No logs found."})}):n.map(h=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition",children:[e("td",{className:"px-4 py-3 font-mono text-xs text-zinc-500 dark:text-zinc-400 whitespace-nowrap",children:ie(new Date(h.sentAt),"MMM d, HH:mm:ss")}),e("td",{className:"px-4 py-3 text-zinc-900 dark:text-zinc-100",children:h.recipient}),e("td",{className:"px-4 py-3 max-w-[300px] truncate text-zinc-700 dark:text-zinc-300",title:h.subject,children:h.subject}),e("td",{className:"px-4 py-3",children:e("span",{className:"inline-flex px-2 py-0.5 rounded text-xs font-medium bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 font-mono",children:h.templateId||(h.campaignId?"Campaign":"Generic")})}),e("td",{className:"px-4 py-3 text-zinc-600 dark:text-zinc-300",children:h.tenantName||"-"}),t("td",{className:"px-4 py-3",children:[e(m,{status:h.status,errorMsg:h.error}),h.error&&e("div",{className:"text-xs text-red-500 mt-1 truncate max-w-[200px]",title:h.error,children:h.error})]}),e("td",{className:"px-4 py-3 text-right",children:e("button",{className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-md transition",onClick:()=>g(h.id),disabled:o===h.id,title:"Resend Email",children:e(Xn,{className:`w-4 h-4 ${o===h.id?"animate-pulse":""}`})})})]},h.id))})]})}),t("div",{className:"p-4 border-t border-zinc-100 dark:border-zinc-800 flex items-center justify-end gap-4",children:[e("button",{className:"px-3 py-1.5 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md hover:bg-zinc-50 dark:hover:bg-zinc-800 disabled:opacity-50 transition",onClick:()=>d(h=>(h.set("page",(s.page-1).toString()),h)),disabled:s.page<=1,children:"Previous"}),t("span",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:["Page ",s.page," of ",s.pages||1]}),e("button",{className:"px-3 py-1.5 text-sm border border-zinc-200 dark:border-zinc-700 rounded-md hover:bg-zinc-50 dark:hover:bg-zinc-800 disabled:opacity-50 transition",onClick:()=>d(h=>(h.set("page",(s.page+1).toString()),h)),disabled:s.page>=s.pages,children:"Next"})]})]})]})}),bg=Object.freeze(Object.defineProperty({__proto__:null,default:gg,loader:pg},Symbol.toStringTag,{value:"Module"})),fg=async i=>{const{getToken:n}=await P(i),s=await n(),r=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{const l=await z("/admin/coupons",s,{},r);return{coupons:Array.isArray(l)?l:[],apiUrl:r,token:s}}catch(l){return console.error("Failed to load coupons",l),{coupons:[],apiUrl:r,token:s,error:"Failed to load coupons"}}},xg=j(function(){const{coupons:n,apiUrl:s,token:a,error:r}=D(),l=Ft(),[d,o]=f(!1),[c,u]=f(!1),[p,g]=f({code:"",name:"",percent_off:"",amount_off:"",duration:"forever",duration_in_months:"",max_redemptions:"",redeem_by:""});if(r)return t("div",{className:"p-8 text-red-500",children:["Error loading coupons: ",r]});const m=async v=>{v.preventDefault(),u(!0);try{const y={code:p.code,name:p.name||p.code,duration:p.duration};p.percent_off&&(y.percent_off=Number(p.percent_off)),p.amount_off&&(y.amount_off=Number(p.amount_off)*100),p.duration==="repeating"&&(y.duration_in_months=Number(p.duration_in_months)),p.max_redemptions&&(y.max_redemptions=Number(p.max_redemptions)),p.redeem_by&&(y.redeem_by=p.redeem_by),await z("/admin/coupons",a,{method:"POST",body:JSON.stringify(y)},s),_.success("Coupon created"),o(!1),g({code:"",name:"",percent_off:"",amount_off:"",duration:"forever",duration_in_months:"",max_redemptions:"",redeem_by:""}),l.revalidate()}catch(y){_.error(y.message||"Failed to create coupon")}finally{u(!1)}},h=async v=>{if(confirm("Are you sure? This cannot be undone."))try{await z(`/admin/coupons/${v}`,a,{method:"DELETE"},s),_.success("Coupon deleted"),l.revalidate()}catch(y){_.error(y.message)}};return t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Platform Coupons"}),e("p",{className:"text-zinc-500",children:"Manage Stripe discount codes for studio subscriptions."})]}),e("button",{onClick:()=>o(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition",children:"+ Create Coupon"})]}),e(se,{className:"overflow-hidden",children:t("table",{className:"w-full text-left text-sm",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-3 font-medium text-zinc-500",children:"Code / Name"}),e("th",{className:"px-6 py-3 font-medium text-zinc-500",children:"Discount"}),e("th",{className:"px-6 py-3 font-medium text-zinc-500",children:"Duration"}),e("th",{className:"px-6 py-3 font-medium text-zinc-500",children:"Redemptions"}),e("th",{className:"px-6 py-3 font-medium text-zinc-500",children:"Created"}),e("th",{className:"px-6 py-3 font-medium text-zinc-500 text-right",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-200 dark:divide-zinc-800",children:n.length===0?e("tr",{children:e("td",{colSpan:6,className:"px-6 py-8 text-center text-zinc-500",children:"No coupons found. Create one to get started."})}):n.map(v=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-900/50",children:[t("td",{className:"px-6 py-4",children:[e("div",{className:"font-mono font-medium",children:v.name}),e("div",{className:"text-xs text-zinc-500",children:v.id})]}),e("td",{className:"px-6 py-4",children:v.percent_off?`${v.percent_off}%`:v.amount_off?`$${(v.amount_off/100).toFixed(2)}`:"Unknown"}),t("td",{className:"px-6 py-4 capitalize",children:[v.duration," ",v.duration_in_months?`(${v.duration_in_months} mo)`:""]}),t("td",{className:"px-6 py-4",children:[v.times_redeemed," ",v.max_redemptions?`/ ${v.max_redemptions}`:"(Unlimited)"]}),e("td",{className:"px-6 py-4",children:ie(new Date(v.created*1e3),"MMM d, yyyy")}),e("td",{className:"px-6 py-4 text-right",children:e("button",{onClick:()=>h(v.id),className:"text-red-600 hover:text-red-700 text-xs font-medium",children:"Delete"})})]},v.id))})]})}),d&&e("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-xl w-full max-w-md overflow-hidden ring-1 ring-zinc-200 dark:ring-zinc-800",children:[t("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 flex justify-between items-center",children:[e("h3",{className:"font-semibold text-lg",children:"Create Platform Coupon"}),e("button",{onClick:()=>o(!1),className:"text-zinc-500 hover:text-zinc-700",children:"âœ•"})]}),t("form",{onSubmit:m,className:"p-6 space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Code (ID)"}),e("input",{type:"text",required:!0,className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent uppercase font-mono",placeholder:"SUMMER2025",value:p.code,onChange:v=>g({...p,code:v.target.value.toUpperCase()})})]}),t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Name (Optional)"}),e("input",{type:"text",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",placeholder:"Summer Sale",value:p.name,onChange:v=>g({...p,name:v.target.value})})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Discount Type"}),t("select",{className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",onChange:v=>{v.target.value==="percent"?g({...p,amount_off:""}):g({...p,percent_off:""})},children:[e("option",{value:"percent",children:"Percentage (%)"}),e("option",{value:"amount",children:"Fixed Amount ($)"})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Value"}),p.amount_off===""?e("input",{type:"number",placeholder:"%",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",value:p.percent_off,onChange:v=>g({...p,percent_off:v.target.value,amount_off:""})}):e("input",{type:"number",placeholder:"$",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",value:p.amount_off,onChange:v=>g({...p,amount_off:v.target.value,percent_off:""})})]})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Duration"}),t("select",{className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",value:p.duration,onChange:v=>g({...p,duration:v.target.value}),children:[e("option",{value:"forever",children:"Forever"}),e("option",{value:"once",children:"Once"}),e("option",{value:"repeating",children:"Repeating"})]})]}),e("div",{children:p.duration==="repeating"&&t(G,{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Months"}),e("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",value:p.duration_in_months,onChange:v=>g({...p,duration_in_months:v.target.value})})]})})]}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Max Redemptions"}),e("input",{type:"number",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",placeholder:"Unlimited",value:p.max_redemptions,onChange:v=>g({...p,max_redemptions:v.target.value})})]}),t("div",{children:[e("label",{className:"block text-sm font-medium mb-1",children:"Redeem By"}),e("input",{type:"date",className:"w-full px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-transparent",value:p.redeem_by,onChange:v=>g({...p,redeem_by:v.target.value})})]})]}),t("div",{className:"flex justify-end gap-3 pt-4",children:[e("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 rounded-lg border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition",children:"Cancel"}),e("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition disabled:opacity-50",children:c?"Creating...":"Create Coupon"})]})]})]})})]})}),vg=Object.freeze(Object.defineProperty({__proto__:null,default:xg,loader:fg},Symbol.toStringTag,{value:"Module"}));function yg({isOpen:i,onClose:n,url:s}){return i?e("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 md:p-8 animate-in fade-in duration-200 overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl w-full h-full flex flex-col shadow-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800",children:[t("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-blue-600 rounded-lg shadow-lg shadow-blue-500/20",children:e(xe,{size:18,className:"text-white"})}),t("div",{children:[e("h2",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100",children:"Platform Site Preview"}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono truncate max-w-md",children:s})]})]}),e("button",{onClick:n,className:"p-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded-xl transition-colors text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100",children:e(Te,{size:24})})]}),e("div",{className:"flex-1 bg-zinc-100 dark:bg-zinc-950 relative",children:e("iframe",{src:s,className:"w-full h-full border-none",title:"Platform Preview"})})]})}):null}const zg=async i=>{const{getToken:n}=await P(i),s=await n();try{return{pages:await z("/platform-pages/pages",s),error:null}}catch(a){return{pages:[],error:a.message}}},Ng=j(function(){const{pages:n,error:s}=D(),[a,r]=f(n||[]),{getToken:l}=J();Ne();const[d,o]=f(!1),[c,u]=f({title:"",slug:""}),[p,g]=f(null),[m,h]=f({isOpen:!1,message:""}),[v,y]=f(null),N=async()=>{if(!(!c.title||!c.slug))try{const b=await l(),k=await z("/platform-pages/pages",b,{method:"POST",body:JSON.stringify(c)});r([...a,k]),o(!1),u({title:"",slug:""})}catch(b){h({isOpen:!0,message:"Failed to create page: "+b.message})}},x=async()=>{if(p)try{const b=await l();await z(`/platform-pages/pages/${p}`,b,{method:"DELETE"}),r(a.filter(k=>k.id!==p)),g(null)}catch(b){h({isOpen:!0,message:"Failed to delete: "+b.message})}},w=async b=>{try{const k=await l();await z(`/platform-pages/pages/${b.id}/publish`,k,{method:"POST",body:JSON.stringify({isPublished:!b.isPublished})}),r(a.map(S=>S.id===b.id?{...S,isPublished:!S.isPublished}:S))}catch(k){h({isOpen:!0,message:"Failed to update: "+k.message})}};return s?e("div",{className:"p-8",children:t("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",s]})}):t("div",{className:"p-8 max-w-6xl mx-auto",children:[e(Se,{isOpen:!!p,onClose:()=>g(null),onConfirm:x,title:"Delete Page",message:"Are you sure you want to delete this page? This cannot be undone.",confirmText:"Delete",isDestructive:!0}),e(ln,{isOpen:m.isOpen,onClose:()=>h({...m,isOpen:!1}),message:m.message}),t("div",{className:"flex items-center justify-between mb-10",children:[t("div",{children:[t("h1",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100 flex items-center gap-3 tracking-tight",children:[e("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20",children:e(xe,{size:24,className:"text-white"})}),"Platform Website Builder"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2 font-medium",children:"Design and manage the core presence of the Studio Platform."})]}),t("div",{className:"flex items-center gap-3",children:[t("button",{onClick:()=>y("/"),className:"flex items-center gap-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-zinc-700 dark:text-zinc-300 px-6 py-3 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all font-bold shadow-sm",children:[e(zt,{size:20}),"Preview Site"]}),t("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 px-6 py-3 rounded-xl hover:scale-105 transition-all shadow-xl font-bold",children:[e(ee,{size:20}),"Create Page"]})]})]}),e(yg,{isOpen:!!v,onClose:()=>y(null),url:v||""}),d&&e("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl p-6 w-full max-w-md shadow-xl",children:[e("h2",{className:"text-lg font-semibold mb-4 dark:text-zinc-100",children:"Create New Platform Page"}),t("div",{className:"space-y-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Page Title"}),e("input",{type:"text",value:c.title,onChange:b=>u({...c,title:b.target.value}),className:"w-full border border-zinc-300 dark:border-zinc-700 rounded-lg px-3 py-2 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100",placeholder:"e.g., About Us"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"URL Slug"}),e("input",{type:"text",value:c.slug,onChange:b=>u({...c,slug:b.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full border border-zinc-300 dark:border-zinc-700 rounded-lg px-3 py-2 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100",placeholder:"e.g., about"}),t("p",{className:"text-xs text-zinc-400 mt-1",children:["studio-platform.com/",c.slug||"slug"]})]})]}),t("div",{className:"flex justify-end gap-2 mt-6",children:[e("button",{onClick:()=>o(!1),className:"px-4 py-2 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg",children:"Cancel"}),e("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Page"})]})]})}),t("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 mb-8 text-white",children:[e("h2",{className:"font-semibold mb-3",children:"Common Pages"}),e("p",{className:"text-white/70 text-sm mb-4",children:"Create pages for these common routes if they don't exist:"}),e("div",{className:"flex gap-2 flex-wrap",children:["home","pricing","about","contact","features"].map(b=>{const k=a.some(S=>S.slug===b);return t("span",{className:`px-3 py-1 rounded-full text-sm ${k?"bg-white/20":"bg-white/10 opacity-60"}`,children:["/",b," ",k?"âœ“":""]},b)})})]}),a.length===0?t("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl p-12 text-center",children:[e(tt,{size:48,className:"mx-auto text-zinc-300 dark:text-zinc-600 mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"No platform pages yet"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mb-4",children:"Create your first page to customize the main site"}),t("button",{onClick:()=>o(!0),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[e(ee,{size:18}),"Create First Page"]})]}):e("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 divide-y divide-zinc-200 dark:divide-zinc-800",children:a.map(b=>t("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t("div",{className:"flex items-center gap-4",children:[e("div",{className:`p-2 rounded-lg ${b.isPublished?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 dark:text-zinc-500"}`,children:e(tt,{size:20})}),t("div",{children:[e("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:b.title}),t("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:["/",b.slug]})]}),e("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${b.isPublished?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400"}`,children:b.isPublished?"Published":"Draft"})]}),t("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>w(b),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-600 dark:text-zinc-400",title:b.isPublished?"Unpublish":"Publish",children:b.isPublished?e(Cs,{size:18}):e(zt,{size:18})}),e("a",{href:b.slug==="home"?"/":`/${b.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-600 dark:text-zinc-400",children:e(Nt,{size:18})}),e(L,{to:`/admin/website/edit/${b.id}`,className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:e(bt,{size:18})}),e("button",{onClick:()=>g(b.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400",children:e(ue,{size:18})})]})]},b.id))})]})}),kg=Object.freeze(Object.defineProperty({__proto__:null,default:Ng,loader:zg},Symbol.toStringTag,{value:"Module"})),wg=H(()=>import("./AdminUserPage-Bs9bQM60.js")),Cg=async i=>{const{getToken:n}=await P(i),s=await n(),a=i.params.userId,l=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{const[d,o]=await Promise.all([z(`/admin/users/${a}`,s,{},l),z("/admin/tenants",s,{},l)]);return{user:d,tenants:o}}catch{throw new Response("User Not Found",{status:404})}},Sg=j(function(){return e(V,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading user..."}),children:()=>e(W,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading user..."}),children:e(wg,{})})})}),jg=Object.freeze(Object.defineProperty({__proto__:null,default:Sg,loader:Cg},Symbol.toStringTag,{value:"Module"})),Mg=async i=>{const{getToken:n}=await P(i),s=await n();try{return{stats:await z("/admin/stats/architecture",s),error:null}}catch(a){return{stats:null,error:a.message}}},cs=({title:i,sub:n,icon:s,color:a,status:r="online",items:l})=>t("div",{className:`relative overflow-hidden rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/80 p-5 backdrop-blur-sm transition-all hover:bg-white hover:dark:bg-zinc-900 hover:border-${a}-500/30 group z-10 shadow-sm`,children:[e("div",{className:"absolute top-0 right-0 p-3 opacity-50",children:e("div",{className:`w-24 h-24 rounded-full bg-${a}-500/10 blur-2xl -mr-10 -mt-10 transition-all group-hover:bg-${a}-500/20`})}),t("div",{className:"flex justify-between items-start mb-4",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-${a}-500 dark:text-${a}-400`,children:e(s,{size:18})}),t("div",{children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 text-sm",children:i}),e("p",{className:"text-[10px] text-zinc-500 font-mono text-zinc-500 dark:text-zinc-500",children:n})]})]}),t("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/20",children:[e("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e("span",{className:"text-[10px] font-medium text-emerald-500 uppercase tracking-wide",children:"ON LINE"})]})]}),l&&e("div",{className:"space-y-1.5",children:l.map((d,o)=>t("div",{className:"flex items-center gap-2 text-[11px] text-zinc-500 dark:text-zinc-400",children:[e("div",{className:`w-1 h-1 rounded-full bg-${a}-500/50`}),d]},o))})]}),_g=()=>t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto px-4 h-8 mb-[-1px]",children:[t("div",{className:"relative h-full",children:[e("div",{className:"absolute top-0 right-0 h-1/2 w-1/2 border-b border-l border-zinc-300 dark:border-zinc-700 rounded-bl-xl opacity-30"}),e("div",{className:"absolute top-[50%] left-1/2 h-1/2 w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})]}),e("div",{className:"relative h-full flex justify-center",children:e("div",{className:"h-full w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})}),t("div",{className:"relative h-full",children:[e("div",{className:"absolute top-0 left-0 h-1/2 w-1/2 border-b border-r border-zinc-300 dark:border-zinc-700 rounded-br-xl opacity-30"}),e("div",{className:"absolute top-[50%] left-1/2 h-1/2 w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})]})]}),Ag=()=>e("div",{className:"absolute inset-0 z-0 opacity-20 pointer-events-none",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"32px 32px"}}),$g=j(function(){const{stats:n,error:s}=D(),a=Ft(),[r,l]=f(!1),d=()=>{l(!0),a.revalidate(),setTimeout(()=>l(!1),1e3)};return s?t("div",{className:"p-8 text-red-600",children:["Error: ",s]}):t("div",{className:"space-y-6",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("div",{className:"flex items-center gap-3",children:[e("h1",{className:"text-2xl font-bold text-zinc-900",children:"System Architecture"}),e("span",{className:"px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 text-[10px] font-bold uppercase tracking-wider",children:"Live View"})]}),e("p",{className:"text-sm text-zinc-500 mt-1",children:"Microservices overview and communication status"})]}),t("button",{onClick:d,disabled:r,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-zinc-200 text-zinc-600 text-sm font-medium rounded-lg hover:bg-zinc-50 transition-colors shadow-sm",children:[e(Xe,{size:14,className:r?"animate-spin":""}),"Refresh"]})]}),t("div",{className:"rounded-2xl bg-white dark:bg-zinc-950 p-8 pb-12 relative overflow-hidden shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/10 border border-zinc-200 dark:border-zinc-900/50 transition-colors",children:[e(Ag,{}),t("div",{className:"relative z-10",children:[e("div",{className:"flex justify-center gap-4 mb-4",children:[{icon:xe,label:"Web App"},{icon:Me,label:"Mobile App"},{icon:Vt,label:"Admin Portal"},{icon:xe,label:"Public API"}].map((o,c)=>t("div",{className:"px-3 py-1.5 rounded-full border border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-900/80 text-zinc-600 dark:text-zinc-400 text-xs flex items-center gap-2 backdrop-blur-sm shadow-sm",children:[e(o.icon,{size:12})," ",o.label]},c))}),e("div",{className:"flex justify-center h-8 mb-4",children:e("div",{className:"w-px border-l border-dashed border-zinc-300 dark:border-zinc-800"})}),t("div",{className:"max-w-xl mx-auto mb-4 relative",children:[e("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 px-2 py-0.5 rounded-[4px] text-[9px] font-bold bg-indigo-600 text-white uppercase tracking-wider shadow-lg shadow-indigo-500/20 z-10",children:"Entrance"}),t("div",{className:"rounded-xl border border-indigo-200 dark:border-indigo-500/20 bg-white/80 dark:bg-zinc-900/80 p-6 text-center relative overflow-hidden backdrop-blur-xl shadow-2xl shadow-indigo-500/10 dark:shadow-indigo-900/10 transition-colors",children:[e("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-500/5 to-transparent pointer-events-none"}),t("div",{className:"flex flex-col items-center gap-1.5 relative z-10",children:[e(tr,{className:"text-indigo-400 mb-1",size:24}),e("h2",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"API Gateway"}),e("span",{className:"font-mono text-zinc-500 dark:text-zinc-600 text-xs",children:"`packages/api`"}),e("div",{className:"flex gap-1 mt-3 justify-center flex-wrap",children:["Routing","Rate Limiting","Auth Context","Service Layer"].map(o=>e("span",{className:"px-1.5 py-0.5 rounded bg-indigo-50 dark:bg-indigo-500/5 border border-indigo-100 dark:border-indigo-500/10 text-indigo-600 dark:text-indigo-300/[0.7] text-[10px] font-medium",children:o},o))})]})]})]}),e(_g,{}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto mb-12 px-4",children:[e(cs,{title:"Core API",sub:"apps/core-api",icon:Oe,color:"emerald",items:["Identity","Tenants","Onboarding","Platform Admin","RBAC"]}),e(cs,{title:"Commerce API",sub:"apps/commerce-api",icon:Ae,color:"blue",items:["Billing","Subscriptions","Products","POS","Webhooks"]}),e(cs,{title:"Studio API",sub:"apps/studio-api",icon:K,color:"orange",items:["Classes","Bookings","Members","Waivers","Payroll","Progress Tracking"]})]}),t("div",{className:"max-w-4xl mx-auto mb-8 relative",children:[e("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-white dark:bg-zinc-950 px-2 text-[10px] uppercase font-bold text-zinc-400 dark:text-zinc-600 tracking-widest z-10 transition-colors",children:"External Integration"}),t("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 bg-zinc-50/50 dark:bg-zinc-900/20 border-dashed flex justify-around items-center gap-4 transition-colors",children:[t("div",{className:"flex flex-col items-center gap-2 group",children:[e("div",{className:"w-10 h-10 rounded-lg bg-[#635BFF]/10 border border-[#635BFF]/20 flex items-center justify-center text-[#635BFF] transition-all group-hover:bg-[#635BFF]/20",children:e(Ae,{size:18})}),e("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Stripe"})]}),t("div",{className:"flex flex-col items-center gap-2 group",children:[e("div",{className:"w-10 h-10 rounded-lg bg-[#2D8CFF]/10 border border-[#2D8CFF]/20 flex items-center justify-center text-[#2D8CFF] transition-all group-hover:bg-[#2D8CFF]/20",children:e(xe,{size:18})}),e("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Zoom"})]}),t("div",{className:"flex flex-col items-center gap-2 group",children:[e("div",{className:"w-10 h-10 rounded-lg bg-zinc-900/5 dark:bg-white/10 border border-zinc-900/10 dark:border-white/20 flex items-center justify-center text-zinc-900 dark:text-white transition-all group-hover:bg-zinc-900/10 dark:group-hover:bg-white/20",children:e(Me,{size:18})}),e("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Resend"})]}),t("div",{className:"flex flex-col items-center gap-2 group",children:[e("div",{className:"w-10 h-10 rounded-lg bg-[#F22F46]/10 border border-[#F22F46]/20 flex items-center justify-center text-[#F22F46] transition-all group-hover:bg-[#F22F46]/20",children:e(Me,{size:18})}),e("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Twilio"})]})]})]}),t("div",{className:"max-w-2xl mx-auto flex gap-4 opacity-80 pt-8 border-t border-zinc-200 dark:border-zinc-900",children:[t("div",{className:"flex-1 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/30 p-3 flex items-center gap-3 hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors",children:[e("div",{className:"p-2 bg-white dark:bg-zinc-900 rounded text-zinc-500 border border-zinc-200 dark:border-zinc-800",children:e(qe,{size:16})}),t("div",{children:[e("h4",{className:"text-xs font-semibold text-zinc-700 dark:text-zinc-300",children:"Database"}),e("p",{className:"text-[10px] text-zinc-600",children:"Cloudflare D1"})]})]}),t("div",{className:"flex-1 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/30 p-3 flex items-center gap-3 hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors",children:[e("div",{className:"p-2 bg-white dark:bg-zinc-900 rounded text-zinc-500 border border-zinc-200 dark:border-zinc-800",children:e(nr,{size:16})}),t("div",{children:[e("h4",{className:"text-xs font-semibold text-zinc-700 dark:text-zinc-300",children:"Shared Lib"}),e("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-600",children:"Utils, Types"})]})]})]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 pt-8 border-t border-zinc-200",children:[t("div",{className:"space-y-4",children:[e("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Platform Activity"}),t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-5 shadow-sm transition-colors",children:[t("div",{className:"flex justify-between items-start mb-2",children:[e("div",{className:"p-2 rounded-lg bg-indigo-500/10 text-indigo-400",children:e(xe,{size:18})}),e("span",{className:"text-[10px] uppercase font-bold text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:"Live"})]}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-1",children:n?.connectedUsers||0}),e("div",{className:"text-xs text-zinc-400 font-medium",children:"Active Users"})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-5 shadow-sm transition-colors",children:[e("div",{className:"flex justify-between items-start mb-2",children:e("div",{className:"p-2 rounded-lg bg-orange-500/10 text-orange-400",children:e(Vt,{size:18})})}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-1",children:n?.tenantCount||0}),e("div",{className:"text-xs text-zinc-400 font-medium",children:"Total Tenants"})]})]}),t("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl p-4 border border-zinc-200 dark:border-zinc-800 shadow-sm transition-colors",children:[e("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-wider mb-1",children:"DB Latency"}),t("div",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:[n?.latency?.database_ms||0,e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-normal ml-1",children:"ms"})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl p-4 border border-zinc-200 dark:border-zinc-800 shadow-sm transition-colors",children:[e("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-wider mb-1",children:"Edge Latency"}),t("div",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:[n?.latency?.edge_ms||0,e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-normal ml-1",children:"ms"})]})]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-6 shadow-sm transition-colors",children:[e("h3",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-6",children:"User Geography"}),e("div",{className:"space-y-4",children:n?.userRegions?.map((o,c)=>t("div",{className:"group",children:[t("div",{className:"flex justify-between items-end mb-1",children:[t("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex items-center gap-2",children:[e("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 font-mono w-6",children:o.code}),o.name]}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono",children:o.count})]}),e("div",{className:"h-1.5 w-full bg-zinc-800 rounded-full overflow-hidden",children:e("div",{className:"h-full rounded-full bg-indigo-500",style:{width:`${o.count/(n?.userRegions[0]?.count||1)*100}%`}})})]},o.code))})]})]})]})}),Tg=Object.freeze(Object.defineProperty({__proto__:null,default:$g,loader:Mg},Symbol.toStringTag,{value:"Module"})),Pg=async i=>{const{getToken:n,userId:s}=await P(i),a=await n(),r=i.params.roomId;if(!s)throw new Response("Unauthorized",{status:401});try{const l=await z(`/admin/chat/rooms/${r}`,a),d=await z("/users/me",a),o=await z("/admin/admins",a);return{room:l,token:a,user:{id:d.userId,name:d.firstName+" "+d.lastName},admins:o,apiUrl:Fe}}catch(l){throw console.error("Chat Room Load Error:",l),new Response("Room not found or access denied",{status:404})}},Ig=j(function(){const{room:n,token:s,user:a,admins:r,apiUrl:l}=D(),[d,o]=f(n.status||"open"),[c,u]=f(n.priority||"normal"),[p,g]=f(n.assignedToId||null),m=async h=>{try{await z(`/admin/chat/rooms/${n.id}`,s,{method:"PATCH",body:JSON.stringify(h)}),h.status&&o(h.status),h.priority&&u(h.priority),h.assignedToId!==void 0&&g(h.assignedToId)}catch{_.error("Failed to update ticket")}};return t("div",{className:"h-[calc(100vh-64px)] bg-zinc-50 flex flex-col",children:[t("header",{className:"bg-white border-b border-zinc-200 px-6 py-3 flex items-center justify-between",children:[t("div",{className:"flex items-center gap-4",children:[e(L,{to:"/admin/chat",className:"p-2 hover:bg-zinc-100 rounded-full text-zinc-500",children:e($e,{size:20})}),t("div",{children:[e("h1",{className:"font-bold text-zinc-900 leading-tight",children:n.name}),t("div",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e("span",{className:"uppercase tracking-wider font-semibold",children:n.type}),e("span",{children:"â€¢"}),e("span",{className:"font-mono text-zinc-400",children:n.id.slice(0,8)})]})]})]}),n.type==="support"&&t("div",{className:"flex items-center gap-3",children:[e("div",{className:"flex flex-col items-end",children:t("select",{value:d,onChange:h=>m({status:h.target.value}),className:`text-sm rounded-md border-zinc-200 py-1 pl-2 pr-6 font-medium ${d==="open"?"text-green-600 bg-green-50":d==="closed"?"text-zinc-600 bg-zinc-100":"text-blue-600 bg-blue-50"}`,children:[e("option",{value:"open",children:"Open"}),e("option",{value:"in_progress",children:"In Progress"}),e("option",{value:"closed",children:"Closed"})]})}),e("div",{className:"flex flex-col items-end",children:t("select",{value:c,onChange:h=>m({priority:h.target.value}),className:`text-sm rounded-md border-zinc-200 py-1 pl-2 pr-6 font-medium ${c==="urgent"?"text-red-700 bg-red-50":c==="high"?"text-orange-700 bg-orange-50":"text-zinc-600 bg-zinc-50"}`,children:[e("option",{value:"low",children:"Low Priority"}),e("option",{value:"normal",children:"Normal"}),e("option",{value:"high",children:"High Priority"}),e("option",{value:"urgent",children:"Urgent"})]})}),e("div",{className:"flex flex-col items-end",children:t("select",{value:p||"",onChange:h=>m({assignedToId:h.target.value||null}),className:"text-sm rounded-md border-zinc-200 py-1 pl-2 pr-6 font-medium text-zinc-600 bg-zinc-50 focus:ring-2 focus:ring-zinc-950 focus:outline-none",children:[e("option",{value:"",children:"Unassigned"}),r?.map(h=>t("option",{value:h.id,children:[h.profile?.firstName," ",h.profile?.lastName,h.id===a.id?" (You)":""]},h.id))]})})]}),!n.type.includes("support")&&e("div",{className:"flex items-center gap-2",children:e("button",{className:"p-2 hover:bg-zinc-100 rounded-lg text-zinc-400",children:e(Mt,{size:20})})})]}),e("main",{className:"flex-1 p-6 flex justify-center overflow-hidden",children:e("div",{className:"w-full max-w-4xl h-full flex flex-col",children:e(qn,{roomId:n.id,token:s,currentUser:a,wsUrl:l,tenantSlug:n.tenant?.slug})})})]})}),Lg=Object.freeze(Object.defineProperty({__proto__:null,default:Ig,loader:Pg},Symbol.toStringTag,{value:"Module"})),Dg=H(()=>import("./AdminUsersPage-23Kpp-me.js")),Og=async i=>{const{getToken:n}=await P(i),s=await n(),a=new URL(i.request.url),r=a.searchParams.get("search")||"",l=a.searchParams.get("tenantId")||"",d=i.context,c=(d.cloudflare?.env||d.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{const u=new URLSearchParams;r&&u.append("search",r),l&&u.append("tenantId",l);const p=a.searchParams.get("sort");p&&u.append("sort",p);const[g,m]=await Promise.all([z(`/admin/users?${u.toString()}`,s,{},c),z("/admin/tenants",s,{},c)]);return{users:g,tenants:m||[],error:null}}catch(u){const p=u instanceof Error?u.message:"Unauthorized";return{users:[],tenants:[],error:p}}},Eg=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(Dg,{})})})}),Bg=Object.freeze(Object.defineProperty({__proto__:null,default:Eg,loader:Og},Symbol.toStringTag,{value:"Module"})),Fg=async i=>{const{getToken:n}=await P(i),s=await n();try{const[a,r]=await Promise.all([z("/admin/tenants",s),z("/chat/tickets?status=open",s).catch(()=>[])]);return{tenants:a,tickets:r,error:null}}catch(a){return{tenants:[],tickets:[],error:a.message}}},Rg=async i=>{const{getToken:n}=await P(i),s=await n(),a=await i.request.formData();if(a.get("intent")==="create_support_room"){a.get("tenantId");const l=a.get("tenantSlug");try{return{success:!0,roomId:(await z("/chat/rooms",s,{method:"POST",headers:{"X-Tenant-Slug":l},body:JSON.stringify({type:"support",name:"Platform Support",metadata:{createdBy:"admin"}})})).id}}catch(d){return{error:d.message}}}return null},Xg=j(function(){const{tenants:n,tickets:s,error:a}=D(),r=s||[];D();const[l,d]=f({}),o=async c=>{d(u=>({...u,[c.id]:!0}));try{const u=await window.Clerk.session.getToken(),p=await z("/chat/rooms?type=support",u,{headers:{"X-Tenant-Slug":c.slug}});let g;p&&p.length>0?g=p[0].id:g=(await z("/chat/rooms",u,{method:"POST",headers:{"X-Tenant-Slug":c.slug},body:JSON.stringify({type:"support",name:"Platform Support",metadata:{createdBy:"admin"}})})).id,window.location.href=`/admin/chat/${g}`}catch(u){_.error("Failed to open support chat: "+u),d(p=>({...p,[c.id]:!1}))}};return a?e("div",{className:"p-8",children:t("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",a]})}):t("div",{className:"p-8 max-w-6xl mx-auto",children:[t("div",{className:"mb-8",children:[t("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Rn,{className:"text-blue-600"}),"Chat System"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage tenant chat rooms and platform support"})]}),t("div",{className:"mb-8",children:[t("div",{className:"flex items-center justify-between mb-4",children:[t("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Oe,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"Support Inbox (Open)"]}),t("div",{className:"text-sm text-zinc-500",children:[r.length," open tickets"]})]}),e("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden shadow-sm",children:r.length===0?e("div",{className:"p-8 text-center text-zinc-500 dark:text-zinc-400",children:"No open support tickets found. Great job!"}):t("table",{className:"w-full text-left text-sm",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-100 dark:border-zinc-800 text-zinc-500 dark:text-zinc-400",children:t("tr",{children:[e("th",{className:"p-4 font-medium",children:"Tenant"}),e("th",{className:"p-4 font-medium",children:"Subject"}),e("th",{className:"p-4 font-medium",children:"Priority"}),e("th",{className:"p-4 font-medium",children:"Status"}),e("th",{className:"p-4 font-medium",children:"Assigned"}),e("th",{className:"p-4 font-medium",children:"Action"})]})}),e("tbody",{className:"divide-y divide-zinc-100",children:r.map(c=>t("tr",{className:"hover:bg-zinc-50 group",children:[t("td",{className:"p-4",children:[e("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:c.tenantName}),t("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:["ID: ",c.tenantId?.slice(0,8)]})]}),t("td",{className:"p-4",children:[e("div",{className:"text-zinc-900 dark:text-zinc-100",children:c.name}),e("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:ie(new Date(c.createdAt),"MMM d, yyyy")})]}),e("td",{className:"p-4",children:e("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize
                                            ${c.priority==="urgent"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":c.priority==="high"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400"}`,children:c.priority||"normal"})}),e("td",{className:"p-4",children:e("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs font-medium capitalize",children:c.status||"open"})}),e("td",{className:"p-4 text-zinc-500 dark:text-zinc-400",children:c.assignedToId?"Agent":"Unassigned"}),e("td",{className:"p-4",children:e(L,{to:`/admin/chat/${c.id}`,className:"px-3 py-1.5 bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-700 text-indigo-600 dark:text-indigo-400",children:"Open"})})]},c.id))})]})})]}),t("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6",children:[e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:n?.length||0}),e("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Total Tenants"})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6",children:[e("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:n?.filter(c=>Array.isArray(c.features)&&c.features.includes("chat"))?.length||0}),e("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"With Chat Enabled"})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6",children:[e("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.length}),e("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Open Tickets"})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6",children:[e("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:"â€”"}),e("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Messages Today"})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 overflow-hidden",children:[t("div",{className:"p-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 flex items-center justify-between",children:[e("h2",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Tenant Chat Rooms"}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Real-time via Durable Objects"})]}),n.length===0?e("div",{className:"p-8 text-center text-zinc-500 dark:text-zinc-400",children:"No tenants available"}):e("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:n.slice(0,50).map(c=>t("div",{className:"p-4 flex items-center justify-between hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[t("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg flex items-center justify-center font-medium",children:c.name?.charAt(0)||"?"}),t("div",{children:[e("h3",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:c.name}),t("div",{className:"flex items-center gap-2 text-sm text-zinc-500 dark:text-zinc-400",children:[e("span",{children:c.slug}),Array.isArray(c.features)&&c.features.includes("chat")&&e("span",{className:"px-1.5 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-[10px] font-bold",children:"CHAT ACTIVE"})]})]})]}),e("div",{className:"flex items-center gap-2",children:t("button",{onClick:()=>o(c),disabled:l[c.id],className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg disabled:opacity-50",children:[e(Oe,{size:14}),l[c.id]?"Opening...":"Support"]})})]},c.id))})]}),t("div",{className:"mt-8 bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-xl p-4",children:[e("h4",{className:"font-medium text-purple-900 dark:text-purple-300 mb-2",children:"Chat System Features"}),t("ul",{className:"text-sm text-purple-800 dark:text-purple-300 space-y-1",children:[t("li",{children:["â€¢ ",e("strong",{children:"Durable Objects:"})," Real-time WebSocket connections with SQLite persistence"]}),t("li",{children:["â€¢ ",e("strong",{children:"Room Types:"})," Support, Class, Community, Direct messaging"]}),t("li",{children:["â€¢ ",e("strong",{children:"User Presence:"})," Live online/offline status tracking"]}),t("li",{children:["â€¢ ",e("strong",{children:"Message History:"})," Full persistence to D1 database"]})]})]})]})}),Ug=Object.freeze(Object.defineProperty({__proto__:null,action:Rg,default:Xg,loader:Fg},Symbol.toStringTag,{value:"Module"})),Wg=async({context:i})=>({env:(i.cloudflare?.env||i.env||{}).ENVIRONMENT||"production"}),Hg=j(function(){const{env:n}=D(),s=En(),a=async()=>{s.load("/admin/diagnostics/run")},r=s.data,l=s.state==="loading";return t("div",{className:"container mx-auto py-10 space-y-8",children:[t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("h1",{className:"text-3xl font-bold tracking-tight",children:"System Diagnostics"}),e("p",{className:"text-muted-foreground mt-2",children:"Real-time health checks and integration status."})]}),t("button",{onClick:a,disabled:l,className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background bg-zinc-900 text-white hover:bg-zinc-900/90 h-11 px-8",children:[l?e(_e,{className:"mr-2 h-4 w-4 animate-spin"}):e(_e,{className:"mr-2 h-4 w-4"}),"Run Diagnostics"]})]}),t("div",{className:"grid gap-6 md:grid-cols-3",children:[t(se,{children:[t(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e(Ce,{className:"text-sm font-medium",children:"Environment"}),e(Un,{className:"h-4 w-4 text-muted-foreground"})]}),t(de,{children:[e("div",{className:"text-2xl font-bold capitalize",children:n}),e("p",{className:"text-xs text-muted-foreground",children:"Running on Cloudflare Workers"})]})]}),t(se,{children:[t(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e(Ce,{className:"text-sm font-medium",children:"Database Latency"}),e(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e(de,{children:r?.latency?t(G,{children:[t("div",{className:"text-2xl font-bold",children:[r.latency.database_read_ms||r.latency.database_ms,"ms"]}),e("p",{className:"text-xs text-muted-foreground",children:"Read check to D1"})]}):e("div",{className:"text-2xl font-bold text-muted-foreground",children:"-"})})]}),t(se,{children:[t(we,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e(Ce,{className:"text-sm font-medium",children:"System Status"}),e(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),e(de,{children:r?e("div",{className:"flex items-center space-x-2",children:r.status==="ok"?e(ge,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:"Operational"}):e(ge,{variant:"destructive",children:"Degraded"})}):e("div",{className:"text-2xl font-bold text-muted-foreground",children:"-"})})]})]}),r?.integrations&&t(se,{children:[t(we,{children:[e(Ce,{children:"Integrations"}),e(Ve,{children:"Status of third-party connections"})]}),e(de,{children:e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(r.integrations).map(([d,o])=>t("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e("span",{className:"capitalize font-medium",children:d.replace("_"," ")}),o?e(me,{className:"h-5 w-5 text-green-500"}):e(xt,{className:"h-5 w-5 text-red-500"})]},d))})})]}),r?.worker&&t("div",{className:"grid gap-6 md:grid-cols-2",children:[t(se,{children:[t(we,{children:[e(Ce,{children:"Worker Performance"}),e(Ve,{children:"Edge execution details"})]}),t(de,{className:"space-y-4",children:[t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium",children:"Memory Usage"}),t("span",{className:"font-mono text-sm",children:[r.worker.memory_used_mb," MB"]})]}),t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium",children:"PoP (Point of Presence)"}),e("span",{className:"font-mono text-sm",children:r.worker.colo})]}),t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium",children:"Region"}),t("span",{className:"font-mono text-sm",children:[r.worker.city,", ",r.worker.country]})]})]})]}),t(se,{children:[t(we,{children:[e(Ce,{children:"Database Performance"}),e(Ve,{children:"D1 Read/Write Latency"})]}),t(de,{className:"space-y-4",children:[t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium",children:"Read Latency"}),t("span",{className:"font-mono text-sm",children:[r.latency?.database_read_ms," ms"]})]}),t("div",{className:"flex justify-between items-center",children:[e("span",{className:"text-sm font-medium",children:"Query Latency (Write/Mixed)"}),t("span",{className:"font-mono text-sm",children:[r.latency?.database_query_ms," ms"]})]})]})]})]}),r?.clientErrors&&t(se,{children:[t(we,{children:[t(Ce,{className:"flex items-center gap-2",children:[e(he,{className:"h-4 w-4"}),"Recent Client Errors (Telemetry)"]}),e(Ve,{children:"Errors reported by user browsers"})]}),e(de,{children:e("div",{className:"space-y-4",children:r.clientErrors.length>0?r.clientErrors.map(d=>t("div",{className:"flex flex-col gap-1 border-b pb-3 last:border-0 last:pb-0",children:[t("div",{className:"flex justify-between items-start",children:[e("span",{className:"text-sm font-medium text-red-600 truncate max-w-[60%]",children:d.details?.message||"Unknown Error"}),e("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(d.createdAt).toLocaleString()})]}),t("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[e("span",{className:"truncate max-w-[70%]",children:d.details?.url||"Unknown URL"}),e("span",{children:d.ip||"Unknown IP"})]})]},d.id)):e("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent client-side errors reported."})})})]})]})}),Qg=Object.freeze(Object.defineProperty({__proto__:null,default:Hg,loader:Wg},Symbol.toStringTag,{value:"Module"})),Jg=async i=>{const{userId:n,getToken:s}=await P(i);if(!n)return{error:"Unauthorized",status:401};const a=await s(),r=i.context.cloudflare?.env||i.context.env||{},l=r.VITE_API_URL||r.API_URL||"https://studio-platform-api.slichti.workers.dev",d=i.request.headers.get("x-request-id")||crypto.randomUUID();try{const o=await fetch(`${l}/diagnostics`,{headers:{Authorization:`Bearer ${a}`,"x-request-id":d}});if(!o.ok){const u=await o.text();return{error:`API Error: ${o.status}`,details:u,status:o.status}}return await o.json()}catch(o){return{error:"Failed to fetch diagnostics",message:o.message,status:500}}},Vg=Object.freeze(Object.defineProperty({__proto__:null,loader:Jg},Symbol.toStringTag,{value:"Module"})),qg=async i=>{const{getToken:n}=await P(i),s=await n();return{plans:await z("/public/plans",s)}},Gg=j(function(){const{plans:n}=D(),s=n?.find(q=>q.slug==="launch"),a=n?.find(q=>q.slug==="growth"),r=n?.find(q=>q.slug==="scale"),l=s?.prices?.monthly??0,d=a?.prices?.monthly??4900,o=r?.prices?.monthly??12900,[c,u]=f(50),[p,g]=f(5),[m,h]=f(l/100),[v,y]=f(d/100),[N,x]=f(o/100),[w,b]=f(60),[k,S]=f(30),[C,T]=f(5e3),[M,$]=f(1),[B,A]=f(60),[R,I]=f(40),[F,le]=f(30),[O,te]=f(5e5),[ce,Be]=f(10),[je,Ze]=f(100),[fe,We]=f(3),[He,Vi]=f(2500),[Zn,qi]=f(200),[xn,Gi]=f(!0),[dn,Yi]=f(!0),[vn,Zi]=f(!0),[on,Ki]=f(!0),[At,ea]=f(!1),$t={WORKERS_REQ_PRICE:.3/1e6,WORKERS_BASE:5,R2_STORAGE_GB:.015,STREAM_STORAGE_MIN:.005,STREAM_DELIVERY_MIN:.001,EMAIL_COST:6e-4,SMS_COST:.0079},Ds=Math.max(0,100-w-k),Kn=(m*w+v*k+N*Ds)/100,yn=lt(()=>{const q=[];let Qe=c;const na=At?20:p;for(let es=0;es<12;es++){const sa=Qe*Kn,ia=Qe*C*(M/100),Nn=sa+ia,Os=vn?Math.max($t.WORKERS_BASE,Qe*O*$t.WORKERS_REQ_PRICE):0,Es=xn?Qe*ce*$t.R2_STORAGE_GB:0,Bs=dn?Qe*(je*$t.STREAM_STORAGE_MIN+je*fe*$t.STREAM_DELIVERY_MIN):0,Fs=on?Qe*(He*$t.EMAIL_COST+Zn*$t.SMS_COST):0,Rs=Os+Es+Bs+Fs,Xs=Nn-Rs,aa=Nn>0?Xs/Nn*100:0,ra=C,la=C*.029,da=Kn,oa=B*((100-R)/100)*F,ca=la+da+oa,ua=ra-ca;q.push({name:`Month ${es+1}`,tenants:Math.round(Qe),revenue:Nn,infraCost:Rs,profit:Xs,workerCost:Os,r2Cost:Es,streamCost:Bs,commsCost:Fs,margin:aa,tenantNet:ua}),Qe=Qe*(1+na/100)}return q},[c,C,M,p,m,v,N,w,k,ce,je,fe,O,He,Zn,xn,dn,vn,on,At,B,R,F]),Ke=yn[11],ta=Ke.revenue*12;yn.find(q=>q.profit>0)?.name;const zn=[{name:"Workers",value:Ke.workerCost,color:"#F59E0B"},{name:"R2 Storage",value:Ke.r2Cost,color:"#3B82F6"},{name:"Stream",value:Ke.streamCost,color:"#EF4444"},{name:"Comms",value:Ke.commsCost,color:"#10B981"}].filter(q=>q.value>0),Tt=q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(q);return t("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[t("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t("div",{children:[t("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight flex items-center gap-2",children:[e(dt,{className:"text-indigo-600"}),"Platform Projections"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"SaaS margins and Unit Economics simulator."})]}),t("button",{onClick:()=>ea(!At),className:`px-4 py-2 rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2
                        ${At?"bg-purple-600 text-white shadow-purple-500/50 scale-105 animate-pulse":"bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700"}`,children:[e(Qn,{size:16,className:At?"fill-current":""}),At?"VIRAL MODE ACTIVE":"Activate Viral Mode"]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e(jn,{label:"Proj. Annual Revenue (ARR)",value:Tt(ta),sub:`End of Year 1 (${Math.round(Ke.tenants)} Tenants)`,color:"text-emerald-600 dark:text-emerald-400"}),e(jn,{label:"Monthly Profit (Month 12)",value:Tt(Ke.profit),sub:`${Ke.margin.toFixed(1)}% Margin`,color:Ke.profit>0?"text-indigo-600 dark:text-indigo-400":"text-red-600 dark:text-red-400"}),e(jn,{label:"Avg Revenue Per Tenant",value:Tt(Kn),sub:"Weighted Avg (Mix)",color:"text-zinc-900 dark:text-zinc-100"}),e(jn,{label:"Avg Tenant Net (Monthly)",value:Tt(Ke.tenantNet),sub:"After Fees & Expenses",color:"text-amber-600 dark:text-amber-400"})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"space-y-6",children:[t(Mn,{title:"Growth & Revenue",children:[e(ke,{label:"Starting Tenants",val:c,set:u,min:0,max:1e3,step:10}),e(ke,{label:"Growth Rate (%)",val:p,set:g,min:0,max:100,disabled:At}),e(ke,{label:"Avg Monthly GMV ($)",val:C,set:T,min:0,max:5e4,step:500}),e(ke,{label:"Platform Fee (%)",val:M,set:$,min:0,max:10,step:.1})]}),t(Mn,{title:"Pricing Strategy",children:[t("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-xs font-medium text-zinc-500 dark:text-zinc-400",children:[e("div",{children:"Basic"}),e("div",{children:"Growth"}),e("div",{children:"Scale"})]}),t("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[e("input",{type:"number",value:m,onChange:q=>h(Number(q.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),e("input",{type:"number",value:v,onChange:q=>y(Number(q.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),e("input",{type:"number",value:N,onChange:q=>x(Number(q.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"})]}),e("label",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase",children:"Tier Mix"}),e(ke,{label:"Basic %",val:w,set:b,min:0,max:100}),e(ke,{label:"Growth %",val:k,set:S,min:0,max:100}),t("div",{className:"flex justify-between items-center text-sm py-2 px-3 bg-zinc-50 dark:bg-zinc-900 rounded border border-zinc-100 dark:border-zinc-700 mt-2",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Scale % (Remainder)"}),t("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[Ds,"%"]})]})]}),t(Mn,{title:"Tenant Economics",children:[e(ke,{label:"Classes / Month",val:B,set:A,min:0,max:300}),e(ke,{label:"Instructor Hourly ($)",val:F,set:le,min:15,max:100}),e(ke,{label:"Owner Taught %",val:R,set:I,min:0,max:100})]}),t(Mn,{title:"Infrastructure Costs",children:[t("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[e(_n,{label:"Workers",checked:vn,set:Zi}),e(_n,{label:"R2 Storage",checked:xn,set:Gi}),e(_n,{label:"Stream VOD",checked:dn,set:Yi}),e(_n,{label:"Email/SMS",checked:on,set:Ki})]}),e(ke,{label:"Requests (M)",val:O/1e6,set:q=>te(q*1e6),step:.1,min:0,max:50,disabled:!vn}),e(ke,{label:"Storage (GB)",val:ce,set:Be,min:0,max:1e3,disabled:!xn}),t("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[e("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Streaming"}),e(ke,{label:"Mins Stored",val:je,set:Ze,min:0,max:5e3,disabled:!dn}),e(ke,{label:"Viewers/Min",val:fe,set:We,min:1,max:50,disabled:!dn})]}),t("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[e("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Communications"}),e(ke,{label:"Emails / Mo",val:He,set:Vi,min:0,max:5e4,step:100,disabled:!on}),e(ke,{label:"SMS / Mo",val:Zn,set:qi,min:0,max:5e3,step:50,disabled:!on})]})]}),t("div",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 p-4 rounded-xl text-sm opacity-80",children:[t("p",{className:"flex items-center gap-2 font-bold mb-1",children:[e(sr,{size:14})," Unit Costs:"]}),t("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs list-disc list-inside",children:[e("li",{children:"Request: $0.30 / M"}),e("li",{children:"R2: $0.015 / GB"}),e("li",{children:"Stream Store: $0.005"}),e("li",{children:"Stream View: $0.001"}),e("li",{children:"Email: $0.60 / k"}),e("li",{children:"SMS: $0.0079 / msg"})]})]})]}),t("div",{className:"lg:col-span-2 space-y-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[400px]",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Projected Profit vs. Cost"}),e(Ht,{width:"100%",height:"100%",children:t(gn,{data:yn,children:[t("defs",{children:[t("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),e("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),t("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[e("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),e("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),e(Zt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),e(Yt,{dataKey:"name",fontSize:12,stroke:"#71717A"}),e(It,{fontSize:12,stroke:"#71717A",tickFormatter:q=>`$${q/1e3}k`}),e(Lt,{formatter:q=>Tt(Number(q)||0),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:"#18181b",color:"#fff"}}),e(gt,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e(gt,{type:"monotone",dataKey:"infraCost",stroke:"#EF4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorCost)",name:"Infra Cost"}),e(Ti,{y:0,stroke:"#000"})]})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px] flex flex-col",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Infra Cost Breakdown"}),zn.length>0?t("div",{className:"flex-1 flex text-xs",children:[e(Ht,{width:"60%",children:t(br,{children:[e(fr,{data:zn,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:zn.map((q,Qe)=>e(xr,{fill:q.color},`cell-${Qe}`))}),e(Lt,{formatter:q=>Tt(Number(q)||0)})]})}),e("div",{className:"flex flex-col justify-center space-y-2",children:zn.map(q=>t("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:q.color}}),e("span",{children:q.name})]},q.name))})]}):e("div",{className:"flex-1 flex items-center justify-center text-zinc-400",children:"No Costs Selected"})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px]",children:[e("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Avg Tenant Profit History"}),e(Ht,{width:"100%",height:"100%",children:t(gn,{data:yn,children:[e(Zt,{strokeDasharray:"3 3",vertical:!1}),e(Yt,{dataKey:"name",hide:!0}),e(It,{hide:!0}),e(Lt,{formatter:q=>Tt(Number(q)||0)}),e(gt,{type:"monotone",dataKey:"tenantNet",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:3})]})}),e("p",{className:"text-xs text-zinc-400 text-center mt-2",children:"* Simulates single studio profit after fees & payroll"})]})]})]})]})]})});function jn({label:i,value:n,sub:s,color:a}){return t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("h4",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:i}),e("div",{className:`text-3xl font-bold tracking-tight ${a}`,children:n}),e("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-2",children:s})]})}function Mn({title:i,children:n}){return t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[t("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-2",children:[e(_e,{size:18,className:"text-zinc-400"}),i]}),e("div",{className:"space-y-4",children:n})]})}function ke({label:i,val:n,set:s,step:a=1,min:r=0,max:l=100,disabled:d}){return t("div",{className:`space-y-2 ${d?"opacity-50 pointer-events-none":""}`,children:[t("div",{className:"flex justify-between items-center",children:[e("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:i}),e("input",{type:"number",step:a,value:n,onChange:o=>s(parseFloat(o.target.value)||0),className:"w-24 text-right px-2 py-1 border border-zinc-300 dark:border-zinc-700 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-mono bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",autoComplete:"off",name:`field_stat_${Math.floor(Math.random()*1e4)}`,id:`field_stat_${Math.floor(Math.random()*1e4)}`})]}),e("input",{type:"range",min:r,max:l,step:a,value:n,onChange:o=>s(parseFloat(o.target.value)||0),className:"w-full accent-indigo-600 h-1.5 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer"})]})}function _n({label:i,checked:n,set:s}){return t("button",{onClick:()=>s(!n),className:`flex items-center justify-between p-2 rounded-lg border transition-all w-full text-xs ${n?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-200 dark:border-indigo-800 text-indigo-900 dark:text-indigo-200":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400"}`,children:[e("span",{className:"font-medium",children:i}),e("div",{className:`w-6 h-3 rounded-full relative transition-colors ${n?"bg-indigo-500":"bg-zinc-300"}`,children:e("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-transform ${n?"left-3.5":"left-0.5"}`})})]})}const Yg=Object.freeze(Object.defineProperty({__proto__:null,default:Gg,loader:qg},Symbol.toStringTag,{value:"Module"})),Zg=async i=>{const{getToken:n}=await P(i),s=await n();try{return{preview:await z("/admin/billing/preview",s),token:s}}catch(a){return{error:a.message,token:s}}},Kg=j(function(){const{preview:n,error:s,token:a}=D(),[r,l]=f(n),[d,o]=f(!1),[c,u]=f(null),[p,g]=f(!1),[m,h]=f({isOpen:!1,message:""}),v=async()=>{o(!0);try{const b=await z("/admin/billing/preview",a);l(b),u(null)}catch(b){console.error(b)}finally{o(!1)}},y=async()=>{g(!1),o(!0);try{const b=await z("/admin/billing/charge",a,{method:"POST"});u(b),setTimeout(v,1e3)}catch(b){h({isOpen:!0,message:"Charge failed: "+b.message})}finally{o(!1)}},N=r?.tenants||[],x=N.reduce((b,k)=>b+k.total,0).toFixed(2),w=r?.fees||{sms:.0075,email:6e-4,streaming:.05,storage:.02};return s?t("div",{className:"p-8 text-red-600",children:["Error loading billing data: ",s]}):t("div",{className:"max-w-6xl mx-auto pb-20 dark:text-zinc-100",children:[e(Se,{isOpen:p,onClose:()=>g(!1),onConfirm:y,title:"Confirm Invoicing",message:`Are you sure you want to invoice ${N.length} tenants for a total of $${x}?`,confirmText:"Invoice Tenants"}),e(ln,{isOpen:m.isOpen,onClose:()=>h({...m,isOpen:!1}),message:m.message}),t("div",{className:"flex justify-between items-center mb-8",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Financials & Chargebacks"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Review usage and invoice tenants for subscriptions and overages."})]}),t("div",{className:"flex gap-3",children:[t("button",{onClick:v,disabled:d,className:"px-4 py-2 border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 rounded-lg hover:bg-zinc-50 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-300 flex items-center gap-2",children:[e(Xe,{size:16,className:d?"animate-spin":""}),"Refresh Preview"]}),t("button",{onClick:()=>g(!0),disabled:d||N.length===0,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e(ve,{size:16}),"Invoice ",N.length," Tenants"]})]})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:"Projected Total Revenue"}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:t($n,{revealed:!0,children:["$",x]})}),t("div",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[e(me,{size:12})," Ready to invoice"]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:"Active Tenants"}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:N.length}),e("div",{className:"text-xs text-zinc-400 mt-2",children:"Managed by platform"})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:"Fee Schedule"}),t("div",{className:"text-sm space-y-1 mt-2",children:[t("div",{className:"flex justify-between border-b border-zinc-50 dark:border-zinc-800 pb-1 mb-1",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Service Fee"})," ",e("span",{className:"font-mono",children:w.applicationFeePercent?`${w.applicationFeePercent*100}%`:"Var"})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"SMS"})," ",t("span",{className:"font-mono",children:["$",w.sms]})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Email"})," ",t("span",{className:"font-mono",children:["$",w.email]})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Stream"})," ",t("span",{className:"font-mono",children:["$",w.streaming,"/min"]})]}),t("div",{className:"flex justify-between",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Storage"})," ",t("span",{className:"font-mono",children:["$",w.storage,"/GB"]})]})]})]})]}),c&&t("div",{className:`mb-8 p-4 rounded-lg border ${c.success?"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"}`,children:[t("h3",{className:"font-bold flex items-center gap-2",children:[c.success?e(me,{size:18}):e(Pe,{size:18}),c.success?"Invoicing Complete":"Invoicing Failed"]}),t("div",{className:"mt-2 text-sm",children:[c.success?t("p",{children:["Successfully processed ",c.charged," invoices."]}):e("p",{children:c.error}),c.details&&e("ul",{className:"mt-2 list-disc list-inside opacity-80 h-32 overflow-y-auto",children:c.details.map((b,k)=>e("li",{children:b.error?t("span",{className:"text-red-600 font-medium",children:["Failed: ",b.tenantId," - ",b.error]}):t("span",{children:["Charged ",b.name,": $",b.total.toFixed(2)," (",b.items.length," items)"]})},k))})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm",children:[t("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950/50 flex justify-between items-center",children:[e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Billing Preview"}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Including Base Subscription + Usage Overages"})]}),N.length===0?t("div",{className:"p-12 text-center text-zinc-500",children:[e(me,{size:48,className:"mx-auto text-green-500 mb-4 opacity-20"}),e("h3",{className:"text-lg font-medium text-zinc-900",children:"All Clear"}),e("p",{className:"max-w-sm mx-auto mt-1",children:"No active tenants found."})]}):t("table",{className:"w-full text-left text-zinc-900 dark:text-zinc-100",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-950/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Tenant"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Base Plan"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider",children:"Usage Breakdown"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 dark:text-zinc-400 uppercase tracking-wider text-right",children:"Total"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:N.map(b=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[t("td",{className:"px-6 py-4",children:[e("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:b.tenant.name}),e("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs font-mono",children:b.tenant.slug}),b.tenant.stripeCustomerId?t("div",{className:"text-[10px] text-green-600 mt-1 flex items-center gap-1",children:[e(me,{size:10})," Billing Active"]}):t("div",{className:"text-[10px] text-red-500 mt-1 flex items-center gap-1",children:[e(Pe,{size:10})," No Billing ID"]}),b.tenant.stripeAccountId?t("div",{className:"text-[10px] text-blue-600 mt-0.5 flex items-center gap-1",children:[e(me,{size:10})," Payouts Active"]}):t("div",{className:"text-[10px] text-amber-500 mt-0.5 flex items-center gap-1",children:[e(Pe,{size:10})," Payouts Pending"]})]}),e("td",{className:"px-6 py-4",children:b.subscription&&t("div",{children:[e("div",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:b.subscription.name}),t("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:["$",b.subscription.amount.toFixed(2),"/mo"]})]})}),e("td",{className:"px-6 py-4",children:Object.entries(b.costs).length===0?e("span",{className:"text-xs text-zinc-400 italic",children:"No usage overages"}):e("div",{className:"space-y-1 text-sm",children:Object.entries(b.costs).map(([k,S])=>t("div",{className:"flex justify-between max-w-[200px]",children:[t("span",{className:"text-zinc-600 dark:text-zinc-400 capitalize",children:[k,":"]}),t("span",{className:"font-mono text-zinc-700 dark:text-zinc-300",children:[Math.round(S.quantity).toLocaleString()," units ($",S.amount.toFixed(2),")"]})]},k))})}),e("td",{className:"px-6 py-4 text-right",children:t("div",{className:"font-bold text-zinc-900 dark:text-zinc-100",children:["$",b.total.toFixed(2)]})})]},b.tenant.id))})]})]}),t("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-lg text-sm border border-blue-100 dark:border-blue-900/50 flex gap-3",children:[e(Pe,{className:"shrink-0 mt-0.5",size:16}),t("div",{children:[e("strong",{children:"Note on Invoicing:"}),t("ul",{className:"list-disc list-inside mt-1 space-y-1 opacity-90 ml-1",children:[t("li",{children:['The "Invoice" button generates standard Stripe Invoice Items for ',e("strong",{children:"Usage Overages"}),"."]}),t("li",{children:["Base Plan fees are typically handled automatically by Stripe Subscriptions if configured. The total above is a ",e("em",{children:"projection"})," of comprehensive revenue."]}),e("li",{children:"Verify Stripe Subscription status before manual invoicing to avoid double-charging base fees."})]})]})]})]})}),eb=Object.freeze(Object.defineProperty({__proto__:null,default:Kg,loader:Zg},Symbol.toStringTag,{value:"Module"})),tb=async i=>{const{getToken:n}=await P(i),s=await n();try{return{failedSubs:await z("/admin/billing/failed",s),token:s}}catch(a){return{error:a.message,token:s}}},nb=j(function(){const{failedSubs:n,error:s,token:a}=D(),[r,l]=f(n||[]),[d,o]=f(!1),[c,u]=f(null),[p,g]=f(null),[m,h]=f(null),v=async()=>{o(!0);try{const N=await z("/admin/billing/failed",a);l(N)}catch(N){g(N.message)}finally{o(!1)}},y=async()=>{if(c){o(!0),u(null);try{const N=r.find(x=>x.id===c);N&&N.tenantId&&(await z("/admin/billing/charge",a,{method:"POST",body:JSON.stringify({tenantIds:[N.tenantId]})}),h("Payment retry initiated. Check status in a moment."),setTimeout(v,2e3))}catch(N){g(N.message)}finally{o(!1)}}};return s?t("div",{className:"p-8 text-red-600",children:["Error loading failed payments: ",s]}):t("div",{className:"max-w-6xl mx-auto pb-20",children:[e(Se,{isOpen:!!c,onClose:()=>u(null),onConfirm:y,title:"Retry Payment",message:"Are you sure you want to retry charging this tenant immediately?",confirmText:"Retry Charge"}),e(ln,{isOpen:!!p,onClose:()=>g(null),message:p||""}),e(uo,{isOpen:!!m,onClose:()=>h(null),message:m||""}),t("div",{className:"flex justify-between items-center mb-8",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900",children:"Failed Payments & Dunning"}),e("p",{className:"text-zinc-500",children:"Manage subscriptions that are at risk of cancellation."})]}),t("button",{onClick:v,disabled:d,className:"px-4 py-2 border border-zinc-200 bg-white rounded-lg hover:bg-zinc-50 text-zinc-600 flex items-center gap-2",children:[e(Xe,{size:16,className:d?"animate-spin":""}),"Refresh"]})]}),e("div",{className:"bg-white border border-zinc-200 rounded-xl overflow-hidden shadow-sm",children:r.length===0?t("div",{className:"p-12 text-center text-zinc-500",children:[e(me,{size:48,className:"mx-auto text-green-500 mb-4 opacity-20"}),e("h3",{className:"text-lg font-medium text-zinc-900",children:"All Good"}),e("p",{className:"max-w-sm mx-auto mt-1",children:"No subscriptions are currently in a failed or warning state."})]}):t("table",{className:"w-full text-left",children:[e("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Tenant"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Status"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Dunning Phase"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Last Attempt"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-100",children:r.map(N=>t("tr",{className:"hover:bg-zinc-50",children:[t("td",{className:"px-6 py-4",children:[e("div",{className:"font-medium text-zinc-900",children:N.tenant?.name||"Unknown"}),e("div",{className:"text-zinc-500 text-xs font-mono",children:N.tenant?.slug})]}),e("td",{className:"px-6 py-4",children:e("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.status==="active"?"bg-green-100 text-green-800":N.status==="past_due"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.status})}),e("td",{className:"px-6 py-4",children:t("div",{className:"flex items-center gap-2",children:[N.dunningState==="failed"&&e(Pe,{size:16,className:"text-red-600"}),N.dunningState?.startsWith("warning")&&e(nn,{size:16,className:"text-orange-500"}),e("span",{className:"capitalize",children:N.dunningState?.replace(/(\d)/," $1")})]})}),e("td",{className:"px-6 py-4 text-sm text-zinc-600",children:N.lastDunningAt?new Date(N.lastDunningAt).toLocaleDateString():"N/A"}),t("td",{className:"px-6 py-4 text-right",children:[e("button",{onClick:()=>u(N.id),className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium mr-4",children:"Retry"}),N.stripeSubscriptionId&&e("a",{href:`https://dashboard.stripe.com/subscriptions/${N.stripeSubscriptionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-zinc-400 hover:text-zinc-600 inline-flex items-center gap-1",title:"View in Stripe",children:e(Nt,{size:14})})]})]},N.id))})]})})]})}),sb=Object.freeze(Object.defineProperty({__proto__:null,default:nb,loader:tb},Symbol.toStringTag,{value:"Module"})),ib=async i=>{const{getToken:n}=await P(i),s=await n(),r=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{return{automations:await z("/admin/automations",s,{},r)||[]}}catch(l){return console.error("Failed to load automations",l),{automations:[],error:l.message}}},ab=async i=>{const{request:n,context:s}=i,{getToken:a}=await P(i),r=await a(),d=(s.cloudflare?.env||s.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev",o=await n.formData(),c=o.get("_action");try{if(c==="create"){const u={triggerEvent:o.get("triggerEvent"),subject:o.get("subject"),content:o.get("content"),timingType:o.get("timingType"),timingValue:Number(o.get("timingValue")),recipients:o.getAll("recipients")};await z("/admin/automations",r,{method:"POST",body:JSON.stringify(u)},d)}else if(c==="update"){const u=o.get("id"),p={};o.has("isEnabled")&&(p.isEnabled=o.get("isEnabled")==="true"),o.has("subject")&&(p.subject=o.get("subject")),o.has("content")&&(p.content=o.get("content")),o.has("timingType")&&(p.timingType=o.get("timingType")),o.has("timingValue")&&(p.timingValue=Number(o.get("timingValue")));const g=o.getAll("recipients");g.length>0&&(p.recipients=g),g.length===0&&o.get("_action")==="update"&&(p.recipients=[]),await z(`/admin/automations/${u}`,r,{method:"PATCH",body:JSON.stringify(p)},d)}else if(c==="delete"){const u=o.get("id");await z(`/admin/automations/${u}`,r,{method:"DELETE"},d)}else if(c==="test"){const u=o.get("id"),p=o.get("email");await z(`/admin/automations/${u}/test`,r,{method:"POST",body:JSON.stringify({email:p})},d)}return{success:!0}}catch(u){return{success:!1,error:u.message}}},rb=j(function(){const{automations:n}=D(),s=En(),[a,r]=f(!1),[l,d]=f(!1),[o,c]=f("all"),u=h=>{switch(h){case"birthday":return e(lr,{className:"text-pink-500"});case"new_student":return e(ms,{className:"text-emerald-500"});case"absent":return e(rr,{className:"text-amber-500"});case"trial_ending":return e(Pe,{className:"text-indigo-500"});case"first_class_attended":return e(_e,{className:"text-blue-500"});case"milestone_reached":return e(mt,{className:"text-yellow-500"});case"lead_captured":return e(ms,{className:"text-emerald-500"});case"high_retail_spend":return e(ve,{className:"text-green-600"});case"referral_conversion_success":return e(gs,{className:"text-purple-500"});case"waiver_missing_reminder":return e(ar,{className:"text-red-500"});case"attendance_streak_at_risk":return e(Pn,{className:"text-orange-500"});default:return e(he,{className:"text-blue-500"})}},p=h=>h.timingType==="immediate"?"Sends Immediately":h.timingType==="delay"?`Wait ${h.timingValue} hours`:h.timingType==="before"?`${h.timingValue} hours Before`:h.timingType==="after"?`${h.timingValue} hours After`:"Custom Schedule",g=n.filter(h=>o==="all"?!0:h.triggerEvent===o),m=g.reduce((h,v)=>{const y=v.tenantId||"Platform Global";return h[y]||(h[y]=[]),h[y].push(v),h},{});return t("div",{className:"max-w-5xl mx-auto pb-20 space-y-8",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Marketing Workflows"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Automate your student communication lifecycle."})]}),t("div",{className:"flex items-center gap-4",children:[e("div",{className:"flex items-center gap-2",children:e("div",{className:"relative",children:t("select",{value:o,onChange:h=>c(h.target.value),className:"h-10 w-[180px] rounded-md border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-zinc-800 dark:bg-zinc-950 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",children:[e("option",{value:"all",children:"All Types"}),e("option",{value:"new_student",children:"New Student Signup"}),e("option",{value:"birthday",children:"Birthday"}),e("option",{value:"absent",children:"Student Absent (Re-engage)"}),e("option",{value:"trial_ending",children:"Trial Ending"}),e("option",{value:"first_class_attended",children:"First Class Attended"}),e("option",{value:"milestone_reached",children:"Milestone Reached"}),e("option",{value:"lead_captured",children:"Lead Captured"}),e("option",{value:"high_retail_spend",children:"High Retail Spend"}),e("option",{value:"referral_conversion_success",children:"Referral Successful"}),e("option",{value:"waiver_missing_reminder",children:"Waiver Missing Reminder"}),e("option",{value:"attendance_streak_at_risk",children:"Attendance Streak At Risk"})]})})}),t("div",{className:"flex items-center gap-2",children:[e(ne,{htmlFor:"groupByTenant",className:"text-sm cursor-pointer select-none",children:"Group by Tenant"}),e(Ls,{id:"groupByTenant",checked:l,onCheckedChange:d})]}),t(kt,{open:a,onOpenChange:r,children:[e(Dn,{asChild:!0,children:t(Q,{children:[e(ee,{className:"w-4 h-4 mr-2"})," New Workflow"]})}),t(wt,{className:"sm:max-w-lg",children:[e(Ct,{children:e(St,{children:"Create Workflow"})}),e(Ji,{onSubmit:h=>{h.append("_action","create"),s.submit(h,{method:"post"}),r(!1)}})]})]})]})]}),l?e("div",{className:"space-y-8",children:Object.entries(m).map(([h,v])=>t("div",{className:"space-y-4",children:[t("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e("span",{className:"w-1 h-6 bg-blue-500 rounded-full"}),h==="Platform Global"?"Platform Global Defaults":`Tenant: ${h.slice(0,8)}...`]}),e("div",{className:"grid gap-4",children:v.map(y=>e(si,{auto:y,getIcon:u,getTimingLabel:p,fetcher:s},y.id))})]},h))}):e("div",{className:"grid gap-4",children:g.map(h=>e(si,{auto:h,getIcon:u,getTimingLabel:p,fetcher:s},h.id))})]})});function si({auto:i,getIcon:n,getTimingLabel:s,fetcher:a}){return t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-6 flex flex-col sm:flex-row sm:items-center gap-6 shadow-sm hover:shadow-md transition-shadow",children:[e("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-800 rounded-full shrink-0",children:n(i.triggerEvent)}),t("div",{className:"flex-1 space-y-1",children:[t("div",{className:"flex items-center gap-3",children:[e("h3",{className:"font-semibold text-lg text-zinc-900 dark:text-zinc-100",children:i.subject}),e(ge,{variant:i.isEnabled?"default":"outline",children:i.isEnabled?"Active":"Paused"})]}),t("div",{className:"flex items-center gap-4 text-sm text-zinc-500",children:[t("span",{className:"flex items-center gap-1",children:[e(he,{className:"w-3 h-3"}),s(i)]}),t("span",{className:"capitalize px-2 py-0.5 bg-zinc-100 dark:bg-zinc-800 rounded text-xs",children:["Trigger: ",i.triggerEvent==="absent"?"Student Absent (Re-engage)":i.triggerEvent==="new_student"?"New Student Signup":i.triggerEvent.replace("_"," ")]}),i.recipients?.includes("owner")&&e("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded text-xs border border-purple-200",children:"+ Owner"})]})]}),t("div",{className:"flex items-center gap-4 pt-4 sm:pt-0 border-t sm:border-0 border-zinc-100 dark:border-zinc-800",children:[t("div",{className:"flex items-center gap-2",children:[e(ne,{htmlFor:`toggle-${i.id}`,className:"sr-only",children:"Enable"}),e(Ls,{checked:i.isEnabled,onCheckedChange:r=>{a.submit({_action:"update",id:i.id,isEnabled:String(r)},{method:"post"})}})]}),t(kt,{children:[e(Dn,{asChild:!0,children:t(Q,{variant:"outline",children:[e(ir,{className:"w-4 h-4 mr-2"})," Edit"]})}),t(wt,{className:"sm:max-w-lg",children:[e(Ct,{children:t(St,{children:['Edit "',i.subject,'"']})}),e(Ji,{initialData:i,onSubmit:r=>{r.append("_action","update"),r.append("id",i.id),a.submit(r,{method:"post"})}})]})]}),t(kt,{children:[e(Dn,{asChild:!0,children:e(Q,{variant:"ghost",className:"text-zinc-400 hover:text-red-500 hover:bg-zinc-100",children:e(ue,{className:"w-4 h-4"})})}),t(wt,{children:[t(Ct,{children:[e(St,{children:"Delete Workflow?"}),e(As,{children:"This action cannot be undone. Typically we recommend pausing instead."})]}),e(an,{children:e(Q,{variant:"destructive",onClick:()=>{a.submit({_action:"delete",id:i.id},{method:"post"})},children:"Delete"})})]})]})]})]})}function Ji({initialData:i,onSubmit:n}){return t("form",{onSubmit:a=>{a.preventDefault();const r=new FormData(a.currentTarget);n(r)},className:"space-y-4 py-4",children:[t("div",{className:"grid grid-cols-2 gap-4",children:[t("div",{className:"space-y-2",children:[e(ne,{children:"Trigger Event"}),t(Qt,{name:"triggerEvent",defaultValue:i?.triggerEvent||"new_student",children:[e("option",{value:"new_student",children:"New Student Signup"}),e("option",{value:"birthday",children:"Birthday"}),e("option",{value:"absent",children:"Student Absent (Re-engage)"}),e("option",{value:"trial_ending",children:"Trial Ending Soon"}),e("option",{value:"first_class_attended",children:"First Class Attended"}),e("option",{value:"milestone_reached",children:"Milestone Reached"}),e("option",{value:"lead_captured",children:"Lead Captured"}),e("option",{value:"high_retail_spend",children:"High Retail Spend (>$100)"}),e("option",{value:"referral_conversion_success",children:"Referral Successful"}),e("option",{value:"waiver_missing_reminder",children:"Waiver Missing Reminder"}),e("option",{value:"attendance_streak_at_risk",children:"Attendance Streak At Risk"})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Timing"}),t("div",{className:"flex items-center gap-2",children:[t(Qt,{name:"timingType",defaultValue:i?.timingType||"immediate",className:"w-[140px]",children:[e("option",{value:"immediate",children:"Immediately"}),e("option",{value:"delay",children:"Wait (Delay)"}),e("option",{value:"before",children:"Before Event"}),e("option",{value:"after",children:"After Event"})]}),e(ye,{name:"timingValue",type:"number",defaultValue:i?.timingValue||0,placeholder:"Hours",className:"w-20"})]})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Recipients"}),t("div",{className:"flex gap-4",children:[t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",name:"recipients",value:"student",id:"r_student",defaultChecked:!i||!i.recipients||i.recipients.includes("student"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e(ne,{htmlFor:"r_student",className:"font-normal text-zinc-700 dark:text-zinc-300",children:"Student (User)"})]}),t("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",name:"recipients",value:"owner",id:"r_owner",defaultChecked:i?.recipients?.includes("owner"),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e(ne,{htmlFor:"r_owner",className:"font-normal text-zinc-700 dark:text-zinc-300",children:"Studio Owner"})]})]})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Subject Line"}),e(ye,{name:"subject",defaultValue:i?.subject,required:!0,placeholder:"e.g. Welcome to the family!"})]}),t("div",{className:"space-y-2",children:[e(ne,{children:"Email Content"}),e($s,{name:"content",defaultValue:i?.content,required:!0,placeholder:"Hello {firstname}...",className:"h-32 font-mono"}),t("p",{className:"text-xs text-zinc-500",children:["Supported variables: ","{firstname}",", ","{lastname}",", ","{tenant}"," (Studio Name)."]})]}),t(an,{className:"mt-4 flex justify-end gap-2",children:[e(Td,{asChild:!0,children:e(Q,{type:"button",variant:"outline",children:"Cancel"})}),e(Q,{type:"submit",children:"Save Workflow"})]})]})}const lb=Object.freeze(Object.defineProperty({__proto__:null,action:ab,default:rb,loader:ib},Symbol.toStringTag,{value:"Module"})),db=async i=>{const{getToken:n}=await P(i),s=await n();try{return{configs:await z("/admin/platform/config",s),error:null}}catch(a){return{configs:[],error:a.message}}},ii=[{key:"feature_mobile_app",label:"White-Label Mobile App",description:"Enable Mobile App settings and promotion across all studios. Keep disabled until apps are approved.",icon:Me},{key:"feature_website_builder",label:"Website Builder",description:"Enable drag-and-drop website creation for tenants using Puck editor.",icon:xe},{key:"feature_chat",label:"Chat System",description:"Enable real-time chat for support and community using Durable Objects.",icon:dr},{key:"feature_financials",label:"Financials & Payouts",description:"Global master switch for Financial reporting and Stripe payouts.",icon:Ae},{key:"feature_vod",label:"Video on Demand (VOD)",description:"Global master switch for VOD functionality.",icon:vt},{key:"feature_zoom",label:"Zoom Integration",description:"Enable Zoom meeting creation and sync.",icon:vt},{key:"feature_pos",label:"POS & Retail",description:"Enable Point of Sale and Product management.",icon:Ae},{key:"feature_sms",label:"SMS Messaging",description:"Enable Twilio SMS features and quotas.",icon:ft},{key:"feature_marketing",label:"Marketing & CRM",description:"Enable Email Marketing and CRM tools.",icon:Ye},{key:"feature_payroll",label:"Payroll & Compensation",description:"Enable Instructor Payroll and Commission tracking.",icon:Ue}],ob=j(function(){const{configs:n,error:s}=D(),[a,r]=f(n||[]),{getToken:l}=J(),[d,o]=f(null),c=p=>a.find(g=>g.key===p)||{enabled:!1},u=async(p,g)=>{o(p),r(m=>m.find(v=>v.key===p)?m.map(v=>v.key===p?{...v,enabled:!g}:v):[...m,{key:p,enabled:!g}]);try{const m=await l();await z(`/admin/platform/config/${p}`,m,{method:"PUT",body:JSON.stringify({enabled:!g,description:ii.find(h=>h.key===p)?.description})})}catch(m){console.error(m),console.error(m),_.error("Failed to update feature flag"),r(n)}finally{o(null)}};return s?t("div",{className:"p-8 text-red-600",children:["Error loading config: ",s]}):t("div",{className:"max-w-4xl mx-auto py-8",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Platform Features"}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Manage global feature flags. Disabling a feature here hides it from all tenants."})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ii.map(p=>{const g=c(p.key),m=g.enabled,h=p.icon;return e("div",{className:"bg-white dark:bg-zinc-900 rounded-lg border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm",children:t("div",{className:"flex items-start gap-3",children:[e("div",{className:`p-2 rounded-md flex-shrink-0 ${m?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"bg-zinc-100 dark:bg-zinc-800 text-zinc-400 dark:text-zinc-500"}`,children:e(h,{size:18})}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-start justify-between gap-2",children:[e("h3",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 leading-tight",children:p.label}),e("button",{onClick:()=>u(p.key,m),disabled:d===p.key,className:`relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-1 dark:focus:ring-offset-zinc-900 ${m?"bg-blue-600":"bg-zinc-200 dark:bg-zinc-700"}`,children:e("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${m?"translate-x-4":"translate-x-0"}`})})]}),e("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-0.5 line-clamp-2",children:p.description}),t("div",{className:"flex items-center gap-2 mt-1.5",children:[e("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium ${m?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400"}`,children:m?"Enabled":"Disabled (Hidden)"}),g.updatedAt&&t("span",{className:"text-[10px] text-zinc-400 dark:text-zinc-500",children:["Updated ",new Date(g.updatedAt).toLocaleDateString()]})]})]})]})},p.key)})}),t("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-lg p-4",children:[e("h4",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"How this works"}),t("ul",{className:"list-disc list-inside text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[t("li",{children:[e("strong",{children:"Enabled:"})," Feature is visible to tenants (subject to their subscription tier)."]}),t("li",{children:[e("strong",{children:"Disabled:"})," Feature is completely hidden from the entire platform. Useful for testing or incomplete features (e.g. Mobile App)."]})]})]})]})}),cb=Object.freeze(Object.defineProperty({__proto__:null,default:ob,loader:db},Symbol.toStringTag,{value:"Module"})),ub=H(()=>import("./AdminBackupsPage-4rCVxBN1.js"));async function mb(i){const{getToken:n}=await P(i),s=await n();try{const[a,r,l,d]=await Promise.all([fetch(`${Fe}/admin/backups`,{headers:{Authorization:`Bearer ${s}`}}),fetch(`${Fe}/admin/backups/tenants`,{headers:{Authorization:`Bearer ${s}`}}),fetch(`${Fe}/admin/backups/history`,{headers:{Authorization:`Bearer ${s}`}}),fetch(`${Fe}/admin/backups/system`,{headers:{Authorization:`Bearer ${s}`}})]),o=await a.json(),c=await r.json(),u=await l.json(),p=await d.json();return{backups:o.backups||[],r2Summary:o.r2Summary||{system:0,tenant:0},tenants:c.tenants||[],history:u.history||[],systemBackups:p.backups||[]}}catch(a){return console.error("Failed to load backup data:",a),{backups:[],r2Summary:{system:0,tenant:0},tenants:[],history:[],systemBackups:[]}}}const hb=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(ub,{})})})}),pb=Object.freeze(Object.defineProperty({__proto__:null,default:hb,loader:mb},Symbol.toStringTag,{value:"Module"})),gb=H(()=>import("./AdminTenantsPage-Dta6E4AG.js"));async function bb(i){const{getToken:n}=await sn(i),s=await n();if(!s)throw new Error("Unauthorized");const[a,r]=await Promise.all([z("/admin/tenants",s),z("/admin/platform/config",s)]);return{tenants:a,platformConfig:r}}const fb=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:e(gb,{})})})}),xb=Object.freeze(Object.defineProperty({__proto__:null,default:fb,loader:bb},Symbol.toStringTag,{value:"Module"})),vb=async i=>{let n;try{const{getToken:c}=await P(i);n=await c()}catch(c){return console.error("Auth System Error",JSON.stringify(c,Object.getOwnPropertyNames(c))),Y("/sign-in")}if(!n)return Y("/sign-in?redirect_url=/admin");const a=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev",[r,l]=await Promise.allSettled([z("/admin/logs",n,{},a),z("/admin/stats/health",n,{},a)]),d=r.status==="fulfilled"?r.value:{error:r.reason?.message||"Failed to load logs"},o=l.status==="fulfilled"?l.value:{status:"error",error:l.reason?.message||"Failed to load health"};return{logs:d,health:o}};function cn({title:i,value:n,status:s,trend:a}){return e(se,{children:e(de,{children:t("div",{className:"flex justify-between items-start",children:[t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:i}),e("h4",{className:`text-2xl font-bold mt-2 ${{success:"text-emerald-600 dark:text-emerald-400",warning:"text-amber-600 dark:text-amber-400",error:"text-red-600 dark:text-red-400",neutral:"text-zinc-900 dark:text-zinc-100"}[s||"neutral"]}`,children:n})]}),a&&e("span",{className:"text-xs font-medium px-2 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-full text-zinc-600 dark:text-zinc-300",children:a})]})})})}function yb(i){const n=typeof i.details=="string"?JSON.parse(i.details):i.details||{},s=i.targetId?t("span",{className:"font-mono text-xs bg-zinc-100 dark:bg-zinc-800 px-1 rounded",children:[i.targetId.substring(0,8),"..."]}):null;switch(i.action){case"create_user_manual":return t("span",{children:["Created user ",e("span",{className:"font-medium",children:n.email})]});case"delete_user_admin":return t("span",{children:["Deleted user account ",s]});case"bulk_delete_users":return t("span",{children:["Bulk deleted ",e("span",{className:"font-medium",children:n.count})," users"]});case"set_platform_admin":case"promote_to_admin":return t("span",{children:["Promoted ",e("span",{className:"font-medium",children:n.count})," users to Platform Admin"]});case"set_platform_admin_false":case"demote_from_admin":return t("span",{children:["Revoked Platform Admin from ",e("span",{className:"font-medium",children:n.count})," users"]});case"update_tenant_tier":return t("span",{children:["Changed tenant tier to ",e(ge,{variant:"outline",className:"text-xs uppercase",children:n.tier})]});case"impersonate_user":return t("span",{children:["Impersonated ",e("span",{className:"font-medium",children:n.targetEmail})]});case"update_zoom_credentials":return t("span",{children:["Updated Zoom credentials for tenant ",s]});case"grant_studio_access":return t("span",{children:["Granted ",e("span",{className:"font-medium",children:n.role})," access to studio"]});case"revoke_studio_access":return e("span",{children:"Revoked access from studio"});case"scan_file":return t("span",{children:["Virus scan result: ",e("span",{className:n.infected?"text-red-600 font-bold":"text-green-600",children:n.infected?"INFECTED":"Clean"})]});case"USER_LOGIN":return e("span",{children:"User logged in"});default:const a=Object.keys(n).filter(r=>!["userAgent","ip"].includes(r));return a.length>0?e("span",{className:"text-zinc-500 dark:text-zinc-400",children:a.map(r=>`${r}: ${n[r]}`).join(", ")}):e("span",{className:"text-zinc-400 dark:text-zinc-500 italic",children:"No additional details"})}}const zb=j(function(){const{logs:n,health:s}=D();return t("div",{className:"space-y-6",children:[t("div",{children:[e("h2",{className:"text-2xl font-bold tracking-tight text-zinc-900 dark:text-zinc-100",children:"Dashboard Overview"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"System performance and activity monitoring."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e(cn,{title:"System Status",value:s?.status==="error"?"Error":s?.status==="healthy"?"Operational":"Degraded",status:s?.status==="error"?"error":s?.status==="healthy"?"success":"warning",trend:s?.status==="error"?s?.error||"Unknown Error":`Latency: ${s?.dbLatencyMs||0}ms`}),e(cn,{title:"Active Tenants",value:String(s?.activeTenants||0),status:"neutral"}),e(cn,{title:"Estimated MRR",value:`$${(s?.estimatedMRR||0).toLocaleString()}`,status:"success",trend:"Platform Revenue"}),e(cn,{title:"Total Users",value:String(s?.totalUsers||0),status:"neutral"}),e(cn,{title:"Recent Errors",value:String(s?.recentErrors||0),status:s?.recentErrors>0?"error":"success",trend:"Last 24h"})]}),t(se,{children:[e(we,{children:e(Ce,{children:"Recent Audit Logs"})}),e(de,{className:"p-0",children:Array.isArray(n)?t(Ps,{children:[e(Is,{children:t(Ot,{children:[e(rt,{className:"w-[180px]",children:"Time"}),e(rt,{className:"w-[150px]",children:"Action"}),e(rt,{children:"Summary"}),e(rt,{children:"Actor"})]})}),t("tbody",{children:[n.map(a=>t(Ot,{className:"hover:bg-zinc-50",children:[e(Je,{className:"font-mono text-xs text-zinc-500 whitespace-nowrap",children:new Date(a.createdAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}),e(Je,{children:e(ge,{variant:"outline",className:"font-mono text-[10px] uppercase",children:a.action.replace(/_/g," ")})}),e(Je,{className:"text-sm",children:yb(a)}),e(Je,{children:t("div",{className:"flex flex-col",children:[t("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:[a.actorProfile?.firstName," ",a.actorProfile?.lastName]}),e("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:a.actorEmail})]})})]},a.id)),n.length===0&&e(Ot,{children:e(Je,{className:"text-center text-zinc-500 dark:text-zinc-400 py-8",colSpan:4,children:"No recent activity found."})})]})]}):t("div",{className:"p-6 text-red-600 bg-red-50",children:[e("p",{className:"font-medium",children:"Error Loading Logs"}),e("p",{className:"text-sm mt-1",children:n.error})]})})]})]})}),Nb=Object.freeze(Object.defineProperty({__proto__:null,default:zb,loader:vb},Symbol.toStringTag,{value:"Module"})),kb=async i=>{const{getToken:n}=await P(i),s=await n();let a={totalSent:0,byTenant:[],recentLogs:[]};try{const r=await z("/admin-api/stats/email",s);r.error||(a=r)}catch(r){console.error("Failed to load email stats",r)}return{stats:a}},wb=j(function(){const{stats:n}=D();return t("div",{className:"p-8",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 mb-2",children:"Global Email Analytics"}),e("p",{className:"text-zinc-500 mb-8",children:"System-wide email volume and usage tracking."}),e("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:t("div",{className:"bg-white p-6 rounded-lg border border-zinc-200 shadow-sm flex items-center gap-4",children:[e("div",{className:"p-3 bg-blue-100 rounded-full",children:e(Ye,{className:"h-6 w-6 text-blue-600"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500",children:"Total Emails Sent"}),e("p",{className:"text-3xl font-bold text-zinc-900",children:n.totalSent})]})]})}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t("div",{className:"bg-white rounded-lg border border-zinc-200 shadow-sm overflow-hidden",children:[e("div",{className:"bg-zinc-50 px-6 py-4 border-b border-zinc-200 border-zinc-200",children:e("h3",{className:"font-semibold text-zinc-800",children:"Volume by Tenant"})}),t("table",{className:"min-w-full divide-y divide-zinc-200",children:[e("thead",{children:t("tr",{className:"bg-zinc-50",children:[e("th",{className:"px-6 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Tenant"}),e("th",{className:"px-6 py-3 text-right text-xs font-medium text-zinc-500 uppercase",children:"Emails Sent"})]})}),e("tbody",{className:"divide-y divide-zinc-200",children:n.byTenant.map((s,a)=>t("tr",{children:[e("td",{className:"px-6 py-3 text-sm font-medium text-zinc-900",children:e(L,{to:"/admin/tenants",className:"hover:underline",children:s.tenantName})}),e("td",{className:"px-6 py-3 text-sm text-right text-zinc-600 font-mono",children:s.count})]},a))})]})]}),t("div",{className:"bg-white rounded-lg border border-zinc-200 shadow-sm overflow-hidden",children:[e("div",{className:"bg-zinc-50 px-6 py-4 border-b border-zinc-200",children:e("h3",{className:"font-semibold text-zinc-800",children:"Recent Logs"})}),e("div",{className:"max-h-[400px] overflow-y-auto",children:t("table",{className:"min-w-full divide-y divide-zinc-200",children:[e("thead",{children:t("tr",{className:"bg-zinc-50",children:[e("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Sent At"}),e("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Tenant"}),e("th",{className:"px-4 py-3 text-left text-xs font-medium text-zinc-500 uppercase",children:"Subject"})]})}),e("tbody",{className:"divide-y divide-zinc-200",children:n.recentLogs.map(s=>t("tr",{children:[e("td",{className:"px-4 py-2 text-xs text-zinc-500",children:new Date(s.sentAt).toLocaleString()}),e("td",{className:"px-4 py-2 text-xs font-medium text-zinc-900",children:s.tenantName}),e("td",{className:"px-4 py-2 text-xs text-zinc-600 truncate max-w-[200px]",children:s.subject})]},s.id))})]})})]})]})]})}),Cb=Object.freeze(Object.defineProperty({__proto__:null,default:wb,loader:kb},Symbol.toStringTag,{value:"Module"})),Sb=async i=>{const{getToken:n}=await P(i),s=await n(),r=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{const[l,d,o]=await Promise.all([z("/admin/mobile/config",s,{},r),z("/admin/mobile/tenants",s,{},r),z("/admin/mobile/logs",s,{},r)]);return{config:l,tenants:d,logs:o,token:s,apiUrl:r}}catch(l){return console.error("Failed to load admin mobile data",l),{config:null,tenants:[],logs:[],token:s,apiUrl:r,error:!0}}},jb=j(function(){const{config:n,tenants:s,logs:a,token:r,apiUrl:l}=D(),d=Ft(),[o,c]=f(""),[u,p]=f(null),[g,m]=f("tenants"),[h,v]=f({open:!1,tenantId:"",tenantName:"",isEnabled:!1}),[y,N]=f(n?.maintenanceMode||!1),[x,w]=f(n?.minVersion||"1.0.0"),[b,k]=f(!1),S=(s||[]).filter($=>$.name.toLowerCase().includes(o.toLowerCase())||$.slug.toLowerCase().includes(o.toLowerCase())),C=($,B,A)=>{v({open:!0,tenantId:$,tenantName:B,isEnabled:A})},T=async()=>{const{tenantId:$,isEnabled:B}=h;p($);try{const A=await z(`/admin/mobile/tenants/${$}/access`,r,{method:"PUT",body:JSON.stringify({enabled:!B})},l);if(A.error)throw new Error(A.error);_.success(`Mobile access ${B?"disabled":"enabled"} successfully for ${h.tenantName}`),d.revalidate()}catch(A){_.error(A.message||"Failed to update status")}finally{p(null),v(A=>({...A,open:!1}))}},M=async($,B)=>{k(!0);try{const A=await z("/admin/mobile/config",r,{method:"PUT",body:JSON.stringify({maintenanceMode:$!==void 0?$:y,minVersion:B!==void 0?B:x})},l);if(A.error)throw new Error(A.error);_.success("Configuration updated successfully"),d.revalidate()}catch(A){_.error(A.message||"Failed to update configuration")}finally{k(!1)}};return t("div",{className:"max-w-7xl mx-auto space-y-8",children:[t("div",{className:"flex items-start justify-between",children:[t("div",{children:[t("h1",{className:"text-3xl font-bold tracking-tight text-zinc-900 dark:text-zinc-50 flex items-center gap-3",children:[e(Me,{className:"w-8 h-8 text-blue-600"}),"Mobile App Administration"]}),e("p",{className:"mt-2 text-zinc-500 dark:text-zinc-400 max-w-2xl",children:"Manage tenant access to the mobile application, view global logs, and configure system-wide settings."})]}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>d.revalidate(),className:"p-2 text-zinc-500 hover:text-zinc-900 dark:hover:text-zinc-100 transition-colors",title:"Refresh Data",children:e(Xe,{className:`w-5 h-5 ${d.state==="loading"?"animate-spin":""}`})})})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl shadow-sm",children:t("div",{className:"flex items-center gap-4",children:[e("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400",children:e(Me,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Active Mobile Tenants"}),e("h3",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-50",children:n?.stats?.authorizedCount||0})]})]})}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl shadow-sm",children:t("div",{className:"flex items-center gap-4",children:[e("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg text-emerald-600 dark:text-emerald-400",children:e(_e,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"System Status"}),e("h3",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-50",children:"Operational"})]})]})}),e("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-xl shadow-sm",children:t("div",{className:"flex items-center gap-4",children:[e("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-purple-600 dark:text-purple-400",children:e(ws,{className:"w-6 h-6"})}),t("div",{children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Minimum App Version"}),e("h3",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-50",children:n?.minVersion||"1.0.0"})]})]})})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl overflow-hidden shadow-sm",children:[e("div",{className:"border-b border-zinc-200 dark:border-zinc-800",children:t("nav",{className:"flex gap-6 px-6",children:[e("button",{onClick:()=>m("tenants"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${g==="tenants"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Tenant Access"}),e("button",{onClick:()=>m("logs"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${g==="logs"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"System Logs"}),e("button",{onClick:()=>m("settings"),className:`py-4 text-sm font-medium border-b-2 transition-colors ${g==="settings"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:"Global Configuration"})]})}),t("div",{className:"p-6",children:[g==="tenants"&&t("div",{className:"space-y-4",children:[e("div",{className:"flex items-center gap-4 mb-6",children:t("div",{className:"relative flex-1 max-w-md",children:[e(De,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400"}),e("input",{type:"text",placeholder:"Search tenants...",value:o,onChange:$=>c($.target.value),className:"w-full pl-9 pr-4 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})}),e("div",{className:"overflow-x-auto",children:t("table",{className:"w-full text-left",children:[e("thead",{children:t("tr",{className:"border-b border-zinc-200 dark:border-zinc-800 text-xs uppercase text-zinc-500 font-medium",children:[e("th",{className:"pb-3 pl-4",children:"Tenant Name"}),e("th",{className:"pb-3",children:"Slug"}),e("th",{className:"pb-3",children:"Mobile Status"}),e("th",{className:"pb-3",children:"Config Configured"}),e("th",{className:"pb-3 text-right pr-4",children:"Actions"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:S.map($=>t("tr",{className:"group hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors",children:[e("td",{className:"py-4 pl-4 font-medium text-zinc-900 dark:text-zinc-100",children:$.name}),e("td",{className:"py-4 text-zinc-500 font-mono text-sm",children:$.slug}),e("td",{className:"py-4",children:$.mobileEnabled?t("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",children:[e(yt,{className:"w-3 h-3"})," Active"]}):t("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400",children:[e(xt,{className:"w-3 h-3"})," Disabled"]})}),e("td",{className:"py-4",children:$.mobileConfig?e("span",{className:"text-xs text-zinc-500",children:"Configured"}):e("span",{className:"text-xs text-amber-600 dark:text-amber-500",children:"Pending Setup"})}),e("td",{className:"py-4 text-right pr-4",children:e("button",{onClick:()=>C($.id,$.name,$.mobileEnabled),disabled:u===$.id,className:`text-sm px-3 py-1.5 rounded-md transition-colors ${$.mobileEnabled?"bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/40 dark:text-red-400":"bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:hover:bg-emerald-900/40 dark:text-emerald-400"}`,children:u===$.id?"Saving...":$.mobileEnabled?"Disable Access":"Grant Access"})})]},$.id))})]})})]}),g==="logs"&&t("div",{children:[e("h3",{className:"text-lg font-semibold mb-4 text-zinc-900 dark:text-zinc-100",children:"Recent System Logs"}),t("div",{className:"bg-zinc-950 rounded-lg p-4 font-mono text-sm text-zinc-300 overflow-x-auto",children:[t("table",{className:"w-full",children:[e("thead",{children:t("tr",{className:"text-zinc-500 border-b border-zinc-800",children:[e("th",{className:"text-left pb-2 w-48",children:"Timestamp"}),e("th",{className:"text-left pb-2 w-24",children:"Level"}),e("th",{className:"text-left pb-2 w-32",children:"Tenant"}),e("th",{className:"text-left pb-2",children:"Message"})]})}),e("tbody",{className:"divide-y divide-zinc-800",children:(a||[]).map($=>t("tr",{className:"group hover:bg-zinc-900",children:[e("td",{className:"py-2 text-zinc-500",children:new Date($.timestamp).toLocaleString()}),e("td",{className:"py-2",children:t("span",{className:`uppercase text-xs font-bold ${$.level==="error"?"text-red-400":$.level==="warn"?"text-amber-400":"text-blue-400"}`,children:["[",$.level,"]"]})}),e("td",{className:"py-2 text-zinc-400",children:$.tenant}),e("td",{className:"py-2 text-zinc-100",children:$.message})]},$.id))})]}),(!a||a.length===0)&&e("div",{className:"py-8 text-center text-zinc-600",children:"No recent logs found."})]})]}),g==="settings"&&t("div",{className:"max-w-xl space-y-6",children:[t("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-200 dark:border-amber-800/30 p-4 rounded-lg flex items-start gap-3",children:[e(Ns,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),t("div",{children:[e("h4",{className:"font-semibold text-amber-900 dark:text-amber-300",children:"Maintenance Mode"}),e("p",{className:"text-sm text-amber-800 dark:text-amber-400 mt-1",children:"Enabling maintenance mode will prevent all mobile apps from connecting to the API. Use only in emergencies."}),e("div",{className:"mt-4",children:t("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"checkbox",className:"w-4 h-4 text-amber-600 rounded",checked:y,onChange:$=>{const B=$.target.checked;N(B),M(B,void 0)},disabled:b}),e("span",{className:"text-sm font-medium text-amber-900 dark:text-amber-300",children:"Enable Maintenance Mode"})]})})]})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Minimum Required Version"}),t("div",{className:"flex gap-2",children:[e("input",{type:"text",value:x,onChange:$=>w($.target.value),className:"flex-1 px-3 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg outline-none focus:ring-2 focus:ring-blue-500"}),e("button",{onClick:()=>M(void 0,x),disabled:b||x===n?.minVersion,className:"px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50",children:b?"Saving...":"Update"})]}),e("p",{className:"text-xs text-zinc-500 mt-1",children:"Apps older than this version will be forced to update."})]})]})]})]}),e(Yn,{open:h.open,onOpenChange:$=>v(B=>({...B,open:$})),onConfirm:T,title:`${h.isEnabled?"Disable":"Enable"} Mobile Access?`,description:t("span",{children:["Are you sure you want to ",e("strong",{children:h.isEnabled?"disable":"enable"})," mobile access for ",e("strong",{children:h.tenantName}),"?"]}),confirmText:h.isEnabled?"Disable Access":"Grant Access",variant:h.isEnabled?"destructive":"default"})]})}),Mb=Object.freeze(Object.defineProperty({__proto__:null,default:jb,loader:Sb},Symbol.toStringTag,{value:"Module"})),_b=async i=>{const{getToken:n}=await P(i),s=await n(),r=(i.context.cloudflare?.env||i.context.env||{}).VITE_API_URL||"https://studio-platform-api.slichti.workers.dev";try{return{stats:await z("/stats/health",s,{},r),error:null}}catch(l){return{stats:null,error:l.message||"Failed to load status"}}},Ab=j(function(){const{stats:n}=D(),s=n?.services||{};return t("div",{children:[e("h2",{className:"text-2xl font-bold mb-6 text-zinc-900 dark:text-zinc-100",children:"System Status"}),t("div",{className:"space-y-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("h3",{className:"font-semibold text-lg mb-4 text-zinc-900 dark:text-zinc-200",children:"Core Services"}),t("div",{className:"space-y-4",children:[e(Pt,{name:"Database (D1)",status:s.database?"operational":"degraded"}),e(Pt,{name:"Authentication (Clerk)",status:"operational"}),e(Pt,{name:"Storage (R2)",status:"operational"}),e(Pt,{name:"CDN (Cloudflare)",status:"operational"}),e(Pt,{name:"Emails (Resend)",status:s.resend?"operational":"pending_config",label:s.resend?"Operational":"Missing API Key"}),e(Pt,{name:"SMS (Twilio)",status:s.twilio?"operational":"pending_config",label:s.twilio?"Operational":"Missing Credentials"}),e(Pt,{name:"Payments (Stripe)",status:"pending_config",label:"Not Configured"})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e("h3",{className:"font-semibold text-lg mb-4 text-zinc-900 dark:text-zinc-200",children:"Environment"}),t("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 rounded border border-zinc-100 dark:border-zinc-800",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400 block text-xs uppercase tracking-wide",children:"Environment"}),e("span",{className:"font-mono text-zinc-900 dark:text-zinc-200",children:typeof window<"u"&&(window.location.hostname.includes("dev")||window.location.hostname.includes("localhost"))?"Development":"Production"})]}),t("div",{className:"p-3 bg-zinc-50 dark:bg-zinc-950 rounded border border-zinc-100 dark:border-zinc-800",children:[e("span",{className:"text-zinc-500 dark:text-zinc-400 block text-xs uppercase tracking-wide",children:"Region"}),e("span",{className:"font-mono text-zinc-900 dark:text-zinc-200",children:"Auto (Cloudflare)"})]})]})]})]})]})});function Pt({name:i,status:n,label:s}){const a={operational:"bg-green-500",degraded:"bg-yellow-500",down:"bg-red-500",pending_config:"bg-zinc-300 dark:bg-zinc-700"},r={operational:"Operational",degraded:"Degraded",down:"Down",pending_config:"Pending Config"};return t("div",{className:"flex items-center justify-between",children:[e("div",{className:"font-medium text-zinc-700 dark:text-zinc-300",children:i}),t("div",{className:"flex items-center gap-2",children:[e("div",{className:`w-2.5 h-2.5 rounded-full ${a[n]}`}),e("span",{className:`text-sm ${n==="operational"?"text-green-700 dark:text-green-400":"text-zinc-500 dark:text-zinc-500"}`,children:s||r[n]})]})]})}const $b=Object.freeze(Object.defineProperty({__proto__:null,default:Ab,loader:_b},Symbol.toStringTag,{value:"Module"})),Tb=H(()=>import("./AdminVideosPage-Dz6arUWF.js")),Pb=async i=>{const{getToken:n,userId:s}=await P(i);if(!s)return Y("/sign-in");const a=await n(),l=new URL(i.request.url).searchParams.get("q")||"";try{const[d,o,c]=await Promise.all([z(`/admin/videos?q=${l}`,a),z("/admin/branding",a),z("/admin/tenants",a)]);return{videos:d.videos||[],stats:d.stats||{totalVideos:0,totalStorageBytes:0,processingCount:0},brandingAssets:o.assets||[],tenants:c||[]}}catch(d){return console.error("Failed to fetch admin videos",d),{videos:[],stats:{totalVideos:0,totalStorageBytes:0,processingCount:0},brandingAssets:[],tenants:[]}}},Ib=async i=>{const{getToken:n}=await P(i),s=await n(),a=await i.request.formData(),r=a.get("intent"),l=a.get("id");return r==="delete_video"&&l&&await z(`/admin/videos/${l}`,s,{method:"DELETE"}),r==="delete_branding"&&l&&await z(`/admin/branding/${l}`,s,{method:"DELETE"}),{success:!0}},Lb=j(function(){return e(V,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(W,{fallback:e("div",{className:"p-8 flex items-center justify-center min-h-[400px]",children:e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}),children:e(Tb,{})})})}),Db=Object.freeze(Object.defineProperty({__proto__:null,action:Ib,default:Lb,loader:Pb},Symbol.toStringTag,{value:"Module"})),Ob=async i=>{const{getToken:n}=await P(i),s=await n();let a={totals:{email:0,sms:0},tenants:[]};try{const r=await z("/admin/stats/communications",s);r&&!r.error&&(a=r)}catch(r){console.error("Failed to load comms stats",r)}return{data:a}},Eb=j(function(){const{data:n}=D(),{totals:s,tenants:a}=n;return t("div",{className:"p-8 max-w-7xl mx-auto",children:[t("div",{className:"mb-8",children:[e("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Communications"}),e("p",{className:"text-zinc-500 dark:text-zinc-400",children:"System-wide Email & SMS usage and automation tracking."})]}),t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center gap-4",children:[e("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full",children:e(Ye,{size:24})}),t("div",{children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Total Emails"}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:s.email.toLocaleString()})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center gap-4",children:[e("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-full",children:e(ft,{size:24})}),t("div",{children:[e("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Total SMS"}),e("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:s.sms.toLocaleString()})]})]})]}),t("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:e("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Tenant Usage & Automations"})}),t("table",{className:"w-full text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Tenant"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"Emails"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"SMS"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Active Automations"})]})}),t("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:[a.map(r=>t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[t("td",{className:"px-6 py-4",children:[e("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:r.name}),e("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono",children:r.slug})]}),e("td",{className:"px-6 py-4 text-right font-mono text-zinc-700 dark:text-zinc-300",children:r.emailCount.toLocaleString()}),e("td",{className:"px-6 py-4 text-right font-mono text-zinc-700 dark:text-zinc-300",children:r.smsCount.toLocaleString()}),e("td",{className:"px-6 py-4",children:r.automations.length===0?e("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 italic",children:"None active"}):e("div",{className:"flex flex-wrap gap-2",children:r.automations.map((l,d)=>t("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 text-xs border border-zinc-200 dark:border-zinc-700",children:[e(Qn,{size:10,className:"mr-1 text-amber-500"}),Bb(l.type)]},d))})})]},r.id)),a.length===0&&e("tr",{children:e("td",{colSpan:4,className:"px-6 py-12 text-center text-zinc-500",children:"No data available"})})]})]})]})]})});function Bb(i){return i.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}const Fb=di(function(){const n=oi();return t("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-red-600 p-4",children:[e(nn,{size:48,className:"mb-4"}),e("h1",{className:"text-xl font-bold mb-2",children:"Failed to load Communications Dashboard"}),e("p",{className:"text-sm text-zinc-600 mb-4",children:fa(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:"Unknown Error"}),e(L,{to:"/admin",className:"text-blue-600 hover:underline",children:"Return to Admin Dashboard"})]})}),Rb=Object.freeze(Object.defineProperty({__proto__:null,ErrorBoundary:Fb,default:Eb,loader:Ob},Symbol.toStringTag,{value:"Module"})),Xb=H(()=>import("./AdminPlansPage-DhWeAC2X.js"));async function Ub(){return null}const Wb=j(function(){return e(V,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading plans..."}),children:()=>e(W,{fallback:e("div",{className:"p-10 text-center text-zinc-500",children:"Loading plans..."}),children:e(Xb,{})})})}),Hb=Object.freeze(Object.defineProperty({__proto__:null,default:Wb,loader:Ub},Symbol.toStringTag,{value:"Module"})),An=typeof window<"u"?window.ENV?.API_URL:"",us=[{id:"features",label:"Features"},{id:"pricing",label:"Pricing"},{id:"support",label:"Support"},{id:"getting_started",label:"Getting Started"}],Qb=async i=>{const{getToken:n,userId:s}=await P(i);if(!s)throw new Response("Unauthorized",{status:401});const a=await n();let r=[];try{r=(await z("/faqs/admin",a)).faqs||[]}catch(l){console.error("Failed to load FAQs",l)}return{faqs:r,token:a}},Jb=j(function(){const{faqs:n,token:s}=D(),[a,r]=f(n),[l,d]=f(null),[o,c]=f(!1),[u,p]=f(null),[g,m]=f(!1),[h,v]=f("all"),[y,N]=f(null),[x,w]=f({category:"features",question:"",answer:"",isActive:!0}),b=()=>{w({category:"features",question:"",answer:"",isActive:!0}),d(null),c(!1)},k=async()=>{if(!x.question.trim()||!x.answer.trim()){_.error("Question and answer are required");return}m(!0);try{const A=await z("/faqs/admin",s,{method:"POST",body:JSON.stringify({...x,sortOrder:a.length})},An);A.id?(r([...a,{...x,id:A.id,sortOrder:a.length,isActive:!0}]),_.success("FAQ created!"),b()):_.error(A.error||"Failed to create FAQ")}catch(A){_.error("Error: "+A.message)}finally{m(!1)}},S=async()=>{if(!l||!x.question.trim()||!x.answer.trim()){_.error("Question and answer are required");return}m(!0);try{const A=await z(`/faqs/admin/${l}`,s,{method:"PUT",body:JSON.stringify(x)},An);A.success?(r(a.map(R=>R.id===l?{...R,...x}:R)),_.success("FAQ updated!"),b()):_.error(A.error||"Failed to update FAQ")}catch(A){_.error("Error: "+A.message)}finally{m(!1)}},C=async()=>{if(u){try{const A=await z(`/faqs/admin/${u.id}`,s,{method:"DELETE"},An);A.success?(r(a.filter(R=>R.id!==u.id)),_.success("FAQ deleted!")):_.error(A.error||"Failed to delete FAQ")}catch(A){_.error("Error: "+A.message)}p(null)}},T=async A=>{try{(await z(`/faqs/admin/${A.id}`,s,{method:"PUT",body:JSON.stringify({isActive:!A.isActive})},An)).success&&(r(a.map(I=>I.id===A.id?{...I,isActive:!I.isActive}:I)),_.success(A.isActive?"FAQ hidden":"FAQ visible"))}catch(R){_.error("Error: "+R.message)}},M=A=>{w({category:A.category,question:A.question,answer:A.answer,isActive:A.isActive}),d(A.id),c(!1)},$=()=>{b(),c(!0)},B=h==="all"?a:a.filter(A=>A.category===h);return t("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[t("div",{className:"flex items-center justify-between mb-8",children:[t("div",{children:[e("h1",{className:"text-2xl font-bold",children:"FAQ Management"}),e("p",{className:"text-zinc-500 text-sm",children:"Manage frequently asked questions for the features page"})]}),!o&&!l&&t("button",{onClick:$,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-4 py-2 rounded-lg hover:bg-zinc-800 transition",children:[e(ee,{size:16}),"Add FAQ"]})]}),t("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[t("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition whitespace-nowrap ${h==="all"?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:["All (",a.length,")"]}),us.map(A=>{const R=a.filter(I=>I.category===A.id).length;return t("button",{onClick:()=>v(A.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition whitespace-nowrap ${h===A.id?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:[A.label," (",R,")"]},A.id)})]}),(o||l)&&t("div",{className:"bg-white border border-zinc-200 rounded-xl p-6 mb-6 shadow-sm",children:[e("h3",{className:"font-semibold text-lg mb-4",children:l?"Edit FAQ":"Create New FAQ"}),t("div",{className:"grid gap-4",children:[t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Category *"}),e("select",{value:x.category,onChange:A=>w({...x,category:A.target.value}),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900",children:us.map(A=>e("option",{value:A.id,children:A.label},A.id))})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Question *"}),e("input",{type:"text",value:x.question,onChange:A=>w({...x,question:A.target.value}),placeholder:"e.g. How do I get started?",className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900"})]}),t("div",{children:[e("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Answer *"}),e("textarea",{value:x.answer,onChange:A=>w({...x,answer:A.target.value}),placeholder:"Provide a clear, helpful answer...",rows:4,className:"w-full px-3 py-2 border border-zinc-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 resize-none"})]}),t("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"isActive",checked:x.isActive,onChange:A=>w({...x,isActive:A.target.checked}),className:"w-4 h-4 rounded border-zinc-300"}),e("label",{htmlFor:"isActive",className:"text-sm text-zinc-600",children:"Visible on public page"})]}),t("div",{className:"flex justify-end gap-3 pt-4 border-t border-zinc-100",children:[e("button",{onClick:b,className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 rounded-lg transition",children:"Cancel"}),e("button",{onClick:l?S:k,disabled:g,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-4 py-2 rounded-lg hover:bg-zinc-800 transition disabled:opacity-50",children:g?e("span",{className:"animate-pulse",children:"Saving..."}):t(G,{children:[e(Ue,{size:16}),l?"Update FAQ":"Create FAQ"]})})]})]})]}),B.length===0&&!o&&t("div",{className:"bg-zinc-50 border-2 border-dashed border-zinc-200 rounded-xl p-12 text-center",children:[e(hi,{className:"h-16 w-16 text-zinc-300 mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-zinc-700 mb-2",children:"No FAQs yet"}),e("p",{className:"text-zinc-500 mb-6",children:"Create frequently asked questions to help users understand your platform."}),t("button",{onClick:$,className:"inline-flex items-center gap-2 bg-zinc-900 text-white px-5 py-2.5 rounded-lg hover:bg-zinc-800 transition",children:[e(ee,{size:18}),"Create Your First FAQ"]})]}),B.length>0&&e("div",{className:"space-y-3",children:B.map(A=>e("div",{className:`bg-white border rounded-xl overflow-hidden transition-shadow ${A.isActive?"border-zinc-200":"border-orange-200 bg-orange-50/50"}`,children:t("div",{className:"flex items-start gap-3 p-4 cursor-pointer hover:bg-zinc-50",onClick:()=>N(y===A.id?null:A.id),children:[e(zi,{className:"h-5 w-5 text-zinc-300 mt-0.5 cursor-grab"}),t("div",{className:"flex-1 min-w-0",children:[t("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${A.category==="features"?"bg-blue-100 text-blue-700":A.category==="pricing"?"bg-green-100 text-green-700":A.category==="support"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:us.find(R=>R.id===A.category)?.label}),!A.isActive&&e("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-100 text-orange-700",children:"Hidden"})]}),e("h4",{className:"font-medium text-zinc-900",children:A.question}),y===A.id&&e("p",{className:"text-zinc-600 text-sm mt-2 whitespace-pre-wrap",children:A.answer})]}),t("div",{className:"flex items-center gap-1",children:[e("button",{onClick:R=>{R.stopPropagation(),T(A)},className:`p-2 rounded-lg transition ${A.isActive?"text-zinc-400 hover:text-orange-600 hover:bg-orange-50":"text-orange-600 hover:text-green-600 hover:bg-green-50"}`,title:A.isActive?"Hide":"Show",children:A.isActive?e(Gt,{size:18}):e(fs,{size:18})}),e("button",{onClick:R=>{R.stopPropagation(),M(A)},className:"p-2 text-zinc-400 hover:text-zinc-600 hover:bg-zinc-100 rounded-lg transition",title:"Edit",children:e(bt,{size:18})}),e("button",{onClick:R=>{R.stopPropagation(),p(A)},className:"p-2 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition",title:"Delete",children:e(ue,{size:18})})]})]})},A.id))}),e(Se,{isOpen:!!u,onClose:()=>p(null),onConfirm:C,title:"Delete FAQ",message:"Are you sure you want to delete this FAQ? This action cannot be undone.",confirmText:"Delete",isDestructive:!0})]})}),Vb=Object.freeze(Object.defineProperty({__proto__:null,default:Jb,loader:Qb},Symbol.toStringTag,{value:"Module"})),qb=async i=>{const{getToken:n}=await P(i),s=await n();try{return{logs:await z("/admin/logs",s),error:null}}catch(a){return{logs:[],error:a.message}}},Gb=j(function(){const{logs:n}=D(),[s,a]=f(null),r=()=>{const o=["Timestamp","Action","Actor Email","Actor Name","Target ID","Details"],c=(n||[]).map(h=>[new Date(h.createdAt).toISOString(),h.action,h.actorEmail||"",`${h.actorProfile?.firstName||""} ${h.actorProfile?.lastName||""}`.trim()||"System",h.targetId||"",JSON.stringify(h.details||{}).replace(/,/g,";")]),u=[o,...c].map(h=>h.map(v=>`"${v}"`).join(",")).join(`
`),p=new Blob([u],{type:"text/csv"}),g=window.URL.createObjectURL(p),m=document.createElement("a");m.href=g,m.download=`audit_logs_${new Date().toISOString().split("T")[0]}.csv`,m.click(),window.URL.revokeObjectURL(g)},l=o=>o==="tenant.created"?e("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"New Studio"}):o.includes("admin")?e("span",{className:"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"Admin"}):o==="USER_LOGIN"?e("span",{className:"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"Login"}):o==="USER_LOGOUT"?e("span",{className:"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"Logout"}):o.includes("IMPERSONATION")?e("span",{className:"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"Impersonation"}):e("span",{className:"bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 px-2 py-0.5 rounded text-xs font-bold uppercase",children:o.replace(/_/g," ")}),d=o=>o.action==="tenant.created"&&o.details?t("span",{className:"text-zinc-600 dark:text-zinc-300",children:["Created ",e("strong",{children:o.details.name})," (",o.details.slug,")",e("span",{className:"mx-1 text-zinc-400",children:"â€¢"}),"Tier: ",o.details.tier]}):o.details?.message?e("span",{className:"text-zinc-600 dark:text-zinc-300",children:o.details.message}):e("span",{className:"text-zinc-400 italic",children:"View details..."});return t("div",{children:[t("div",{className:"flex justify-between items-center mb-6",children:[t("div",{className:"flex items-center gap-4",children:[t("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e(_e,{className:"text-blue-600"}),"Activity Logs"]}),t("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-700 dark:text-purple-300 rounded text-xs font-medium flex items-center gap-1",children:[e(Oe,{size:12}),"SOC 2 Compliant"]})]}),t("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity",children:[e(_t,{size:16}),"Export CSV"]})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg overflow-hidden shadow-sm",children:[t("table",{className:"w-full text-left",children:[e("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-200 dark:border-zinc-800",children:t("tr",{children:[e("th",{className:"w-8"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Time"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Action"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Actor"}),e("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Summary"})]})}),e("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:n.map(o=>t(G,{children:[t("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50 transition-colors cursor-pointer",onClick:()=>a(s===o.id?null:o.id),children:[e("td",{className:"pl-4",children:s===o.id?e(Gt,{size:16,className:"text-zinc-400"}):e(tn,{size:16,className:"text-zinc-400"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-500 dark:text-zinc-400",children:ie(new Date(o.createdAt),"MMM d, h:mm a")}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:l(o.action)}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex flex-col",children:[t("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:[o.actorProfile?.firstName," ",o.actorProfile?.lastName||"System"]}),e("span",{className:"text-xs text-zinc-400",children:o.actorEmail})]})}),e("td",{className:"px-6 py-4 text-sm",children:d(o)})]},o.id),s===o.id&&e("tr",{className:"bg-zinc-50/50 dark:bg-zinc-900/30",children:e("td",{colSpan:5,className:"px-6 pb-6 pt-2",children:t("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded p-4 text-xs font-mono overflow-auto max-h-64 dark:text-zinc-300",children:[e("div",{className:"mb-2 text-zinc-500 dark:text-zinc-400 font-sans font-bold uppercase tracking-wider",children:"Raw Details"}),e("pre",{children:JSON.stringify(o.details,null,2)}),t("div",{className:"mt-4 pt-4 border-t border-zinc-100 dark:border-zinc-800 flex gap-4 text-zinc-400",children:[t("span",{children:["Target ID: ",o.targetId||"N/A"]}),t("span",{children:["Actor ID: ",o.actorId]})]})]})})})]}))})]}),n.length===0&&e("div",{className:"p-8 text-center text-zinc-500",children:"No activity logs found."})]})]})}),Yb=Object.freeze(Object.defineProperty({__proto__:null,default:Gb,loader:qb},Symbol.toStringTag,{value:"Module"})),Zb=async i=>{const{userId:n,getToken:s}=await P(i);if(!n)throw new Response("Unauthorized",{status:401});const a=await s(),r=i.context.cloudflare?.env||i.context.env||{},l=r.VITE_API_URL||r.API_URL||"https://studio-platform-api.slichti.workers.dev";try{const d=await fetch(`${l}/diagnostics`,{headers:{Authorization:`Bearer ${a}`,"x-request-id":crypto.randomUUID()}});if(!d.ok)throw new Error(`API Error: ${d.status}`);return{data:await d.json(),error:null,environment:r.ENVIRONMENT||"production"}}catch(d){return{data:null,error:d.message,environment:r.ENVIRONMENT||"production"}}},Kb=j(function(){const{data:n,error:s,environment:a}=D(),r=Ft(),l=r.state==="loading",d=[{label:"System Status",value:n?.status==="ok"?"Operational":"Degraded",icon:Oe,color:n?.status==="ok"?"text-emerald-500":"text-amber-500",bg:n?.status==="ok"?"bg-emerald-500/10":"bg-amber-500/10"},{label:"DB Read Latency",value:n?.latency?.database_read_ms?`${n.latency.database_read_ms}ms`:"N/A",icon:qe,color:"text-blue-500",bg:"bg-blue-500/10"},{label:"Worker Memory",value:n?.worker?.memory_used_mb?`${n.worker.memory_used_mb}MB`:"N/A",icon:or,color:"text-purple-500",bg:"bg-purple-500/10"},{label:"Edge Location",value:n?.worker?.colo||"Local",icon:xe,color:"text-pink-500",bg:"bg-pink-500/10"}];return t("div",{className:"space-y-8 animate-in fade-in duration-500",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{children:[t("h2",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[e(vi,{className:"text-indigo-600",size:24}),"Operations Dashboard"]}),e("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Real-time system health and edge performance metrics."})]}),t("div",{className:"flex items-center gap-3",children:[t("div",{className:"flex items-center gap-2 px-3 py-1 bg-zinc-100 dark:bg-zinc-800 rounded-full text-xs font-medium text-zinc-600 dark:text-zinc-400 border border-zinc-200 dark:border-zinc-700",children:[e("span",{className:`w-2 h-2 rounded-full ${a==="production"?"bg-emerald-500":"bg-amber-500"} animate-pulse`}),a.toUpperCase()]}),t("button",{onClick:()=>r.revalidate(),disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all shadow-sm disabled:opacity-50",children:[e(Xe,{size:16,className:l?"animate-spin":""}),"Refresh"]})]})]}),s&&t("div",{className:"p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900/50 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400",children:[e(nn,{size:20}),t("div",{children:[e("p",{className:"font-semibold text-sm",children:"System Connectivity Error"}),e("p",{className:"text-xs opacity-80",children:s})]})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((o,c)=>t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow",children:[t("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:`p-2 rounded-lg ${o.bg}`,children:e(o.icon,{className:o.color,size:20})}),e(_e,{className:"text-zinc-300 dark:text-zinc-700",size:16})]}),t("div",{className:"space-y-1",children:[e("p",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:o.label}),e("p",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:o.value})]})]},c))}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t("div",{className:"lg:col-span-2 space-y-6",children:[t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-sm overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex items-center justify-between",children:t("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Qn,{className:"text-amber-500",size:18}),"Service Integrations"]})}),e("div",{className:"p-6",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n?.integrations&&Object.entries(n.integrations).map(([o,c])=>t("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-950/50 border border-zinc-100 dark:border-zinc-800 rounded-xl",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`w-2 h-2 rounded-full ${c?"bg-emerald-500":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"}`}),e("span",{className:"text-sm font-medium capitalize text-zinc-700 dark:text-zinc-300",children:o.replace("_"," ")})]}),c?e("span",{className:"text-[10px] font-bold uppercase tracking-wider text-emerald-600 bg-emerald-50 dark:bg-emerald-500/10 px-2 py-0.5 rounded",children:"Connected"}):e("span",{className:"text-[10px] font-bold uppercase tracking-wider text-red-600 bg-red-50 dark:bg-red-500/10 px-2 py-0.5 rounded",children:"Disconnected"})]},o))})})]}),t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-sm overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50",children:t("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(Un,{className:"text-blue-500",size:18}),"Edge Node Performance"]})}),e("div",{className:"p-6",children:t("div",{className:"space-y-4",children:[t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center gap-2",children:[e(qe,{size:14,className:"text-zinc-400"}),e("span",{className:"text-sm text-zinc-500",children:"D1 Query (Write Proxy)"})]}),t("span",{className:"font-mono text-sm font-medium",children:[n?.latency?.database_query_ms,"ms"]})]}),e("div",{className:"w-full bg-zinc-100 dark:bg-zinc-800 h-1.5 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(100,(n?.latency?.database_query_ms||0)/2)}%`}})}),t("div",{className:"pt-4 grid grid-cols-2 gap-8 text-xs",children:[t("div",{className:"space-y-1",children:[e("p",{className:"text-zinc-400 uppercase tracking-wider font-bold",children:"PoP Info"}),t("p",{className:"text-zinc-700 dark:text-zinc-300 font-medium",children:[n?.worker?.city,", ",n?.worker?.country," (",n?.worker?.region,")"]})]}),t("div",{className:"space-y-1",children:[e("p",{className:"text-zinc-400 uppercase tracking-wider font-bold",children:"Execution Context"}),e("p",{className:"text-zinc-700 dark:text-zinc-300 font-medium",children:"Standard Worker"})]})]})]})})]})]}),e("div",{className:"space-y-6",children:t("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl shadow-sm overflow-hidden h-full",children:[e("div",{className:"px-6 py-4 border-b border-zinc-100 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/50 flex items-center justify-between",children:t("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e(he,{className:"text-red-500",size:18}),"Error Telemetry"]})}),e("div",{className:"p-6 space-y-4",children:n?.clientErrors&&n.clientErrors.length>0?n.clientErrors.map(o=>t("div",{className:"p-4 bg-red-50/50 dark:bg-red-500/5 rounded-xl border border-red-100 dark:border-red-900/20 space-y-2",children:[t("div",{className:"flex justify-between items-start",children:[e("span",{className:"text-xs font-bold text-red-600 dark:text-red-400 truncate max-w-[70%]",children:o.details?.message||"App Error"}),e("span",{className:"text-[10px] text-zinc-400 font-mono",children:ie(new Date(o.createdAt),"HH:mm:ss")})]}),e("p",{className:"text-[10px] text-zinc-500 truncate",children:o.details?.url})]},o.id)):t("div",{className:"py-12 flex flex-col items-center justify-center text-zinc-400 gap-2",children:[e(yt,{size:32,className:"text-emerald-500 opacity-20"}),e("p",{className:"text-xs font-medium",children:"No recent client errors"})]})}),(n?.clientErrors?.length??0)>0&&e("div",{className:"p-4 border-t border-zinc-100 dark:border-zinc-800 text-center",children:e("button",{className:"text-xs font-bold text-indigo-600 hover:text-indigo-700 uppercase tracking-widest",children:"View Full Logs"})})]})})]})]})}),ef=Object.freeze(Object.defineProperty({__proto__:null,default:Kb,loader:Zb},Symbol.toStringTag,{value:"Module"})),$f={entry:{module:"/assets/entry.client-BIseUDLv.js",imports:["/assets/jsx-runtime-u17CrQMm.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/index-BX1XvKXj.js"],css:[]},routes:{root:{id:"root",parentId:void 0,path:"",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!0,module:"/assets/root-ciQdqRdV.js",imports:["/assets/jsx-runtime-u17CrQMm.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/index-BX1XvKXj.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/mutation-CxGKC63S.js","/assets/index-3M2E4JC4.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/site.$slug.$pageSlug":{id:"routes/site.$slug.$pageSlug",parentId:"root",path:"site/:slug/:pageSlug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/site._slug._pageSlug-D56xrx4w.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/PublicPageRenderer-C8rUVZp8.js","/assets/preload-helper-BXl3LOEh.js","/assets/puck-config-9s2JWnV_.js","/assets/ChatWidget-CfPdwxAm.js","/assets/index-Co70b2CO.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/site.$slug._index":{id:"routes/site.$slug._index",parentId:"root",path:"site/:slug",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/site._slug._index-CSFPMkPj.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/PublicPageRenderer-C8rUVZp8.js","/assets/preload-helper-BXl3LOEh.js","/assets/puck-config-9s2JWnV_.js","/assets/ChatWidget-CfPdwxAm.js","/assets/index-Co70b2CO.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/pricing.compare":{id:"routes/pricing.compare",parentId:"root",path:"pricing/compare",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/pricing.compare-BVGiFGZM.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/api-BPiy_vG9.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/index-Co70b2CO.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/pricing._index":{id:"routes/pricing._index",parentId:"root",path:"pricing",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/pricing._index-DbXxs2XA.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/api-BPiy_vG9.js","/assets/index-Co70b2CO.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/$slug.support":{id:"routes/$slug.support",parentId:"root",path:":slug/support",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/_slug.support-BtTlDukq.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ChatWindow-C_C-5v74.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/accept-invite":{id:"routes/accept-invite",parentId:"root",path:"accept-invite",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/accept-invite-CeZgfzft.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/index-DkQoSxVl.js","/assets/index-Co70b2CO.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/create-studio":{id:"routes/create-studio",parentId:"root",path:"create-studio",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/create-studio-CAltNV7f.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-Co70b2CO.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation":{id:"routes/documentation",parentId:"root",path:"documentation",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation-CMBNK8d8.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/LogoutButton-BitblkRM.js","/assets/index-Co70b2CO.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.platform.architecture":{id:"routes/documentation.platform.architecture",parentId:"routes/documentation",path:"platform/architecture",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.platform.architecture-5tYNjLTb.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.guides.class-packs":{id:"routes/documentation.guides.class-packs",parentId:"routes/documentation",path:"guides/class-packs",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.guides.class-packs-DNswq8lK.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.platform.tenants":{id:"routes/documentation.platform.tenants",parentId:"routes/documentation",path:"platform/tenants",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.platform.tenants-wLm_0z62.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.studio.analytics":{id:"routes/documentation.studio.analytics",parentId:"routes/documentation",path:"studio/analytics",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.studio.analytics-CDIYJXc9.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.studio.overview":{id:"routes/documentation.studio.overview",parentId:"routes/documentation",path:"studio/overview",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.studio.overview-Dxa7TsD1.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.mobile-builder":{id:"routes/documentation.mobile-builder",parentId:"routes/documentation",path:"mobile-builder",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.mobile-builder-BZblhupD.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.guides.waiver":{id:"routes/documentation.guides.waiver",parentId:"routes/documentation",path:"guides/waiver",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.guides.waiver-Dv7VPfZ2.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.studio.portal":{id:"routes/documentation.studio.portal",parentId:"routes/documentation",path:"studio/portal",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.studio.portal-BGGqIYmd.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.migration":{id:"routes/documentation.migration",parentId:"routes/documentation",path:"migration",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.migration-5ekppLDi.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.commerce":{id:"routes/documentation.commerce",parentId:"routes/documentation",path:"commerce",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.commerce-BkYPWYnt.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.classes":{id:"routes/documentation.classes",parentId:"routes/documentation",path:"classes",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.classes-CFPOQi5-.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.reports":{id:"routes/documentation.reports",parentId:"routes/documentation",path:"reports",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.reports-x9LRjj0P.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.website":{id:"routes/documentation.website",parentId:"routes/documentation",path:"website",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.website-B3kSxJhz.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation._index":{id:"routes/documentation._index",parentId:"routes/documentation",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation._index-BsyhqUw-.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.setup":{id:"routes/documentation.setup",parentId:"routes/documentation",path:"setup",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.setup-CVvqyiqy.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.team":{id:"routes/documentation.team",parentId:"routes/documentation",path:"team",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.team-D1Tj6-xb.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/documentation.crm":{id:"routes/documentation.crm",parentId:"routes/documentation",path:"crm",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/documentation.crm-zHXtGg2x.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/sitemap[.]xml":{id:"routes/sitemap[.]xml",parentId:"root",path:"sitemap.xml",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/sitemap_._xml-l0sNRNKZ.js",imports:[],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/portal.$slug":{id:"routes/portal.$slug",parentId:"root",path:"portal/:slug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/portal._slug-4KkMuo1B.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/cn-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/portal.$slug.classes":{id:"routes/portal.$slug.classes",parentId:"routes/portal.$slug",path:"classes",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/portal._slug.classes-DEvalEEi.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/cn-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/portal.$slug.profile":{id:"routes/portal.$slug.profile",parentId:"routes/portal.$slug",path:"profile",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/portal._slug.profile-0QXmDnEI.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/portal.$slug._index":{id:"routes/portal.$slug._index",parentId:"routes/portal.$slug",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/portal._slug._index-FDsyAsDp.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/robots[.]txt":{id:"routes/robots[.]txt",parentId:"root",path:"robots.txt",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/robots_._txt-l0sNRNKZ.js",imports:[],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug":{id:"routes/studio.$slug",parentId:"root",path:"studio/:slug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug-Cd3RUBWg.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/ClientOnly-D8MQybY6.js","/assets/index-Co70b2CO.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.videos.collections.$id":{id:"routes/studio.$slug.videos.collections.$id",parentId:"routes/studio.$slug",path:"videos/collections/:id",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.videos.collections._id-C4kuW4VM.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ConfirmDialog-DH0na38g.js","/assets/format-CAsSOgDD.js","/assets/dialog-JrxQpmq3.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js","/assets/button-C1B9okfB.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.website.editor.$pageId":{id:"routes/studio.$slug.website.editor.$pageId",parentId:"routes/studio.$slug",path:"website/editor/:pageId",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.website.editor._pageId-BOIf8FXy.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/puck-config-9s2JWnV_.js","/assets/index-3M2E4JC4.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/index-BX1XvKXj.js","/assets/index-Co70b2CO.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js"],css:["/assets/vendor-puck-Cdo0sByu.css"],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.financials.my-payouts":{id:"routes/studio.$slug.financials.my-payouts",parentId:"routes/studio.$slug",path:"financials/my-payouts",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.financials.my-payouts-C_osWIps.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/useQuery-BT59Ykd6.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/ErrorBoundary-BO33Armh.js","/assets/Badge-B5GfLTiY.js","/assets/Card-snBMSlhy.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/index-Co70b2CO.js","/assets/button-C1B9okfB.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/utils-BB8OEnXs.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.videos.edit.$videoId":{id:"routes/studio.$slug.videos.edit.$videoId",parentId:"routes/studio.$slug",path:"videos/edit/:videoId",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.videos.edit._videoId-8etW1miD.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.commerce.gift-cards":{id:"routes/studio.$slug.commerce.gift-cards",parentId:"routes/studio.$slug",path:"commerce/gift-cards",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.commerce.gift-cards-Pe3EJc_F.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.commerce.referrals":{id:"routes/studio.$slug.commerce.referrals",parentId:"routes/studio.$slug",path:"commerce/referrals",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.commerce.referrals-BZ_hctcl.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.financials.payroll":{id:"routes/studio.$slug.financials.payroll",parentId:"routes/studio.$slug",path:"financials/payroll",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.financials.payroll-BmVX9IlA.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.financials._index":{id:"routes/studio.$slug.financials._index",parentId:"routes/studio.$slug",path:"financials",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.financials._index-l0sNRNKZ.js",imports:[],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.commerce.coupons":{id:"routes/studio.$slug.commerce.coupons",parentId:"routes/studio.$slug",path:"commerce/coupons",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.commerce.coupons-CBAO1Ujw.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.commerce.wizard":{id:"routes/studio.$slug.commerce.wizard",parentId:"routes/studio.$slug",path:"commerce/wizard",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.commerce.wizard-D8fxjPDO.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.commerce.packs":{id:"routes/studio.$slug.commerce.packs",parentId:"routes/studio.$slug",path:"commerce/packs",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.commerce.packs-CQY76pG2.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.substitutions":{id:"routes/studio.$slug.substitutions",parentId:"routes/studio.$slug",path:"substitutions",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.substitutions-CGHvAB0O.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Dialogs-BSt5M2BA.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.videos._index":{id:"routes/studio.$slug.videos._index",parentId:"routes/studio.$slug",path:"videos",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.videos._index-CP90DB3B.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.website.pages":{id:"routes/studio.$slug.website.pages",parentId:"routes/studio.$slug",path:"website/pages",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.website.pages-DcX_qQow.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.appointments":{id:"routes/studio.$slug.appointments",parentId:"routes/studio.$slug",path:"appointments",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.appointments-B_8zYWkk.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.appointments.calendar":{id:"routes/studio.$slug.appointments.calendar",parentId:"routes/studio.$slug.appointments",path:"calendar",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.appointments.calendar-BKEHTne-.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.memberships":{id:"routes/studio.$slug.memberships",parentId:"routes/studio.$slug",path:"memberships",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.memberships-DvIPXuwm.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/index-3M2E4JC4.js","/assets/button-C1B9okfB.js","/assets/Card-snBMSlhy.js","/assets/Badge-B5GfLTiY.js","/assets/input-DVzVp5oY.js","/assets/textarea-CwhdV0Vk.js","/assets/dialog-JrxQpmq3.js","/assets/Dialogs-BSt5M2BA.js","/assets/ErrorBoundary-BO33Armh.js","/assets/label-CI6j7dSx.js","/assets/useQuery-BT59Ykd6.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/utils-BB8OEnXs.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.challenges":{id:"routes/studio.$slug.challenges",parentId:"routes/studio.$slug",path:"challenges",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.challenges-B-N_mbsq.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.instructor":{id:"routes/studio.$slug.instructor",parentId:"routes/studio.$slug",path:"instructor",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.instructor-DFgmRk1A.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.instructor.schedule":{id:"routes/studio.$slug.instructor.schedule",parentId:"routes/studio.$slug.instructor",path:"schedule",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.instructor.schedule-u_ErFRF3.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.instructor.payroll":{id:"routes/studio.$slug.instructor.payroll",parentId:"routes/studio.$slug.instructor",path:"payroll",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.instructor.payroll-D4XhTYfg.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.onboarding":{id:"routes/studio.$slug.onboarding",parentId:"routes/studio.$slug",path:"onboarding",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.onboarding-CP0UExAk.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics":{id:"routes/studio.$slug.analytics",parentId:"routes/studio.$slug",path:"analytics",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics-DdEjglUa.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics.projections":{id:"routes/studio.$slug.analytics.projections",parentId:"routes/studio.$slug.analytics",path:"projections",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics.projections-DXXpLZUT.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics.attendance":{id:"routes/studio.$slug.analytics.attendance",parentId:"routes/studio.$slug.analytics",path:"attendance",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics.attendance-qy2lli7A.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/useAnalytics-DsIVe0bg.js","/assets/MetricCard-g32ONjBz.js","/assets/useQuery-BT59Ykd6.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/useMutation-Cbhxk2SY.js","/assets/mutation-CxGKC63S.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics.financials":{id:"routes/studio.$slug.analytics.financials",parentId:"routes/studio.$slug.analytics",path:"financials",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics.financials-D1_Xi636.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/useAnalytics-DsIVe0bg.js","/assets/MetricCard-g32ONjBz.js","/assets/PrivacyBlur-DCeFAFUq.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/useQuery-BT59Ykd6.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/useMutation-Cbhxk2SY.js","/assets/mutation-CxGKC63S.js","/assets/api-BPiy_vG9.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics.reports":{id:"routes/studio.$slug.analytics.reports",parentId:"routes/studio.$slug.analytics",path:"reports",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics.reports-Dy0nBf4e.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/useAnalytics-DsIVe0bg.js","/assets/index-BX1XvKXj.js","/assets/useQuery-BT59Ykd6.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/useMutation-Cbhxk2SY.js","/assets/mutation-CxGKC63S.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics._index":{id:"routes/studio.$slug.analytics._index",parentId:"routes/studio.$slug.analytics",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics._index-BhZCUTj5.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.analytics.custom":{id:"routes/studio.$slug.analytics.custom",parentId:"routes/studio.$slug.analytics",path:"custom",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.analytics.custom-CshcZJR9.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.dashboard":{id:"routes/studio.$slug.dashboard",parentId:"routes/studio.$slug",path:"dashboard",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.dashboard-CA2oJFOm.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.discounts":{id:"routes/studio.$slug.discounts",parentId:"routes/studio.$slug",path:"discounts",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.discounts-Cqw_oPHI.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/ConfirmDialog-DH0na38g.js","/assets/dialog-JrxQpmq3.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js","/assets/button-C1B9okfB.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.inventory":{id:"routes/studio.$slug.inventory",parentId:"routes/studio.$slug",path:"inventory",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.inventory-iRKwQgoB.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.marketing":{id:"routes/studio.$slug.marketing",parentId:"routes/studio.$slug",path:"marketing",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.marketing-BxySY5oD.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.marketing.automations":{id:"routes/studio.$slug.marketing.automations",parentId:"routes/studio.$slug.marketing",path:"automations",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.marketing.automations-Cq9HVc2d.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.marketing.referrals":{id:"routes/studio.$slug.marketing.referrals",parentId:"routes/studio.$slug.marketing",path:"referrals",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.marketing.referrals-BSE4wsnx.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.branding":{id:"routes/studio.$slug.branding",parentId:"routes/studio.$slug",path:"branding",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.branding-CzFTLpW3.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.checkout":{id:"routes/studio.$slug.checkout",parentId:"routes/studio.$slug",path:"checkout",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.checkout-BwJzsrBe.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-Chjiymov.js","/assets/api-BPiy_vG9.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.checkout.return":{id:"routes/studio.$slug.checkout.return",parentId:"routes/studio.$slug.checkout",path:"return",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.checkout.return-B9KYorke.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.finances":{id:"routes/studio.$slug.finances",parentId:"routes/studio.$slug",path:"finances",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.finances-f5d4ZiMo.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.progress":{id:"routes/studio.$slug.progress",parentId:"routes/studio.$slug",path:"progress",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.progress-DBpBKEzp.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.schedule":{id:"routes/studio.$slug.schedule",parentId:"routes/studio.$slug",path:"schedule",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.schedule-9El2tJ0A.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/cn-BB8OEnXs.js","/assets/useUser-BlC0jjos.js","/assets/ConfirmDialog-DH0na38g.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/dialog-CyHk4pB-.js","/assets/ErrorBoundary-BO33Armh.js","/assets/button-C1B9okfB.js","/assets/useQuery-BT59Ykd6.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/Modal-C5YN4eUH.js","/assets/dialog-JrxQpmq3.js","/assets/utils-BB8OEnXs.js","/assets/index-Co70b2CO.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js","/assets/Card-snBMSlhy.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings":{id:"routes/studio.$slug.settings",parentId:"routes/studio.$slug",path:"settings",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings-DNIzmj8P.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.appointments":{id:"routes/studio.$slug.settings.appointments",parentId:"routes/studio.$slug.settings",path:"appointments",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.appointments-B6lttYlo.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.integrations":{id:"routes/studio.$slug.settings.integrations",parentId:"routes/studio.$slug.settings",path:"integrations",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.integrations-Ck4lSiub.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.tags-fields":{id:"routes/studio.$slug.settings.tags-fields",parentId:"routes/studio.$slug.settings",path:"tags-fields",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.tags-fields-DbCzcL-3.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.developers":{id:"routes/studio.$slug.settings.developers",parentId:"routes/studio.$slug.settings",path:"developers",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.developers-BRFdQX1K.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/Card-snBMSlhy.js","/assets/button-C1B9okfB.js","/assets/input-DVzVp5oY.js","/assets/label-CI6j7dSx.js","/assets/Badge-B5GfLTiY.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/ErrorBoundary-BO33Armh.js","/assets/useQuery-BT59Ykd6.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/tabs-m5hkQG2D.js","/assets/Table-C_6meeid.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/index-BoLwF8uB.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.locations":{id:"routes/studio.$slug.settings.locations",parentId:"routes/studio.$slug.settings",path:"locations",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.locations-3JMNdp1Z.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/button-C1B9okfB.js","/assets/Card-snBMSlhy.js","/assets/Badge-B5GfLTiY.js","/assets/input-DVzVp5oY.js","/assets/dialog-JrxQpmq3.js","/assets/Dialogs-BSt5M2BA.js","/assets/ErrorBoundary-BO33Armh.js","/assets/useQuery-BT59Ykd6.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/utils-BB8OEnXs.js","/assets/index-BX1XvKXj.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.activity":{id:"routes/studio.$slug.settings.activity",parentId:"routes/studio.$slug.settings",path:"activity",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.activity-81iEmoGM.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/Badge-B5GfLTiY.js","/assets/sheet-BA1-Pp14.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/utils-BB8OEnXs.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.branding":{id:"routes/studio.$slug.settings.branding",parentId:"routes/studio.$slug.settings",path:"branding",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.branding-Bl__yDCX.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.hardware":{id:"routes/studio.$slug.settings.hardware",parentId:"routes/studio.$slug.settings",path:"hardware",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.hardware-DJ7wP3V1.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.progress":{id:"routes/studio.$slug.settings.progress",parentId:"routes/studio.$slug.settings",path:"progress",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.progress-bsSC0uTQ.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/button-C1B9okfB.js","/assets/input-DVzVp5oY.js","/assets/label-CI6j7dSx.js","/assets/select-lm3n3udb.js","/assets/DropdownMenu-CG4cocgY.js","/assets/Badge-B5GfLTiY.js","/assets/switch-err08kF5.js","/assets/dialog-JrxQpmq3.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/utils-BB8OEnXs.js","/assets/menu-vWJVk3Lg.js","/assets/use-resolve-button-type-BjYxmq93.js","/assets/portal-BFavXhea.js","/assets/dialog-CyHk4pB-.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.billing":{id:"routes/studio.$slug.settings.billing",parentId:"routes/studio.$slug.settings",path:"billing",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.billing-BpJZBi56.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings._index":{id:"routes/studio.$slug.settings._index",parentId:"routes/studio.$slug.settings",path:void 0,index:!0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings._index-BgBjpy8U.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.addons":{id:"routes/studio.$slug.settings.addons",parentId:"routes/studio.$slug.settings",path:"addons",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.addons-DUkTs0zw.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.domain":{id:"routes/studio.$slug.settings.domain",parentId:"routes/studio.$slug.settings",path:"domain",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.domain-CeVUvEZr.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.embeds":{id:"routes/studio.$slug.settings.embeds",parentId:"routes/studio.$slug.settings",path:"embeds",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.embeds-BmgIrjgO.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.mobile":{id:"routes/studio.$slug.settings.mobile",parentId:"routes/studio.$slug.settings",path:"mobile",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.mobile-8rmHM5Nt.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-DlmvxNCu.js","/assets/index-BX1XvKXj.js","/assets/index-Chjiymov.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.roles":{id:"routes/studio.$slug.settings.roles",parentId:"routes/studio.$slug.settings",path:"roles",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.roles-BwgecRBW.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/button-C1B9okfB.js","/assets/Card-snBMSlhy.js","/assets/Badge-B5GfLTiY.js","/assets/input-DVzVp5oY.js","/assets/dialog-JrxQpmq3.js","/assets/Dialogs-BSt5M2BA.js","/assets/ErrorBoundary-BO33Armh.js","/assets/label-CI6j7dSx.js","/assets/useQuery-BT59Ykd6.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/utils-BB8OEnXs.js","/assets/index-BX1XvKXj.js","/assets/index-BoLwF8uB.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.staff":{id:"routes/studio.$slug.settings.staff",parentId:"routes/studio.$slug.settings",path:"staff",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.staff-Cr1W7I-0.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.chat":{id:"routes/studio.$slug.settings.chat",parentId:"routes/studio.$slug.settings",path:"chat",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.chat-Combvj2g.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Card-snBMSlhy.js","/assets/index-3M2E4JC4.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.settings.qr":{id:"routes/studio.$slug.settings.qr",parentId:"routes/studio.$slug.settings",path:"qr",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.settings.qr-BOFLw7qr.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-DlmvxNCu.js","/assets/index-Chjiymov.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.students":{id:"routes/studio.$slug.students",parentId:"routes/studio.$slug",path:"students",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.students-De9ZDMLc.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.students._index":{id:"routes/studio.$slug.students._index",parentId:"routes/studio.$slug.students",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.students._index-C56fAimj.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.students.$id":{id:"routes/studio.$slug.students.$id",parentId:"routes/studio.$slug.students",path:":id",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.students._id-jB1Yjg-i.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.checkin":{id:"routes/studio.$slug.checkin",parentId:"routes/studio.$slug",path:"checkin",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.checkin-BpXI97sZ.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.classes":{id:"routes/studio.$slug.classes",parentId:"routes/studio.$slug",path:"classes",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.classes-X_a1IDdb.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.classes.$classId.live":{id:"routes/studio.$slug.classes.$classId.live",parentId:"routes/studio.$slug.classes",path:":classId/live",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.classes._classId.live-BaAfdPtO.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/ClientOnly-D8MQybY6.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.classes.$id.roster":{id:"routes/studio.$slug.classes.$id.roster",parentId:"routes/studio.$slug.classes",path:":id/roster",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.classes._id.roster-CPWjRjYt.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.classes._index":{id:"routes/studio.$slug.classes._index",parentId:"routes/studio.$slug.classes",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.classes._index-DuWBA0yZ.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.loyalty":{id:"routes/studio.$slug.loyalty",parentId:"routes/studio.$slug",path:"loyalty",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.loyalty-DN8vlh1o.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.profile":{id:"routes/studio.$slug.profile",parentId:"routes/studio.$slug",path:"profile",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.profile-BBFeHx7t.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.reports":{id:"routes/studio.$slug.reports",parentId:"routes/studio.$slug",path:"reports",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.reports-D9rBQILX.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.reports.advanced":{id:"routes/studio.$slug.reports.advanced",parentId:"routes/studio.$slug.reports",path:"advanced",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.reports.advanced-ByW1yLbA.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/useAnalytics-DsIVe0bg.js","/assets/useQuery-BT59Ykd6.js","/assets/QueryClientProvider-B4mvv7x9.js","/assets/useMutation-Cbhxk2SY.js","/assets/mutation-CxGKC63S.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.waivers":{id:"routes/studio.$slug.waivers",parentId:"routes/studio.$slug",path:"waivers",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.waivers-DljZcrrM.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.waivers._index":{id:"routes/studio.$slug.waivers._index",parentId:"routes/studio.$slug.waivers",path:void 0,index:!0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.waivers._index-lg1dG8ea.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/SignaturePad-BcXQpU5E.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.waivers.new":{id:"routes/studio.$slug.waivers.new",parentId:"routes/studio.$slug.waivers",path:"new",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.waivers.new-ByXuAkUU.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug._index":{id:"routes/studio.$slug._index",parentId:"routes/studio.$slug",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug._index-D3CAjtgy.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.retail":{id:"routes/studio.$slug.retail",parentId:"routes/studio.$slug",path:"retail",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.retail-BuAKbnGj.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.leads":{id:"routes/studio.$slug.leads",parentId:"routes/studio.$slug",path:"leads",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.leads-Bv8kDo_k.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.tasks":{id:"routes/studio.$slug.tasks",parentId:"routes/studio.$slug",path:"tasks",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.tasks-nr0DGKTc.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.chat":{id:"routes/studio.$slug.chat",parentId:"routes/studio.$slug",path:"chat",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.chat-DN8pWjvR.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Modal-C5YN4eUH.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.chat.$roomId":{id:"routes/studio.$slug.chat.$roomId",parentId:"routes/studio.$slug.chat",path:":roomId",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.chat._roomId-C6t-_iym.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ChatWindow-C_C-5v74.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.data":{id:"routes/studio.$slug.data",parentId:"routes/studio.$slug",path:"data",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.data-C7y15LSk.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.data._index":{id:"routes/studio.$slug.data._index",parentId:"routes/studio.$slug.data",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.data._index-1UAk8qrI.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.data.export":{id:"routes/studio.$slug.data.export",parentId:"routes/studio.$slug.data",path:"export",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.data.export-UYUb35T9.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Dialogs-BSt5M2BA.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.data.import":{id:"routes/studio.$slug.data.import",parentId:"routes/studio.$slug.data",path:"import",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.data.import-CYgD1-0n.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/studio.$slug.pos":{id:"routes/studio.$slug.pos",parentId:"routes/studio.$slug",path:"pos",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/studio._slug.pos-CqTFN9Pk.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/waiver.$slug":{id:"routes/waiver.$slug",parentId:"root",path:"waiver/:slug",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/waiver._slug-C4C1sFyT.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/SignaturePad-BcXQpU5E.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug":{id:"routes/embed.$slug",parentId:"root",path:"embed/:slug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug-CMn3_eV7.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeProvider-pYhsJEdN.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug.calendar":{id:"routes/embed.$slug.calendar",parentId:"routes/embed.$slug",path:"calendar",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug.calendar-BaFavKdw.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug.pricing":{id:"routes/embed.$slug.pricing",parentId:"routes/embed.$slug",path:"pricing",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug.pricing-D74nkUsH.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug.book":{id:"routes/embed.$slug.book",parentId:"routes/embed.$slug",path:"book",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug.book-CUTANOkX.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug.chat":{id:"routes/embed.$slug.chat",parentId:"routes/embed.$slug",path:"chat",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug.chat-7itysW89.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ChatWindow-C_C-5v74.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/embed.$slug.shop":{id:"routes/embed.$slug.shop",parentId:"routes/embed.$slug",path:"shop",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/embed._slug.shop-DtbEt3S0.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/kiosk.$slug":{id:"routes/kiosk.$slug",parentId:"root",path:"kiosk/:slug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/kiosk._slug-B3lQjN47.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/kiosk.$slug.login":{id:"routes/kiosk.$slug.login",parentId:"routes/kiosk.$slug",path:"login",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/kiosk._slug.login-BDD5D1I5.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/kiosk.$slug.mode":{id:"routes/kiosk.$slug.mode",parentId:"routes/kiosk.$slug",path:"mode",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/kiosk._slug.mode-BCZKRx9P.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/$pageSlug":{id:"routes/$pageSlug",parentId:"root",path:":pageSlug",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/_pageSlug-Bd7lK-6H.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/PublicPageRenderer-C8rUVZp8.js","/assets/preload-helper-BXl3LOEh.js","/assets/puck-config-9s2JWnV_.js","/assets/ChatWidget-CfPdwxAm.js","/assets/index-Co70b2CO.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard":{id:"routes/dashboard",parentId:"root",path:"dashboard",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard-WYVVYgOA.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/sheet-BA1-Pp14.js","/assets/index-Co70b2CO.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard.classes":{id:"routes/dashboard.classes",parentId:"routes/dashboard",path:"classes",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard.classes-CZo30Q8u.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard.classes.$id.roster":{id:"routes/dashboard.classes.$id.roster",parentId:"routes/dashboard.classes",path:":id/roster",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard.classes._id.roster-oV6Tj643.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard.classes.$id.watch":{id:"routes/dashboard.classes.$id.watch",parentId:"routes/dashboard.classes",path:":id/watch",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard.classes._id.watch-YiiiCdGN.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard.classes._index":{id:"routes/dashboard.classes._index",parentId:"routes/dashboard.classes",path:void 0,index:!0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard.classes._index-CKHnDw6O.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard.profile":{id:"routes/dashboard.profile",parentId:"routes/dashboard",path:"profile",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard.profile-Bb8inwkK.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/uiComponents-D7c9XMkv.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/dashboard._index":{id:"routes/dashboard._index",parentId:"routes/dashboard",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/dashboard._index-CDY-lT7W.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/debug-ssr":{id:"routes/debug-ssr",parentId:"root",path:"debug-ssr",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/debug-ssr-Cxn5vKlq.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/sign-in.$":{id:"routes/sign-in.$",parentId:"root",path:"sign-in/*",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/sign-in._-cS1hey3B.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/uiComponents-D7c9XMkv.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-Co70b2CO.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/sign-up.$":{id:"routes/sign-up.$",parentId:"root",path:"sign-up/*",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!1,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/sign-up._-Db8yWWDA.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/index-Co70b2CO.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/features":{id:"routes/features",parentId:"root",path:"features",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/features-CxDddG5V.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/_index":{id:"routes/_index",parentId:"root",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/_index-CaS2Vht8.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/ChatWidget-CfPdwxAm.js","/assets/PublicPageRenderer-C8rUVZp8.js","/assets/index-Co70b2CO.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/preload-helper-BXl3LOEh.js","/assets/puck-config-9s2JWnV_.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin":{id:"routes/admin",parentId:"root",path:"admin",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin-CbfWOZ5h.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/LogoutButton-BitblkRM.js","/assets/ThemeToggle-Be1Rs_ap.js","/assets/CommandBar-BwSVDVT4.js","/assets/index-Co70b2CO.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-DkQoSxVl.js","/assets/chunk-GT2SDNBC-BLjOnjbB.js","/assets/runtimeEnvironment-BB2sO-19-DQnzQjGy.js","/assets/chunk-36EXAXVP-D-4HFsmS.js","/assets/index-BX1XvKXj.js","/assets/ThemeProvider-pYhsJEdN.js","/assets/api-BPiy_vG9.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.website.edit.$pageId":{id:"routes/admin.website.edit.$pageId",parentId:"routes/admin",path:"website/edit/:pageId",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.website.edit._pageId-DHmz5vCr.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/puck-config-9s2JWnV_.js","/assets/Dialogs-BSt5M2BA.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:["/assets/vendor-puck-Cdo0sByu.css"],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.communications.logs":{id:"routes/admin.communications.logs",parentId:"routes/admin",path:"communications/logs",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.communications.logs-B5iB7eJX.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.coupons._index":{id:"routes/admin.coupons._index",parentId:"routes/admin",path:"coupons",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.coupons._index-CybEcqzp.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Card-snBMSlhy.js","/assets/index-3M2E4JC4.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.website._index":{id:"routes/admin.website._index",parentId:"routes/admin",path:"website",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.website._index-gaQF2zQK.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Dialogs-BSt5M2BA.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/Modal-C5YN4eUH.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.users.$userId":{id:"routes/admin.users.$userId",parentId:"routes/admin",path:"users/:userId",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.users._userId-DOXkTzDg.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.architecture":{id:"routes/admin.architecture",parentId:"routes/admin",path:"architecture",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.architecture-B9Aw-iyI.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.chat.$roomId":{id:"routes/admin.chat.$roomId",parentId:"routes/admin",path:"chat/:roomId",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.chat._roomId-2SF_YmWd.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ChatWindow-C_C-5v74.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.users._index":{id:"routes/admin.users._index",parentId:"routes/admin",path:"users",index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.users._index-D_zpdZbl.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.chat._index":{id:"routes/admin.chat._index",parentId:"routes/admin",path:"chat",index:!0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.chat._index-D38_QnnV.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/index-BX1XvKXj.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.diagnostics":{id:"routes/admin.diagnostics",parentId:"routes/admin",path:"diagnostics",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.diagnostics-Dgh_ZjhN.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/Card-snBMSlhy.js","/assets/Badge-B5GfLTiY.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.diagnostics.run":{id:"routes/admin.diagnostics.run",parentId:"routes/admin.diagnostics",path:"run",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.diagnostics.run-l0sNRNKZ.js",imports:[],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.projections":{id:"routes/admin.projections",parentId:"routes/admin",path:"projections",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.projections-D16lLZ8f.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.financials":{id:"routes/admin.financials",parentId:"routes/admin",path:"financials",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.financials-DjznP0RI.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/PrivacyBlur-DCeFAFUq.js","/assets/Dialogs-BSt5M2BA.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.financials.failed":{id:"routes/admin.financials.failed",parentId:"routes/admin.financials",path:"failed",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.financials.failed-ikAIhDsc.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/Dialogs-BSt5M2BA.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.workflows":{id:"routes/admin.workflows",parentId:"routes/admin",path:"workflows",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.workflows-DAz2AG1G.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/dialog-JrxQpmq3.js","/assets/Badge-B5GfLTiY.js","/assets/button-C1B9okfB.js","/assets/input-DVzVp5oY.js","/assets/label-CI6j7dSx.js","/assets/select-lm3n3udb.js","/assets/textarea-CwhdV0Vk.js","/assets/switch-err08kF5.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/index-BX1XvKXj.js","/assets/index-BoLwF8uB.js","/assets/use-resolve-button-type-BjYxmq93.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.features":{id:"routes/admin.features",parentId:"routes/admin",path:"features",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.features-DoQMslJl.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/chunk-4QQOMF5H-D88Y5Hnx.js","/assets/index-BX1XvKXj.js","/assets/index-Co70b2CO.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.backups":{id:"routes/admin.backups",parentId:"routes/admin",path:"backups",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.backups-BUZwu14U.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.tenants":{id:"routes/admin.tenants",parentId:"routes/admin",path:"tenants",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.tenants-C_3mj4nz.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin._index":{id:"routes/admin._index",parentId:"routes/admin",path:void 0,index:!0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin._index-Cm7eC8UU.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/Card-snBMSlhy.js","/assets/Table-C_6meeid.js","/assets/Badge-B5GfLTiY.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.emails":{id:"routes/admin.emails",parentId:"routes/admin",path:"emails",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.emails-D_992sSW.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.mobile":{id:"routes/admin.mobile",parentId:"routes/admin",path:"mobile",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.mobile-GuXsbX_-.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/ConfirmDialog-DH0na38g.js","/assets/index-BX1XvKXj.js","/assets/dialog-JrxQpmq3.js","/assets/utils-BB8OEnXs.js","/assets/bundle-mjs-BNe0Xlio.js","/assets/dialog-CyHk4pB-.js","/assets/portal-BFavXhea.js","/assets/button-C1B9okfB.js","/assets/index-BoLwF8uB.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.status":{id:"routes/admin.status",parentId:"routes/admin",path:"status",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.status-Bfo4joEB.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.videos":{id:"routes/admin.videos",parentId:"routes/admin",path:"videos",index:void 0,caseSensitive:void 0,hasAction:!0,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.videos-Kaue7oCo.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.comms":{id:"routes/admin.comms",parentId:"routes/admin",path:"comms",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!0,module:"/assets/admin.comms-XlmR88dF.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.plans":{id:"routes/admin.plans",parentId:"routes/admin",path:"plans",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.plans-eVI2c3jd.js",imports:["/assets/preload-helper-BXl3LOEh.js","/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/ClientOnly-D8MQybY6.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.faqs":{id:"routes/admin.faqs",parentId:"routes/admin",path:"faqs",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.faqs-BbRvebzC.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js","/assets/api-BPiy_vG9.js","/assets/index-3M2E4JC4.js","/assets/Dialogs-BSt5M2BA.js","/assets/index-BX1XvKXj.js","/assets/Modal-C5YN4eUH.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.logs":{id:"routes/admin.logs",parentId:"routes/admin",path:"logs",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.logs-CCiVUqrV.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0},"routes/admin.ops":{id:"routes/admin.ops",parentId:"routes/admin",path:"ops",index:void 0,caseSensitive:void 0,hasAction:!1,hasLoader:!0,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:!1,module:"/assets/admin.ops-Bfe4uhK4.js",imports:["/assets/chunk-JZWAC4HX-Cxh-oFlR.js","/assets/jsx-runtime-u17CrQMm.js"],css:[],clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0}},url:"/assets/manifest-8c2fa334.js",version:"8c2fa334",sri:void 0},Tf="build/client",Pf="/",If={unstable_optimizeDeps:!1,unstable_subResourceIntegrity:!1,unstable_trailingSlashAwareDataRequests:!1,v8_middleware:!1,v8_splitRouteModules:!1,v8_viteEnvironmentApi:!1},Lf=!0,Df=!1,Of=[],Ef={mode:"lazy",manifestPath:"/__manifest"},Bf="/",Ff={module:kr},Rf={root:{id:"root",parentId:void 0,path:"",index:void 0,caseSensitive:void 0,module:Ir},"routes/site.$slug.$pageSlug":{id:"routes/site.$slug.$pageSlug",parentId:"root",path:"site/:slug/:pageSlug",index:void 0,caseSensitive:void 0,module:el},"routes/site.$slug._index":{id:"routes/site.$slug._index",parentId:"root",path:"site/:slug",index:!0,caseSensitive:void 0,module:al},"routes/pricing.compare":{id:"routes/pricing.compare",parentId:"root",path:"pricing/compare",index:void 0,caseSensitive:void 0,module:ul},"routes/pricing._index":{id:"routes/pricing._index",parentId:"root",path:"pricing",index:!0,caseSensitive:void 0,module:pl},"routes/$slug.support":{id:"routes/$slug.support",parentId:"root",path:":slug/support",index:void 0,caseSensitive:void 0,module:fl},"routes/accept-invite":{id:"routes/accept-invite",parentId:"root",path:"accept-invite",index:void 0,caseSensitive:void 0,module:vl},"routes/create-studio":{id:"routes/create-studio",parentId:"root",path:"create-studio",index:void 0,caseSensitive:void 0,module:Nl},"routes/documentation":{id:"routes/documentation",parentId:"root",path:"documentation",index:void 0,caseSensitive:void 0,module:Sl},"routes/documentation.platform.architecture":{id:"routes/documentation.platform.architecture",parentId:"routes/documentation",path:"platform/architecture",index:void 0,caseSensitive:void 0,module:Ml},"routes/documentation.guides.class-packs":{id:"routes/documentation.guides.class-packs",parentId:"routes/documentation",path:"guides/class-packs",index:void 0,caseSensitive:void 0,module:Al},"routes/documentation.platform.tenants":{id:"routes/documentation.platform.tenants",parentId:"routes/documentation",path:"platform/tenants",index:void 0,caseSensitive:void 0,module:Tl},"routes/documentation.studio.analytics":{id:"routes/documentation.studio.analytics",parentId:"routes/documentation",path:"studio/analytics",index:void 0,caseSensitive:void 0,module:Il},"routes/documentation.studio.overview":{id:"routes/documentation.studio.overview",parentId:"routes/documentation",path:"studio/overview",index:void 0,caseSensitive:void 0,module:Dl},"routes/documentation.mobile-builder":{id:"routes/documentation.mobile-builder",parentId:"routes/documentation",path:"mobile-builder",index:void 0,caseSensitive:void 0,module:El},"routes/documentation.guides.waiver":{id:"routes/documentation.guides.waiver",parentId:"routes/documentation",path:"guides/waiver",index:void 0,caseSensitive:void 0,module:Fl},"routes/documentation.studio.portal":{id:"routes/documentation.studio.portal",parentId:"routes/documentation",path:"studio/portal",index:void 0,caseSensitive:void 0,module:Xl},"routes/documentation.migration":{id:"routes/documentation.migration",parentId:"routes/documentation",path:"migration",index:void 0,caseSensitive:void 0,module:Wl},"routes/documentation.commerce":{id:"routes/documentation.commerce",parentId:"routes/documentation",path:"commerce",index:void 0,caseSensitive:void 0,module:Ql},"routes/documentation.classes":{id:"routes/documentation.classes",parentId:"routes/documentation",path:"classes",index:void 0,caseSensitive:void 0,module:Vl},"routes/documentation.reports":{id:"routes/documentation.reports",parentId:"routes/documentation",path:"reports",index:void 0,caseSensitive:void 0,module:Gl},"routes/documentation.website":{id:"routes/documentation.website",parentId:"routes/documentation",path:"website",index:void 0,caseSensitive:void 0,module:Zl},"routes/documentation._index":{id:"routes/documentation._index",parentId:"routes/documentation",path:void 0,index:!0,caseSensitive:void 0,module:ed},"routes/documentation.setup":{id:"routes/documentation.setup",parentId:"routes/documentation",path:"setup",index:void 0,caseSensitive:void 0,module:nd},"routes/documentation.team":{id:"routes/documentation.team",parentId:"routes/documentation",path:"team",index:void 0,caseSensitive:void 0,module:id},"routes/documentation.crm":{id:"routes/documentation.crm",parentId:"routes/documentation",path:"crm",index:void 0,caseSensitive:void 0,module:rd},"routes/sitemap[.]xml":{id:"routes/sitemap[.]xml",parentId:"root",path:"sitemap.xml",index:void 0,caseSensitive:void 0,module:dd},"routes/portal.$slug":{id:"routes/portal.$slug",parentId:"root",path:"portal/:slug",index:void 0,caseSensitive:void 0,module:ud},"routes/portal.$slug.classes":{id:"routes/portal.$slug.classes",parentId:"routes/portal.$slug",path:"classes",index:void 0,caseSensitive:void 0,module:gd},"routes/portal.$slug.profile":{id:"routes/portal.$slug.profile",parentId:"routes/portal.$slug",path:"profile",index:void 0,caseSensitive:void 0,module:xd},"routes/portal.$slug._index":{id:"routes/portal.$slug._index",parentId:"routes/portal.$slug",path:void 0,index:!0,caseSensitive:void 0,module:zd},"routes/robots[.]txt":{id:"routes/robots[.]txt",parentId:"root",path:"robots.txt",index:void 0,caseSensitive:void 0,module:kd},"routes/studio.$slug":{id:"routes/studio.$slug",parentId:"root",path:"studio/:slug",index:void 0,caseSensitive:void 0,module:$d},"routes/studio.$slug.videos.collections.$id":{id:"routes/studio.$slug.videos.collections.$id",parentId:"routes/studio.$slug",path:"videos/collections/:id",index:void 0,caseSensitive:void 0,module:Od},"routes/studio.$slug.website.editor.$pageId":{id:"routes/studio.$slug.website.editor.$pageId",parentId:"routes/studio.$slug",path:"website/editor/:pageId",index:void 0,caseSensitive:void 0,module:Rd},"routes/studio.$slug.financials.my-payouts":{id:"routes/studio.$slug.financials.my-payouts",parentId:"routes/studio.$slug",path:"financials/my-payouts",index:void 0,caseSensitive:void 0,module:Qd},"routes/studio.$slug.videos.edit.$videoId":{id:"routes/studio.$slug.videos.edit.$videoId",parentId:"routes/studio.$slug",path:"videos/edit/:videoId",index:void 0,caseSensitive:void 0,module:Gd},"routes/studio.$slug.commerce.gift-cards":{id:"routes/studio.$slug.commerce.gift-cards",parentId:"routes/studio.$slug",path:"commerce/gift-cards",index:void 0,caseSensitive:void 0,module:eo},"routes/studio.$slug.commerce.referrals":{id:"routes/studio.$slug.commerce.referrals",parentId:"routes/studio.$slug",path:"commerce/referrals",index:void 0,caseSensitive:void 0,module:io},"routes/studio.$slug.financials.payroll":{id:"routes/studio.$slug.financials.payroll",parentId:"routes/studio.$slug",path:"financials/payroll",index:void 0,caseSensitive:void 0,module:lo},"routes/studio.$slug.financials._index":{id:"routes/studio.$slug.financials._index",parentId:"routes/studio.$slug",path:"financials",index:!0,caseSensitive:void 0,module:co},"routes/studio.$slug.commerce.coupons":{id:"routes/studio.$slug.commerce.coupons",parentId:"routes/studio.$slug",path:"commerce/coupons",index:void 0,caseSensitive:void 0,module:bo},"routes/studio.$slug.commerce.wizard":{id:"routes/studio.$slug.commerce.wizard",parentId:"routes/studio.$slug",path:"commerce/wizard",index:void 0,caseSensitive:void 0,module:xo},"routes/studio.$slug.commerce.packs":{id:"routes/studio.$slug.commerce.packs",parentId:"routes/studio.$slug",path:"commerce/packs",index:void 0,caseSensitive:void 0,module:No},"routes/studio.$slug.substitutions":{id:"routes/studio.$slug.substitutions",parentId:"routes/studio.$slug",path:"substitutions",index:void 0,caseSensitive:void 0,module:Co},"routes/studio.$slug.videos._index":{id:"routes/studio.$slug.videos._index",parentId:"routes/studio.$slug",path:"videos",index:!0,caseSensitive:void 0,module:_o},"routes/studio.$slug.website.pages":{id:"routes/studio.$slug.website.pages",parentId:"routes/studio.$slug",path:"website/pages",index:void 0,caseSensitive:void 0,module:Po},"routes/studio.$slug.appointments":{id:"routes/studio.$slug.appointments",parentId:"routes/studio.$slug",path:"appointments",index:void 0,caseSensitive:void 0,module:Do},"routes/studio.$slug.appointments.calendar":{id:"routes/studio.$slug.appointments.calendar",parentId:"routes/studio.$slug.appointments",path:"calendar",index:void 0,caseSensitive:void 0,module:Ro},"routes/studio.$slug.memberships":{id:"routes/studio.$slug.memberships",parentId:"routes/studio.$slug",path:"memberships",index:void 0,caseSensitive:void 0,module:Go},"routes/studio.$slug.challenges":{id:"routes/studio.$slug.challenges",parentId:"routes/studio.$slug",path:"challenges",index:void 0,caseSensitive:void 0,module:tc},"routes/studio.$slug.instructor":{id:"routes/studio.$slug.instructor",parentId:"routes/studio.$slug",path:"instructor",index:void 0,caseSensitive:void 0,module:ic},"routes/studio.$slug.instructor.schedule":{id:"routes/studio.$slug.instructor.schedule",parentId:"routes/studio.$slug.instructor",path:"schedule",index:void 0,caseSensitive:void 0,module:lc},"routes/studio.$slug.instructor.payroll":{id:"routes/studio.$slug.instructor.payroll",parentId:"routes/studio.$slug.instructor",path:"payroll",index:void 0,caseSensitive:void 0,module:cc},"routes/studio.$slug.onboarding":{id:"routes/studio.$slug.onboarding",parentId:"routes/studio.$slug",path:"onboarding",index:void 0,caseSensitive:void 0,module:gc},"routes/studio.$slug.analytics":{id:"routes/studio.$slug.analytics",parentId:"routes/studio.$slug",path:"analytics",index:void 0,caseSensitive:void 0,module:xc},"routes/studio.$slug.analytics.projections":{id:"routes/studio.$slug.analytics.projections",parentId:"routes/studio.$slug.analytics",path:"projections",index:void 0,caseSensitive:void 0,module:zc},"routes/studio.$slug.analytics.attendance":{id:"routes/studio.$slug.analytics.attendance",parentId:"routes/studio.$slug.analytics",path:"attendance",index:void 0,caseSensitive:void 0,module:Tc},"routes/studio.$slug.analytics.financials":{id:"routes/studio.$slug.analytics.financials",parentId:"routes/studio.$slug.analytics",path:"financials",index:void 0,caseSensitive:void 0,module:Lc},"routes/studio.$slug.analytics.reports":{id:"routes/studio.$slug.analytics.reports",parentId:"routes/studio.$slug.analytics",path:"reports",index:void 0,caseSensitive:void 0,module:Oc},"routes/studio.$slug.analytics._index":{id:"routes/studio.$slug.analytics._index",parentId:"routes/studio.$slug.analytics",path:void 0,index:!0,caseSensitive:void 0,module:Fc},"routes/studio.$slug.analytics.custom":{id:"routes/studio.$slug.analytics.custom",parentId:"routes/studio.$slug.analytics",path:"custom",index:void 0,caseSensitive:void 0,module:Uc},"routes/studio.$slug.dashboard":{id:"routes/studio.$slug.dashboard",parentId:"routes/studio.$slug",path:"dashboard",index:void 0,caseSensitive:void 0,module:Qc},"routes/studio.$slug.discounts":{id:"routes/studio.$slug.discounts",parentId:"routes/studio.$slug",path:"discounts",index:void 0,caseSensitive:void 0,module:qc},"routes/studio.$slug.inventory":{id:"routes/studio.$slug.inventory",parentId:"routes/studio.$slug",path:"inventory",index:void 0,caseSensitive:void 0,module:Yc},"routes/studio.$slug.marketing":{id:"routes/studio.$slug.marketing",parentId:"routes/studio.$slug",path:"marketing",index:void 0,caseSensitive:void 0,module:tu},"routes/studio.$slug.marketing.automations":{id:"routes/studio.$slug.marketing.automations",parentId:"routes/studio.$slug.marketing",path:"automations",index:void 0,caseSensitive:void 0,module:ru},"routes/studio.$slug.marketing.referrals":{id:"routes/studio.$slug.marketing.referrals",parentId:"routes/studio.$slug.marketing",path:"referrals",index:void 0,caseSensitive:void 0,module:cu},"routes/studio.$slug.branding":{id:"routes/studio.$slug.branding",parentId:"routes/studio.$slug",path:"branding",index:void 0,caseSensitive:void 0,module:mu},"routes/studio.$slug.checkout":{id:"routes/studio.$slug.checkout",parentId:"routes/studio.$slug",path:"checkout",index:void 0,caseSensitive:void 0,module:fu},"routes/studio.$slug.checkout.return":{id:"routes/studio.$slug.checkout.return",parentId:"routes/studio.$slug.checkout",path:"return",index:void 0,caseSensitive:void 0,module:yu},"routes/studio.$slug.finances":{id:"routes/studio.$slug.finances",parentId:"routes/studio.$slug",path:"finances",index:void 0,caseSensitive:void 0,module:ku},"routes/studio.$slug.progress":{id:"routes/studio.$slug.progress",parentId:"routes/studio.$slug",path:"progress",index:void 0,caseSensitive:void 0,module:Su},"routes/studio.$slug.schedule":{id:"routes/studio.$slug.schedule",parentId:"routes/studio.$slug",path:"schedule",index:void 0,caseSensitive:void 0,module:Lu},"routes/studio.$slug.settings":{id:"routes/studio.$slug.settings",parentId:"routes/studio.$slug",path:"settings",index:void 0,caseSensitive:void 0,module:Ou},"routes/studio.$slug.settings.appointments":{id:"routes/studio.$slug.settings.appointments",parentId:"routes/studio.$slug.settings",path:"appointments",index:void 0,caseSensitive:void 0,module:Fu},"routes/studio.$slug.settings.integrations":{id:"routes/studio.$slug.settings.integrations",parentId:"routes/studio.$slug.settings",path:"integrations",index:void 0,caseSensitive:void 0,module:Uu},"routes/studio.$slug.settings.tags-fields":{id:"routes/studio.$slug.settings.tags-fields",parentId:"routes/studio.$slug.settings",path:"tags-fields",index:void 0,caseSensitive:void 0,module:Qu},"routes/studio.$slug.settings.developers":{id:"routes/studio.$slug.settings.developers",parentId:"routes/studio.$slug.settings",path:"developers",index:void 0,caseSensitive:void 0,module:nm},"routes/studio.$slug.settings.locations":{id:"routes/studio.$slug.settings.locations",parentId:"routes/studio.$slug.settings",path:"locations",index:void 0,caseSensitive:void 0,module:rm},"routes/studio.$slug.settings.activity":{id:"routes/studio.$slug.settings.activity",parentId:"routes/studio.$slug.settings",path:"activity",index:void 0,caseSensitive:void 0,module:um},"routes/studio.$slug.settings.branding":{id:"routes/studio.$slug.settings.branding",parentId:"routes/studio.$slug.settings",path:"branding",index:void 0,caseSensitive:void 0,module:gm},"routes/studio.$slug.settings.hardware":{id:"routes/studio.$slug.settings.hardware",parentId:"routes/studio.$slug.settings",path:"hardware",index:void 0,caseSensitive:void 0,module:fm},"routes/studio.$slug.settings.progress":{id:"routes/studio.$slug.settings.progress",parentId:"routes/studio.$slug.settings",path:"progress",index:void 0,caseSensitive:void 0,module:km},"routes/studio.$slug.settings.billing":{id:"routes/studio.$slug.settings.billing",parentId:"routes/studio.$slug.settings",path:"billing",index:void 0,caseSensitive:void 0,module:jm},"routes/studio.$slug.settings._index":{id:"routes/studio.$slug.settings._index",parentId:"routes/studio.$slug.settings",path:void 0,index:!0,caseSensitive:void 0,module:Tm},"routes/studio.$slug.settings.addons":{id:"routes/studio.$slug.settings.addons",parentId:"routes/studio.$slug.settings",path:"addons",index:void 0,caseSensitive:void 0,module:Lm},"routes/studio.$slug.settings.domain":{id:"routes/studio.$slug.settings.domain",parentId:"routes/studio.$slug.settings",path:"domain",index:void 0,caseSensitive:void 0,module:Em},"routes/studio.$slug.settings.embeds":{id:"routes/studio.$slug.settings.embeds",parentId:"routes/studio.$slug.settings",path:"embeds",index:void 0,caseSensitive:void 0,module:Fm},"routes/studio.$slug.settings.mobile":{id:"routes/studio.$slug.settings.mobile",parentId:"routes/studio.$slug.settings",path:"mobile",index:void 0,caseSensitive:void 0,module:Xm},"routes/studio.$slug.settings.roles":{id:"routes/studio.$slug.settings.roles",parentId:"routes/studio.$slug.settings",path:"roles",index:void 0,caseSensitive:void 0,module:Jm},"routes/studio.$slug.settings.staff":{id:"routes/studio.$slug.settings.staff",parentId:"routes/studio.$slug.settings",path:"staff",index:void 0,caseSensitive:void 0,module:Gm},"routes/studio.$slug.settings.chat":{id:"routes/studio.$slug.settings.chat",parentId:"routes/studio.$slug.settings",path:"chat",index:void 0,caseSensitive:void 0,module:Zm},"routes/studio.$slug.settings.qr":{id:"routes/studio.$slug.settings.qr",parentId:"routes/studio.$slug.settings",path:"qr",index:void 0,caseSensitive:void 0,module:e0},"routes/studio.$slug.students":{id:"routes/studio.$slug.students",parentId:"routes/studio.$slug",path:"students",index:void 0,caseSensitive:void 0,module:n0},"routes/studio.$slug.students._index":{id:"routes/studio.$slug.students._index",parentId:"routes/studio.$slug.students",path:void 0,index:!0,caseSensitive:void 0,module:a0},"routes/studio.$slug.students.$id":{id:"routes/studio.$slug.students.$id",parentId:"routes/studio.$slug.students",path:":id",index:void 0,caseSensitive:void 0,module:d0},"routes/studio.$slug.checkin":{id:"routes/studio.$slug.checkin",parentId:"routes/studio.$slug",path:"checkin",index:void 0,caseSensitive:void 0,module:m0},"routes/studio.$slug.classes":{id:"routes/studio.$slug.classes",parentId:"routes/studio.$slug",path:"classes",index:void 0,caseSensitive:void 0,module:p0},"routes/studio.$slug.classes.$classId.live":{id:"routes/studio.$slug.classes.$classId.live",parentId:"routes/studio.$slug.classes",path:":classId/live",index:void 0,caseSensitive:void 0,module:b0},"routes/studio.$slug.classes.$id.roster":{id:"routes/studio.$slug.classes.$id.roster",parentId:"routes/studio.$slug.classes",path:":id/roster",index:void 0,caseSensitive:void 0,module:z0},"routes/studio.$slug.classes._index":{id:"routes/studio.$slug.classes._index",parentId:"routes/studio.$slug.classes",path:void 0,index:!0,caseSensitive:void 0,module:w0},"routes/studio.$slug.loyalty":{id:"routes/studio.$slug.loyalty",parentId:"routes/studio.$slug",path:"loyalty",index:void 0,caseSensitive:void 0,module:_0},"routes/studio.$slug.profile":{id:"routes/studio.$slug.profile",parentId:"routes/studio.$slug",path:"profile",index:void 0,caseSensitive:void 0,module:B0},"routes/studio.$slug.reports":{id:"routes/studio.$slug.reports",parentId:"routes/studio.$slug",path:"reports",index:void 0,caseSensitive:void 0,module:X0},"routes/studio.$slug.reports.advanced":{id:"routes/studio.$slug.reports.advanced",parentId:"routes/studio.$slug.reports",path:"advanced",index:void 0,caseSensitive:void 0,module:J0},"routes/studio.$slug.waivers":{id:"routes/studio.$slug.waivers",parentId:"routes/studio.$slug",path:"waivers",index:void 0,caseSensitive:void 0,module:q0},"routes/studio.$slug.waivers._index":{id:"routes/studio.$slug.waivers._index",parentId:"routes/studio.$slug.waivers",path:void 0,index:!0,caseSensitive:void 0,module:K0},"routes/studio.$slug.waivers.new":{id:"routes/studio.$slug.waivers.new",parentId:"routes/studio.$slug.waivers",path:"new",index:void 0,caseSensitive:void 0,module:nh},"routes/studio.$slug._index":{id:"routes/studio.$slug._index",parentId:"routes/studio.$slug",path:void 0,index:!0,caseSensitive:void 0,module:rh},"routes/studio.$slug.retail":{id:"routes/studio.$slug.retail",parentId:"routes/studio.$slug",path:"retail",index:void 0,caseSensitive:void 0,module:uh},"routes/studio.$slug.leads":{id:"routes/studio.$slug.leads",parentId:"routes/studio.$slug",path:"leads",index:void 0,caseSensitive:void 0,module:gh},"routes/studio.$slug.tasks":{id:"routes/studio.$slug.tasks",parentId:"routes/studio.$slug",path:"tasks",index:void 0,caseSensitive:void 0,module:vh},"routes/studio.$slug.chat":{id:"routes/studio.$slug.chat",parentId:"routes/studio.$slug",path:"chat",index:void 0,caseSensitive:void 0,module:Nh},"routes/studio.$slug.chat.$roomId":{id:"routes/studio.$slug.chat.$roomId",parentId:"routes/studio.$slug.chat",path:":roomId",index:void 0,caseSensitive:void 0,module:Ch},"routes/studio.$slug.data":{id:"routes/studio.$slug.data",parentId:"routes/studio.$slug",path:"data",index:void 0,caseSensitive:void 0,module:jh},"routes/studio.$slug.data._index":{id:"routes/studio.$slug.data._index",parentId:"routes/studio.$slug.data",path:void 0,index:!0,caseSensitive:void 0,module:Ah},"routes/studio.$slug.data.export":{id:"routes/studio.$slug.data.export",parentId:"routes/studio.$slug.data",path:"export",index:void 0,caseSensitive:void 0,module:Th},"routes/studio.$slug.data.import":{id:"routes/studio.$slug.data.import",parentId:"routes/studio.$slug.data",path:"import",index:void 0,caseSensitive:void 0,module:Ih},"routes/studio.$slug.pos":{id:"routes/studio.$slug.pos",parentId:"routes/studio.$slug",path:"pos",index:void 0,caseSensitive:void 0,module:Oh},"routes/waiver.$slug":{id:"routes/waiver.$slug",parentId:"root",path:"waiver/:slug",index:void 0,caseSensitive:void 0,module:Rh},"routes/embed.$slug":{id:"routes/embed.$slug",parentId:"root",path:"embed/:slug",index:void 0,caseSensitive:void 0,module:Wh},"routes/embed.$slug.calendar":{id:"routes/embed.$slug.calendar",parentId:"routes/embed.$slug",path:"calendar",index:void 0,caseSensitive:void 0,module:Jh},"routes/embed.$slug.pricing":{id:"routes/embed.$slug.pricing",parentId:"routes/embed.$slug",path:"pricing",index:void 0,caseSensitive:void 0,module:Gh},"routes/embed.$slug.book":{id:"routes/embed.$slug.book",parentId:"routes/embed.$slug",path:"book",index:void 0,caseSensitive:void 0,module:tp},"routes/embed.$slug.chat":{id:"routes/embed.$slug.chat",parentId:"routes/embed.$slug",path:"chat",index:void 0,caseSensitive:void 0,module:ip},"routes/embed.$slug.shop":{id:"routes/embed.$slug.shop",parentId:"routes/embed.$slug",path:"shop",index:void 0,caseSensitive:void 0,module:lp},"routes/kiosk.$slug":{id:"routes/kiosk.$slug",parentId:"root",path:"kiosk/:slug",index:void 0,caseSensitive:void 0,module:cp},"routes/kiosk.$slug.login":{id:"routes/kiosk.$slug.login",parentId:"routes/kiosk.$slug",path:"login",index:void 0,caseSensitive:void 0,module:mp},"routes/kiosk.$slug.mode":{id:"routes/kiosk.$slug.mode",parentId:"routes/kiosk.$slug",path:"mode",index:void 0,caseSensitive:void 0,module:pp},"routes/$pageSlug":{id:"routes/$pageSlug",parentId:"root",path:":pageSlug",index:void 0,caseSensitive:void 0,module:xp},"routes/dashboard":{id:"routes/dashboard",parentId:"root",path:"dashboard",index:void 0,caseSensitive:void 0,module:Np},"routes/dashboard.classes":{id:"routes/dashboard.classes",parentId:"routes/dashboard",path:"classes",index:void 0,caseSensitive:void 0,module:wp},"routes/dashboard.classes.$id.roster":{id:"routes/dashboard.classes.$id.roster",parentId:"routes/dashboard.classes",path:":id/roster",index:void 0,caseSensitive:void 0,module:jp},"routes/dashboard.classes.$id.watch":{id:"routes/dashboard.classes.$id.watch",parentId:"routes/dashboard.classes",path:":id/watch",index:void 0,caseSensitive:void 0,module:Ap},"routes/dashboard.classes._index":{id:"routes/dashboard.classes._index",parentId:"routes/dashboard.classes",path:void 0,index:!0,caseSensitive:void 0,module:Lp},"routes/dashboard.profile":{id:"routes/dashboard.profile",parentId:"routes/dashboard",path:"profile",index:void 0,caseSensitive:void 0,module:Bp},"routes/dashboard._index":{id:"routes/dashboard._index",parentId:"routes/dashboard",path:void 0,index:!0,caseSensitive:void 0,module:Rp},"routes/debug-ssr":{id:"routes/debug-ssr",parentId:"root",path:"debug-ssr",index:void 0,caseSensitive:void 0,module:Wp},"routes/sign-in.$":{id:"routes/sign-in.$",parentId:"root",path:"sign-in/*",index:void 0,caseSensitive:void 0,module:Qp},"routes/sign-up.$":{id:"routes/sign-up.$",parentId:"root",path:"sign-up/*",index:void 0,caseSensitive:void 0,module:qp},"routes/features":{id:"routes/features",parentId:"root",path:"features",index:void 0,caseSensitive:void 0,module:eg},"routes/_index":{id:"routes/_index",parentId:"root",path:void 0,index:!0,caseSensitive:void 0,module:ig},"routes/admin":{id:"routes/admin",parentId:"root",path:"admin",index:void 0,caseSensitive:void 0,module:og},"routes/admin.website.edit.$pageId":{id:"routes/admin.website.edit.$pageId",parentId:"routes/admin",path:"website/edit/:pageId",index:void 0,caseSensitive:void 0,module:hg},"routes/admin.communications.logs":{id:"routes/admin.communications.logs",parentId:"routes/admin",path:"communications/logs",index:void 0,caseSensitive:void 0,module:bg},"routes/admin.coupons._index":{id:"routes/admin.coupons._index",parentId:"routes/admin",path:"coupons",index:!0,caseSensitive:void 0,module:vg},"routes/admin.website._index":{id:"routes/admin.website._index",parentId:"routes/admin",path:"website",index:!0,caseSensitive:void 0,module:kg},"routes/admin.users.$userId":{id:"routes/admin.users.$userId",parentId:"routes/admin",path:"users/:userId",index:void 0,caseSensitive:void 0,module:jg},"routes/admin.architecture":{id:"routes/admin.architecture",parentId:"routes/admin",path:"architecture",index:void 0,caseSensitive:void 0,module:Tg},"routes/admin.chat.$roomId":{id:"routes/admin.chat.$roomId",parentId:"routes/admin",path:"chat/:roomId",index:void 0,caseSensitive:void 0,module:Lg},"routes/admin.users._index":{id:"routes/admin.users._index",parentId:"routes/admin",path:"users",index:!0,caseSensitive:void 0,module:Bg},"routes/admin.chat._index":{id:"routes/admin.chat._index",parentId:"routes/admin",path:"chat",index:!0,caseSensitive:void 0,module:Ug},"routes/admin.diagnostics":{id:"routes/admin.diagnostics",parentId:"routes/admin",path:"diagnostics",index:void 0,caseSensitive:void 0,module:Qg},"routes/admin.diagnostics.run":{id:"routes/admin.diagnostics.run",parentId:"routes/admin.diagnostics",path:"run",index:void 0,caseSensitive:void 0,module:Vg},"routes/admin.projections":{id:"routes/admin.projections",parentId:"routes/admin",path:"projections",index:void 0,caseSensitive:void 0,module:Yg},"routes/admin.financials":{id:"routes/admin.financials",parentId:"routes/admin",path:"financials",index:void 0,caseSensitive:void 0,module:eb},"routes/admin.financials.failed":{id:"routes/admin.financials.failed",parentId:"routes/admin.financials",path:"failed",index:void 0,caseSensitive:void 0,module:sb},"routes/admin.workflows":{id:"routes/admin.workflows",parentId:"routes/admin",path:"workflows",index:void 0,caseSensitive:void 0,module:lb},"routes/admin.features":{id:"routes/admin.features",parentId:"routes/admin",path:"features",index:void 0,caseSensitive:void 0,module:cb},"routes/admin.backups":{id:"routes/admin.backups",parentId:"routes/admin",path:"backups",index:void 0,caseSensitive:void 0,module:pb},"routes/admin.tenants":{id:"routes/admin.tenants",parentId:"routes/admin",path:"tenants",index:void 0,caseSensitive:void 0,module:xb},"routes/admin._index":{id:"routes/admin._index",parentId:"routes/admin",path:void 0,index:!0,caseSensitive:void 0,module:Nb},"routes/admin.emails":{id:"routes/admin.emails",parentId:"routes/admin",path:"emails",index:void 0,caseSensitive:void 0,module:Cb},"routes/admin.mobile":{id:"routes/admin.mobile",parentId:"routes/admin",path:"mobile",index:void 0,caseSensitive:void 0,module:Mb},"routes/admin.status":{id:"routes/admin.status",parentId:"routes/admin",path:"status",index:void 0,caseSensitive:void 0,module:$b},"routes/admin.videos":{id:"routes/admin.videos",parentId:"routes/admin",path:"videos",index:void 0,caseSensitive:void 0,module:Db},"routes/admin.comms":{id:"routes/admin.comms",parentId:"routes/admin",path:"comms",index:void 0,caseSensitive:void 0,module:Rb},"routes/admin.plans":{id:"routes/admin.plans",parentId:"routes/admin",path:"plans",index:void 0,caseSensitive:void 0,module:Hb},"routes/admin.faqs":{id:"routes/admin.faqs",parentId:"routes/admin",path:"faqs",index:void 0,caseSensitive:void 0,module:Vb},"routes/admin.logs":{id:"routes/admin.logs",parentId:"routes/admin",path:"logs",index:void 0,caseSensitive:void 0,module:Yb},"routes/admin.ops":{id:"routes/admin.ops",parentId:"routes/admin",path:"ops",index:void 0,caseSensitive:void 0,module:ef}},Xf=!1;export{Tf as $,xm as A,Q as B,Se as C,kt as D,ln as E,vm as F,ym as G,_f as H,ye as I,ni as J,Af as K,an as L,fn as M,Z as N,$s as O,Fe as P,$u as Q,Tu as R,Qt as S,Vu as T,Pd as U,Mu as V,Au as W,ne as X,$n as Y,Xf as Z,$f as _,z as a,Pf as a0,Ff as a1,If as a2,Df as a3,Of as a4,Bf as a5,Ef as a6,Rf as a7,Lf as a8,Gu as b,ds as c,os as d,se as e,de as f,Yn as g,ge as h,Dn as i,wt as j,Ct as k,St as l,As as m,Mf as n,mn as o,uo as p,we as q,Ve as r,Ce as s,rn as t,Ps as u,Is as v,Ot as w,rt as x,Fi as y,Je as z};
