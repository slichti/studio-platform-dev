const u="https://studio-platform-api.slichti.workers.dev";async function h(n,a,s={},d){const i=u,t=new Headers(s.headers);if(a&&t.set("Authorization",`Bearer ${a}`),typeof window<"u"){const r=localStorage.getItem("impersonation_token");r&&t.set("Authorization",`Bearer ${r}`)}t.has("Content-Type")||t.set("Content-Type","application/json"),t.has("x-request-id")||t.set("x-request-id",crypto.randomUUID());const e=await fetch(`${i}${n}`,{...s,headers:t});if(!e.ok){let r;try{r=await e.clone().json();const o=new Error(r.error||e.statusText);throw o.data=r,o.status=e.status,o}catch(o){if(o.data)throw o;const c=await e.text();throw new Error(c||e.statusText)}}return e.json()}export{u as A,h as a};
