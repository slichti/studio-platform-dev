import{w as m,u,b as x,F as p}from"./chunk-JMJ3UQ3L-DfF4BM7g.js";import{j as e}from"./vendor-puck-aUaaDwmz.js";import{a}from"./vendor-livekit-D3VpklN2.js";const b=m(function(){const{video:r,branding:i}=u(),d=x(),[n,c]=a.useState(r.trimStart||0),[l,o]=a.useState(r.trimEnd||r.duration),s=a.useRef(null);return a.useEffect(()=>{if(s.current){const t=()=>{s.current&&s.current.currentTime>l&&(s.current.pause(),s.current.currentTime=l)};return s.current.addEventListener("timeupdate",t),()=>s.current?.removeEventListener("timeupdate",t)}},[l]),e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsx("button",{onClick:()=>d(".."),className:"mb-4 text-sm text-zinc-500 hover:underline",children:"‚Üê Back to Library"}),e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Edit: ",r.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"bg-black aspect-video rounded-lg overflow-hidden relative",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:r.cloudflareStreamId?e.jsx("iframe",{src:`https://customer-<your-code>.cloudflarestream.com/${r.cloudflareStreamId}/iframe`,className:"w-full h-full",allow:"accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;",allowFullScreen:!0}):e.jsx("p",{children:"Video Processing or Unavailable"})})}),e.jsxs("div",{className:"mt-6 bg-white p-4 rounded border",children:[e.jsx("h3",{className:"font-bold mb-4",children:"Trimming"}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Start Time (s)"}),e.jsx("input",{type:"number",value:n,onChange:t=>c(Number(t.target.value)),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase",children:"End Time (s)"}),e.jsx("input",{type:"number",value:l,onChange:t=>o(Number(t.target.value)),className:"w-full border p-2 rounded"})]})]}),e.jsxs(p,{method:"post",className:"mt-4 flex justify-end",children:[e.jsx("input",{type:"hidden",name:"trimStart",value:n}),e.jsx("input",{type:"hidden",name:"trimEnd",value:l}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded font-medium hover:bg-blue-700",children:"Save Changes"})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"bg-white p-4 rounded border",children:[e.jsx("h3",{className:"font-bold mb-4",children:"Branding"}),e.jsx("p",{className:"text-sm text-zinc-500 mb-4",children:"Intros and Outros are applied automatically by the player."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Intro"}),e.jsxs("select",{className:"w-full border p-2 rounded text-sm",children:[e.jsx("option",{value:"",children:"None"}),i.filter(t=>t.type==="intro").map(t=>e.jsx("option",{value:t.id,selected:t.active,children:t.title},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Outro"}),e.jsxs("select",{className:"w-full border p-2 rounded text-sm",children:[e.jsx("option",{value:"",children:"None"}),i.filter(t=>t.type==="outro").map(t=>e.jsx("option",{value:t.id,selected:t.active,children:t.title},t.id))]})]}),e.jsx("button",{className:"w-full mt-2 bg-zinc-100 text-zinc-700 px-3 py-2 rounded text-sm font-medium hover:bg-zinc-200",children:"Update Branding"})]})]})})]})]})});export{b as default};
