import{a as k,j as f,w as Li,E as pt,n as me,d as un,e as sr,f as zs,g as Va,u as qa,h as Ne,D as Ya,i as Xa,b as Io,k as $u,l as Ka,m as Bu}from"./vendor-react-D59Q0YKK.js";import{g as Eo}from"./vendor-charts-Dp-zC2wb.js";var hs,Ti;function Wu(){if(Ti)return hs;Ti=1,hs=n,n.flatten=n,n.unflatten=r;function e(s){return s&&s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function t(s){return s}function n(s,o){o=o||{};const i=o.delimiter||".",a=o.maxDepth,l=o.transformKey||t,c={};function d(u,v,g){g=g||1,Object.keys(u).forEach(function(h){const E=u[h],_=o.safe&&Array.isArray(E),C=Object.prototype.toString.call(E),y=e(E),S=C==="[object Object]"||C==="[object Array]",x=v?v+i+l(h):l(h);if(!_&&!y&&S&&Object.keys(E).length&&(!o.maxDepth||g<a))return d(E,x,g+1);c[x]=E})}return d(s),c}function r(s,o){o=o||{};const i=o.delimiter||".",a=o.overwrite||!1,l=o.transformKey||t,c={};if(e(s)||Object.prototype.toString.call(s)!=="[object Object]")return s;function u(h){const E=Number(h);return isNaN(E)||h.indexOf(".")!==-1||o.object?h:E}function v(h,E,_){return Object.keys(_).reduce(function(C,y){return C[h+i+y]=_[y],C},E)}function g(h){const E=Object.prototype.toString.call(h),_=E==="[object Array]",C=E==="[object Object]";if(h){if(_)return!h.length;if(C)return!Object.keys(h).length}else return!0}return s=Object.keys(s).reduce(function(h,E){const _=Object.prototype.toString.call(s[E]);return!(_==="[object Object]"||_==="[object Array]")||g(s[E])?(h[E]=s[E],h):v(E,h,n(s[E],o))},{}),Object.keys(s).forEach(function(h){const E=h.split(i).map(l);let _=u(E.shift()),C=u(E[0]),y=c;for(;C!==void 0;){if(_==="__proto__")return;const S=Object.prototype.toString.call(y[_]),x=S==="[object Object]"||S==="[object Array]";if(!a&&!x&&typeof y[_]<"u")return;(a&&!x||!a&&y[_]==null)&&(y[_]=typeof C=="number"&&!o.object?[]:{}),y=y[_],E.length>0&&(_=u(E.shift()),C=u(E[0]))}y[_]=r(s[h],o)}),c}return hs}var Hu=Wu();const Zu=Eo(Hu);var vs,Ni;function Uu(){return Ni||(Ni=1,vs=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),vs}var Vu=Uu();const Nr=Eo(Vu);var qu=Object.create,ko=Object.defineProperty,Yu=Object.defineProperties,Xu=Object.getOwnPropertyDescriptor,Ku=Object.getOwnPropertyDescriptors,jo=Object.getOwnPropertyNames,zr=Object.getOwnPropertySymbols,Gu=Object.getPrototypeOf,Co=Object.prototype.hasOwnProperty,Ga=Object.prototype.propertyIsEnumerable,zi=(e,t,n)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))Co.call(t,n)&&zi(e,n,t[n]);if(zr)for(var n of zr(t))Ga.call(t,n)&&zi(e,n,t[n]);return e},N=(e,t)=>Yu(e,Ku(t)),Ft=(e,t)=>{var n={};for(var r in e)Co.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zr)for(var r of zr(e))t.indexOf(r)<0&&Ga.call(e,r)&&(n[r]=e[r]);return n},Ju=(e,t)=>function(){return e&&(t=(0,e[jo(e)[0]])(e=0)),t},Qu=(e,t)=>function(){return t||(0,e[jo(e)[0]])((t={exports:{}}).exports,t),t.exports},ed=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jo(t))!Co.call(e,s)&&s!==n&&ko(e,s,{get:()=>t[s],enumerable:!(r=Xu(t,s))||r.enumerable});return e},td=(e,t,n)=>(n=e!=null?qu(Gu(e)):{},ed(!e||!e.__esModule?ko(n,"default",{value:e,enumerable:!0}):n,e)),Ee=(e,t,n)=>new Promise((r,s)=>{var o=l=>{try{a(n.next(l))}catch(c){s(c)}},i=l=>{try{a(n.throw(l))}catch(c){s(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,i);a((n=n.apply(e,t)).next())}),M=Ju({"../tsup-config/react-import.js"(){}});M();M();M();var Do=(e,t)=>Object.keys(t).reduce((n,r)=>t[r].type==="slot"?j({[r]:[]},n):n,e),Po=e=>!!e&&typeof e.then=="function",Ri=e=>e.reduce((t,n)=>j(j({},t),n),{}),Rs=e=>e.some(Po),Rr=({value:e,fields:t,mappers:n,propKey:r="",propPath:s="",id:o="",config:i,recurseSlots:a=!1})=>{var l,c,d;const u=(l=t[r])==null?void 0:l.type,v=n[u];if(v&&u==="slot"){const g=e||[],h=a?g.map(E=>{var _;const C=i.components[E.type];if(!C)throw new Error(`Could not find component config for ${E.type}`);const y=(_=C.fields)!=null?_:{};return Rr({value:N(j({},E),{props:Do(E.props,y)}),fields:y,mappers:n,id:E.props.id,config:i,recurseSlots:a})}):g;return Rs(h)?Promise.all(h):v({value:h,parentId:o,propName:s,field:t[r],propPath:s})}else if(v&&t[r])return v({value:e,parentId:o,propName:r,field:t[r],propPath:s});if(e&&typeof e=="object")if(Array.isArray(e)){const g=((c=t[r])==null?void 0:c.type)==="array"?t[r].arrayFields:null;if(!g)return e;const h=e.map((E,_)=>Rr({value:E,fields:g,mappers:n,propKey:r,propPath:`${s}[${_}]`,id:o,config:i,recurseSlots:a}));return Rs(h)?Promise.all(h):h}else{if("$$typeof"in e)return e;{const g=((d=t[r])==null?void 0:d.type)==="object"?t[r].objectFields:t;return Ja({value:e,fields:g,mappers:n,id:o,getPropPath:h=>`${s}.${h}`,config:i,recurseSlots:a})}}return e},Ja=({value:e,fields:t,mappers:n,id:r,getPropPath:s,config:o,recurseSlots:i})=>{const a=Object.entries(e).map(([l,c])=>{const d={value:c,fields:t,mappers:n,propKey:l,propPath:s(l),id:r,config:o,recurseSlots:i},u=Rr(d);return Po(u)?u.then(v=>({[l]:v})):{[l]:u}},{});return Rs(a)?Promise.all(a).then(Ri):Ri(a)};function or(e,t,n,r=!1){var s,o,i,a,l;const c="type"in e?e.type:"root",d=c==="root"?n.root:(s=n.components)==null?void 0:s[c],u=Ja({value:Do((o=e.props)!=null?o:{},(i=d?.fields)!=null?i:{}),fields:(a=d?.fields)!=null?a:{},mappers:t,id:e.props&&(l=e.props.id)!=null?l:"root",getPropPath:v=>v,config:n,recurseSlots:r});return Po(u)?u.then(v=>N(j({},e),{props:v})):N(j({},e),{props:u})}function Qa(e,t,n){var r,s;const o=c=>or(c,{slot:({value:d,parentId:u,propName:v})=>{var g;const h=d;return(g=n(h,{parentId:u,propName:v}))!=null?g:h}},t,!0);if("props"in e)return o(e);const i=e,a=(r=i.zones)!=null?r:{},l=i.content.map(o);return{root:o(i.root),content:(s=n(l,{parentId:"root",propName:"default-zone"}))!=null?s:l,zones:Object.keys(a).reduce((c,d)=>N(j({},c),{[d]:a[d].map(o)}),{})}}M();M();M();var Fr=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],Fs={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:Fr[0].width,height:Fr[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};M();M();M();M();var Ao="root",$s="default-zone",Be=`${Ao}:${$s}`,nd=e=>e?e&&e.indexOf(":")>-1?e.split(":"):[Be,e]:[];function rd(e,t,n,r=[]){Object.entries(t.zones||{}).forEach(([s,o])=>{const[i]=nd(s);i===e.props.id&&n(r,s,o)})}M();M();var sd=(e,t)=>or(e,{slot:()=>null},t),{flatten:od,unflatten:id}=Zu,ad=(e,t)=>N(j({},e),{props:od(sd(e,t).props)}),ld=e=>{const t=id(e.props);return N(j({},e),{props:t})};function Qe(e,t,n=s=>s,r=s=>s){var s;let o={};const i={},a={},l=(y,S,x,A,w)=>{var P;const[m]=S.split(":"),I=((P=n(x,S,A))!=null?P:x)||[],[p,O]=S.split(":"),T=`${w||m}:${O}`,R=I.map((z,U)=>d(z,[...y,T],U));return i[T]={contentIds:R.map(z=>z.props.id),type:A},[T,R]},c=(y,S,x)=>{rd(y,e.data,(A,w,P)=>{const[m,I]=l(A,w,P,"dropzone",S);o[m]=I},x)},d=(y,S,x)=>{const A=r(y,S,x);if(!A)return y;const w=A.props.id,P=N(j({},or(A,{slot:({value:R,parentId:z,propPath:U})=>{const F=R,K=`${z}:${U}`,[Z,X]=l(S,K,F,"slot",z);return X}},t).props),{id:w});c(y,w,S);const m=N(j({},y),{props:P}),I=S[S.length-1],[p,O]=I?I.split(":"):[null,""];a[w]={data:m,flatData:ad(m,t),path:S,parentId:p,zone:O};const T=N(j({},m),{props:j({},m.props)});return P.id==="root"&&(delete T.type,delete T.props.id),T},u=e.data.zones||{},[v,g]=l([],Be,e.data.content,"root"),h=g,E=Object.keys(o);Object.keys(u||{}).forEach(y=>{const[S]=y.split(":");if(E.includes(y))return;const[x,A]=l([Be],y,u[y],"dropzone",S);o[y]=A},o);const _=d({type:"root",props:N(j({},(s=e.data.root.props)!=null?s:e.data.root),{id:"root"})},[],-1),C=N(j({},e.data.root),{props:_.props});return N(j({},e),{data:{root:C,content:h,zones:j(j({},e.data.zones),o)},indexes:{nodes:j(j({},e.indexes.nodes),a),zones:j(j({},e.indexes.zones),i)}})}M();M();M();M();M();var Mo=(e,t)=>e?Object.keys(e.props||{}).reduce((n,r)=>{const s=e?.props||{},o=t?.props||{};return N(j({},n),{[r]:!Nr(o[r],s[r])})},{}):{},Fi={lastChange:{}},el=(e,t,...n)=>Ee(void 0,[e,t,...n],function*(r,s,o={},i,a,l="replace"){const c="type"in r&&r.type!=="root"?s.components[r.type]:s.root,d=j({},r),u=c?.resolveData&&r.props,v="id"in r.props?r.props.id:"root";if(u){const{item:h=null,resolved:E={}}=Fi.lastChange[v]||{};if(l!=="force"&&r&&Nr(r,h))return{node:E,didChange:!1};const _=Mo(r,h);i&&i(r);const{props:C,readOnly:y={}}=yield c.resolveData(r,{changed:_,lastData:h,metadata:j(j({},o),c.metadata),trigger:l});d.props=j(j({},r.props),C),Object.keys(y).length&&(d.readOnly=y)}let g=yield or(d,{slot:h=>Ee(void 0,[h],function*({value:E}){const _=E;return yield Promise.all(_.map(C=>Ee(void 0,null,function*(){return(yield el(C,s,o,i,a,l)).node})))})},s);return u&&a&&a(d),Fi.lastChange[v]={item:r,resolved:g},{node:g,didChange:!Nr(r,g)}});M();M();var tl=(e,t)=>{if(t===Be)return e;const n=N(j({},e),{zones:e.zones?j({},e.zones):{}});return n.zones[t]=n.zones[t]||[],n};M();function nl(e,t,n,r,s){const o=k.useMemo(()=>Object.keys(n).reduce((l,c)=>{const d=c;return N(j({},l),{[d]:u=>{var v=u,{parentId:g}=v,h=Ft(v,["parentId"]);const E=h.propPath.replace(/\[\d+\]/g,"[*]"),_=r?.[h.propPath]||r?.[E]||s||!1,C=n[d];return C?.(N(j({},h),{isReadOnly:_,componentId:g}))}})},{}),[n,r,s]),i=k.useMemo(()=>or(t,o,e).props,[e,t,o]);return k.useMemo(()=>j(j({},t.props),i),[t.props,i])}M();var rl=(e,t=e)=>({slot:({value:n,propName:r,field:s,isReadOnly:o})=>{const i=o?t:e;return l=>i(N(j({allow:s?.type==="slot"?s.allow:[],disallow:s?.type==="slot"?s.disallow:[]},l),{zone:r,content:n}))}});M();function es(e,t,n,r=n,s,o){return nl(e,t,rl(n,r),s,o)}M();var Oo=e=>f.jsx(sl,j({},e)),cd=({config:e,item:t,metadata:n})=>{const r=e.components[t.type],s=es(e,t,o=>f.jsx(Oo,N(j({},o),{config:e,metadata:n})));return f.jsx(r.render,N(j({},s),{puck:N(j({},s.puck),{metadata:n||{}})}))},sl=k.forwardRef(function({className:t,style:n,content:r,config:s,metadata:o},i){return f.jsx("div",{className:t,style:n,ref:i,children:r.map(a=>s.components[a.type]?f.jsx(cd,{config:s,item:a,metadata:o},a.props.id):null)})});let dr;const ud=new Uint8Array(16);function dd(){if(!dr&&(dr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dr(ud)}const Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).slice(1));function fd(e,t=0){return Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]}const pd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$i={randomUUID:pd};function Bi(e,t,n){if($i.randomUUID&&!e)return $i.randomUUID();e=e||{};const r=e.random||(e.rng||dd)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fd(r)}const Wi=e=>{let t;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const v=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(g=>g(t,v))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,s,a);return a},ts=(e=>e?Wi(e):Wi),hd=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=((i,a,l)=>{let c=i;if(a){const d=l?.equalityFn||Object.is;let u=i(r.getState());c=v=>{const g=i(v);if(!d(u,g)){const h=u;a(u=g,h)}},l?.fireImmediately&&a(u,u)}return s(c)}),e(t,n,r)},ol=hd;var vd=Object.create,Lo=Object.defineProperty,gd=Object.defineProperties,md=Object.getOwnPropertyDescriptor,yd=Object.getOwnPropertyDescriptors,Hi=Object.getOwnPropertySymbols,_d=Object.prototype.hasOwnProperty,bd=Object.prototype.propertyIsEnumerable,xd=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),gn=e=>{throw TypeError(e)},Bs=(e,t,n)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wd=(e,t)=>{for(var n in t||(t={}))_d.call(t,n)&&Bs(e,n,t[n]);if(Hi)for(var n of Hi(t))bd.call(t,n)&&Bs(e,n,t[n]);return e},Sd=(e,t)=>gd(e,yd(t)),Zi=(e,t)=>Lo(e,"name",{value:t,configurable:!0}),Id=e=>{var t;return[,,,vd((t=void 0)!=null?t:null)]},il=["class","method","getter","setter","accessor","field","value","get","set"],Pn=e=>e!==void 0&&typeof e!="function"?gn("Function expected"):e,Ed=(e,t,n,r,s)=>({kind:il[e],name:t,metadata:r,addInitializer:o=>n._?gn("Already initialized"):s.push(Pn(o||null))}),al=(e,t)=>Bs(t,xd("metadata"),e[3]),Wt=(e,t,n,r)=>{for(var s=0,o=e[t>>1],i=o&&o.length;s<i;s++)t&1?o[s].call(n):r=o[s].call(n,r);return r},mn=(e,t,n,r,s,o)=>{var i,a,l,c,d,u=t&7,v=!!(t&8),g=!!(t&16),h=u>3?e.length+1:u?v?1:2:0,E=il[u+5],_=u>3&&(e[h-1]=[]),C=e[h]||(e[h]=[]),y=u&&(!g&&!v&&(s=s.prototype),u<5&&(u>3||!g)&&md(u<4?s:{get[n](){return rt(this,o)},set[n](x){return Tt(this,o,x)}},n));u?g&&u<4&&Zi(o,(u>2?"set ":u>1?"get ":"")+n):Zi(s,n);for(var S=r.length-1;S>=0;S--)c=Ed(u,n,l={},e[3],C),u&&(c.static=v,c.private=g,d=c.access={has:g?x=>kd(s,x):x=>n in x},u^3&&(d.get=g?x=>(u^1?rt:jd)(x,s,u^4?o:y.get):x=>x[n]),u>2&&(d.set=g?(x,A)=>Tt(x,s,A,u^4?o:y.set):(x,A)=>x[n]=A)),a=(0,r[S])(u?u<4?g?o:y[E]:u>4?void 0:{get:y.get,set:y.set}:s,c),l._=1,u^4||a===void 0?Pn(a)&&(u>4?_.unshift(a):u?g?o=a:y[E]=a:s=a):typeof a!="object"||a===null?gn("Object expected"):(Pn(i=a.get)&&(y.get=i),Pn(i=a.set)&&(y.set=i),Pn(i=a.init)&&_.unshift(i));return u||al(e,s),y&&Lo(s,n,y),g?u^4?o:y:s},To=(e,t,n)=>t.has(e)||gn("Cannot "+n),kd=(e,t)=>Object(t)!==t?gn('Cannot use the "in" operator on this value'):e.has(t),rt=(e,t,n)=>(To(e,t,"read from private field"),n?n.call(e):t.get(e)),An=(e,t,n)=>t.has(e)?gn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n,r)=>(To(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),jd=(e,t,n)=>(To(e,t,"access private method"),n);function $r(e,t){if(t){let n;return Li(()=>{const r=e();return r&&n&&t(n,r)?n:(n=r,r)})}return Li(e)}function Ws(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e=="function"&&typeof t=="function")return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((r,s)=>!Ws(r,t[s]));if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:!n.some(o=>!Ws(e[o],t[o]))}return!1}function ce({get:e},t){return{init(n){return sr(n)},get(){return e.call(this).value},set(n){const r=e.call(this);r.peek()!==n&&(r.value=n)}}}function $e(e,t){const n=new WeakMap;return function(){let r=n.get(this);return r||(r=$r(e.bind(this)),n.set(this,r)),r.value}}function gs(e=!0){return function(t,n){n.addInitializer(function(){const r=n.kind==="field"?this:n.static?this:Object.getPrototypeOf(this),s=Object.getOwnPropertyDescriptor(r,n.name);s&&Object.defineProperty(r,n.name,Sd(wd({},s),{enumerable:e}))})}}function ir(...e){const t=e.map(pt);return()=>t.forEach(n=>n())}var ll,cl,ul,dl,fl,pl,He,No,ms,Hs,Zs,Re,zo,ys,hl,Us,Ro,_s,Vs,qs;pl=[ce],fl=[ce],dl=[ce],ul=[gs()],cl=[gs()],ll=[gs()];var yn=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,Wt(He,5,this),An(this,Re),An(this,No,Wt(He,8,this)),Wt(He,11,this),An(this,zo,Wt(He,12,this)),Wt(He,15,this),An(this,Ro,Wt(He,16,this)),Wt(He,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return rt(this,Re,Vs)}get initial(){return rt(this,Re,Hs)}get previous(){return rt(this,Re,hl)}set current(e){const t=me(()=>rt(this,Re,Vs));e&&t&&this.equals(t,e)||un(()=>{rt(this,Re,Hs)||Tt(this,Re,e,Zs),Tt(this,Re,t,Us),Tt(this,Re,e,qs)})}reset(e=this.defaultValue){un(()=>{Tt(this,Re,void 0,Us),Tt(this,Re,e,Zs),Tt(this,Re,e,qs)})}};He=Id();No=new WeakMap;Re=new WeakSet;zo=new WeakMap;Ro=new WeakMap;ms=mn(He,20,"#initial",pl,Re,No),Hs=ms.get,Zs=ms.set;ys=mn(He,20,"#previous",fl,Re,zo),hl=ys.get,Us=ys.set;_s=mn(He,20,"#current",dl,Re,Ro),Vs=_s.get,qs=_s.set;mn(He,2,"current",ul,yn);mn(He,2,"initial",cl,yn);mn(He,2,"previous",ll,yn);al(He,yn);function bs(e){return me(()=>{const t={};for(const n in e)t[n]=e[n];return t})}var Ht,dm=class{constructor(){An(this,Ht,new WeakMap)}get(e,t){var n;return e?(n=rt(this,Ht).get(e))==null?void 0:n.get(t):void 0}set(e,t,n){var r;if(e)return rt(this,Ht).has(e)||rt(this,Ht).set(e,new Map),(r=rt(this,Ht).get(e))==null?void 0:r.set(t,n)}clear(e){var t;return e?(t=rt(this,Ht).get(e))==null?void 0:t.clear():void 0}};Ht=new WeakMap;var Cd=Object.create,vl=Object.defineProperty,Dd=Object.getOwnPropertyDescriptor,Ui=Object.getOwnPropertySymbols,Pd=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,gl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ns=e=>{throw TypeError(e)},Vi=Math.pow,Ys=(e,t,n)=>t in e?vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Md=(e,t)=>{for(var n in t||(t={}))Pd.call(t,n)&&Ys(e,n,t[n]);if(Ui)for(var n of Ui(t))Ad.call(t,n)&&Ys(e,n,t[n]);return e},Od=e=>{var t;return[,,,Cd((t=e?.[gl("metadata")])!=null?t:null)]},ml=["class","method","getter","setter","accessor","field","value","get","set"],yl=e=>e!==void 0&&typeof e!="function"?ns("Function expected"):e,Ld=(e,t,n,r,s)=>({kind:ml[e],name:t,metadata:r,addInitializer:o=>n._?ns("Already initialized"):s.push(yl(o||null))}),Td=(e,t)=>Ys(t,gl("metadata"),e[3]),Nd=(e,t,n,r)=>{for(var s=0,o=e[t>>1],i=o&&o.length;s<i;s++)o[s].call(n);return r},_l=(e,t,n,r,s,o)=>{for(var i,a,l,c,d=t&7,u=!1,v=!1,g=2,h=ml[d+5],E=e[g]||(e[g]=[]),_=(s=s.prototype,Dd(s,n)),C=r.length-1;C>=0;C--)l=Ld(d,n,a={},e[3],E),l.static=u,l.private=v,c=l.access={has:y=>n in y},c.get=y=>y[n],i=(0,r[C])(_[h],l),a._=1,yl(i)&&(_[h]=i);return _&&vl(s,n,_),s},bl=(e,t,n)=>t.has(e)||ns("Cannot "+n),zd=(e,t,n)=>(bl(e,t,"read from private field"),t.get(e)),Rd=(e,t,n)=>t.has(e)?ns("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Fd=(e,t,n,r)=>(bl(e,t,"write to private field"),t.set(e,n),n),We=class Xs{constructor(t,n){this.x=t,this.y=n}static delta(t,n){return new Xs(t.x-n.x,t.y-n.y)}static distance(t,n){return Math.hypot(t.x-n.x,t.y-n.y)}static equals(t,n){return t.x===n.x&&t.y===n.y}static from({x:t,y:n}){return new Xs(t,n)}},Et=class Zt{constructor(t,n,r,s){this.left=t,this.top=n,this.width=r,this.height=s,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,n){const{top:r,left:s,width:o,height:i,scale:a}=this,l=new Zt(s+t,r+n,o,i);return l.scale=Md({},a),l}get boundingRectangle(){const{width:t,height:n,left:r,top:s,right:o,bottom:i}=this;return{width:t,height:n,left:r,top:s,right:o,bottom:i}}get center(){const{left:t,top:n,right:r,bottom:s}=this;return new We((t+r)/2,(n+s)/2)}get area(){const{width:t,height:n}=this;return t*n}equals(t){if(!(t instanceof Zt))return!1;const{left:n,top:r,width:s,height:o}=this;return n===t.left&&r===t.top&&s===t.width&&o===t.height}containsPoint(t){const{top:n,left:r,bottom:s,right:o}=this;return n<=t.y&&t.y<=s&&r<=t.x&&t.x<=o}intersectionArea(t){return t instanceof Zt?$d(this,t):0}intersectionRatio(t){const{area:n}=this,r=this.intersectionArea(t);return r/(t.area+n-r)}get bottom(){const{top:t,height:n}=this;return t+n}get right(){const{left:t,width:n}=this;return t+n}get aspectRatio(){const{width:t,height:n}=this;return t/n}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:n,width:r,height:s}){return new Zt(n,t,r,s)}static delta(t,n,r={x:"center",y:"center"}){const s=(o,i)=>{const a=r[i],l=i==="x"?o.left:o.top,c=i==="x"?o.width:o.height;return a=="start"?l:a=="end"?l+c:l+c/2};return We.delta({x:s(t,"x"),y:s(t,"y")},{x:s(n,"x"),y:s(n,"y")})}static intersectionRatio(t,n){return Zt.from(t).intersectionRatio(Zt.from(n))}};function $d(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),i=s-r,a=o-n;return r<s&&n<o?i*a:0}var xl,wl,Ks,Ir,ar,rs=class extends(Ks=yn,wl=[$e],xl=[$e],Ks){constructor(e){const t=We.from(e);super(t,(n,r)=>We.equals(n,r)),Nd(ar,5,this),Rd(this,Ir,0),this.velocity={x:0,y:0}}get delta(){return We.delta(this.current,this.initial)}get direction(){const{current:e,previous:t}=this;if(!t)return null;const n={x:e.x-t.x,y:e.y-t.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?"right":"left":n.y>0?"down":"up"}get current(){return super.current}set current(e){const{current:t}=this,n=We.from(e),r={x:n.x-t.x,y:n.y-t.y},s=Date.now(),o=s-zd(this,Ir),i=a=>Math.round(a/o*100);un(()=>{Fd(this,Ir,s),this.velocity={x:i(r.x),y:i(r.y)},super.current=n})}reset(e=this.defaultValue){super.reset(We.from(e)),this.velocity={x:0,y:0}}};ar=Od(Ks);Ir=new WeakMap;_l(ar,2,"delta",wl,rs);_l(ar,2,"direction",xl,rs);Td(ar,rs);function xs({x:e,y:t},n){const r=Math.abs(e),s=Math.abs(t);return typeof n=="number"?Math.sqrt(Vi(r,2)+Vi(s,2))>n:"x"in n&&"y"in n?r>n.x&&s>n.y:"x"in n?r>n.x:"y"in n?s>n.y:!1}var Sl=(e=>(e.Horizontal="x",e.Vertical="y",e))(Sl||{}),Il=Object.values(Sl),Bd=Object.create,Fo=Object.defineProperty,Wd=Object.defineProperties,Hd=Object.getOwnPropertyDescriptor,Zd=Object.getOwnPropertyDescriptors,Br=Object.getOwnPropertySymbols,El=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable,jl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),_n=e=>{throw TypeError(e)},Gs=(e,t,n)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cl=(e,t)=>{for(var n in t||(t={}))El.call(t,n)&&Gs(e,n,t[n]);if(Br)for(var n of Br(t))kl.call(t,n)&&Gs(e,n,t[n]);return e},Dl=(e,t)=>Wd(e,Zd(t)),qi=(e,t)=>Fo(e,"name",{value:t,configurable:!0}),Pl=(e,t)=>{var n={};for(var r in e)El.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Br)for(var r of Br(e))t.indexOf(r)<0&&kl.call(e,r)&&(n[r]=e[r]);return n},bn=e=>{var t;return[,,,Bd((t=e?.[jl("metadata")])!=null?t:null)]},Al=["class","method","getter","setter","accessor","field","value","get","set"],Mn=e=>e!==void 0&&typeof e!="function"?_n("Function expected"):e,Ud=(e,t,n,r,s)=>({kind:Al[e],name:t,metadata:r,addInitializer:o=>n._?_n("Already initialized"):s.push(Mn(o||null))}),Kt=(e,t)=>Gs(t,jl("metadata"),e[3]),ne=(e,t,n,r)=>{for(var s=0,o=e[t>>1],i=o&&o.length;s<i;s++)t&1?o[s].call(n):r=o[s].call(n,r);return r},ae=(e,t,n,r,s,o)=>{var i,a,l,c,d,u=t&7,v=!!(t&8),g=!!(t&16),h=u>3?e.length+1:u?v?1:2:0,E=Al[u+5],_=u>3&&(e[h-1]=[]),C=e[h]||(e[h]=[]),y=u&&(!g&&!v&&(s=s.prototype),u<5&&(u>3||!g)&&Hd(u<4?s:{get[n](){return Le(this,o)},set[n](x){return lt(this,o,x)}},n));u?g&&u<4&&qi(o,(u>2?"set ":u>1?"get ":"")+n):qi(s,n);for(var S=r.length-1;S>=0;S--)c=Ud(u,n,l={},e[3],C),u&&(c.static=v,c.private=g,d=c.access={has:g?x=>Vd(s,x):x=>n in x},u^3&&(d.get=g?x=>(u^1?Le:qd)(x,s,u^4?o:y.get):x=>x[n]),u>2&&(d.set=g?(x,A)=>lt(x,s,A,u^4?o:y.set):(x,A)=>x[n]=A)),a=(0,r[S])(u?u<4?g?o:y[E]:u>4?void 0:{get:y.get,set:y.set}:s,c),l._=1,u^4||a===void 0?Mn(a)&&(u>4?_.unshift(a):u?g?o=a:y[E]=a:s=a):typeof a!="object"||a===null?_n("Object expected"):(Mn(i=a.get)&&(y.get=i),Mn(i=a.set)&&(y.set=i),Mn(i=a.init)&&_.unshift(i));return u||Kt(e,s),y&&Fo(s,n,y),g?u^4?o:y:s},$o=(e,t,n)=>t.has(e)||_n("Cannot "+n),Vd=(e,t)=>Object(t)!==t?_n('Cannot use the "in" operator on this value'):e.has(t),Le=(e,t,n)=>($o(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?_n("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),lt=(e,t,n,r)=>($o(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qd=(e,t,n)=>($o(e,t,"access private method"),n);function Ml(e,t){return{plugin:e,options:t}}function Bo(e){return t=>Ml(e,t)}function Wo(e){return typeof e=="function"?{plugin:e,options:void 0}:e}var Ol,qn,Ho,Er;Ol=[ce];var Ue=class{constructor(e,t){this.manager=e,this.options=t,pe(this,Ho,ne(qn,8,this,!1)),ne(qn,11,this),pe(this,Er,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return me(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){const t=pt(e.bind(this));return Le(this,Er).add(t),t}destroy(){Le(this,Er).forEach(e=>e())}static configure(e){return Ml(this,e)}};qn=bn(null);Ho=new WeakMap;Er=new WeakMap;ae(qn,4,"disabled",Ol,Ue,Ho);Kt(qn,Ue);var ss=class extends Ue{},kr,ws=class{constructor(e){this.manager=e,this.instances=new Map,pe(this,kr,[])}get values(){return Array.from(this.instances.values())}set values(e){const t=e.map(Wo).reduceRight((r,s)=>r.some(({plugin:o})=>o===s.plugin)?r:[s,...r],[]),n=t.map(({plugin:r})=>r);for(const r of Le(this,kr))if(!n.includes(r)){if(r.prototype instanceof ss)continue;this.unregister(r)}for(const{plugin:r,options:s}of t)this.register(r,s);lt(this,kr,n)}get(e){return this.instances.get(e)}register(e,t){const n=this.instances.get(e);if(n)return n.options!==t&&(n.options=t),n;const r=new e(this.manager,t);return this.instances.set(e,r),r}unregister(e){const t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(const e of this.instances.values())e.destroy();this.instances.clear()}};kr=new WeakMap;function Yd(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var fr=[],tn,nn,Xd=class extends Ue{constructor(e){super(e),pe(this,tn),pe(this,nn),this.computeCollisions=this.computeCollisions.bind(this),lt(this,nn,sr(fr)),this.destroy=ir(()=>{const t=this.computeCollisions(),n=me(()=>this.manager.dragOperation.position.current);if(t!==fr){const r=Le(this,tn);if(lt(this,tn,n),r&&n.x==r.x&&n.y==r.y)return}else lt(this,tn,void 0);Le(this,nn).value=t},()=>{const{dragOperation:t}=this.manager;t.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){me(()=>{e?Le(this,nn).value=this.computeCollisions():lt(this,tn,void 0)})}computeCollisions(e,t){const{registry:n,dragOperation:r}=this.manager,{source:s,shape:o,status:i}=r;if(!i.initialized||!o)return fr;const a=[],l=[];for(const c of e??n.droppables){if(c.disabled||s&&!c.accepts(s))continue;const d=t??c.collisionDetector;if(!d)continue;l.push(c),c.shape;const u=me(()=>d({droppable:c,dragOperation:r}));u&&(c.collisionPriority!=null&&(u.priority=c.collisionPriority),a.push(u))}return l.length===0?fr:(a.sort(Yd),a)}get collisions(){return Le(this,nn).value}};tn=new WeakMap;nn=new WeakMap;var Kd=class{constructor(){this.registry=new Map}addEventListener(t,n){const{registry:r}=this,s=new Set(r.get(t));return s.add(n),r.set(t,s),()=>this.removeEventListener(t,n)}removeEventListener(t,n){const{registry:r}=this,s=new Set(r.get(t));s.delete(n),r.set(t,s)}dispatch(t,...n){const{registry:r}=this,s=r.get(t);if(s)for(const o of s)o(...n)}},Gd=class extends Kd{constructor(e){super(),this.manager=e}dispatch(e,t){const n=[t,this.manager];super.dispatch(e,...n)}};function jr(e,t=!0){let n=!1;return Dl(Cl({},e),{cancelable:t,get defaultPrevented(){return n},preventDefault(){t&&(n=!0)}})}var Jd=class extends ss{constructor(e){super(e);const t=(r,s)=>r.map(({id:o})=>o).join("")===s.map(({id:o})=>o).join("");let n=[];this.destroy=ir(()=>{const{dragOperation:r,collisionObserver:s}=e;r.status.initializing&&(n=[],s.enable())},()=>{const{collisionObserver:r,monitor:s}=e,{collisions:o}=r;if(r.isDisabled())return;const i=jr({collisions:o});if(s.dispatch("collision",i),i.defaultPrevented||t(o,n))return;n=o;const[a]=o;me(()=>{var l;a?.id!==((l=e.dragOperation.target)==null?void 0:l.id)&&(r.disable(),e.actions.setDropTarget(a?.id).then(()=>{r.enable()}))})})}},mt=(e=>(e[e.Lowest=0]="Lowest",e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Highest=4]="Highest",e))(mt||{}),$t=(e=>(e[e.Collision=0]="Collision",e[e.ShapeIntersection=1]="ShapeIntersection",e[e.PointerIntersection=2]="PointerIntersection",e))($t||{}),Ll,Tl,Nl,zl,Rl,Fl,$l,ot,Zo;$l=[ce],Fl=[$e],Rl=[$e],zl=[$e],Nl=[$e],Tl=[$e],Ll=[$e];var kt=class{constructor(){ne(ot,5,this),pe(this,Zo,ne(ot,8,this,"idle")),ne(ot,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:e}=this;return e!=="idle"&&e!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(e){this.value=e}};ot=bn(null);Zo=new WeakMap;ae(ot,4,"value",$l,kt,Zo);ae(ot,2,"current",Fl,kt);ae(ot,2,"idle",Rl,kt);ae(ot,2,"initializing",zl,kt);ae(ot,2,"initialized",Nl,kt);ae(ot,2,"dragging",Tl,kt);ae(ot,2,"dropped",Ll,kt);Kt(ot,kt);var Qd=class{constructor(e){this.manager=e}setDragSource(e){const{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e=="string"||typeof e=="number"?e:e.id}setDropTarget(e){return me(()=>{const{dragOperation:t}=this.manager,n=e??null;if(t.targetIdentifier===n)return Promise.resolve(!1);t.targetIdentifier=n;const r=jr({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch("dragover",r),this.manager.renderer.rendering.then(()=>r.defaultPrevented)})}start(e){return me(()=>{const{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw new Error("Cannot start a drag operation without a drag source");if(!t.status.idle)throw new Error("Cannot start a drag operation while another is active");const r=new AbortController,{event:s,coordinates:o}=e;un(()=>{t.status.set("initialization-pending"),t.shape=null,t.canceled=!1,t.activatorEvent=s??null,t.position.reset(o)});const i=jr({operation:t.snapshot()});return this.manager.monitor.dispatch("beforedragstart",i),i.defaultPrevented?(t.reset(),r.abort(),r):(t.status.set("initializing"),t.controller=r,this.manager.renderer.rendering.then(()=>{if(r.signal.aborted)return;const{status:a}=t;a.current==="initializing"&&(t.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:s,operation:t.snapshot(),cancelable:!1}))}),r)})}move(e){return me(()=>{var t,n;const{dragOperation:r}=this.manager,{status:s,controller:o}=r;if(!s.dragging||!o||o.signal.aborted)return;const i=jr({nativeEvent:e.event,operation:r.snapshot(),by:e.by,to:e.to},(t=e.cancelable)!=null?t:!0);((n=e.propagate)==null||n)&&this.manager.monitor.dispatch("dragmove",i),queueMicrotask(()=>{var a,l,c,d,u;if(i.defaultPrevented)return;const v=(u=e.to)!=null?u:{x:r.position.current.x+((l=(a=e.by)==null?void 0:a.x)!=null?l:0),y:r.position.current.y+((d=(c=e.by)==null?void 0:c.y)!=null?d:0)};r.position.current=v})})}stop(e={}){return me(()=>{var t,n;const{dragOperation:r}=this.manager,{controller:s}=r;if(!s||s.signal.aborted)return;let o;const i=()=>{const l={resume:()=>{},abort:()=>{}};return o=new Promise((c,d)=>{l.resume=c,l.abort=d}),l};s.abort();const a=()=>{this.manager.renderer.rendering.then(()=>{r.status.set("dropped");const l=me(()=>{var d;return((d=r.source)==null?void 0:d.status)==="dropping"}),c=()=>{r.controller===s&&(r.controller=void 0),r.reset()};if(l){const{source:d}=r,u=pt(()=>{d?.status==="idle"&&(u(),c())})}else this.manager.renderer.rendering.then(c)})};r.canceled=(t=e.canceled)!=null?t:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:e.event,operation:r.snapshot(),canceled:(n=e.canceled)!=null?n:!1,suspend:i}),o?o.then(a).catch(()=>r.reset()):a()})}},Bl,Wl,Hl,Zl,Ye,Uo,Vo,qo,Yo;Zl=[ce],Hl=[ce],Wl=[ce],Bl=[ce];var Bt=class{constructor(e,t){pe(this,Uo,ne(Ye,8,this)),ne(Ye,11,this),pe(this,Vo,ne(Ye,12,this)),ne(Ye,15,this),pe(this,qo,ne(Ye,16,this)),ne(Ye,19,this),pe(this,Yo,ne(Ye,20,this)),ne(Ye,23,this);const{effects:n,id:r,data:s={},disabled:o=!1,register:i=!0}=e;let a=r;this.manager=t,this.id=r,this.data=s,this.disabled=o,this.effects=()=>{var l;return[()=>{const{id:c,manager:d}=this;if(c!==a)return d?.registry.register(this),()=>d?.registry.unregister(this)},...(l=n?.())!=null?l:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&i&&queueMicrotask(this.register)}register(){var e;return(e=this.manager)==null?void 0:e.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};Ye=bn(null);Uo=new WeakMap;Vo=new WeakMap;qo=new WeakMap;Yo=new WeakMap;ae(Ye,4,"manager",Zl,Bt,Uo);ae(Ye,4,"id",Hl,Bt,Vo);ae(Ye,4,"data",Wl,Bt,qo);ae(Ye,4,"disabled",Bl,Bt,Yo);Kt(Ye,Bt);var Yi=class{constructor(){this.map=sr(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{const n=this.map.peek(),r=n.get(e),s=()=>this.unregister(e,t);if(r===t)return s;if(r){const a=this.cleanupFunctions.get(r);a?.(),this.cleanupFunctions.delete(r)}const o=new Map(n);o.set(e,t),this.map.value=o;const i=ir(...t.effects());return this.cleanupFunctions.set(t,i),s},this.unregister=(e,t)=>{const n=this.map.peek();if(n.get(e)!==t)return;const r=this.cleanupFunctions.get(t);r?.(),this.cleanupFunctions.delete(t);const s=new Map(n);s.delete(e),this.map.value=s}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(const e of this){const t=this.cleanupFunctions.get(e);t?.(),e.destroy()}this.map.value=new Map}},Ul,Vl,ql,Yl,Xl,Kl,Js,Ze,Xo,Ko,Go,yt=class extends(Js=Bt,Kl=[ce],Xl=[ce],Yl=[ce],ql=[$e],Vl=[$e],Ul=[$e],Js){constructor(t,n){var r=t,{modifiers:s,type:o,sensors:i}=r,a=Pl(r,["modifiers","type","sensors"]);super(a,n),ne(Ze,5,this),pe(this,Xo,ne(Ze,8,this)),ne(Ze,11,this),pe(this,Ko,ne(Ze,12,this)),ne(Ze,15,this),pe(this,Go,ne(Ze,16,this,this.isDragSource?"dragging":"idle")),ne(Ze,19,this),this.type=o,this.sensors=i,this.modifiers=s,this.alignment=a.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var t,n;return((n=(t=this.manager)==null?void 0:t.dragOperation.source)==null?void 0:n.id)===this.id}};Ze=bn(Js);Xo=new WeakMap;Ko=new WeakMap;Go=new WeakMap;ae(Ze,4,"type",Kl,yt,Xo);ae(Ze,4,"modifiers",Xl,yt,Ko);ae(Ze,4,"status",Yl,yt,Go);ae(Ze,2,"isDropping",ql,yt);ae(Ze,2,"isDragging",Vl,yt);ae(Ze,2,"isDragSource",Ul,yt);Kt(Ze,yt);var Gl,Jl,Ql,ec,tc,nc,Qs,ke,Jo,Qo,ei,ti,ni,_t=class extends(Qs=Bt,nc=[ce],tc=[ce],ec=[ce],Ql=[ce],Jl=[ce],Gl=[$e],Qs){constructor(t,n){var r=t,{accept:s,collisionDetector:o,collisionPriority:i,type:a}=r,l=Pl(r,["accept","collisionDetector","collisionPriority","type"]);super(l,n),ne(ke,5,this),pe(this,Jo,ne(ke,8,this)),ne(ke,11,this),pe(this,Qo,ne(ke,12,this)),ne(ke,15,this),pe(this,ei,ne(ke,16,this)),ne(ke,19,this),pe(this,ti,ne(ke,20,this)),ne(ke,23,this),pe(this,ni,ne(ke,24,this)),ne(ke,27,this),this.accept=s,this.collisionDetector=o,this.collisionPriority=i,this.type=a}accepts(t){const{accept:n}=this;return n?typeof n=="function"?n(t):t.type?Array.isArray(n)?n.includes(t.type):t.type===n:!1:!0}get isDropTarget(){var t,n;return((n=(t=this.manager)==null?void 0:t.dragOperation.target)==null?void 0:n.id)===this.id}};ke=bn(Qs);Jo=new WeakMap;Qo=new WeakMap;ei=new WeakMap;ti=new WeakMap;ni=new WeakMap;ae(ke,4,"accept",nc,_t,Jo);ae(ke,4,"type",tc,_t,Qo);ae(ke,4,"collisionDetector",ec,_t,ei);ae(ke,4,"collisionPriority",Ql,_t,ti);ae(ke,4,"shape",Jl,_t,ni);ae(ke,2,"isDropTarget",Gl,_t);Kt(ke,_t);var dn=class extends Ue{constructor(e,t){super(e,t),this.manager=e,this.options=t}},Xi=class extends Ue{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},ef=class{constructor(e){this.draggables=new Yi,this.droppables=new Yi,this.plugins=new ws(e),this.sensors=new ws(e),this.modifiers=new ws(e)}register(e,t){if(e instanceof yt)return this.draggables.register(e.id,e);if(e instanceof _t)return this.droppables.register(e.id,e);if(e.prototype instanceof Xi)return this.modifiers.register(e,t);if(e.prototype instanceof dn)return this.sensors.register(e,t);if(e.prototype instanceof Ue)return this.plugins.register(e,t);throw new Error("Invalid instance type")}unregister(e){if(e instanceof Bt)return e instanceof yt?this.draggables.unregister(e.id,e):e instanceof _t?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof Xi)return this.modifiers.unregister(e);if(e.prototype instanceof dn)return this.sensors.unregister(e);if(e.prototype instanceof Ue)return this.plugins.unregister(e);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},rc,sc,oc,ic,ac,lc,cc,uc,dc,On,Cr,rn,xe,ri,si,oi,ii,ai,Ln;dc=[$e],uc=[ce],cc=[ce],lc=[ce],ac=[ce],ic=[ce],oc=[$e],sc=[$e],rc=[$e];var ht=class{constructor(e){ne(xe,5,this),pe(this,On),pe(this,Cr),pe(this,rn,new yn(void 0,(t,n)=>t&&n?t.equals(n):t===n)),this.status=new kt,pe(this,ri,ne(xe,8,this,!1)),ne(xe,11,this),pe(this,si,ne(xe,12,this,null)),ne(xe,15,this),pe(this,oi,ne(xe,16,this,null)),ne(xe,19,this),pe(this,ii,ne(xe,20,this,null)),ne(xe,23,this),pe(this,ai,ne(xe,24,this,[])),ne(xe,27,this),this.position=new rs({x:0,y:0}),pe(this,Ln,{x:0,y:0}),lt(this,On,e)}get shape(){const{current:e,initial:t,previous:n}=Le(this,rn);return!e||!t?null:{current:e,initial:t,previous:n}}set shape(e){e?Le(this,rn).current=e:Le(this,rn).reset()}get source(){var e;const t=this.sourceIdentifier;if(t==null)return null;const n=Le(this,On).registry.draggables.get(t);return n&&lt(this,Cr,n),(e=n??Le(this,Cr))!=null?e:null}get target(){var e;const t=this.targetIdentifier;return t!=null&&(e=Le(this,On).registry.droppables.get(t))!=null?e:null}get transform(){const{x:e,y:t}=this.position.delta;let n={x:e,y:t};for(const r of this.modifiers)n=r.apply(Dl(Cl({},this.snapshot()),{transform:n}));return lt(this,Ln,n),n}snapshot(){return me(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:Le(this,Ln),shape:this.shape?bs(this.shape):null,position:bs(this.position),status:bs(this.status),canceled:this.canceled}))}reset(){un(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,Le(this,rn).reset(),this.position.reset({x:0,y:0}),lt(this,Ln,{x:0,y:0}),this.modifiers=[]})}};xe=bn(null);On=new WeakMap;Cr=new WeakMap;rn=new WeakMap;ri=new WeakMap;si=new WeakMap;oi=new WeakMap;ii=new WeakMap;ai=new WeakMap;Ln=new WeakMap;ae(xe,2,"shape",dc,ht);ae(xe,4,"canceled",uc,ht,ri);ae(xe,4,"activatorEvent",cc,ht,si);ae(xe,4,"sourceIdentifier",lc,ht,oi);ae(xe,4,"targetIdentifier",ac,ht,ii);ae(xe,4,"modifiers",ic,ht,ai);ae(xe,2,"source",oc,ht);ae(xe,2,"target",sc,ht);ae(xe,2,"transform",rc,ht);Kt(xe,ht);var tf={get rendering(){return Promise.resolve()}},nf=class{constructor(t){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(d=>d.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:n=[],sensors:r=[],modifiers:s=[],renderer:o=tf}=t??{},i=new Gd(this),a=new ef(this);this.registry=a,this.monitor=i,this.renderer=o,this.actions=new Qd(this),this.dragOperation=new ht(this),this.collisionObserver=new Xd(this),this.plugins=[Jd,...n],this.modifiers=s,this.sensors=r;const{destroy:l}=this,c=ir(()=>{var d,u,v;const g=me(()=>this.dragOperation.modifiers),h=this.modifiers;g!==h&&g.forEach(E=>E.destroy()),this.dragOperation.modifiers=(v=(u=(d=this.dragOperation.source)==null?void 0:d.modifiers)==null?void 0:u.map(E=>{const{plugin:_,options:C}=Wo(E);return new _(this,C)}))!=null?v:h});this.destroy=()=>{c(),l()}}get plugins(){return this.registry.plugins.values}set plugins(t){this.registry.plugins.values=t}get modifiers(){return this.registry.modifiers.values}set modifiers(t){this.registry.modifiers.values=t}get sensors(){return this.registry.sensors.values}set sensors(t){this.registry.sensors.values=t}},fc=e=>{throw TypeError(e)},li=(e,t,n)=>t.has(e)||fc("Cannot "+n),re=(e,t,n)=>(li(e,t,"read from private field"),t.get(e)),qe=(e,t,n)=>t.has(e)?fc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ge=(e,t,n,r)=>(li(e,t,"write to private field"),t.set(e,n),n),pc=(e,t,n)=>(li(e,t,"access private method"),n);function os(e){return e?e instanceof KeyframeEffect?!0:"getKeyframes"in e&&typeof e.getKeyframes=="function":!1}function hc(e,t){const n=e.getAnimations();if(n.length>0)for(const r of n){if(r.playState!=="running")continue;const{effect:s}=r,i=(os(s)?s.getKeyframes():[]).filter(t);if(i.length>0)return[i[i.length-1],r]}return null}function is(e){const{width:t,height:n,top:r,left:s,bottom:o,right:i}=e.getBoundingClientRect();return{width:t,height:n,top:r,left:s,bottom:o,right:i}}var vc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ci(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ui(e){return"nodeType"in e}function jt(e){var t,n,r;return e?ci(e)?e:ui(e)?"defaultView"in e?(t=e.defaultView)!=null?t:window:(r=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?r:window:window:window}function gc(e){const{Document:t}=jt(e);return e instanceof t||"nodeType"in e&&e.nodeType===Node.DOCUMENT_NODE}function Xt(e){return!e||ci(e)?!1:e instanceof jt(e).HTMLElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("html")}function mc(e){return e instanceof jt(e).SVGElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("svg")}function bt(e){return e?ci(e)?e.document:ui(e)?gc(e)?e:Xt(e)||mc(e)?e.ownerDocument:document:document:document}function rf(e){const{documentElement:t}=bt(e),n=t.clientWidth,r=t.clientHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function sf(e,t){if(of(e)&&e.open===!1)return!1;const{overflow:n,overflowX:r,overflowY:s}=getComputedStyle(e);return n==="visible"&&r==="visible"&&s==="visible"}function of(e){return e.tagName==="DETAILS"}function Wr(e,t=e.getBoundingClientRect(),n=0){var r;let s=t;const{ownerDocument:o}=e,i=(r=o.defaultView)!=null?r:window;let a=e.parentElement;for(;a&&a!==o.documentElement;){if(!sf(a)){const v=a.getBoundingClientRect(),g=n*(v.bottom-v.top),h=n*(v.right-v.left),E=n*(v.bottom-v.top),_=n*(v.right-v.left);s={top:Math.max(s.top,v.top-g),right:Math.min(s.right,v.right+h),bottom:Math.min(s.bottom,v.bottom+E),left:Math.max(s.left,v.left-_),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top}a=a.parentElement}const l=i.innerWidth,c=i.innerHeight,d=n*c,u=n*l;return s={top:Math.max(s.top,0-d),right:Math.min(s.right,l+u),bottom:Math.min(s.bottom,c+d),left:Math.max(s.left,0-u),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0&&(s.width=0),s.height<0&&(s.height=0),s}function yc(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function af(e){const t="input, textarea, select, canvas, [contenteditable]",n=e.cloneNode(!0),r=Array.from(e.querySelectorAll(t));return Array.from(n.querySelectorAll(t)).forEach((o,i)=>{const a=r[i];if(Ki(o)&&Ki(a)&&(o.type!=="file"&&(o.value=a.value),o.type==="radio"&&o.name&&(o.name=`Cloned__${o.name}`)),Gi(o)&&Gi(a)&&a.width>0&&a.height>0){const l=o.getContext("2d");l?.drawImage(a,0,0)}}),n}function Ki(e){return"value"in e}function Gi(e){return e.tagName==="CANVAS"}function _c(e,{x:t,y:n}){const r=e.elementFromPoint(t,n);if(lf(r)){const{contentDocument:s}=r;if(s){const{left:o,top:i}=r.getBoundingClientRect();return _c(s,{x:t-o,y:n-i})}}return r}function lf(e){return e?.tagName==="IFRAME"}var Ji=new WeakMap,bc=class{constructor(){this.entries=new Set,this.clear=()=>{for(const e of this.entries){const[t,{type:n,listener:r,options:s}]=e;t.removeEventListener(n,r,s)}this.entries.clear()}}bind(e,t){const n=Array.isArray(t)?t:[t],r=[];for(const s of n){const{type:o,listener:i,options:a}=s,l=[e,s];e.addEventListener(o,i,a),this.entries.add(l),r.push(l)}return function(){for(const[o,{type:i,listener:a,options:l}]of r)o.removeEventListener(i,a,l)}}};function fn(e){const t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function cf(e){const t=new Set;let n=fn(e);for(;n;)t.add(n),n=fn(n);return t}function uf(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)}function xc(e,t){const n=()=>performance.now();let r,s;return function(...o){const i=this;s?(r?.(),r=uf(()=>{e.apply(i,o),s=n()},t-(n()-s))):(e.apply(i,o),s=n())}}function df(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function ff(e,t=e.getBoundingClientRect()){const{width:n,height:r}=Wr(e,t);return n>0&&r>0}var pf=vc?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Dr,hf=class extends pf{constructor(e){super(t=>{if(!re(this,Dr)){Ge(this,Dr,!0);return}e(t,this)}),qe(this,Dr,!1)}};Dr=new WeakMap;var Qi=Array.from({length:100},(e,t)=>t/100),wc=75,Ut,Hr,Ot,Vt,Tn,Oe,Hn,Nn,Zr,Sc,Ic,Ec=class{constructor(e,t,n={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,qe(this,Zr),this.disconnect=()=>{var o,i,a;Ge(this,Hn,!0),(o=re(this,Ot))==null||o.disconnect(),(i=re(this,Vt))==null||i.disconnect(),re(this,Tn).disconnect(),(a=re(this,Oe))==null||a.remove()},qe(this,Ut,!0),qe(this,Hr),qe(this,Ot),qe(this,Vt),qe(this,Tn),qe(this,Oe),qe(this,Hn,!1),qe(this,Nn,xc(()=>{var o,i,a;const{element:l}=this;if((o=re(this,Vt))==null||o.disconnect(),re(this,Hn)||!re(this,Ut)||!l.isConnected)return;const c=(i=l.ownerDocument)!=null?i:document,{innerHeight:d,innerWidth:u}=(a=c.defaultView)!=null?a:window,v=l.getBoundingClientRect(),g=Wr(l,v),{top:h,left:E,bottom:_,right:C}=g,y=-Math.floor(h),S=-Math.floor(E),x=-Math.floor(u-C),A=-Math.floor(d-_),w=`${y}px ${x}px ${A}px ${S}px`;this.boundingClientRect=v,Ge(this,Vt,new IntersectionObserver(P=>{const[m]=P,{intersectionRect:I}=m;(m.intersectionRatio!==1?m.intersectionRatio:Et.intersectionRatio(I,Wr(l)))!==1&&re(this,Nn).call(this)},{threshold:Qi,rootMargin:w,root:c})),re(this,Vt).observe(l),pc(this,Zr,Sc).call(this)},wc)),this.boundingClientRect=e.getBoundingClientRect(),Ge(this,Ut,ff(e,this.boundingClientRect));let r=!0;this.callback=o=>{r&&(r=!1,n.skipInitial)||t(o)};const s=e.ownerDocument;n?.debug&&(Ge(this,Oe,document.createElement("div")),re(this,Oe).style.background="rgba(0,0,0,0.15)",re(this,Oe).style.position="fixed",re(this,Oe).style.pointerEvents="none",s.body.appendChild(re(this,Oe))),Ge(this,Tn,new IntersectionObserver(o=>{var i,a;const l=o[o.length-1],{boundingClientRect:c,isIntersecting:d}=l,{width:u,height:v}=c,g=re(this,Ut);Ge(this,Ut,d),!(!u&&!v)&&(g&&!d?((i=re(this,Vt))==null||i.disconnect(),this.callback(null),(a=re(this,Ot))==null||a.disconnect(),Ge(this,Ot,void 0),re(this,Oe)&&(re(this,Oe).style.visibility="hidden")):re(this,Nn).call(this),d&&!re(this,Ot)&&(Ge(this,Ot,new hf(re(this,Nn))),re(this,Ot).observe(e)))},{threshold:Qi,root:s})),re(this,Ut)&&!n.skipInitial&&this.callback(this.boundingClientRect),re(this,Tn).observe(e)}};Ut=new WeakMap;Hr=new WeakMap;Ot=new WeakMap;Vt=new WeakMap;Tn=new WeakMap;Oe=new WeakMap;Hn=new WeakMap;Nn=new WeakMap;Zr=new WeakSet;Sc=function(){re(this,Hn)||(pc(this,Zr,Ic).call(this),!df(this.boundingClientRect,re(this,Hr))&&(this.callback(this.boundingClientRect),Ge(this,Hr,this.boundingClientRect)))};Ic=function(){if(re(this,Oe)){const{top:e,left:t,width:n,height:r}=Wr(this.element);re(this,Oe).style.overflow="hidden",re(this,Oe).style.visibility="visible",re(this,Oe).style.top=`${Math.floor(e)}px`,re(this,Oe).style.left=`${Math.floor(t)}px`,re(this,Oe).style.width=`${Math.floor(n)}px`,re(this,Oe).style.height=`${Math.floor(r)}px`}};var pr=new WeakMap,hr=new WeakMap;function vf(e,t){let n=pr.get(e);return n||(n={disconnect:new Ec(e,s=>{const o=pr.get(e);o&&o.callbacks.forEach(i=>i(s))},{skipInitial:!0}).disconnect,callbacks:new Set}),n.callbacks.add(t),pr.set(e,n),()=>{n.callbacks.delete(t),n.callbacks.size===0&&(pr.delete(e),n.disconnect())}}function gf(e,t){const n=new Set;for(const r of e){const s=vf(r,t);n.add(s)}return()=>n.forEach(r=>r())}function mf(e,t){var n;const r=e.ownerDocument;if(!hr.has(r)){const i=new AbortController,a=new Set;document.addEventListener("scroll",l=>a.forEach(c=>c(l)),{capture:!0,passive:!0,signal:i.signal}),hr.set(r,{disconnect:()=>i.abort(),listeners:a})}const{listeners:s,disconnect:o}=(n=hr.get(r))!=null?n:{};return!s||!o?()=>{}:(s.add(t),()=>{s.delete(t),s.size===0&&(o(),hr.delete(r))})}var zn,Rn,Pr,eo,yf=class{constructor(e,t,n){this.callback=t,qe(this,zn),qe(this,Rn,!1),qe(this,Pr),qe(this,eo,xc(i=>{if(!re(this,Rn)&&i.target&&"contains"in i.target&&typeof i.target.contains=="function"){for(const a of re(this,Pr))if(i.target.contains(a)){this.callback(re(this,zn).boundingClientRect);break}}},wc));const r=cf(e),s=gf(r,t),o=mf(e,re(this,eo));Ge(this,Pr,r),Ge(this,zn,new Ec(e,t,n)),this.disconnect=()=>{re(this,Rn)||(Ge(this,Rn,!0),s(),o(),re(this,zn).disconnect())}}};zn=new WeakMap;Rn=new WeakMap;Pr=new WeakMap;eo=new WeakMap;function to(e){return"showPopover"in e&&"hidePopover"in e&&typeof e.showPopover=="function"&&typeof e.hidePopover=="function"}function Fn(e){try{to(e)&&e.isConnected&&e.hasAttribute("popover")&&!e.matches(":popover-open")&&e.showPopover()}catch{}}function ea(e){return!vc||!e?!1:e===bt(e).scrollingElement}function kc(e){const t=jt(e),n=ea(e)?rf(e):is(e),r=ea(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-r.width,y:e.scrollHeight-r.height}},o=s.current.y<=0,i=s.current.x<=0,a=s.current.y>=s.max.y,l=s.current.x>=s.max.x;return{rect:n,position:s,isTop:o,isLeft:i,isBottom:a,isRight:l}}function _f(e,t){const{isTop:n,isBottom:r,isLeft:s,isRight:o,position:i}=kc(e),{x:a,y:l}=t??{x:0,y:0},c=!n&&i.current.y+l>0,d=!r&&i.current.y+l<i.max.y,u=!s&&i.current.x+a>0,v=!o&&i.current.x+a<i.max.x;return{top:c,bottom:d,left:u,right:v,x:u||v,y:c||d}}var di=class{constructor(t){this.scheduler=t,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:n,resolvers:r}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const s of n)s();for(const s of r)s()}}schedule(t){return this.tasks.add(t),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(n=>this.resolvers.add(n))}},Ur=new di(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),bf=new di(e=>setTimeout(e,50)),Vr=new Map,xf=Vr.clear.bind(Vr);function xt(e,t=!1){if(!t)return ta(e);let n=Vr.get(e);return n||(n=ta(e),Vr.set(e,n),bf.schedule(xf),n)}function ta(e){return jt(e).getComputedStyle(e)}function wf(e,t=xt(e,!0)){return t.position==="fixed"||t.position==="sticky"}function Sf(e,t=xt(e,!0)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?n.test(o):!1})}var If={excludeElement:!0};function no(e,t=If){const{limit:n,excludeElement:r}=t,s=new Set;function o(i){if(n!=null&&s.size>=n||!i)return s;if(gc(i)&&i.scrollingElement!=null&&!s.has(i.scrollingElement))return s.add(i.scrollingElement),s;if(!Xt(i))return mc(i)?o(i.parentElement):s;if(s.has(i))return s;const a=xt(i,!0);if(r&&i===e||Sf(i,a)&&s.add(i),wf(i,a)){const{scrollingElement:l}=i.ownerDocument;return l&&s.add(l),s}return o(i.parentNode)}return e?o(e):s}function Ef(e){const[t]=no(e,{limit:1});return t??null}function pn(e,t=window.frameElement){const n={x:0,y:0,scaleX:1,scaleY:1};if(!e)return n;let r=fn(e);for(;r;){if(r===t)return n;const s=is(r),{x:o,y:i}=kf(r,s);n.x=n.x+s.left,n.y=n.y+s.top,n.scaleX=n.scaleX*o,n.scaleY=n.scaleY*i,r=fn(r)}return n}function kf(e,t=is(e)){const n=Math.round(t.width),r=Math.round(t.height);if(Xt(e))return{x:n/e.offsetWidth,y:r/e.offsetHeight};const s=xt(e,!0);return{x:(parseFloat(s.width)||n)/n,y:(parseFloat(s.height)||r)/r}}function jf(e){if(e==="none")return null;const t=e.split(" "),n=parseFloat(t[0]),r=parseFloat(t[1]);return isNaN(n)&&isNaN(r)?null:{x:isNaN(n)?r:n,y:isNaN(r)?n:r}}function Yn(e){if(e==="none")return null;const[t,n,r="0"]=e.split(" "),s={x:parseFloat(t),y:parseFloat(n),z:parseInt(r,10)};return isNaN(s.x)&&isNaN(s.y)?null:{x:isNaN(s.x)?0:s.x,y:isNaN(s.y)?0:s.y,z:isNaN(s.z)?0:s.z}}function fi(e){var t,n,r,s,o,i,a,l,c;const{scale:d,transform:u,translate:v}=e,g=jf(d),h=Yn(v),E=Cf(u);if(!E&&!g&&!h)return null;const _={x:(t=g?.x)!=null?t:1,y:(n=g?.y)!=null?n:1},C={x:(r=h?.x)!=null?r:0,y:(s=h?.y)!=null?s:0},y={x:(o=E?.x)!=null?o:0,y:(i=E?.y)!=null?i:0,scaleX:(a=E?.scaleX)!=null?a:1,scaleY:(l=E?.scaleY)!=null?l:1};return{x:C.x+y.x,y:C.y+y.y,z:(c=h?.z)!=null?c:0,scaleX:_.x*y.scaleX,scaleY:_.y*y.scaleY}}function Cf(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var st=(e=>(e[e.Idle=0]="Idle",e[e.Forward=1]="Forward",e[e.Reverse=-1]="Reverse",e))(st||{}),Df={x:.2,y:.2},Pf={x:10,y:10};function Af(e,t,n,r=25,s=Df,o=Pf){const{x:i,y:a}=t,{rect:l,isTop:c,isBottom:d,isLeft:u,isRight:v}=kc(e),g=pn(e),h=xt(e,!0),E=fi(h),_=E!==null?E?.scaleX<0:!1,C=E!==null?E?.scaleY<0:!1,y=new Et(l.left*g.scaleX+g.x,l.top*g.scaleY+g.y,l.width*g.scaleX,l.height*g.scaleY),S={x:0,y:0},x={x:0,y:0},A={height:y.height*s.y,width:y.width*s.x};return(!c||C&&!d)&&a<=y.top+A.height&&n?.y!==1&&i>=y.left-o.x&&i<=y.right+o.x?(S.y=C?1:-1,x.y=r*Math.abs((y.top+A.height-a)/A.height)):(!d||C&&!c)&&a>=y.bottom-A.height&&n?.y!==-1&&i>=y.left-o.x&&i<=y.right+o.x&&(S.y=C?-1:1,x.y=r*Math.abs((y.bottom-A.height-a)/A.height)),(!v||_&&!u)&&i>=y.right-A.width&&n?.x!==-1&&a>=y.top-o.y&&a<=y.bottom+o.y?(S.x=_?-1:1,x.x=r*Math.abs((y.right-A.width-i)/A.width)):(!u||_&&!v)&&i<=y.left+A.width&&n?.x!==1&&a>=y.top-o.y&&a<=y.bottom+o.y&&(S.x=_?1:-1,x.x=r*Math.abs((y.left+A.width-i)/A.width)),{direction:S,speed:x}}function Mf(e){return"scrollIntoViewIfNeeded"in e&&typeof e.scrollIntoViewIfNeeded=="function"}function Of(e,t=!1){if(Mf(e)){e.scrollIntoViewIfNeeded(t);return}if(!Xt(e))return e.scrollIntoView();var n=Ef(e);if(!Xt(n))return;const r=xt(n,!0),s=parseInt(r.getPropertyValue("border-top-width")),o=parseInt(r.getPropertyValue("border-left-width")),i=e.offsetTop-n.offsetTop<n.scrollTop,a=e.offsetTop-n.offsetTop+e.clientHeight-s>n.scrollTop+n.clientHeight,l=e.offsetLeft-n.offsetLeft<n.scrollLeft,c=e.offsetLeft-n.offsetLeft+e.clientWidth-o>n.scrollLeft+n.clientWidth,d=i&&!a;(i||a)&&t&&(n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-s+e.clientHeight/2),(l||c)&&t&&(n.scrollLeft=e.offsetLeft-n.offsetLeft-n.clientWidth/2-o+e.clientWidth/2),(i||a||l||c)&&!t&&e.scrollIntoView(d)}function Lf(e,t,n){const{scaleX:r,scaleY:s,x:o,y:i}=t,a=e.left+o+(1-r)*parseFloat(n),l=e.top+i+(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=r?e.width*r:e.width,d=s?e.height*s:e.height;return{width:c,height:d,top:l,right:a+c,bottom:l+d,left:a}}function Tf(e,t,n){const{scaleX:r,scaleY:s,x:o,y:i}=t,a=e.left-o-(1-r)*parseFloat(n),l=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),c=r?e.width/r:e.width,d=s?e.height/s:e.height;return{width:c,height:d,top:l,right:a+c,bottom:l+d,left:a}}function Nf({element:e,keyframes:t,options:n}){return e.animate(t,n).finished}function ym(e,t=xt(e).translate,n=!0){if(n){const r=hc(e,s=>"translate"in s);if(r){const{translate:s=""}=r[0];if(typeof s=="string"){const o=Yn(s);if(o)return o}}}if(t){const r=Yn(t);if(r)return r}return{x:0,y:0,z:0}}var zf=new di(e=>setTimeout(e,0)),Zn=new Map,Rf=Zn.clear.bind(Zn);function Ff(e){const t=e.ownerDocument;let n=Zn.get(t);if(n)return n;n=t.getAnimations(),Zn.set(t,n),zf.schedule(Rf);const r=n.filter(s=>os(s.effect)&&s.effect.target===e);return Zn.set(e,r),n}function $f(e,t){const n=Ff(e).filter(r=>{var s,o;if(os(r.effect)){const{target:i}=r.effect;if((o=i&&((s=t.isValidTarget)==null?void 0:s.call(t,i)))!=null?o:!0)return r.effect.getKeyframes().some(l=>{for(const c of t.properties)if(l[c])return!0})}}).map(r=>{const{effect:s,currentTime:o}=r,i=s?.getComputedTiming().duration;if(!(r.pending||r.playState==="finished")&&typeof i=="number"&&typeof o=="number"&&o<i)return r.currentTime=i,()=>{r.currentTime=o}});if(n.length>0)return()=>n.forEach(r=>r?.())}var It=class extends Et{constructor(e,t={}){var n,r,s,o;const{frameTransform:i=pn(e),ignoreTransforms:a,getBoundingClientRect:l=is}=t,c=$f(e,{properties:["transform","translate","scale","width","height"],isValidTarget:A=>(A!==e||yc())&&A.contains(e)}),d=l(e);let{top:u,left:v,width:g,height:h}=d,E;const _=xt(e),C=fi(_),y={x:(n=C?.scaleX)!=null?n:1,y:(r=C?.scaleY)!=null?r:1},S=Bf(e,_);c?.(),C&&(E=Tf(d,C,_.transformOrigin),(a||S)&&(u=E.top,v=E.left,g=E.width,h=E.height));const x={width:(s=E?.width)!=null?s:g,height:(o=E?.height)!=null?o:h};if(S&&!a&&E){const A=Lf(E,S,_.transformOrigin);u=A.top,v=A.left,g=A.width,h=A.height,y.x=S.scaleX,y.y=S.scaleY}i&&(a||(v*=i.scaleX,g*=i.scaleX,u*=i.scaleY,h*=i.scaleY),v+=i.x,u+=i.y),super(v,u,g,h),this.scale=y,this.intrinsicWidth=x.width,this.intrinsicHeight=x.height}};function Bf(e,t){var n;const r=e.getAnimations();let s=null;if(!r.length)return null;for(const o of r){if(o.playState!=="running")continue;const i=os(o.effect)?o.effect.getKeyframes():[],a=i[i.length-1];if(!a)continue;const{transform:l,translate:c,scale:d}=a;if(l||c||d){const u=fi({transform:typeof l=="string"&&l?l:t.transform,translate:typeof c=="string"&&c?c:t.translate,scale:typeof d=="string"&&d?d:t.scale});u&&(s=s?{x:s.x+u.x,y:s.y+u.y,z:(n=s.z)!=null?n:u.z,scaleX:s.scaleX*u.scaleX,scaleY:s.scaleY*u.scaleY}:u)}}return s}function Un(e){return"style"in e&&typeof e.style=="object"&&e.style!==null&&"setProperty"in e.style&&"removeProperty"in e.style&&typeof e.style.setProperty=="function"&&typeof e.style.removeProperty=="function"}var Wf=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=""){const{element:n}=this;if(Un(n))for(const[r,s]of Object.entries(e)){const o=`${t}${r}`;this.initial.has(o)||this.initial.set(o,n.style.getPropertyValue(o)),n.style.setProperty(o,typeof s=="string"?s:`${s}px`)}}remove(e,t=""){const{element:n}=this;if(Un(n))for(const r of e){const s=`${t}${r}`;n.style.removeProperty(s)}}reset(){const{element:e}=this;if(Un(e)){for(const[t,n]of this.initial)e.style.setProperty(t,n);e.getAttribute("style")===""&&e.removeAttribute("style")}}};function xn(e){return e?e instanceof jt(e).Element||ui(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function pi(e){if(!e)return!1;const{KeyboardEvent:t}=jt(e.target);return e instanceof t}function Hf(e){if(!e)return!1;const{PointerEvent:t}=jt(e.target);return e instanceof t}function Zf(e){if(!xn(e))return!1;const{tagName:t}=e;return t==="INPUT"||t==="TEXTAREA"||Uf(e)}function Uf(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"}var Ss={};function ro(e){const t=Ss[e]==null?0:Ss[e]+1;return Ss[e]=t,`${e}-${t}`}var Vf=({dragOperation:e,droppable:t})=>{const n=e.position.current;if(!n)return null;const{id:r}=t;if(!t.shape)return null;if(t.shape.containsPoint(n)){const s=We.distance(t.shape.center,n);return{id:r,value:1/s,type:$t.PointerIntersection,priority:mt.High}}return null},qf=({dragOperation:e,droppable:t})=>{const{shape:n}=e;if(!t.shape||!n?.current)return null;const r=n.current.intersectionArea(t.shape);if(r){const{position:s}=e,o=We.distance(t.shape.center,s.current),a=r/(n.current.area+t.shape.area-r)/o;return{id:t.id,value:a,type:$t.ShapeIntersection,priority:mt.Normal}}return null},Yf=e=>{var t;return(t=Vf(e))!=null?t:qf(e)},_m=e=>{const{dragOperation:t,droppable:n}=e,{shape:r,position:s}=t;if(!n.shape)return null;const o=r?Et.from(r.current.boundingRectangle).corners:void 0,a=Et.from(n.shape.boundingRectangle).corners.reduce((l,c,d)=>{var u;return l+We.distance(We.from(c),(u=o?.[d])!=null?u:s.current)},0)/4;return{id:n.id,value:1/a,type:$t.Collision,priority:mt.Normal}},Xf=Object.create,hi=Object.defineProperty,Kf=Object.defineProperties,Gf=Object.getOwnPropertyDescriptor,Jf=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,jc=Object.prototype.hasOwnProperty,Cc=Object.prototype.propertyIsEnumerable,Dc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),wn=e=>{throw TypeError(e)},so=(e,t,n)=>t in e?hi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xn=(e,t)=>{for(var n in t||(t={}))jc.call(t,n)&&so(e,n,t[n]);if(qr)for(var n of qr(t))Cc.call(t,n)&&so(e,n,t[n]);return e},vi=(e,t)=>Kf(e,Jf(t)),na=(e,t)=>hi(e,"name",{value:t,configurable:!0}),Pc=(e,t)=>{var n={};for(var r in e)jc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qr)for(var r of qr(e))t.indexOf(r)<0&&Cc.call(e,r)&&(n[r]=e[r]);return n},lr=e=>{var t;return[,,,Xf((t=e?.[Dc("metadata")])!=null?t:null)]},Ac=["class","method","getter","setter","accessor","field","value","get","set"],$n=e=>e!==void 0&&typeof e!="function"?wn("Function expected"):e,Qf=(e,t,n,r,s)=>({kind:Ac[e],name:t,metadata:r,addInitializer:o=>n._?wn("Already initialized"):s.push($n(o||null))}),Sn=(e,t)=>so(t,Dc("metadata"),e[3]),Pe=(e,t,n,r)=>{for(var s=0,o=e[t>>1],i=o&&o.length;s<i;s++)t&1?o[s].call(n):r=o[s].call(n,r);return r},Ct=(e,t,n,r,s,o)=>{var i,a,l,c,d,u=t&7,v=!!(t&8),g=!!(t&16),h=u>3?e.length+1:u?v?1:2:0,E=Ac[u+5],_=u>3&&(e[h-1]=[]),C=e[h]||(e[h]=[]),y=u&&(!g&&!v&&(s=s.prototype),u<5&&(u>3||!g)&&Gf(u<4?s:{get[n](){return Te(this,o)},set[n](x){return ut(this,o,x)}},n));u?g&&u<4&&na(o,(u>2?"set ":u>1?"get ":"")+n):na(s,n);for(var S=r.length-1;S>=0;S--)c=Qf(u,n,l={},e[3],C),u&&(c.static=v,c.private=g,d=c.access={has:g?x=>ep(s,x):x=>n in x},u^3&&(d.get=g?x=>(u^1?Te:oo)(x,s,u^4?o:y.get):x=>x[n]),u>2&&(d.set=g?(x,A)=>ut(x,s,A,u^4?o:y.set):(x,A)=>x[n]=A)),a=(0,r[S])(u?u<4?g?o:y[E]:u>4?void 0:{get:y.get,set:y.set}:s,c),l._=1,u^4||a===void 0?$n(a)&&(u>4?_.unshift(a):u?g?o=a:y[E]=a:s=a):typeof a!="object"||a===null?wn("Object expected"):($n(i=a.get)&&(y.get=i),$n(i=a.set)&&(y.set=i),$n(i=a.init)&&_.unshift(i));return u||Sn(e,s),y&&hi(s,n,y),g?u^4?o:y:s},gi=(e,t,n)=>t.has(e)||wn("Cannot "+n),ep=(e,t)=>Object(t)!==t?wn('Cannot use the "in" operator on this value'):e.has(t),Te=(e,t,n)=>(gi(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?wn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ut=(e,t,n,r)=>(gi(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),oo=(e,t,n)=>(gi(e,t,"access private method"),n),ra={role:"button",roleDescription:"draggable"},tp="dnd-kit-description",np="dnd-kit-announcement",rp={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},sp={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:n}){if(e)return n?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function op(e){const t=e.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(t)}function ip(e,t){const n=document.createElement("div");return n.id=e,n.style.setProperty("display","none"),n.textContent=t,n}function ap(e){const t=document.createElement("div");return t.id=e,t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.setProperty("position","fixed"),t.style.setProperty("width","1px"),t.style.setProperty("height","1px"),t.style.setProperty("margin","-1px"),t.style.setProperty("border","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("clip","rect(0 0 0 0)"),t.style.setProperty("clip-path","inset(100%)"),t.style.setProperty("white-space","nowrap"),t}var lp=["dragover","dragmove"],cp=class extends Ue{constructor(e,t){super(e);const{id:n,idPrefix:{description:r=tp,announcement:s=np}={},announcements:o=sp,screenReaderInstructions:i=rp,debounce:a=500}=t??{},l=n?`${r}-${n}`:ro(r),c=n?`${s}-${n}`:ro(s);let d,u,v,g;const h=(A=g)=>{!v||!A||v?.nodeValue!==A&&(v.nodeValue=A)},E=()=>Ur.schedule(h),_=up(E,a),C=Object.entries(o).map(([A,w])=>this.manager.monitor.addEventListener(A,(P,m)=>{const I=v;if(!I)return;const p=w?.(P,m);p&&I.nodeValue!==p&&(g=p,lp.includes(A)?_():(E(),_.cancel()))})),y=()=>{let A=[];d?.isConnected||(d=ip(l,i.draggable),A.push(d)),u?.isConnected||(u=ap(c),v=document.createTextNode(""),u.appendChild(v),A.push(u)),A.length>0&&document.body.append(...A)},S=new Set;function x(){for(const A of S)A()}this.registerEffect(()=>{var A;S.clear();for(const w of this.manager.registry.draggables.value){const P=(A=w.handle)!=null?A:w.element;if(P){(!d||!u)&&S.add(y),(!op(P)||yc())&&!P.hasAttribute("tabindex")&&S.add(()=>P.setAttribute("tabindex","0")),!P.hasAttribute("role")&&P.tagName.toLowerCase()!=="button"&&S.add(()=>P.setAttribute("role",ra.role)),P.hasAttribute("aria-roledescription")||S.add(()=>P.setAttribute("aria-roledescription",ra.roleDescription)),P.hasAttribute("aria-describedby")||S.add(()=>P.setAttribute("aria-describedby",l));for(const I of["aria-pressed","aria-grabbed"]){const p=String(w.isDragging);P.getAttribute(I)!==p&&S.add(()=>P.setAttribute(I,p))}const m=String(w.disabled);P.getAttribute("aria-disabled")!==m&&S.add(()=>P.setAttribute("aria-disabled",m))}}S.size>0&&Ur.schedule(x)}),this.destroy=()=>{super.destroy(),d?.remove(),u?.remove(),C.forEach(A=>A())}}};function up(e,t){let n;const r=()=>{clearTimeout(n),n=setTimeout(e,t)};return r.cancel=()=>clearTimeout(n),r}var dp=class extends Ue{constructor(e,t){super(e,t),this.manager=e;const n=$r(()=>{var r;return bt((r=this.manager.dragOperation.source)==null?void 0:r.element)});this.destroy=pt(()=>{var r;const{dragOperation:s}=this.manager,{cursor:o="grabbing",nonce:i}=(r=this.options)!=null?r:{};if(s.status.initialized){const a=n.value,l=a.createElement("style");return i&&l.setAttribute("nonce",i),l.textContent=`* { cursor: ${o} !important; }`,a.head.appendChild(l),()=>l.remove()}})}},cr="data-dnd-",io=`${cr}dropping`,Fe="--dnd-",gt=`${cr}dragging`,Yr=`${cr}placeholder`,fp=[gt,Yr,"popover","aria-pressed","aria-grabbing"],pp=["view-transition-name"],hp=`
  :root [${gt}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${Fe}top, 0px) !important;
    left: var(${Fe}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${Fe}width, auto);
    max-width: var(${Fe}width, auto);
    height: var(${Fe}height, auto);
    max-height: var(${Fe}height, auto);
    transition: var(${Fe}transition) !important;
  }

  :root [${Yr}] {
    transition: none;
  }

  :root [${Yr}='hidden'] {
    visibility: hidden;
  }

  [${gt}] * {
    pointer-events: none !important;
  }

  [${gt}]:not([${io}]) {
    translate: var(${Fe}translate) !important;
  }

  [${gt}][style*='${Fe}scale'] {
    scale: var(${Fe}scale) !important;
    transform-origin: var(${Fe}transform-origin) !important;
  }

  @layer {
    :where([${gt}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${gt}]::backdrop, [${cr}overlay]:not([${gt}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function vp(e,t="hidden"){return me(()=>{const{element:n,manager:r}=e;if(!n||!r)return;const s=gp(n,r.registry.droppables),o=[],i=af(n),{remove:a}=i;return mp(s,i,o),yp(i,t),i.remove=()=>{o.forEach(l=>l()),a.call(i)},i})}function gp(e,t){const n=new Map;for(const r of t)if(r.element&&(e===r.element||e.contains(r.element))){const s=`${cr}${ro("dom-id")}`;r.element.setAttribute(s,""),n.set(r,s)}return n}function mp(e,t,n){for(const[r,s]of e){if(!r.element)continue;const o=`[${s}]`,i=t.matches(o)?t:t.querySelector(o);if(r.element.removeAttribute(s),!i)continue;const a=r.element;r.proxy=i,i.removeAttribute(s),Ji.set(a,i),n.push(()=>{Ji.delete(a),r.proxy=void 0})}}function yp(e,t="hidden"){e.setAttribute("inert","true"),e.setAttribute("tab-index","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute(Yr,t)}function sa(e,t){return e===t?!0:fn(e)===fn(t)}function oa(e){const{target:t}=e;"newState"in e&&e.newState==="closed"&&xn(t)&&t.hasAttribute("popover")&&requestAnimationFrame(()=>Fn(t))}function ia(e){return e.tagName==="TR"}var Xr=new Map,Mc,ao,Kn,mi,Ar,Oc,Lc,Gn=class extends(ao=Ue,Mc=[ce],ao){constructor(t,n){super(t,n),ze(this,Ar),ze(this,mi,Pe(Kn,8,this)),Pe(Kn,11,this),this.state={initial:{},current:{}},this.registerEffect(oo(this,Ar,Lc)),this.registerEffect(oo(this,Ar,Oc))}destroy(){super.destroy();for(const[t,n]of Xr.entries())n.instances.has(this)&&(n.instances.delete(this),n.instances.size===0&&(n.cleanup(),Xr.delete(t)))}};Kn=lr(ao);mi=new WeakMap;Ar=new WeakSet;Oc=function(){var e,t,n;const{state:r,manager:s,options:o}=this,{dragOperation:i}=s,{position:a,source:l,status:c}=i;if(c.idle){r.current={},r.initial={};return}if(!l)return;const{element:d,feedback:u}=l;if(!d||u==="none"||!c.initialized||c.initializing)return;const{initial:v}=r,g=(e=this.overlay)!=null?e:d,h=pn(g),E=pn(d),_=!sa(d,g),C=new It(d,{frameTransform:_?E:null,ignoreTransforms:!_}),y={x:E.scaleX/h.scaleX,y:E.scaleY/h.scaleY};let{width:S,height:x,top:A,left:w}=C;_&&(S=S/y.x,x=x/y.y);let P,m;const I=new Wf(g),{transition:p,translate:O,boxSizing:T,paddingBlockStart:R,paddingBlockEnd:z,paddingInlineStart:U,paddingInlineEnd:F,borderInlineStartWidth:K,borderInlineEndWidth:Z,borderBlockStartWidth:X,borderBlockEndWidth:G}=xt(d),Y=u==="clone",te=T==="content-box",le=te?parseInt(U)+parseInt(F)+parseInt(K)+parseInt(Z):0,we=te?parseInt(R)+parseInt(z)+parseInt(X)+parseInt(G):0,se=u!=="move"&&!this.overlay?vp(l,Y?"clone":"hidden"):null,Se=me(()=>pi(s.dragOperation.activatorEvent));if(O!=="none"){const ie=Yn(O);ie&&!v.translate&&(v.translate=ie)}if(!v.transformOrigin){const ie=me(()=>a.current);v.transformOrigin={x:(ie.x-w*h.scaleX-h.x)/(S*h.scaleX),y:(ie.y-A*h.scaleY-h.y)/(x*h.scaleY)}}const{transformOrigin:je}=v,V=A*h.scaleY+h.y,b=w*h.scaleX+h.x;if(!v.coordinates&&(v.coordinates={x:b,y:V},y.x!==1||y.y!==1)){const{scaleX:ie,scaleY:H}=E,{x:J,y:Q}=je;v.coordinates.x+=(S*ie-S)*J,v.coordinates.y+=(x*H-x)*Q}v.dimensions||(v.dimensions={width:S,height:x}),v.frameTransform||(v.frameTransform=h);const D={x:v.coordinates.x-b,y:v.coordinates.y-V},L={width:(v.dimensions.width*v.frameTransform.scaleX-S*h.scaleX)*je.x,height:(v.dimensions.height*v.frameTransform.scaleY-x*h.scaleY)*je.y},B={x:D.x/h.scaleX+L.width,y:D.y/h.scaleY+L.height},W={left:w+B.x,top:A+B.y};g.setAttribute(gt,"true");const q=me(()=>i.transform),ee=(t=v.translate)!=null?t:{x:0,y:0},fe=q.x*h.scaleX+ee.x,ye=q.y*h.scaleY+ee.y,Ce=`${fe}px ${ye}px 0`,De=p?`${p}, translate 0ms linear`:"";I.set({width:S-le,height:x-we,top:W.top,left:W.left,translate:Ce,transition:De,scale:_?`${y.x} ${y.y}`:"","transform-origin":`${je.x*100}% ${je.y*100}%`},Fe),se&&(d.insertAdjacentElement("afterend",se),o?.rootElement&&(typeof o.rootElement=="function"?o.rootElement(l):o.rootElement).appendChild(d)),to(g)&&(g.hasAttribute("popover")||g.setAttribute("popover","manual"),Fn(g),g.addEventListener("beforetoggle",oa));const Ie=new ResizeObserver(()=>{if(!se)return;const ie=new It(se,{frameTransform:h,ignoreTransforms:!0}),H=je??{x:1,y:1},J=(S-ie.width)*H.x+B.x,Q=(x-ie.height)*H.y+B.y;if(I.set({width:ie.width-le,height:ie.height-we,top:A+Q,left:w+J},Fe),P?.takeRecords(),ia(d)&&ia(se)){const ue=Array.from(d.cells),ve=Array.from(se.cells);for(const[be,Ae]of ue.entries()){const Ve=ve[be];Ae.style.width=`${Ve.offsetWidth}px`}}i.shape=new It(g)}),_e=new It(g);me(()=>i.shape=_e);const he=jt(g),tt=ie=>{this.manager.actions.stop({event:ie})};Se&&he.addEventListener("resize",tt),me(()=>l.status)==="idle"&&requestAnimationFrame(()=>l.status="dragging"),se&&(Ie.observe(se),P=new MutationObserver(ie=>{let H=!1;for(const J of ie){if(J.target!==d){H=!0;continue}if(J.type!=="attributes")continue;const Q=J.attributeName;if(Q.startsWith("aria-")||fp.includes(Q))continue;const ue=d.getAttribute(Q);if(Q==="style"){if(Un(d)&&Un(se)){const ve=d.style;for(const be of Array.from(se.style))ve.getPropertyValue(be)===""&&se.style.removeProperty(be);for(const be of Array.from(ve)){if(pp.includes(be)||be.startsWith(Fe))continue;const Ae=ve.getPropertyValue(be);se.style.setProperty(be,Ae)}}}else ue!==null?se.setAttribute(Q,ue):se.removeAttribute(Q)}H&&Y&&(se.innerHTML=d.innerHTML)}),P.observe(d,{attributes:!0,subtree:!0,childList:!0}),m=new MutationObserver(ie=>{for(const H of ie)if(H.addedNodes.length!==0)for(const J of Array.from(H.addedNodes)){if(J.contains(d)&&d.nextElementSibling!==se){d.insertAdjacentElement("afterend",se),Fn(g);return}if(J.contains(se)&&se.previousElementSibling!==d){se.insertAdjacentElement("beforebegin",d),Fn(g);return}}}),m.observe(d.ownerDocument.body,{childList:!0,subtree:!0}));const Dt=(n=s.dragOperation.source)==null?void 0:n.id,ur=()=>{var ie;if(!Se||Dt==null)return;const H=s.registry.draggables.get(Dt),J=(ie=H?.handle)!=null?ie:H?.element;Xt(J)&&J.focus()},kn=()=>{P?.disconnect(),m?.disconnect(),Ie.disconnect(),he.removeEventListener("resize",tt),to(g)&&(g.removeEventListener("beforetoggle",oa),g.removeAttribute("popover")),g.removeAttribute(gt),I.reset(),l.status="idle";const ie=r.current.translate!=null;se&&(ie||se.parentElement!==g.parentElement)&&g.isConnected&&se.replaceWith(g),se?.remove()},fs=ir(()=>{var ie;const{transform:H,status:J}=i;if(!(!H.x&&!H.y&&!r.current.translate)&&J.dragging){const Q=(ie=v.translate)!=null?ie:{x:0,y:0},ue={x:H.x/h.scaleX+Q.x,y:H.y/h.scaleY+Q.y},ve=r.current.translate,be=me(()=>i.modifiers),Ae=me(()=>{var Ke;return(Ke=i.shape)==null?void 0:Ke.current}),Ve=Se?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(I.set({transition:`${p}, translate ${Ve}`,translate:`${ue.x}px ${ue.y}px 0`},Fe),P?.takeRecords(),Ae&&Ae!==_e&&ve&&!be.length){const Ke=We.delta(ue,ve);i.shape=Et.from(Ae.boundingRectangle).translate(Ke.x*h.scaleX,Ke.y*h.scaleY)}else i.shape=new It(g);r.current.translate=ue}},function(){if(i.status.dropped){this.dispose(),l.status="dropping";let ie=r.current.translate;const H=ie!=null;if(!ie&&d!==g&&(ie={x:0,y:0}),!ie){kn();return}const J=()=>{var Q,ue;{Fn(g);const[,ve]=(Q=hc(g,Fu=>"translate"in Fu))!=null?Q:[];ve?.pause();const be=se??d,Ae={frameTransform:sa(g,be)?null:void 0},Ve=new It(g,Ae),Ke=(ue=Yn(xt(g).translate))!=null?ue:ie,vt=new It(be,Ae),jn=Et.delta(Ve,vt,l.alignment),ps={x:Ke.x-jn.x,y:Ke.y-jn.y},zu=Math.round(Ve.intrinsicHeight)!==Math.round(vt.intrinsicHeight)?{minHeight:[`${Ve.intrinsicHeight}px`,`${vt.intrinsicHeight}px`],maxHeight:[`${Ve.intrinsicHeight}px`,`${vt.intrinsicHeight}px`]}:{},Ru=Math.round(Ve.intrinsicWidth)!==Math.round(vt.intrinsicWidth)?{minWidth:[`${Ve.intrinsicWidth}px`,`${vt.intrinsicWidth}px`],maxWidth:[`${Ve.intrinsicWidth}px`,`${vt.intrinsicWidth}px`]}:{};I.set({transition:p},Fe),g.setAttribute(io,""),P?.takeRecords(),Nf({element:g,keyframes:vi(Xn(Xn({},zu),Ru),{translate:[`${Ke.x}px ${Ke.y}px 0`,`${ps.x}px ${ps.y}px 0`]}),options:{duration:H||g!==d?250:0,easing:"ease"}}).then(()=>{g.removeAttribute(io),ve?.finish(),kn(),requestAnimationFrame(ur)})}};s.renderer.rendering.then(J)}});return()=>{kn(),fs()}};Lc=function(){var e,t,n;const{status:r,source:s,target:o}=this.manager.dragOperation,{nonce:i}=(e=this.options)!=null?e:{};if(r.initializing){const a=bt((t=s?.element)!=null?t:null),l=bt((n=o?.element)!=null?n:null),c=new Set([a,l]);for(const d of c){let u=Xr.get(d);if(!u){const v=document.createElement("style");v.textContent=hp,i&&v.setAttribute("nonce",i),d.head.prepend(v);const g=new MutationObserver(h=>{for(const E of h)if(E.type==="childList"){const _=Array.from(E.removedNodes);_.length>0&&_.includes(v)&&d.head.prepend(v)}});g.observe(d.head,{childList:!0}),u={cleanup:()=>{g.disconnect(),v.remove()},instances:new Set},Xr.set(d,u)}u.instances.add(this)}}};Ct(Kn,4,"overlay",Mc,Gn,mi);Sn(Kn,Gn);Gn.configure=Bo(Gn);var _p=Gn,Cn=!0,bp=!1,Tc,Nc,zc,Rc,zt,yi,_i;Rc=(zc=[ce],st.Forward),Nc=(Tc=[ce],st.Reverse);var Jn=class{constructor(){ze(this,yi,Pe(zt,8,this,Cn)),Pe(zt,11,this),ze(this,_i,Pe(zt,12,this,Cn)),Pe(zt,15,this)}isLocked(e){return e===st.Idle?!1:e==null?this[st.Forward]===Cn&&this[st.Reverse]===Cn:this[e]===Cn}unlock(e){e!==st.Idle&&(this[e]=bp)}};zt=lr(null);yi=new WeakMap;_i=new WeakMap;Ct(zt,4,Rc,zc,Jn,yi);Ct(zt,4,Nc,Tc,Jn,_i);Sn(zt,Jn);var xp=[st.Forward,st.Reverse],aa=class{constructor(){this.x=new Jn,this.y=new Jn}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},wp=class extends Ue{constructor(e){super(e);const t=sr(new aa);let n=null;this.signal=t,pt(()=>{const{status:r}=e.dragOperation;if(!r.initialized){n=null,t.value=new aa;return}const{delta:s}=e.dragOperation.position;if(n){const o={x:la(s.x,n.x),y:la(s.y,n.y)},i=t.peek();un(()=>{for(const a of Il)for(const l of xp)o[a]===l&&i[a].unlock(l);t.value=i})}n=s})}get current(){return this.signal.peek()}};function la(e,t){return Math.sign(e-t)}var Fc,lo,Qn,bi,Lt,co,as=class extends(lo=ss,Fc=[ce],lo){constructor(e){super(e),ze(this,bi,Pe(Qn,8,this,!1)),Pe(Qn,11,this),ze(this,Lt),ze(this,co,()=>{if(!Te(this,Lt))return;const{element:o,by:i}=Te(this,Lt);i.y&&(o.scrollTop+=i.y),i.x&&(o.scrollLeft+=i.x)}),this.scroll=o=>{var i;if(this.disabled)return!1;const a=this.getScrollableElements();if(!a)return ut(this,Lt,void 0),!1;const{position:l}=this.manager.dragOperation,c=l?.current;if(c){const{by:d}=o??{},u=d?{x:ca(d.x),y:ca(d.y)}:void 0,v=u?void 0:this.scrollIntentTracker.current;if(v?.isLocked())return!1;for(const g of a){const h=_f(g,d);if(h.x||h.y){const{speed:E,direction:_}=Af(g,c,u);if(v)for(const C of Il)v[C].isLocked(_[C])&&(E[C]=0,_[C]=0);if(_.x||_.y){const{x:C,y}=d??_,S=C*E.x,x=y*E.y;if(S||x){const A=(i=Te(this,Lt))==null?void 0:i.by;if(this.autoScrolling&&A&&(A.x&&!S||A.y&&!x))continue;return ut(this,Lt,{element:g,by:{x:S,y:x}}),Ur.schedule(Te(this,co)),!0}}}}}return ut(this,Lt,void 0),!1};let t=null,n=null;const r=$r(()=>{const{position:o,source:i}=e.dragOperation;if(!o)return null;const a=_c(bt(i?.element),o.current);return a&&(t=a),a??t}),s=$r(()=>{const o=r.value,{documentElement:i}=bt(o);if(!o||o===i){const{target:a}=e.dragOperation,l=a?.element;if(l){const c=no(l,{excludeElement:!1});return n=c,c}}if(o){const a=no(o,{excludeElement:!1});return this.autoScrolling&&n&&a.size<n?.size?n:(n=a,a)}return n=null,null},Ws);this.getScrollableElements=()=>s.value,this.scrollIntentTracker=new wp(e),this.destroy=e.monitor.addEventListener("dragmove",o=>{this.disabled||o.defaultPrevented||!pi(e.dragOperation.activatorEvent)||!o.by||this.scroll({by:o.by})&&o.preventDefault()})}};Qn=lr(lo);bi=new WeakMap;Lt=new WeakMap;co=new WeakMap;Ct(Qn,4,"autoScrolling",Fc,as,bi);Sn(Qn,as);function ca(e){return e>0?st.Forward:e<0?st.Reverse:st.Idle}var Sp=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:t,resolvers:n}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const r of t)r();for(const r of n)r()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(t=>this.resolvers.add(t))}},Ip=new Sp(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),Ep=10,xi=class extends Ue{constructor(e,t){super(e);const n=e.registry.plugins.get(as);if(!n)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=pt(()=>{if(this.disabled)return;const{position:r,status:s}=e.dragOperation;if(s.dragging)if(n.scroll()){n.autoScrolling=!0;const i=setInterval(()=>Ip.schedule(n.scroll),Ep);return()=>{clearInterval(i)}}else n.autoScrolling=!1})}},ua={capture:!0,passive:!0},Bn,kp=class extends ss{constructor(e){super(e),ze(this,Bn),this.handleScroll=()=>{Te(this,Bn)==null&&ut(this,Bn,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),ut(this,Bn,void 0)},50))};const{dragOperation:t}=this.manager;this.destroy=pt(()=>{var n,r,s;if(t.status.dragging){const i=(s=(r=(n=t.source)==null?void 0:n.element)==null?void 0:r.ownerDocument)!=null?s:document;return i.addEventListener("scroll",this.handleScroll,ua),()=>{i.removeEventListener("scroll",this.handleScroll,ua)}}})}};Bn=new WeakMap;var jp=class extends Ue{constructor(e,t){super(e,t),this.manager=e,this.destroy=pt(()=>{var n;const{dragOperation:r}=this.manager,{nonce:s}=(n=this.options)!=null?n:{};if(r.status.initialized){const o=document.createElement("style");return s&&o.setAttribute("nonce",s),o.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild(o),Is(),document.addEventListener("selectionchange",Is,{capture:!0}),()=>{document.removeEventListener("selectionchange",Is,{capture:!0}),o.remove()}}})}};function Is(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var Wn=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(e){var t;const{event:n,source:r}=e,s=(t=r.handle)!=null?t:r.element;return n.target===s}}),sn,Kr=class extends dn{constructor(t,n){super(t),this.manager=t,this.options=n,ze(this,sn,[]),this.listeners=new bc,this.handleSourceKeyDown=(r,s,o)=>{if(this.disabled||r.defaultPrevented||!xn(r.target)||s.disabled)return;const{keyboardCodes:i=Wn.keyboardCodes,shouldActivate:a=Wn.shouldActivate}=o??{};i.start.includes(r.code)&&this.manager.dragOperation.status.idle&&a({event:r,source:s,manager:this.manager})&&this.handleStart(r,s,o)}}bind(t,n=this.options){return pt(()=>{var s;const o=(s=t.handle)!=null?s:t.element,i=a=>{pi(a)&&this.handleSourceKeyDown(a,t,n)};if(o)return o.addEventListener("keydown",i),()=>{o.removeEventListener("keydown",i)}})}handleStart(t,n,r){const{element:s}=n;if(!s)throw new Error("Source draggable does not have an associated element");t.preventDefault(),t.stopImmediatePropagation(),Of(s);const{center:o}=new It(s);if(this.manager.actions.start({event:t,coordinates:{x:o.x,y:o.y},source:n}).signal.aborted)return this.cleanup();this.sideEffects();const a=bt(s),l=[this.listeners.bind(a,[{type:"keydown",listener:c=>this.handleKeyDown(c,n,r),options:{capture:!0}}])];Te(this,sn).push(...l)}handleKeyDown(t,n,r){const{keyboardCodes:s=Wn.keyboardCodes}=r??{};if(Jt(t,[...s.end,...s.cancel])){t.preventDefault();const o=Jt(t,s.cancel);this.handleEnd(t,o);return}Jt(t,s.up)?this.handleMove("up",t):Jt(t,s.down)&&this.handleMove("down",t),Jt(t,s.left)?this.handleMove("left",t):Jt(t,s.right)&&this.handleMove("right",t)}handleEnd(t,n){this.manager.actions.stop({event:t,canceled:n}),this.cleanup()}handleMove(t,n){var r,s;const{shape:o}=this.manager.dragOperation,i=n.shiftKey?5:1;let a={x:0,y:0},l=(s=(r=this.options)==null?void 0:r.offset)!=null?s:Wn.offset;if(typeof l=="number"&&(l={x:l,y:l}),!!o){switch(t){case"up":a={x:0,y:-l.y*i};break;case"down":a={x:0,y:l.y*i};break;case"left":a={x:-l.x*i,y:0};break;case"right":a={x:l.x*i,y:0};break}(a.x||a.y)&&(n.preventDefault(),this.manager.actions.move({event:n,by:a}))}}sideEffects(){const t=this.manager.registry.plugins.get(xi);t?.disabled===!1&&(t.disable(),Te(this,sn).push(()=>{t.enable()}))}cleanup(){Te(this,sn).forEach(t=>t()),ut(this,sn,[])}destroy(){this.cleanup(),this.listeners.clear()}};sn=new WeakMap;Kr.configure=Bo(Kr);Kr.defaults=Wn;var Cp=Kr;function Jt(e,t){return t.includes(e.code)}var $c=Object.freeze({activationConstraints(e,t){var n;const{pointerType:r,target:s}=e;if(!(r==="mouse"&&xn(s)&&(t.handle===s||(n=t.handle)!=null&&n.contains(s))))return r==="touch"?{delay:{value:250,tolerance:5}}:Zf(s)&&!e.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),on,an,Gr=class extends dn{constructor(t,n){super(t),this.manager=t,this.options=n,ze(this,on,new Set),ze(this,an),this.listeners=new bc,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:r,coordinates:s}=this.latest;!r||!s||this.manager.actions.move({event:r,to:s})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(t,n){var r;const{activationConstraints:s=$c.activationConstraints}=(r=this.options)!=null?r:{};return typeof s=="function"?s(t,n):s}bind(t,n=this.options){return pt(()=>{var s;const o=new AbortController,{signal:i}=o,a=c=>{Hf(c)&&this.handlePointerDown(c,t,n)};let l=[(s=t.handle)!=null?s:t.element];n?.activatorElements&&(Array.isArray(n.activatorElements)?l=n.activatorElements:l=n.activatorElements(t));for(const c of l)c&&(Ap(c.ownerDocument.defaultView),c.addEventListener("pointerdown",a,{signal:i}));return()=>o.abort()})}handlePointerDown(t,n,r={}){if(this.disabled||!t.isPrimary||t.button!==0||!xn(t.target)||n.disabled||Dp(t)||!this.manager.dragOperation.status.idle)return;const{target:s}=t,o=Xt(s)&&s.draggable&&s.getAttribute("draggable")==="true",i=pn(n.element);this.initialCoordinates={x:t.clientX*i.scaleX+i.x,y:t.clientY*i.scaleY+i.y};const a=this.activationConstraints(t,n);if(t.sensor=this,!a?.delay&&!a?.distance)this.handleStart(n,t);else{const{delay:u}=a;if(u){const v=setTimeout(()=>this.handleStart(n,t),u.value);ut(this,an,()=>{clearTimeout(v),ut(this,an,void 0)})}}const l=bt(t.target),c=this.listeners.bind(l,[{type:"pointermove",listener:u=>this.handlePointerMove(u,n)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:o?this.handleCancel:vr,options:{capture:!0}}]),d=()=>{var u;c(),(u=Te(this,an))==null||u.call(this),this.initialCoordinates=void 0};Te(this,on).add(d)}handlePointerMove(t,n){const r={x:t.clientX,y:t.clientY},s=pn(n.element);if(r.x=r.x*s.scaleX+s.x,r.y=r.y*s.scaleY+s.y,this.manager.dragOperation.status.dragging){t.preventDefault(),t.stopPropagation(),this.latest.event=t,this.latest.coordinates=r,Ur.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const o={x:r.x-this.initialCoordinates.x,y:r.y-this.initialCoordinates.y},i=this.activationConstraints(t,n),{distance:a,delay:l}=i??{};if(a){if(a.tolerance!=null&&xs(o,a.tolerance))return this.handleCancel(t);if(xs(o,a.value))return this.handleStart(n,t)}if(l&&xs(o,l.tolerance))return this.handleCancel(t)}handlePointerUp(t){const{status:n}=this.manager.dragOperation;if(!n.idle){t.preventDefault(),t.stopPropagation();const r=!n.initialized;this.manager.actions.stop({event:t,canceled:r})}this.cleanup()}handleKeyDown(t){t.key==="Escape"&&(t.preventDefault(),this.handleCancel(t))}handleStart(t,n){var r;const{manager:s,initialCoordinates:o}=this;if((r=Te(this,an))==null||r.call(this),!o||!s.dragOperation.status.idle||n.defaultPrevented)return;if(s.actions.start({coordinates:o,event:n,source:t}).signal.aborted)return this.cleanup();n.preventDefault();const a=bt(n.target),l=a.body;l.setPointerCapture(n.pointerId);const c=this.listeners.bind(a,[{type:"touchmove",listener:vr,options:{passive:!1}},{type:"click",listener:vr},{type:"contextmenu",listener:vr},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:d=>{d.target===l&&this.handlePointerUp(d)}}]);Te(this,on).add(c)}handleCancel(t){const{dragOperation:n}=this.manager;n.status.initialized&&this.manager.actions.stop({event:t,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},Te(this,on).forEach(t=>t()),Te(this,on).clear()}destroy(){this.cleanup(),this.listeners.clear()}};on=new WeakMap;an=new WeakMap;Gr.configure=Bo(Gr);Gr.defaults=$c;var Bc=Gr;function Dp(e){return"sensor"in e}function vr(e){e.preventDefault()}function Pp(){}var da=new WeakSet;function Ap(e){!e||da.has(e)||(e.addEventListener("touchmove",Pp,{capture:!1,passive:!1}),da.add(e))}var Jr={modifiers:[],plugins:[cp,xi,dp,_p,jp],sensors:[Bc,Cp]},Sm=class extends nf{constructor(e={}){const{plugins:t=Jr.plugins,sensors:n=Jr.sensors,modifiers:r=[]}=e;super(vi(Xn({},e),{plugins:[kp,as,...t],sensors:n,modifiers:r}))}},Wc,Hc,Zc,uo,at,wi,Si,Ii,ls=class extends(uo=yt,Zc=[ce],Hc=[ce],Wc=[ce],uo){constructor(e,t){var n=e,{element:r,effects:s=()=>[],handle:o,feedback:i="default"}=n,a=Pc(n,["element","effects","handle","feedback"]);super(Xn({effects:()=>[...s(),()=>{var l,c;const{manager:d}=this;if(!d)return;const v=((c=(l=this.sensors)==null?void 0:l.map(Wo))!=null?c:[...d.sensors]).map(g=>{const h=g instanceof dn?g:d.registry.register(g.plugin),E=g instanceof dn?void 0:g.options;return h.bind(this,E)});return function(){v.forEach(h=>h())}}]},a),t),ze(this,wi,Pe(at,8,this)),Pe(at,11,this),ze(this,Si,Pe(at,12,this)),Pe(at,15,this),ze(this,Ii,Pe(at,16,this)),Pe(at,19,this),this.element=r,this.handle=o,this.feedback=i}};at=lr(uo);wi=new WeakMap;Si=new WeakMap;Ii=new WeakMap;Ct(at,4,"handle",Zc,ls,wi);Ct(at,4,"element",Hc,ls,Si);Ct(at,4,"feedback",Wc,ls,Ii);Sn(at,ls);var Uc,Vc,fo,Rt,Ei,Es,qc,Yc,Vn,ki,Xc=class extends(fo=_t,Vc=[ce],Uc=[ce],fo){constructor(e,t){var n=e,{element:r,effects:s=()=>[]}=n,o=Pc(n,["element","effects"]);const{collisionDetector:i=Yf}=o,a=c=>{const{manager:d,element:u}=this;if(!u||c===null){this.shape=void 0;return}if(!d)return;const v=new It(u),g=me(()=>this.shape);return v&&g?.equals(v)?g:(this.shape=v,v)},l=sr(!1);super(vi(Xn({},o),{collisionDetector:i,effects:()=>[...s(),()=>{const{element:c,manager:d}=this;if(!d)return;const{dragOperation:u}=d,{source:v}=u;l.value=!!(v&&u.status.initialized&&c&&!this.disabled&&this.accepts(v))},()=>{const{element:c}=this;if(l.value&&c){const d=new yf(c,a);return()=>{d.disconnect(),this.shape=void 0}}},()=>{var c;if((c=this.manager)!=null&&c.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),ze(this,Vn),ze(this,Ei,Pe(Rt,8,this)),Pe(Rt,11,this),ze(this,ki,Pe(Rt,12,this)),Pe(Rt,15,this),this.element=r,this.refreshShape=()=>a()}set element(e){ut(this,Vn,e,Yc)}get element(){var e;return(e=this.proxy)!=null?e:Te(this,Vn,qc)}};Rt=lr(fo);Ei=new WeakMap;Vn=new WeakSet;ki=new WeakMap;Es=Ct(Rt,20,"#element",Vc,Vn,Ei),qc=Es.get,Yc=Es.set;Ct(Rt,4,"proxy",Uc,Xc,ki);Sn(Rt,Xc);function Mp(e,t,n){var r=this,s=k.useRef(null),o=k.useRef(0),i=k.useRef(null),a=k.useRef([]),l=k.useRef(),c=k.useRef(),d=k.useRef(e),u=k.useRef(!0);k.useEffect(function(){d.current=e},[e]);var v=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var g=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,E="maxWait"in n,_=E?Math.max(+n.maxWait||0,t):null;k.useEffect(function(){return u.current=!0,function(){u.current=!1}},[]);var C=k.useMemo(function(){var y=function(m){var I=a.current,p=l.current;return a.current=l.current=null,o.current=m,c.current=d.current.apply(p,I)},S=function(m,I){v&&cancelAnimationFrame(i.current),i.current=v?requestAnimationFrame(m):setTimeout(m,I)},x=function(m){if(!u.current)return!1;var I=m-s.current;return!s.current||I>=t||I<0||E&&m-o.current>=_},A=function(m){return i.current=null,h&&a.current?y(m):(a.current=l.current=null,c.current)},w=function m(){var I=Date.now();if(x(I))return A(I);if(u.current){var p=t-(I-s.current),O=E?Math.min(p,_-(I-o.current)):p;S(m,O)}},P=function(){var m=Date.now(),I=x(m);if(a.current=[].slice.call(arguments),l.current=r,s.current=m,I){if(!i.current&&u.current)return o.current=s.current,S(w,t),g?y(s.current):c.current;if(E)return S(w,t),y(s.current)}return i.current||S(w,t),c.current};return P.cancel=function(){i.current&&(v?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,a.current=s.current=l.current=i.current=null},P.isPending=function(){return!!i.current},P.flush=function(){return i.current?A(Date.now()):c.current},P},[g,E,t,_,h,v]);return C}function gr(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ks={exports:{}},fa;function Op(){return fa||(fa=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(r,s,o){function i(c,d){if(!s[c]){if(!r[c]){var u=typeof gr=="function"&&gr;if(!d&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}d=s[c]={exports:{}},r[c][0].call(d.exports,function(v){var g=r[c][1][v];return i(g||v)},d,d.exports,n,r,s,o)}return s[c].exports}for(var a=typeof gr=="function"&&gr,l=0;l<o.length;l++)i(o[l]);return i})({1:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){var h=n("crypto");function E(w,P){P=y(w,P);var m;return(m=P.algorithm!=="passthrough"?h.createHash(P.algorithm):new A).write===void 0&&(m.write=m.update,m.end=m.update),x(P,m).dispatch(w),m.update||m.end(""),m.digest?m.digest(P.encoding==="buffer"?void 0:P.encoding):(w=m.read(),P.encoding!=="buffer"?w.toString(P.encoding):w)}(s=r.exports=E).sha1=function(w){return E(w)},s.keys=function(w){return E(w,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(w){return E(w,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(w){return E(w,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var _=h.getHashes?h.getHashes().slice():["sha1","md5"],C=(_.push("passthrough"),["buffer","hex","binary","base64"]);function y(w,P){var m={};if(m.algorithm=(P=P||{}).algorithm||"sha1",m.encoding=P.encoding||"hex",m.excludeValues=!!P.excludeValues,m.algorithm=m.algorithm.toLowerCase(),m.encoding=m.encoding.toLowerCase(),m.ignoreUnknown=P.ignoreUnknown===!0,m.respectType=P.respectType!==!1,m.respectFunctionNames=P.respectFunctionNames!==!1,m.respectFunctionProperties=P.respectFunctionProperties!==!1,m.unorderedArrays=P.unorderedArrays===!0,m.unorderedSets=P.unorderedSets!==!1,m.unorderedObjects=P.unorderedObjects!==!1,m.replacer=P.replacer||void 0,m.excludeKeys=P.excludeKeys||void 0,w===void 0)throw new Error("Object argument required.");for(var I=0;I<_.length;++I)_[I].toLowerCase()===m.algorithm.toLowerCase()&&(m.algorithm=_[I]);if(_.indexOf(m.algorithm)===-1)throw new Error('Algorithm "'+m.algorithm+'"  not supported. supported values: '+_.join(", "));if(C.indexOf(m.encoding)===-1&&m.algorithm!=="passthrough")throw new Error('Encoding "'+m.encoding+'"  not supported. supported values: '+C.join(", "));return m}function S(w){if(typeof w=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(w))!=null}function x(w,P,m){m=m||[];function I(p){return P.update?P.update(p,"utf8"):P.write(p,"utf8")}return{dispatch:function(p){return this["_"+((p=w.replacer?w.replacer(p):p)===null?"null":typeof p)](p)},_object:function(p){var O,T=Object.prototype.toString.call(p),R=/\[object (.*)\]/i.exec(T);if(R=(R=R?R[1]:"unknown:["+T+"]").toLowerCase(),0<=(T=m.indexOf(p)))return this.dispatch("[CIRCULAR:"+T+"]");if(m.push(p),a!==void 0&&a.isBuffer&&a.isBuffer(p))return I("buffer:"),I(p);if(R==="object"||R==="function"||R==="asyncfunction")return T=Object.keys(p),w.unorderedObjects&&(T=T.sort()),w.respectType===!1||S(p)||T.splice(0,0,"prototype","__proto__","constructor"),w.excludeKeys&&(T=T.filter(function(z){return!w.excludeKeys(z)})),I("object:"+T.length+":"),O=this,T.forEach(function(z){O.dispatch(z),I(":"),w.excludeValues||O.dispatch(p[z]),I(",")});if(!this["_"+R]){if(w.ignoreUnknown)return I("["+R+"]");throw new Error('Unknown object type "'+R+'"')}this["_"+R](p)},_array:function(p,z){z=z!==void 0?z:w.unorderedArrays!==!1;var T=this;if(I("array:"+p.length+":"),!z||p.length<=1)return p.forEach(function(U){return T.dispatch(U)});var R=[],z=p.map(function(U){var F=new A,K=m.slice();return x(w,F,K).dispatch(U),R=R.concat(K.slice(m.length)),F.read().toString()});return m=m.concat(R),z.sort(),this._array(z,!1)},_date:function(p){return I("date:"+p.toJSON())},_symbol:function(p){return I("symbol:"+p.toString())},_error:function(p){return I("error:"+p.toString())},_boolean:function(p){return I("bool:"+p.toString())},_string:function(p){I("string:"+p.length+":"),I(p.toString())},_function:function(p){I("fn:"),S(p)?this.dispatch("[native]"):this.dispatch(p.toString()),w.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(p.name)),w.respectFunctionProperties&&this._object(p)},_number:function(p){return I("number:"+p.toString())},_xml:function(p){return I("xml:"+p.toString())},_null:function(){return I("Null")},_undefined:function(){return I("Undefined")},_regexp:function(p){return I("regex:"+p.toString())},_uint8array:function(p){return I("uint8array:"),this.dispatch(Array.prototype.slice.call(p))},_uint8clampedarray:function(p){return I("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(p))},_int8array:function(p){return I("int8array:"),this.dispatch(Array.prototype.slice.call(p))},_uint16array:function(p){return I("uint16array:"),this.dispatch(Array.prototype.slice.call(p))},_int16array:function(p){return I("int16array:"),this.dispatch(Array.prototype.slice.call(p))},_uint32array:function(p){return I("uint32array:"),this.dispatch(Array.prototype.slice.call(p))},_int32array:function(p){return I("int32array:"),this.dispatch(Array.prototype.slice.call(p))},_float32array:function(p){return I("float32array:"),this.dispatch(Array.prototype.slice.call(p))},_float64array:function(p){return I("float64array:"),this.dispatch(Array.prototype.slice.call(p))},_arraybuffer:function(p){return I("arraybuffer:"),this.dispatch(new Uint8Array(p))},_url:function(p){return I("url:"+p.toString())},_map:function(p){return I("map:"),p=Array.from(p),this._array(p,w.unorderedSets!==!1)},_set:function(p){return I("set:"),p=Array.from(p),this._array(p,w.unorderedSets!==!1)},_file:function(p){return I("file:"),this.dispatch([p.name,p.size,p.type,p.lastModfied])},_blob:function(){if(w.ignoreUnknown)return I("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return I("domwindow")},_bigint:function(p){return I("bigint:"+p.toString())},_process:function(){return I("process")},_timer:function(){return I("timer")},_pipe:function(){return I("pipe")},_tcp:function(){return I("tcp")},_udp:function(){return I("udp")},_tty:function(){return I("tty")},_statwatcher:function(){return I("statwatcher")},_securecontext:function(){return I("securecontext")},_connection:function(){return I("connection")},_zlib:function(){return I("zlib")},_context:function(){return I("context")},_nodescript:function(){return I("nodescript")},_httpparser:function(){return I("httpparser")},_dataview:function(){return I("dataview")},_signal:function(){return I("signal")},_fsevent:function(){return I("fsevent")},_tlswrap:function(){return I("tlswrap")}}}function A(){return{buf:"",write:function(w){this.buf+=w},end:function(w){this.buf+=w},read:function(){return this.buf}}}s.writeToStream=function(w,P,m){return m===void 0&&(m=P,P={}),x(P=y(w,P),m).dispatch(w)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){(function(h){var E=typeof Uint8Array<"u"?Uint8Array:Array,_=43,C=47,y=48,S=97,x=65,A=45,w=95;function P(m){return m=m.charCodeAt(0),m===_||m===A?62:m===C||m===w?63:m<y?-1:m<y+10?m-y+26+26:m<x+26?m-x:m<S+26?m-S+26:void 0}h.toByteArray=function(m){var I,p;if(0<m.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var O=m.length,O=m.charAt(O-2)==="="?2:m.charAt(O-1)==="="?1:0,T=new E(3*m.length/4-O),R=0<O?m.length-4:m.length,z=0;function U(F){T[z++]=F}for(I=0;I<R;I+=4,0)U((16711680&(p=P(m.charAt(I))<<18|P(m.charAt(I+1))<<12|P(m.charAt(I+2))<<6|P(m.charAt(I+3))))>>16),U((65280&p)>>8),U(255&p);return O==2?U(255&(p=P(m.charAt(I))<<2|P(m.charAt(I+1))>>4)):O==1&&(U((p=P(m.charAt(I))<<10|P(m.charAt(I+1))<<4|P(m.charAt(I+2))>>2)>>8&255),U(255&p)),T},h.fromByteArray=function(m){var I,p,O,T,R=m.length%3,z="";function U(F){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(F)}for(I=0,O=m.length-R;I<O;I+=3)p=(m[I]<<16)+(m[I+1]<<8)+m[I+2],z+=U((T=p)>>18&63)+U(T>>12&63)+U(T>>6&63)+U(63&T);switch(R){case 1:z=(z+=U((p=m[m.length-1])>>2))+U(p<<4&63)+"==";break;case 2:z=(z=(z+=U((p=(m[m.length-2]<<8)+m[m.length-1])>>10))+U(p>>4&63))+U(p<<2&63)+"="}return z}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,s){(function(o,i,_,l,c,d,u,v,g){var h=n("base64-js"),E=n("ieee754");function _(b,D,L){if(!(this instanceof _))return new _(b,D,L);var B,W,q,ee,fe=typeof b;if(D==="base64"&&fe=="string")for(b=(ee=b).trim?ee.trim():ee.replace(/^\s+|\s+$/g,"");b.length%4!=0;)b+="=";if(fe=="number")B=Z(b);else if(fe=="string")B=_.byteLength(b,D);else{if(fe!="object")throw new Error("First argument needs to be a number, array or string.");B=Z(b.length)}if(_._useTypedArrays?W=_._augment(new Uint8Array(B)):((W=this).length=B,W._isBuffer=!0),_._useTypedArrays&&typeof b.byteLength=="number")W._set(b);else if(X(ee=b)||_.isBuffer(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number")for(q=0;q<B;q++)_.isBuffer(b)?W[q]=b.readUInt8(q):W[q]=b[q];else if(fe=="string")W.write(b,0,D);else if(fe=="number"&&!_._useTypedArrays&&!L)for(q=0;q<B;q++)W[q]=0;return W}function C(b,D,L,B){return _._charsWritten=le((function(W){for(var q=[],ee=0;ee<W.length;ee++)q.push(255&W.charCodeAt(ee));return q})(D),b,L,B)}function y(b,D,L,B){return _._charsWritten=le((function(W){for(var q,ee,fe=[],ye=0;ye<W.length;ye++)ee=W.charCodeAt(ye),q=ee>>8,ee=ee%256,fe.push(ee),fe.push(q);return fe})(D),b,L,B)}function S(b,D,L){var B="";L=Math.min(b.length,L);for(var W=D;W<L;W++)B+=String.fromCharCode(b[W]);return B}function x(b,D,L,q){q||(V(typeof L=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+1<b.length,"Trying to read beyond buffer length"));var W,q=b.length;if(!(q<=D))return L?(W=b[D],D+1<q&&(W|=b[D+1]<<8)):(W=b[D]<<8,D+1<q&&(W|=b[D+1])),W}function A(b,D,L,q){q||(V(typeof L=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+3<b.length,"Trying to read beyond buffer length"));var W,q=b.length;if(!(q<=D))return L?(D+2<q&&(W=b[D+2]<<16),D+1<q&&(W|=b[D+1]<<8),W|=b[D],D+3<q&&(W+=b[D+3]<<24>>>0)):(D+1<q&&(W=b[D+1]<<16),D+2<q&&(W|=b[D+2]<<8),D+3<q&&(W|=b[D+3]),W+=b[D]<<24>>>0),W}function w(b,D,L,B){if(B||(V(typeof L=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+1<b.length,"Trying to read beyond buffer length")),!(b.length<=D))return B=x(b,D,L,!0),32768&B?-1*(65535-B+1):B}function P(b,D,L,B){if(B||(V(typeof L=="boolean","missing or invalid endian"),V(D!=null,"missing offset"),V(D+3<b.length,"Trying to read beyond buffer length")),!(b.length<=D))return B=A(b,D,L,!0),2147483648&B?-1*(4294967295-B+1):B}function m(b,D,L,B){return B||(V(typeof L=="boolean","missing or invalid endian"),V(D+3<b.length,"Trying to read beyond buffer length")),E.read(b,D,L,23,4)}function I(b,D,L,B){return B||(V(typeof L=="boolean","missing or invalid endian"),V(D+7<b.length,"Trying to read beyond buffer length")),E.read(b,D,L,52,8)}function p(b,D,L,B,W){if(W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+1<b.length,"trying to write beyond buffer length"),se(D,65535)),W=b.length,!(W<=L))for(var q=0,ee=Math.min(W-L,2);q<ee;q++)b[L+q]=(D&255<<8*(B?q:1-q))>>>8*(B?q:1-q)}function O(b,D,L,B,W){if(W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+3<b.length,"trying to write beyond buffer length"),se(D,4294967295)),W=b.length,!(W<=L))for(var q=0,ee=Math.min(W-L,4);q<ee;q++)b[L+q]=D>>>8*(B?q:3-q)&255}function T(b,D,L,B,W){W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+1<b.length,"Trying to write beyond buffer length"),Se(D,32767,-32768)),b.length<=L||p(b,0<=D?D:65535+D+1,L,B,W)}function R(b,D,L,B,W){W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+3<b.length,"Trying to write beyond buffer length"),Se(D,2147483647,-2147483648)),b.length<=L||O(b,0<=D?D:4294967295+D+1,L,B,W)}function z(b,D,L,B,W){W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+3<b.length,"Trying to write beyond buffer length"),je(D,34028234663852886e22,-34028234663852886e22)),b.length<=L||E.write(b,D,L,B,23,4)}function U(b,D,L,B,W){W||(V(D!=null,"missing value"),V(typeof B=="boolean","missing or invalid endian"),V(L!=null,"missing offset"),V(L+7<b.length,"Trying to write beyond buffer length"),je(D,17976931348623157e292,-17976931348623157e292)),b.length<=L||E.write(b,D,L,B,52,8)}s.Buffer=_,s.SlowBuffer=_,s.INSPECT_MAX_BYTES=50,_.poolSize=8192,_._useTypedArrays=(function(){try{var b=new ArrayBuffer(0),D=new Uint8Array(b);return D.foo=function(){return 42},D.foo()===42&&typeof D.subarray=="function"}catch{return!1}})(),_.isEncoding=function(b){switch(String(b).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.isBuffer=function(b){return!(b==null||!b._isBuffer)},_.byteLength=function(b,D){var L;switch(b+="",D||"utf8"){case"hex":L=b.length/2;break;case"utf8":case"utf-8":L=Y(b).length;break;case"ascii":case"binary":case"raw":L=b.length;break;case"base64":L=te(b).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":L=2*b.length;break;default:throw new Error("Unknown encoding")}return L},_.concat=function(b,D){if(V(X(b),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),b.length===0)return new _(0);if(b.length===1)return b[0];if(typeof D!="number")for(W=D=0;W<b.length;W++)D+=b[W].length;for(var L=new _(D),B=0,W=0;W<b.length;W++){var q=b[W];q.copy(L,B),B+=q.length}return L},_.prototype.write=function(b,D,L,B){isFinite(D)?isFinite(L)||(B=L,L=void 0):(ye=B,B=D,D=L,L=ye),D=Number(D)||0;var W,q,ee,fe,ye=this.length-D;switch((!L||ye<(L=Number(L)))&&(L=ye),B=String(B||"utf8").toLowerCase()){case"hex":W=(function(Ce,De,Ie,_e){Ie=Number(Ie)||0;var he=Ce.length-Ie;(!_e||he<(_e=Number(_e)))&&(_e=he),V((he=De.length)%2==0,"Invalid hex string"),he/2<_e&&(_e=he/2);for(var tt=0;tt<_e;tt++){var Dt=parseInt(De.substr(2*tt,2),16);V(!isNaN(Dt),"Invalid hex string"),Ce[Ie+tt]=Dt}return _._charsWritten=2*tt,tt})(this,b,D,L);break;case"utf8":case"utf-8":q=this,ee=D,fe=L,W=_._charsWritten=le(Y(b),q,ee,fe);break;case"ascii":case"binary":W=C(this,b,D,L);break;case"base64":q=this,ee=D,fe=L,W=_._charsWritten=le(te(b),q,ee,fe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=y(this,b,D,L);break;default:throw new Error("Unknown encoding")}return W},_.prototype.toString=function(b,D,L){var B,W,q,ee,fe=this;if(b=String(b||"utf8").toLowerCase(),D=Number(D)||0,(L=L!==void 0?Number(L):fe.length)===D)return"";switch(b){case"hex":B=(function(ye,Ce,De){var Ie=ye.length;(!Ce||Ce<0)&&(Ce=0),(!De||De<0||Ie<De)&&(De=Ie);for(var _e="",he=Ce;he<De;he++)_e+=G(ye[he]);return _e})(fe,D,L);break;case"utf8":case"utf-8":B=(function(ye,Ce,De){var Ie="",_e="";De=Math.min(ye.length,De);for(var he=Ce;he<De;he++)ye[he]<=127?(Ie+=we(_e)+String.fromCharCode(ye[he]),_e=""):_e+="%"+ye[he].toString(16);return Ie+we(_e)})(fe,D,L);break;case"ascii":case"binary":B=S(fe,D,L);break;case"base64":W=fe,ee=L,B=(q=D)===0&&ee===W.length?h.fromByteArray(W):h.fromByteArray(W.slice(q,ee));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":B=(function(ye,Ce,De){for(var Ie=ye.slice(Ce,De),_e="",he=0;he<Ie.length;he+=2)_e+=String.fromCharCode(Ie[he]+256*Ie[he+1]);return _e})(fe,D,L);break;default:throw new Error("Unknown encoding")}return B},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},_.prototype.copy=function(b,D,L,B){if(D=D||0,(B=B||B===0?B:this.length)!==(L=L||0)&&b.length!==0&&this.length!==0){V(L<=B,"sourceEnd < sourceStart"),V(0<=D&&D<b.length,"targetStart out of bounds"),V(0<=L&&L<this.length,"sourceStart out of bounds"),V(0<=B&&B<=this.length,"sourceEnd out of bounds"),B>this.length&&(B=this.length);var W=(B=b.length-D<B-L?b.length-D+L:B)-L;if(W<100||!_._useTypedArrays)for(var q=0;q<W;q++)b[q+D]=this[q+L];else b._set(this.subarray(L,L+W),D)}},_.prototype.slice=function(b,D){var L=this.length;if(b=K(b,L,0),D=K(D,L,L),_._useTypedArrays)return _._augment(this.subarray(b,D));for(var B=D-b,W=new _(B,void 0,!0),q=0;q<B;q++)W[q]=this[q+b];return W},_.prototype.get=function(b){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(b)},_.prototype.set=function(b,D){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(b,D)},_.prototype.readUInt8=function(b,D){if(D||(V(b!=null,"missing offset"),V(b<this.length,"Trying to read beyond buffer length")),!(b>=this.length))return this[b]},_.prototype.readUInt16LE=function(b,D){return x(this,b,!0,D)},_.prototype.readUInt16BE=function(b,D){return x(this,b,!1,D)},_.prototype.readUInt32LE=function(b,D){return A(this,b,!0,D)},_.prototype.readUInt32BE=function(b,D){return A(this,b,!1,D)},_.prototype.readInt8=function(b,D){if(D||(V(b!=null,"missing offset"),V(b<this.length,"Trying to read beyond buffer length")),!(b>=this.length))return 128&this[b]?-1*(255-this[b]+1):this[b]},_.prototype.readInt16LE=function(b,D){return w(this,b,!0,D)},_.prototype.readInt16BE=function(b,D){return w(this,b,!1,D)},_.prototype.readInt32LE=function(b,D){return P(this,b,!0,D)},_.prototype.readInt32BE=function(b,D){return P(this,b,!1,D)},_.prototype.readFloatLE=function(b,D){return m(this,b,!0,D)},_.prototype.readFloatBE=function(b,D){return m(this,b,!1,D)},_.prototype.readDoubleLE=function(b,D){return I(this,b,!0,D)},_.prototype.readDoubleBE=function(b,D){return I(this,b,!1,D)},_.prototype.writeUInt8=function(b,D,L){L||(V(b!=null,"missing value"),V(D!=null,"missing offset"),V(D<this.length,"trying to write beyond buffer length"),se(b,255)),D>=this.length||(this[D]=b)},_.prototype.writeUInt16LE=function(b,D,L){p(this,b,D,!0,L)},_.prototype.writeUInt16BE=function(b,D,L){p(this,b,D,!1,L)},_.prototype.writeUInt32LE=function(b,D,L){O(this,b,D,!0,L)},_.prototype.writeUInt32BE=function(b,D,L){O(this,b,D,!1,L)},_.prototype.writeInt8=function(b,D,L){L||(V(b!=null,"missing value"),V(D!=null,"missing offset"),V(D<this.length,"Trying to write beyond buffer length"),Se(b,127,-128)),D>=this.length||(0<=b?this.writeUInt8(b,D,L):this.writeUInt8(255+b+1,D,L))},_.prototype.writeInt16LE=function(b,D,L){T(this,b,D,!0,L)},_.prototype.writeInt16BE=function(b,D,L){T(this,b,D,!1,L)},_.prototype.writeInt32LE=function(b,D,L){R(this,b,D,!0,L)},_.prototype.writeInt32BE=function(b,D,L){R(this,b,D,!1,L)},_.prototype.writeFloatLE=function(b,D,L){z(this,b,D,!0,L)},_.prototype.writeFloatBE=function(b,D,L){z(this,b,D,!1,L)},_.prototype.writeDoubleLE=function(b,D,L){U(this,b,D,!0,L)},_.prototype.writeDoubleBE=function(b,D,L){U(this,b,D,!1,L)},_.prototype.fill=function(b,D,L){if(D=D||0,L=L||this.length,V(typeof(b=typeof(b=b||0)=="string"?b.charCodeAt(0):b)=="number"&&!isNaN(b),"value is not a number"),V(D<=L,"end < start"),L!==D&&this.length!==0){V(0<=D&&D<this.length,"start out of bounds"),V(0<=L&&L<=this.length,"end out of bounds");for(var B=D;B<L;B++)this[B]=b}},_.prototype.inspect=function(){for(var b=[],D=this.length,L=0;L<D;L++)if(b[L]=G(this[L]),L===s.INSPECT_MAX_BYTES){b[L+1]="...";break}return"<Buffer "+b.join(" ")+">"},_.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(_._useTypedArrays)return new _(this).buffer;for(var b=new Uint8Array(this.length),D=0,L=b.length;D<L;D+=1)b[D]=this[D];return b.buffer};var F=_.prototype;function K(b,D,L){return typeof b!="number"?L:D<=(b=~~b)?D:0<=b||0<=(b+=D)?b:0}function Z(b){return(b=~~Math.ceil(+b))<0?0:b}function X(b){return(Array.isArray||function(D){return Object.prototype.toString.call(D)==="[object Array]"})(b)}function G(b){return b<16?"0"+b.toString(16):b.toString(16)}function Y(b){for(var D=[],L=0;L<b.length;L++){var B=b.charCodeAt(L);if(B<=127)D.push(b.charCodeAt(L));else for(var W=L,q=(55296<=B&&B<=57343&&L++,encodeURIComponent(b.slice(W,L+1)).substr(1).split("%")),ee=0;ee<q.length;ee++)D.push(parseInt(q[ee],16))}return D}function te(b){return h.toByteArray(b)}function le(b,D,L,B){for(var W=0;W<B&&!(W+L>=D.length||W>=b.length);W++)D[W+L]=b[W];return W}function we(b){try{return decodeURIComponent(b)}catch{return""}}function se(b,D){V(typeof b=="number","cannot write a non-number as a number"),V(0<=b,"specified a negative value for writing an unsigned value"),V(b<=D,"value is larger than maximum value for type"),V(Math.floor(b)===b,"value has a fractional component")}function Se(b,D,L){V(typeof b=="number","cannot write a non-number as a number"),V(b<=D,"value larger than maximum allowed value"),V(L<=b,"value smaller than minimum allowed value"),V(Math.floor(b)===b,"value has a fractional component")}function je(b,D,L){V(typeof b=="number","cannot write a non-number as a number"),V(b<=D,"value larger than maximum allowed value"),V(L<=b,"value smaller than minimum allowed value")}function V(b,D){if(!b)throw new Error(D||"Failed assertion")}_._augment=function(b){return b._isBuffer=!0,b._get=b.get,b._set=b.set,b.get=F.get,b.set=F.set,b.write=F.write,b.toString=F.toString,b.toLocaleString=F.toString,b.toJSON=F.toJSON,b.copy=F.copy,b.slice=F.slice,b.readUInt8=F.readUInt8,b.readUInt16LE=F.readUInt16LE,b.readUInt16BE=F.readUInt16BE,b.readUInt32LE=F.readUInt32LE,b.readUInt32BE=F.readUInt32BE,b.readInt8=F.readInt8,b.readInt16LE=F.readInt16LE,b.readInt16BE=F.readInt16BE,b.readInt32LE=F.readInt32LE,b.readInt32BE=F.readInt32BE,b.readFloatLE=F.readFloatLE,b.readFloatBE=F.readFloatBE,b.readDoubleLE=F.readDoubleLE,b.readDoubleBE=F.readDoubleBE,b.writeUInt8=F.writeUInt8,b.writeUInt16LE=F.writeUInt16LE,b.writeUInt16BE=F.writeUInt16BE,b.writeUInt32LE=F.writeUInt32LE,b.writeUInt32BE=F.writeUInt32BE,b.writeInt8=F.writeInt8,b.writeInt16LE=F.writeInt16LE,b.writeInt16BE=F.writeInt16BE,b.writeInt32LE=F.writeInt32LE,b.writeInt32BE=F.writeInt32BE,b.writeFloatLE=F.writeFloatLE,b.writeFloatBE=F.writeFloatBE,b.writeDoubleLE=F.writeDoubleLE,b.writeDoubleBE=F.writeDoubleBE,b.fill=F.fill,b.inspect=F.inspect,b.toArrayBuffer=F.toArrayBuffer,b}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,s){(function(o,i,h,l,c,d,u,v,g){var h=n("buffer").Buffer,E=4,_=new h(E);_.fill(0),r.exports={hash:function(C,y,S,x){for(var A=y((function(p,O){p.length%E!=0&&(T=p.length+(E-p.length%E),p=h.concat([p,_],T));for(var T,R=[],z=O?p.readInt32BE:p.readInt32LE,U=0;U<p.length;U+=E)R.push(z.call(p,U));return R})(C=h.isBuffer(C)?C:new h(C),x),8*C.length),y=x,w=new h(S),P=y?w.writeInt32BE:w.writeInt32LE,m=0;m<A.length;m++)P.call(w,A[m],4*m,!0);return w}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,s){(function(o,i,h,l,c,d,u,v,g){var h=n("buffer").Buffer,E=n("./sha"),_=n("./sha256"),C=n("./rng"),y={sha1:E,sha256:_,md5:n("./md5")},S=64,x=new h(S);function A(p,O){var T=y[p=p||"sha1"],R=[];return T||w("algorithm:",p,"is not yet supported"),{update:function(z){return h.isBuffer(z)||(z=new h(z)),R.push(z),z.length,this},digest:function(z){var U=h.concat(R),U=O?(function(F,K,Z){h.isBuffer(K)||(K=new h(K)),h.isBuffer(Z)||(Z=new h(Z)),K.length>S?K=F(K):K.length<S&&(K=h.concat([K,x],S));for(var X=new h(S),G=new h(S),Y=0;Y<S;Y++)X[Y]=54^K[Y],G[Y]=92^K[Y];return Z=F(h.concat([X,Z])),F(h.concat([G,Z]))})(T,O,U):T(U);return R=null,z?U.toString(z):U}}}function w(){var p=[].slice.call(arguments).join(" ");throw new Error([p,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}x.fill(0),s.createHash=function(p){return A(p)},s.createHmac=A,s.randomBytes=function(p,O){if(!O||!O.call)return new h(C(p));try{O.call(this,void 0,new h(C(p)))}catch(T){O(T)}};var P,m=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],I=function(p){s[p]=function(){w("sorry,",p,"is not implemented yet")}};for(P in m)I(m[P])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){var h=n("./helpers");function E(w,P){w[P>>5]|=128<<P%32,w[14+(P+64>>>9<<4)]=P;for(var m=1732584193,I=-271733879,p=-1732584194,O=271733878,T=0;T<w.length;T+=16){var R=m,z=I,U=p,F=O,m=C(m,I,p,O,w[T+0],7,-680876936),O=C(O,m,I,p,w[T+1],12,-389564586),p=C(p,O,m,I,w[T+2],17,606105819),I=C(I,p,O,m,w[T+3],22,-1044525330);m=C(m,I,p,O,w[T+4],7,-176418897),O=C(O,m,I,p,w[T+5],12,1200080426),p=C(p,O,m,I,w[T+6],17,-1473231341),I=C(I,p,O,m,w[T+7],22,-45705983),m=C(m,I,p,O,w[T+8],7,1770035416),O=C(O,m,I,p,w[T+9],12,-1958414417),p=C(p,O,m,I,w[T+10],17,-42063),I=C(I,p,O,m,w[T+11],22,-1990404162),m=C(m,I,p,O,w[T+12],7,1804603682),O=C(O,m,I,p,w[T+13],12,-40341101),p=C(p,O,m,I,w[T+14],17,-1502002290),m=y(m,I=C(I,p,O,m,w[T+15],22,1236535329),p,O,w[T+1],5,-165796510),O=y(O,m,I,p,w[T+6],9,-1069501632),p=y(p,O,m,I,w[T+11],14,643717713),I=y(I,p,O,m,w[T+0],20,-373897302),m=y(m,I,p,O,w[T+5],5,-701558691),O=y(O,m,I,p,w[T+10],9,38016083),p=y(p,O,m,I,w[T+15],14,-660478335),I=y(I,p,O,m,w[T+4],20,-405537848),m=y(m,I,p,O,w[T+9],5,568446438),O=y(O,m,I,p,w[T+14],9,-1019803690),p=y(p,O,m,I,w[T+3],14,-187363961),I=y(I,p,O,m,w[T+8],20,1163531501),m=y(m,I,p,O,w[T+13],5,-1444681467),O=y(O,m,I,p,w[T+2],9,-51403784),p=y(p,O,m,I,w[T+7],14,1735328473),m=S(m,I=y(I,p,O,m,w[T+12],20,-1926607734),p,O,w[T+5],4,-378558),O=S(O,m,I,p,w[T+8],11,-2022574463),p=S(p,O,m,I,w[T+11],16,1839030562),I=S(I,p,O,m,w[T+14],23,-35309556),m=S(m,I,p,O,w[T+1],4,-1530992060),O=S(O,m,I,p,w[T+4],11,1272893353),p=S(p,O,m,I,w[T+7],16,-155497632),I=S(I,p,O,m,w[T+10],23,-1094730640),m=S(m,I,p,O,w[T+13],4,681279174),O=S(O,m,I,p,w[T+0],11,-358537222),p=S(p,O,m,I,w[T+3],16,-722521979),I=S(I,p,O,m,w[T+6],23,76029189),m=S(m,I,p,O,w[T+9],4,-640364487),O=S(O,m,I,p,w[T+12],11,-421815835),p=S(p,O,m,I,w[T+15],16,530742520),m=x(m,I=S(I,p,O,m,w[T+2],23,-995338651),p,O,w[T+0],6,-198630844),O=x(O,m,I,p,w[T+7],10,1126891415),p=x(p,O,m,I,w[T+14],15,-1416354905),I=x(I,p,O,m,w[T+5],21,-57434055),m=x(m,I,p,O,w[T+12],6,1700485571),O=x(O,m,I,p,w[T+3],10,-1894986606),p=x(p,O,m,I,w[T+10],15,-1051523),I=x(I,p,O,m,w[T+1],21,-2054922799),m=x(m,I,p,O,w[T+8],6,1873313359),O=x(O,m,I,p,w[T+15],10,-30611744),p=x(p,O,m,I,w[T+6],15,-1560198380),I=x(I,p,O,m,w[T+13],21,1309151649),m=x(m,I,p,O,w[T+4],6,-145523070),O=x(O,m,I,p,w[T+11],10,-1120210379),p=x(p,O,m,I,w[T+2],15,718787259),I=x(I,p,O,m,w[T+9],21,-343485551),m=A(m,R),I=A(I,z),p=A(p,U),O=A(O,F)}return Array(m,I,p,O)}function _(w,P,m,I,p,O){return A((P=A(A(P,w),A(I,O)))<<p|P>>>32-p,m)}function C(w,P,m,I,p,O,T){return _(P&m|~P&I,w,P,p,O,T)}function y(w,P,m,I,p,O,T){return _(P&I|m&~I,w,P,p,O,T)}function S(w,P,m,I,p,O,T){return _(P^m^I,w,P,p,O,T)}function x(w,P,m,I,p,O,T){return _(m^(P|~I),w,P,p,O,T)}function A(w,P){var m=(65535&w)+(65535&P);return(w>>16)+(P>>16)+(m>>16)<<16|65535&m}r.exports=function(w){return h.hash(w,E,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){r.exports=function(h){for(var E,_=new Array(h),C=0;C<h;C++)(3&C)==0&&(E=4294967296*Math.random()),_[C]=E>>>((3&C)<<3)&255;return _}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){var h=n("./helpers");function E(y,S){y[S>>5]|=128<<24-S%32,y[15+(S+64>>9<<4)]=S;for(var x,A,w,P=Array(80),m=1732584193,I=-271733879,p=-1732584194,O=271733878,T=-1009589776,R=0;R<y.length;R+=16){for(var z=m,U=I,F=p,K=O,Z=T,X=0;X<80;X++){P[X]=X<16?y[R+X]:C(P[X-3]^P[X-8]^P[X-14]^P[X-16],1);var G=_(_(C(m,5),(G=I,A=p,w=O,(x=X)<20?G&A|~G&w:!(x<40)&&x<60?G&A|G&w|A&w:G^A^w)),_(_(T,P[X]),(x=X)<20?1518500249:x<40?1859775393:x<60?-1894007588:-899497514)),T=O,O=p,p=C(I,30),I=m,m=G}m=_(m,z),I=_(I,U),p=_(p,F),O=_(O,K),T=_(T,Z)}return Array(m,I,p,O,T)}function _(y,S){var x=(65535&y)+(65535&S);return(y>>16)+(S>>16)+(x>>16)<<16|65535&x}function C(y,S){return y<<S|y>>>32-S}r.exports=function(y){return h.hash(y,E,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){function h(S,x){var A=(65535&S)+(65535&x);return(S>>16)+(x>>16)+(A>>16)<<16|65535&A}function E(S,x){var A,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),P=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),m=new Array(64);S[x>>5]|=128<<24-x%32,S[15+(x+64>>9<<4)]=x;for(var I,p,O=0;O<S.length;O+=16){for(var T=P[0],R=P[1],z=P[2],U=P[3],F=P[4],K=P[5],Z=P[6],X=P[7],G=0;G<64;G++)m[G]=G<16?S[G+O]:h(h(h((p=m[G-2],C(p,17)^C(p,19)^y(p,10)),m[G-7]),(p=m[G-15],C(p,7)^C(p,18)^y(p,3))),m[G-16]),A=h(h(h(h(X,C(p=F,6)^C(p,11)^C(p,25)),F&K^~F&Z),w[G]),m[G]),I=h(C(I=T,2)^C(I,13)^C(I,22),T&R^T&z^R&z),X=Z,Z=K,K=F,F=h(U,A),U=z,z=R,R=T,T=h(A,I);P[0]=h(T,P[0]),P[1]=h(R,P[1]),P[2]=h(z,P[2]),P[3]=h(U,P[3]),P[4]=h(F,P[4]),P[5]=h(K,P[5]),P[6]=h(Z,P[6]),P[7]=h(X,P[7])}return P}var _=n("./helpers"),C=function(S,x){return S>>>x|S<<32-x},y=function(S,x){return S>>>x};r.exports=function(S){return _.hash(S,E,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){s.read=function(h,E,_,C,O){var S,x,A=8*O-C-1,w=(1<<A)-1,P=w>>1,m=-7,I=_?O-1:0,p=_?-1:1,O=h[E+I];for(I+=p,S=O&(1<<-m)-1,O>>=-m,m+=A;0<m;S=256*S+h[E+I],I+=p,m-=8);for(x=S&(1<<-m)-1,S>>=-m,m+=C;0<m;x=256*x+h[E+I],I+=p,m-=8);if(S===0)S=1-P;else{if(S===w)return x?NaN:1/0*(O?-1:1);x+=Math.pow(2,C),S-=P}return(O?-1:1)*x*Math.pow(2,S-C)},s.write=function(h,E,_,C,y,T){var x,A,w=8*T-y-1,P=(1<<w)-1,m=P>>1,I=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=C?0:T-1,O=C?1:-1,T=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(A=isNaN(E)?1:0,x=P):(x=Math.floor(Math.log(E)/Math.LN2),E*(C=Math.pow(2,-x))<1&&(x--,C*=2),2<=(E+=1<=x+m?I/C:I*Math.pow(2,1-m))*C&&(x++,C/=2),P<=x+m?(A=0,x=P):1<=x+m?(A=(E*C-1)*Math.pow(2,y),x+=m):(A=E*Math.pow(2,m-1)*Math.pow(2,y),x=0));8<=y;h[_+p]=255&A,p+=O,A/=256,y-=8);for(x=x<<y|A,w+=y;0<w;h[_+p]=255&x,p+=O,x/=256,w-=8);h[_+p-O]|=128*T}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,s){(function(o,i,a,l,c,d,u,v,g){var h,E,_;function C(){}(o=r.exports={}).nextTick=(E=typeof window<"u"&&window.setImmediate,_=typeof window<"u"&&window.postMessage&&window.addEventListener,E?function(y){return window.setImmediate(y)}:_?(h=[],window.addEventListener("message",function(y){var S=y.source;S!==window&&S!==null||y.data!=="process-tick"||(y.stopPropagation(),0<h.length&&h.shift()())},!0),function(y){h.push(y),window.postMessage("process-tick","*")}):function(y){setTimeout(y,0)}),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=C,o.addListener=C,o.once=C,o.off=C,o.removeListener=C,o.removeAllListeners=C,o.emit=C,o.binding=function(y){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(y){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(ks)),ks.exports}var Lp=Op();const js=Eo(Lp);var Tp=Qu({"../../node_modules/classnames/index.js"(e,t){M(),(function(){var n={}.hasOwnProperty;function r(){for(var i="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(i=o(i,s(l)))}return i}function s(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var l in i)n.call(i,l)&&i[l]&&(a=o(a,l));return a}function o(i,a){return a?i?i+" "+a:i+a:i}typeof t<"u"&&t.exports?(r.default=r,t.exports=r):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return r}):window.classNames=r})()}});M();M();M();var Np=td(Tp()),zp=(e,t,n={baseClass:""})=>(r={})=>{if(typeof r=="string"){const s=r;return t[`${e}-${s}`]&&n.baseClass+t[`${e}-${s}`]||""}else if(typeof r=="object"){const s=r,o={};for(let a in s)o[t[`${e}--${a}`]]=s[a];const i=t[e];return n.baseClass+(0,Np.default)(j({[i]:!!i},o))}else return n.baseClass+t[e]||""},oe=zp;M();var Rp={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},er=oe("ActionBar",Rp),ct=({label:e,children:t})=>f.jsxs("div",{className:er(),onClick:n=>{n.stopPropagation()},children:[e&&f.jsx(ct.Group,{children:f.jsx("div",{className:er("label"),children:e})}),t]}),Fp=({children:e,label:t,onClick:n})=>f.jsx("button",{type:"button",className:er("action"),onClick:n,title:t,children:e}),$p=({children:e})=>f.jsx("div",{className:er("group"),children:e}),Bp=({label:e})=>f.jsx("div",{className:er("label"),children:e});ct.Action=Fp;ct.Label=Bp;ct.Group=$p;M();M();var Wp={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};M();M();M();M();var pa=(e,t,n)=>{const r=Array.from(e),[s]=r.splice(t,1);return r.splice(n,0,s),r};M();var Hp=(e,t,n)=>{const r=Array.from(e);return r.splice(t,1),r.splice(t,0,n),r};M();M();M();M();var Zp=(e,t,n)=>{if(typeof t.state=="object"){const r=j(j({},e),t.state);return t.state.indexes?r:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),Qe(r,n.config))}return j(j({},e),t.state(e))};M();M();var hn=(e,t,n)=>{const r=Array.from(e||[]);return r.splice(t,0,n),r};M();var et=e=>e?`${e}-${Bi()}`:Bi();M();var tr=(e,t)=>{const[n]=e.split(":"),r=t.indexes.nodes[n];return(r?.path||[]).map(s=>s.split(":")[0])};M();var Kc=(e,t,n=!1)=>{const r=et(e.type);return Qa(N(j({},e),{props:n?N(j({},e.props),{id:r}):j({},e.props)}),t,s=>s.map(o=>{const i=et(o.type);return N(j({},o),{props:n?N(j({},o.props),{id:i}):j({id:i},o.props)})}))};function Gc(e,t,n){const r=t.id||et(t.componentType),s=Kc({type:t.componentType,props:N(j({},n.config.components[t.componentType].defaultProps||{}),{id:r})},n.config),[o]=t.destinationZone.split(":"),i=tr(t.destinationZone,e);return Qe(e,n.config,(a,l)=>l===t.destinationZone?hn(a||[],t.destinationIndex,s):a,(a,l)=>a.props.id===r||a.props.id===o||i.includes(a.props.id)||l.includes(t.destinationZone)?a:null)}M();var Up=(e,t,n)=>{const[r]=t.destinationZone.split(":"),s=tr(t.destinationZone,e),o=e.indexes.zones[t.destinationZone].contentIds[t.destinationIndex];if(o!==t.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const a=[],l=Qa(t.data,n.config,(d,u)=>(a.push(`${u.parentId}:${u.propName}`),d.map(v=>{const g=et(v.type);return N(j({},v),{props:j({id:g},v.props)})}))),c=j({},e);return Object.keys(e.indexes.zones).forEach(d=>{d.split(":")[0]===o&&(a.includes(d)||delete c.indexes.zones[d])}),Qe(c,n.config,(d,u)=>{const v=[...d];return u===t.destinationZone&&(v[t.destinationIndex]=l),v},(d,u)=>{const v=u.map(g=>g.split(":")[0]);return d.props.id===l.props.id?l:d.props.id===r||s.indexOf(d.props.id)>-1||v.indexOf(l.props.id)>-1?d:null})};M();var Vp=(e,t,n)=>Qe(e,n.config,r=>r,r=>r.props.id==="root"?N(j({},r),{props:j(j({},r.props),t.root.props),readOnly:t.root.readOnly}):r);M();M();function dt(e,t){var n,r;const s=(n=t.indexes.zones)==null?void 0:n[e.zone||Be];return s?(r=t.indexes.nodes[s.contentIds[e.index]])==null?void 0:r.data:void 0}function qp(e,t,n){const r=dt({index:t.sourceIndex,zone:t.sourceZone},e),s=tr(t.sourceZone,e),o=N(j({},r),{props:N(j({},r.props),{id:et(r.type)})}),i=Qe(e,n.config,(a,l)=>l===t.sourceZone?hn(a,t.sourceIndex+1,r):a,(a,l,c)=>{const d=l[l.length-1];if(l.map(g=>g.split(":")[0]).indexOf(o.props.id)>-1)return N(j({},a),{props:N(j({},a.props),{id:et(a.type)})});if(d===t.sourceZone&&c===t.sourceIndex+1)return o;const[v]=t.sourceZone.split(":");return v===a.props.id||s.indexOf(a.props.id)>-1?a:null});return N(j({},i),{ui:N(j({},i.ui),{itemSelector:{index:t.sourceIndex+1,zone:t.sourceZone}})})}M();M();M();var po=(e,t)=>{const n=Array.from(e);return n.splice(t,1),n},Jc=(e,t,n)=>{if(t.sourceZone===t.destinationZone&&t.sourceIndex===t.destinationIndex)return e;const r=dt({zone:t.sourceZone,index:t.sourceIndex},e);if(!r)return e;const s=tr(t.sourceZone,e),o=tr(t.destinationZone,e);return Qe(e,n.config,(i,a)=>a===t.sourceZone&&a===t.destinationZone?hn(po(i,t.sourceIndex),t.destinationIndex,r):a===t.sourceZone?po(i,t.sourceIndex):a===t.destinationZone?hn(i,t.destinationIndex,r):i,(i,a)=>{const[l]=t.sourceZone.split(":"),[c]=t.destinationZone.split(":"),d=i.props.id;return l===d||c===d||r.props.id===d||s.indexOf(d)>-1||o.indexOf(d)>-1||a.includes(t.destinationZone)?i:null})},Yp=(e,t,n)=>Jc(e,{sourceIndex:t.sourceIndex,sourceZone:t.destinationZone,destinationIndex:t.destinationIndex,destinationZone:t.destinationZone},n);M();var Xp=(e,t,n)=>{const r=dt({index:t.index,zone:t.zone},e),s=Object.entries(e.indexes.nodes).reduce((i,[a,l])=>l.path.map(d=>d.split(":")[0]).includes(r.props.id)?[...i,a]:i,[r.props.id]),o=Qe(e,n.config,(i,a)=>a===t.zone?po(i,t.index):i);return Object.keys(o.data.zones||{}).forEach(i=>{const a=i.split(":")[0];s.includes(a)&&o.data.zones&&delete o.data.zones[i]}),Object.keys(o.indexes.zones).forEach(i=>{const a=i.split(":")[0];s.includes(a)&&delete o.indexes.zones[i]}),s.forEach(i=>{delete o.indexes.nodes[i]}),o};M();var Mr={};function Kp(e,t){return Mr[t.zone]?N(j({},e),{data:N(j({},e.data),{zones:N(j({},e.data.zones),{[t.zone]:Mr[t.zone]})}),indexes:N(j({},e.indexes),{zones:N(j({},e.indexes.zones),{[t.zone]:N(j({},e.indexes.zones[t.zone]),{contentIds:Mr[t.zone].map(n=>n.props.id),type:"dropzone"})})})}):N(j({},e),{data:tl(e.data,t.zone)})}function Gp(e,t){const n=j({},e.data.zones||{}),r=j({},e.indexes.zones||{});return n[t.zone]&&(Mr[t.zone]=n[t.zone],delete n[t.zone]),delete r[t.zone],N(j({},e),{data:N(j({},e.data),{zones:n}),indexes:N(j({},e.indexes),{zones:r})})}M();var Jp=(e,t,n)=>typeof t.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),Qe(N(j({},e),{data:j(j({},e.data),t.data)}),n.config)):Qe(N(j({},e),{data:j(j({},e.data),t.data(e.data))}),n.config);M();var Qp=(e,t)=>typeof t.ui=="object"?N(j({},e),{ui:j(j({},e.ui),t.ui)}):N(j({},e),{ui:j(j({},e.ui),t.ui(e.ui))});M();var nr=e=>{const{data:t,ui:n}=e;return{data:t,ui:n}};M();function eh(e,t,n){return(r,s)=>{const o=e(r,s),i=!["registerZone","unregisterZone","setData","setUi","set"].includes(s.type);return(typeof s.recordHistory<"u"?s.recordHistory:i)&&t&&t(o),n?.(s,nr(o),nr(r)),o}}function ha({record:e,onAction:t,appStore:n}){return eh((r,s)=>s.type==="set"?Zp(r,s,n):s.type==="insert"?Gc(r,s,n):s.type==="replace"?Up(r,s,n):s.type==="replaceRoot"?Vp(r,s,n):s.type==="duplicate"?qp(r,s,n):s.type==="reorder"?Yp(r,s,n):s.type==="move"?Jc(r,s,n):s.type==="remove"?Xp(r,s,n):s.type==="registerZone"?Kp(r,s):s.type==="unregisterZone"?Gp(r,s):s.type==="setData"?Jp(r,s,n):s.type==="setUi"?Qp(r,s):r,e,t)}M();M();var va={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},qt=Va()(ol(e=>({held:{},hold:t=>e(n=>n.held[t]?n:{held:N(j({},n.held),{[t]:!0})}),release:t=>e(n=>n.held[t]?{held:N(j({},n.held),{[t]:!1})}:n),reset:(t={})=>e(()=>({held:t})),triggers:{}}))),Qc=e=>{const t=s=>{const o=va[s.code];if(o){qt.getState().hold(o);const{held:i,triggers:a}=qt.getState();Object.values(a).forEach(({combo:l,cb:c})=>{Object.entries(l).every(([u,v])=>v===!!i[u])&&Object.entries(i).every(([u,v])=>v===!!l[u])&&(s.preventDefault(),c())}),o!=="meta"&&o!=="ctrl"&&o!=="shift"&&qt.getState().release(o)}},n=s=>{const o=va[s.code];o&&(o==="meta"?qt.getState().reset():qt.getState().release(o))},r=s=>{document.visibilityState==="hidden"&&qt.getState().reset()};return e.addEventListener("keydown",t),e.addEventListener("keyup",n),e.addEventListener("visibilitychange",r),()=>{e.removeEventListener("keydown",t),e.removeEventListener("keyup",n),e.removeEventListener("visibilitychange",r)}},th=()=>{k.useEffect(()=>Qc(document),[])},Nt=(e,t)=>{k.useEffect(()=>qt.setState(n=>({triggers:N(j({},n.triggers),{[`${Object.keys(e).join("+")}`]:{combo:e,cb:t}})})),[])},ga=0;function nh(e,t=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}var ma=e=>N(j({},e),{ui:N(j({},e.ui),{field:{focus:null}})}),rh=(e,t)=>{const n=nh(r=>{const{histories:s,index:o}=t().history,i={state:r,id:et("history")},a=[...s.slice(0,o+1),i];e({history:N(j({},t().history),{histories:a,index:a.length-1})})},250);return{initialAppState:{},index:ga,histories:[],hasPast:()=>t().history.index>ga,hasFuture:()=>t().history.index<t().history.histories.length-1,prevHistory:()=>{const{history:r}=t();return r.hasPast()?r.histories[r.index-1]:null},nextHistory:()=>{const r=t().history;return r.hasFuture()?r.histories[r.index+1]:null},currentHistory:()=>t().history.histories[t().history.index],back:()=>{var r;const{history:s,dispatch:o}=t();if(s.hasPast()){const i=ma(((r=s.prevHistory())==null?void 0:r.state)||s.initialAppState);o({type:"set",state:i}),e({history:N(j({},s),{index:s.index-1})})}},forward:()=>{var r;const{history:s,dispatch:o}=t();if(s.hasFuture()){const i=(r=s.nextHistory())==null?void 0:r.state;o({type:"set",state:i?ma(i):{}}),e({history:N(j({},s),{index:s.index+1})})}},setHistories:r=>{var s;const{dispatch:o,history:i}=t();o({type:"set",state:((s=r[r.length-1])==null?void 0:s.state)||i.initialAppState}),e({history:N(j({},i),{histories:r,index:r.length-1})})},setHistoryIndex:r=>{var s;const{dispatch:o,history:i}=t();o({type:"set",state:((s=i.histories[r])==null?void 0:s.state)||i.initialAppState}),e({history:N(j({},i),{index:r})})},record:n}};function sh(e,{histories:t,index:n,initialAppState:r}){k.useEffect(()=>e.setState({history:N(j({},e.getState().history),{histories:t,index:n,initialAppState:r})}),[t,n,r]);const s=()=>{e.getState().history.back()},o=()=>{e.getState().history.forward()};Nt({meta:!0,z:!0},s),Nt({meta:!0,shift:!0,z:!0},o),Nt({meta:!0,y:!0},o),Nt({ctrl:!0,z:!0},s),Nt({ctrl:!0,shift:!0,z:!0},o),Nt({ctrl:!0,y:!0},o)}M();var oh=(e,t)=>({nodes:{},registerNode:(n,r)=>{const s=t().nodes,o={id:n,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},i=s.nodes[n];e({nodes:N(j({},s),{nodes:N(j({},s.nodes),{[n]:N(j(j(j({},o),i),r),{id:n})})})})},unregisterNode:n=>{const r=t().nodes;if(r.nodes[n]){const o=j({},r.nodes);delete o[n],e({nodes:N(j({},r),{nodes:o})})}}});M();M();var ya=(e,t)=>{const n=[];return Qe(e,t,r=>r,r=>(n.push(r),null)),n},ih=(e,t)=>{const n=(...s)=>Ee(void 0,[...s],function*(o={},i){const{state:a,permissions:l,config:c}=t(),{cache:d,globalPermissions:u}=l,v=(C,y=!1)=>Ee(void 0,null,function*(){var S,x,A;const{config:w,state:P,setComponentLoading:m}=t(),I=C.type==="root"?w.root:w.components[C.type];if(!I)return;const p=j(j({},u),I.permissions);if(I.resolvePermissions){const O=Mo(C,(S=d[C.props.id])==null?void 0:S.lastData);if(Object.values(O).some(T=>T===!0)||y){const T=m(C.props.id,!0,50),R=yield I.resolvePermissions(C,{changed:O,lastPermissions:((x=d[C.props.id])==null?void 0:x.lastPermissions)||null,permissions:p,appState:nr(P),lastData:((A=d[C.props.id])==null?void 0:A.lastData)||null}),z=t().permissions;e({permissions:N(j({},z),{cache:N(j({},z.cache),{[C.props.id]:{lastData:C,lastPermissions:R}}),resolvedPermissions:N(j({},z.resolvedPermissions),{[C.props.id]:R})})}),T()}}}),g=(C=!1)=>{const{state:y}=t();v({type:"root",props:N(j({},y.data.root.props),{id:"root"})},C)},{item:h,type:E,root:_}=o;h?yield v(h,i):E?ya(a,c).filter(C=>C.type===E).map(C=>Ee(void 0,null,function*(){yield v(C,i)})):_?g(i):ya(a,c).map(C=>Ee(void 0,null,function*(){yield v(C,i)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:s,type:o,root:i}={})=>{const{config:a,permissions:l}=t(),{globalPermissions:c,resolvedPermissions:d}=l;if(s){const u=a.components[s.type],v=j(j({},c),u?.permissions),g=d[s.props.id];return g?j(j({},c),g):v}else if(o){const u=a.components[o];return j(j({},c),u?.permissions)}else if(i){const u=a.root,v=j(j({},c),u?.permissions),g=d.root;return g?j(j({},c),g):v}return c},resolvePermissions:n,refreshPermissions:s=>n(s,!0)}},ah=(e,t)=>{k.useEffect(()=>{const{permissions:n}=e.getState(),{globalPermissions:r}=n;e.setState({permissions:N(j({},n),{globalPermissions:j(j({},r),t)})}),n.resolvePermissions()},[t]),k.useEffect(()=>e.subscribe(n=>n.state.data,()=>{e.getState().permissions.resolvePermissions()}),[]),k.useEffect(()=>e.subscribe(n=>n.config,()=>{e.getState().permissions.resolvePermissions()}),[])};M();var lh=(e,t)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),ch=(e,t)=>{const n=k.useCallback(r=>Ee(void 0,null,function*(){var s,o;const{fields:i,lastResolvedData:a}=e.getState().fields,l=e.getState().state.indexes.nodes,c=l[t||"root"],d=c?.data,u=c?.parentId?l[c.parentId]:null,v=u?.data||null,{getComponentConfig:g,state:h}=e.getState(),E=g(d?.type);if(!d||!E)return;const _=E.fields||{},C=E.resolveFields;let y=i;if(r&&(e.setState(S=>({fields:N(j({},S.fields),{fields:_,id:t})})),y=_),C){const S=setTimeout(()=>{e.setState(P=>({fields:N(j({},P.fields),{loading:!0})}))},50),x=((s=a.props)==null?void 0:s.id)===t?a:null,A=Mo(d,x),w=yield C(d,{changed:A,fields:_,lastFields:y,lastData:x,appState:nr(h),parent:v});if(clearTimeout(S),((o=e.getState().selectedItem)==null?void 0:o.props.id)!==t)return;e.setState({fields:{fields:w,loading:!1,lastResolvedData:d,id:t}})}else e.setState(S=>({fields:N(j({},S.fields),{fields:_,id:t})}))}),[t]);k.useEffect(()=>(n(!0),e.subscribe(r=>r.state.indexes.nodes[t||"root"],()=>n())),[t])};M();var uh=e=>{if("type"in e&&e.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:t}=e;if(e.props){if("id"in e.props){const n=e.props,{id:r}=n;return{props:Ft(n,["id"]),readOnly:t}}return{props:e.props,readOnly:t}}return{props:{},readOnly:t}},dh={title:{type:"text"}},eu=e=>Va()(ol((t,n)=>{var r,s;return N(j({state:Fs,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:Fr,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{},fieldTransforms:{}},e),{fields:lh(),history:rh(t,n),nodes:oh(t,n),permissions:ih(t,n),getComponentConfig:o=>{var i;const{config:a,selectedItem:l}=n(),c=((i=a.root)==null?void 0:i.fields)||dh;return o&&o!=="root"?a.components[o]:l?a.components[l.type]:N(j({},a.root),{fields:c})},selectedItem:(r=e?.state)!=null&&r.ui.itemSelector?dt((s=e?.state)==null?void 0:s.ui.itemSelector,e.state):null,dispatch:o=>t(i=>{var a,l;const{record:c}=n().history,u=ha({record:c,appStore:i})(i.state,o),v=u.ui.itemSelector?dt(u.ui.itemSelector,u):null;return(l=(a=n()).onAction)==null||l.call(a,o,u,n().state),N(j({},i),{state:u,selectedItem:v})}),setZoomConfig:o=>t({zoomConfig:o}),setStatus:o=>t({status:o}),setComponentState:o=>t({componentState:o}),pendingLoadTimeouts:{},setComponentLoading:(o,i=!0,a=0)=>{const{setComponentState:l,pendingLoadTimeouts:c}=n(),d=et(),u=()=>{var h;const{componentState:E}=n();l(N(j({},E),{[o]:N(j({},E[o]),{loadingCount:(((h=E[o])==null?void 0:h.loadingCount)||0)+1})}))},v=()=>{var h;const{componentState:E}=n();clearTimeout(g),delete c[d],t({pendingLoadTimeouts:c}),l(N(j({},E),{[o]:N(j({},E[o]),{loadingCount:Math.max((((h=E[o])==null?void 0:h.loadingCount)||0)-1,0)})}))},g=setTimeout(()=>{i?u():v(),delete c[d],t({pendingLoadTimeouts:c})},a);return t({pendingLoadTimeouts:N(j({},c),{[o]:g})}),v},unsetComponentLoading:o=>{const{setComponentLoading:i}=n();i(o,!1)},setUi:(o,i)=>t(a=>{const c=ha({record:()=>{},appStore:a})(a.state,{type:"setUi",ui:o,recordHistory:i}),d=c.ui.itemSelector?dt(c.ui.itemSelector,c):null;return N(j({},a),{state:c,selectedItem:d})}),resolveComponentData:(o,i)=>Ee(void 0,null,function*(){const{config:a,metadata:l,setComponentLoading:c,permissions:d}=n(),u={};return yield el(o,a,l,v=>{const g="id"in v.props?v.props.id:"root";u[g]=c(g,!0,50)},v=>Ee(void 0,null,function*(){const g="id"in v.props?v.props.id:"root";"type"in v?yield d.refreshPermissions({item:v}):yield d.refreshPermissions({root:!0}),u[g]()}),i)}),resolveAndCommitData:()=>Ee(void 0,null,function*(){const{config:o,state:i,dispatch:a,resolveComponentData:l}=n();Qe(i,o,c=>c,c=>(l(c,"load").then(d=>{const{state:u}=n(),v=u.indexes.nodes[d.node.props.id];if(v&&d.didChange)if(d.node.props.id==="root")a({type:"replaceRoot",root:uh(d.node)});else{const g=`${v.parentId}:${v.zone}`,E=u.indexes.zones[g].contentIds.indexOf(d.node.props.id);a({type:"replace",data:d.node,destinationIndex:E,destinationZone:g})}}),c))})})})),ji=k.createContext(eu());function $(e){const t=k.useContext(ji);return qa(t,e)}function Xe(){return k.useContext(ji)}M();M();M();var fh="Invariant failed";function ph(e,t){throw new Error(fh)}var mr=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,l={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return l},hh=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},_a=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Cs={top:0,right:0,bottom:0,left:0},vh=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?Cs:r,o=t.border,i=o===void 0?Cs:o,a=t.padding,l=a===void 0?Cs:a,c=mr(hh(n,s)),d=mr(_a(n,i)),u=mr(_a(d,l));return{marginBox:c,borderBox:mr(n),paddingBox:d,contentBox:u,margin:s,border:i,padding:l}},nt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&ph(),s},gh=function(t,n){var r={top:nt(n.marginTop),right:nt(n.marginRight),bottom:nt(n.marginBottom),left:nt(n.marginLeft)},s={top:nt(n.paddingTop),right:nt(n.paddingRight),bottom:nt(n.paddingBottom),left:nt(n.paddingLeft)},o={top:nt(n.borderTopWidth),right:nt(n.borderRightWidth),bottom:nt(n.borderBottomWidth),left:nt(n.borderLeftWidth)};return vh({borderBox:t,margin:r,padding:s,border:o})},tu=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return gh(n,r)},mh=(e,t,n)=>{const r=tu(t),{width:s,height:o}=r.contentBox,i=e.height==="auto"?o:e.height;let a=0,l=1;if(e.width>s||i>o){const c=Math.min(s/e.width,1),d=Math.min(o/i,1);n=c,c<d?a=i/n:(a=i,n=d),l=n}else l=1,n=1,a=i;return{autoZoom:l,rootHeight:a,zoom:n}},nu=e=>{const t=Xe();return r=>{const{state:s,zoomConfig:o,setZoomConfig:i}=t.getState(),{viewports:a}=s.ui,l=r?.viewports||a;e.current&&i(mh(l?.current,e.current,o.zoom))}};M();var yh={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},_h=oe("Loader",yh),Gt=e=>{var t=e,{color:n,size:r=16}=t,s=Ft(t,["color","size"]);return f.jsx("span",j({className:_h(),style:{width:r,height:r,color:n},"aria-label":"loading"},s))},ba=oe("IconButton",Wp),ft=({children:e,href:t,onClick:n,variant:r="primary",type:s,disabled:o,tabIndex:i,newTab:a,fullWidth:l,title:c})=>{const[d,u]=k.useState(!1),v=t?"a":"button";return f.jsxs(v,{className:ba({primary:r==="primary",secondary:r==="secondary",disabled:o,fullWidth:l}),onClick:h=>{n&&(u(!0),Promise.resolve(n(h)).then(()=>{u(!1)}))},type:s,disabled:o||d,tabIndex:i,target:a?"_blank":void 0,rel:a?"noreferrer":void 0,href:t,title:c,children:[f.jsx("span",{className:ba("title"),children:c}),e,d&&f.jsxs(f.Fragment,{children:["",f.jsx(Gt,{size:14})]})]})};M();M();var bh={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};M();var xh=/^(data-.*)$/,wh=e=>{let t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&xh.test(n)&&(t[n]=e[n]);return t},Ds=oe("Button",bh),ho=e=>{var t=e,{children:n,href:r,onClick:s,variant:o="primary",type:i,disabled:a,tabIndex:l,newTab:c,fullWidth:d,icon:u,size:v="medium",loading:g=!1}=t,h=Ft(t,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[E,_]=k.useState(g);k.useEffect(()=>_(g),[g]);const C=r?"a":i?"button":"span",y=wh(h);return f.jsxs(C,N(j({className:Ds({primary:o==="primary",secondary:o==="secondary",disabled:a,fullWidth:d,[v]:!0}),onClick:x=>{s&&(_(!0),Promise.resolve(s(x)).then(()=>{_(!1)}))},type:i,disabled:a||E,tabIndex:l,target:c?"_blank":void 0,rel:c?"noreferrer":void 0,href:r},y),{children:[u&&f.jsx("div",{className:Ds("icon"),children:u}),n,E&&f.jsx("div",{className:Ds("spinner"),children:f.jsx(Gt,{size:14})})]}))};M();M();var In={InputWrapper:"_InputWrapper_bsxfo_1","Input-label":"_Input-label_bsxfo_5","Input-labelIcon":"_Input-labelIcon_bsxfo_14","Input-disabledIcon":"_Input-disabledIcon_bsxfo_21","Input-input":"_Input-input_bsxfo_26",Input:"_Input_bsxfo_1","Input--readOnly":"_Input--readOnly_bsxfo_82","Input-radioGroupItems":"_Input-radioGroupItems_bsxfo_93","Input-radio":"_Input-radio_bsxfo_93","Input-radioInner":"_Input-radioInner_bsxfo_110","Input-radioInput":"_Input-radioInput_bsxfo_155"};M();M();M();var ru={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};M();M();M();var Sh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),su=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();M();M();var Ih={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},Eh=k.forwardRef((e,t)=>{var n=e,{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c}=n,d=Ft(n,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return k.createElement("svg",j(N(j({ref:t},Ih),{width:s,height:s,stroke:r,strokeWidth:i?Number(o)*24/Number(s):o,className:su("lucide",a)}),d),[...c.map(([u,v])=>k.createElement(u,v)),...Array.isArray(l)?l:[l]])}),de=(e,t)=>{const n=k.forwardRef((r,s)=>{var o=r,{className:i}=o,a=Ft(o,["className"]);return k.createElement(Eh,j({ref:s,iconNode:t,className:su(`lucide-${Sh(e)}`,i)},a))});return n.displayName=`${e}`,n};M();var cs=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);M();var kh=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);M();var ou=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);M();var jh=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);M();var iu=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);M();var Ch=de("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);M();var Dh=de("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);M();var xa=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);M();var Ph=de("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);M();var Ah=de("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);M();var Mh=de("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);M();var au=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);M();var Oh=de("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);M();var Lh=de("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);M();var Th=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);M();var Nh=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);M();var zh=de("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);M();var Rh=de("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);M();var Fh=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);M();var $h=de("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);M();var Bh=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);M();var Wh=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);M();var Hh=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);M();var Zh=de("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);M();var lu=de("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);M();var Ci=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);M();var Uh=de("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);M();var Vh=de("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();var qh=de("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();M();M();var Yh={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},Xh=oe("DragIcon",Yh),cu=({isDragDisabled:e})=>f.jsx("div",{className:Xh({disabled:e}),children:f.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:f.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});M();M();var wa={delay:{value:200,tolerance:10}},Sa={delay:{value:200,tolerance:10},distance:{value:5}},uu=({other:e=Sa,mouse:t,touch:n=wa}={touch:wa,other:Sa})=>{const[r]=k.useState(()=>[Bc.configure({activationConstraints(s,o){var i;const{pointerType:a,target:l}=s;return a==="mouse"&&xn(l)&&(o.handle===l||(i=o.handle)!=null&&i.contains(l))?t:a==="touch"?n:e}})]);return r};M();M();M();var ln=(e,t,n,r,s)=>{},Ps="increasing",Kh=(e,t)=>{var n;const{dragOperation:r,droppable:s}=e,{shape:o}=s,{position:i}=r,a=(n=r.shape)==null?void 0:n.current;if(!a||!o)return null;const l=o.center,c=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),d=Math.sqrt(Math.pow(l.x-i.current.x,2)+Math.pow(l.y-i.current.y,2));return Ps=d===c?Ps:d<c?"decreasing":"increasing",ln(a.center,l,s.id.toString()),Ps==="decreasing"?{id:s.id,value:1,type:$t.Collision}:null};M();var du=(e,t)=>e==="dynamic"?Math.abs(t.y)>Math.abs(t.x)?t.y===0?null:t.y>0?"down":"up":t.x===0?null:t.x>0?"right":"left":e==="x"?t.x===0?null:t.x>0?"right":"left":t.y===0?null:t.y>0?"down":"up";M();var Gh=(e,t,n,r=0)=>{const s=e.boundingRectangle,o=t.center;if(n==="down"){const a=r*t.boundingRectangle.height;return s.bottom>=o.y+a}else if(n==="up"){const a=r*t.boundingRectangle.height;return s.top<o.y-a}else if(n==="left"){const a=r*t.boundingRectangle.width;return o.x-a>=s.left}const i=r*t.boundingRectangle.width;return s.right-i>=o.x};M();var Ia=10,it={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},Jh=(e,t="dynamic")=>(it.current=e,it.delta={x:e.x-it.previous.x,y:e.y-it.previous.y},it.direction=du(t,it.delta)||it.direction,(Math.abs(it.delta.x)>Ia||Math.abs(it.delta.y)>Ia)&&(it.previous=We.from(e)),it);M();var Qh=({dragOperation:e,droppable:t})=>{const n=e.position.current;if(!n)return null;const{id:r}=t;if(!t.shape)return null;if(t.shape.containsPoint(n)){const s=We.distance(t.shape.center,n);return{id:r,value:1/s,type:$t.PointerIntersection,priority:mt.High}}return null},ev=e=>{const{dragOperation:t,droppable:n}=e,{shape:r,position:s}=t;if(!n.shape)return null;const o=r?Et.from(r.current.boundingRectangle).corners:void 0,a=Et.from(n.shape.boundingRectangle).corners.reduce((l,c,d)=>{var u;return l+We.distance(We.from(c),(u=o?.[d])!=null?u:s.current)},0)/4;return{id:n.id,value:1/a,type:$t.Collision,priority:mt.Normal}};M();var vo=ts(()=>({fallbackEnabled:!1})),As="",fu=(e,t=.05)=>n=>{var r,s,o,i,a;const{dragOperation:l,droppable:c}=n,{position:d}=l,u=(r=l.shape)==null?void 0:r.current,{shape:v}=c;if(!u||!v)return null;const{center:g}=u,{fallbackEnabled:h}=vo.getState(),E=Jh(d.current,e),_={direction:E.direction},{center:C}=v,y=Gh(u,v,E.direction,t);if(((s=l.source)==null?void 0:s.id)===c.id){const A=Kh(n,E.previous);if(ln(g,C,c.id.toString()),A)return N(j({},A),{priority:mt.Highest,data:_})}const S=u.intersectionArea(v),x=S/v.area;if(S&&y){ln(g,C,c.id.toString());const A={id:c.id,value:x,priority:mt.High,type:$t.Collision},w=As===c.id;return As="",N(j({},A),{id:w?"flush":A.id,data:_})}if(h&&((o=l.source)==null?void 0:o.id)!==c.id){const A=v.boundingRectangle.right>u.boundingRectangle.left&&v.boundingRectangle.left<u.boundingRectangle.right,w=v.boundingRectangle.bottom>u.boundingRectangle.top&&v.boundingRectangle.top<u.boundingRectangle.bottom;if(e==="y"&&A||w){const P=ev(n);if(P){const m=du(e,{x:u.center.x-(((i=c.shape)==null?void 0:i.center.x)||0),y:u.center.y-(((a=c.shape)==null?void 0:a.center.y)||0)});return _.direction=m,S?(ln(g,C,c.id.toString()),As=c.id,N(j({},P),{priority:mt.Low,data:_})):(ln(g,C,c.id.toString()),N(j({},P),{priority:mt.Lowest,data:_}))}}}return ln(g,C,c.id.toString()),null},tv=({children:e,onDragStart:t,onDragEnd:n,onMove:r})=>{const s=uu({mouse:{distance:{value:5}}});return f.jsx(Ya,{sensors:s,onDragStart:o=>{var i,a;return t((a=(i=o.operation.source)==null?void 0:i.id.toString())!=null?a:"")},onDragOver:(o,i)=>{var a;o.preventDefault();const{operation:l}=o,{source:c,target:d}=l;if(!c||!d)return;let u=c.data.index,v=d.data.index;const g=(a=i.collisionObserver.collisions[0])==null?void 0:a.data;if(u!==v&&c.id!==d.id){const h=g?.direction==="up"?"before":"after";v>=u&&(v=v-1),h==="after"&&(v=v+1),r({source:u,target:v})}},onDragEnd:()=>{setTimeout(()=>{n()},250)},children:e})},nv=({id:e,index:t,disabled:n,children:r,type:s="item"})=>{const{ref:o,isDragging:i,isDropping:a,handleRef:l}=Ka({id:e,type:s,index:t,disabled:n,data:{index:t},collisionDetector:fu("y")});return r({isDragging:i,isDropping:a,ref:o,handleRef:l})};M();var Qr=k.createContext({}),pu=()=>{const e=k.useContext(Qr);return N(j({},e),{readOnlyFields:e.readOnlyFields||{}})},hu=({children:e,name:t,subName:n,wildcardName:r=t,readOnlyFields:s})=>{const o=`${t}.${n}`,i=`${r}.${n}`,a=k.useMemo(()=>Object.keys(s).reduce((l,c)=>{if(c.indexOf(o)>-1||c.indexOf(i)>-1){const u=new RegExp(`^(${t}|${r}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),v=c.replace(u,"");return N(j({},l),{[v]:s[c]})}return l},{}),[t,n,r,s]);return f.jsx(Qr.Provider,{value:{readOnlyFields:a,localName:n},children:e})},Ms=oe("ArrayField",ru),Pt=oe("ArrayFieldItem",ru),rv=({field:e,onChange:t,value:n,name:r,label:s,labelIcon:o,readOnly:i,id:a,Label:l=c=>f.jsx("div",j({},c))})=>{const c=$(R=>R.state.ui.arrayState[a]),d=$(R=>R.setUi),{readOnlyFields:u,localName:v=r}=pu(),g=n,h=c||{items:Array.from(g||[]).map((R,z)=>({_originalIndex:z,_arrayId:`${a}-${z}`})),openId:""},[E,_]=k.useState({arrayState:h,value:g});k.useEffect(()=>{var R;const z=(R=C.getState().state.ui.arrayState[a])!=null?R:h;_({arrayState:z,value:g})},[g]);const C=Xe(),y=k.useCallback(R=>{const z=C.getState().state;return{arrayState:N(j({},z.ui.arrayState),{[a]:j(j({},h),R)})}},[h,C]),S=k.useCallback(()=>h.items.reduce((R,z)=>z._originalIndex>R?z._originalIndex:R,-1),[h]),x=k.useCallback(R=>{let z=S();const U=Array.from(R||[]).map((F,K)=>{var Z;const X=h.items[K],G={_originalIndex:typeof X?._originalIndex<"u"?X._originalIndex:z+1,_arrayId:((Z=h.items[K])==null?void 0:Z._arrayId)||`${a}-${z+1}`};return G._originalIndex>z&&(z=G._originalIndex),G});return N(j({},h),{items:U})},[h]);k.useEffect(()=>{h.items.length>0&&d(y(h))},[]);const[A,w]=k.useState(""),P=!!A,I=!$(R=>R.permissions.getPermissions({item:R.selectedItem}).edit),p=k.useRef(g),O=k.useCallback(R=>{if(e.type!=="array"||!e.arrayFields)return;const z=C.getState().config;return Rr({value:R,fields:e.arrayFields,mappers:{slot:({value:U})=>U.map(K=>Kc(K,z,!0))},config:z})},[C,e]);if(e.type!=="array"||!e.arrayFields)return null;const T=e.max!==void 0&&E.arrayState.items.length>=e.max||i;return f.jsx(l,{label:s||r,icon:o||f.jsx(Oh,{size:16}),el:"div",readOnly:i,children:f.jsx(tv,{onDragStart:R=>w(R),onDragEnd:()=>{w(""),t(p.current)},onMove:R=>{if(h.items[R.source]._arrayId!==A)return;const z=pa(E.value,R.source,R.target),U=pa(h.items,R.source,R.target),F=C.getState().state,K={arrayState:N(j({},F.ui.arrayState),{[a]:N(j({},h),{items:U})})};d(K,!1),_({value:z,arrayState:N(j({},h),{items:U})}),p.current=z},children:f.jsxs("div",{className:Ms({hasItems:Array.isArray(g)&&g.length>0,addDisabled:T}),children:[E.arrayState.items.length>0&&f.jsx("div",{className:Ms("inner"),"data-dnd-container":!0,children:E.arrayState.items.map((R,z)=>{const{_arrayId:U=`${a}-${z}`,_originalIndex:F=z}=R,K=Array.from(E.value||[])[z]||{};return f.jsx(nv,{id:U,index:z,disabled:i,children:({isDragging:Z,ref:X,handleRef:G})=>f.jsxs("div",{ref:X,className:Pt({isExpanded:h.openId===U,isDragging:Z,readOnly:i}),children:[f.jsxs("div",{ref:G,onClick:Y=>{Z||(Y.preventDefault(),Y.stopPropagation(),h.openId===U?d(y({openId:""})):d(y({openId:U})))},className:Pt("summary"),children:[e.getItemSummary?e.getItemSummary(K,z):`Item #${F}`,f.jsxs("div",{className:Pt("rhs"),children:[!i&&f.jsxs("div",{className:Pt("actions"),children:[f.jsx("div",{className:Pt("action"),children:f.jsx(ft,{type:"button",disabled:!!T,onClick:Y=>{Y.stopPropagation();const te=[...g||[]],le=O(te[z]);te.splice(z,0,le);const we=y(x(te));d(we,!1),t(te)},title:"Duplicate",children:f.jsx(iu,{size:16})})}),f.jsx("div",{className:Pt("action"),children:f.jsx(ft,{type:"button",disabled:e.min!==void 0&&e.min>=E.arrayState.items.length,onClick:Y=>{Y.stopPropagation();const te=[...g||[]],le=[...h.items||[]];te.splice(z,1),le.splice(z,1),d(y({items:le}),!1),t(te)},title:"Delete",children:f.jsx(lu,{size:16})})})]}),f.jsx("div",{children:f.jsx(cu,{})})]})]}),f.jsx("div",{className:Pt("body"),children:h.openId===U&&f.jsx("fieldset",{className:Pt("fieldset"),children:Object.keys(e.arrayFields).map(Y=>{const te=e.arrayFields[Y],we=`${`${r}[${z}]`}.${Y}`,se=`${v}[${z}]`,Se=`${v}[*]`,je=`${se}.${Y}`,V=`${Se}.${Y}`,b=I||(typeof u[we]<"u"?u[je]:u[V]),D=te.label||Y;return f.jsx(hu,{name:se,wildcardName:Se,subName:Y,readOnlyFields:u,children:f.jsx(us,{name:we,label:D,id:`${U}_${Y}`,readOnly:b,field:N(j({},te),{label:D}),value:K[Y],onChange:(L,B)=>{t(Hp(g,z,N(j({},K),{[Y]:L})),B)}})},we)})})})]})},U)})}),!T&&f.jsx("button",{type:"button",className:Ms("addButton"),onClick:()=>{var R;if(P)return;const z=g||[],U=Do(O((R=e.defaultItemProps)!=null?R:{}),e.arrayFields),F=[...z,U],K=x(F);d(y(K),!1),t(F)},children:f.jsx(Fh,{size:21})})]})})})};M();var sv=oe("Input",In),Ea=({field:e,onChange:t,readOnly:n,value:r,name:s,label:o,labelIcon:i,Label:a,id:l})=>{const c=r;return f.jsx(a,{label:o||s,icon:i||f.jsxs(f.Fragment,{children:[e.type==="text"&&f.jsx(Ci,{size:16}),e.type==="number"&&f.jsx(Ph,{size:16})]}),readOnly:n,children:f.jsx("input",{className:sv("input"),autoComplete:"off",type:e.type,title:o||s,name:s,value:c?.toString?c.toString():"",onChange:d=>{if(e.type==="number"){const u=Number(d.currentTarget.value);if(typeof e.min<"u"&&u<e.min||typeof e.max<"u"&&u>e.max)return;t(u)}else t(d.currentTarget.value)},readOnly:n,tabIndex:n?-1:void 0,id:l,min:e.type==="number"?e.min:void 0,max:e.type==="number"?e.max:void 0,placeholder:e.type==="text"||e.type==="number"?e.placeholder:void 0,step:e.type==="number"?e.step:void 0})})};M();M();M();var vu={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};M();M();var ov={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},ka=oe("Modal",ov),iv=({children:e,onClose:t,isOpen:n})=>{const[r,s]=k.useState(null);return k.useEffect(()=>{s(document.getElementById("puck-portal-root"))},[]),r?Io.createPortal(f.jsx("div",{className:ka({isOpen:n}),onClick:t,children:f.jsx("div",{className:ka("inner"),onClick:o=>o.stopPropagation(),children:e})}),r):f.jsx("div",{})};M();M();var av={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},lv=oe("Heading",av),Di=({children:e,rank:t,size:n="m"})=>{const r=t?`h${t}`:"span";return f.jsx(r,{className:lv({[n]:!0}),children:e})};M();var yr=oe("ExternalInput",vu),ge=oe("ExternalInputModal",vu),ja={},cv=({field:e,onChange:t,value:n=null,name:r,id:s,readOnly:o})=>{const{mapProp:i=p=>p,mapRow:a=p=>p,filterFields:l}=e||{},[c,d]=k.useState([]),[u,v]=k.useState(!1),[g,h]=k.useState(!0),E=!!l,[_,C]=k.useState(e.initialFilters||{}),[y,S]=k.useState(E),x=k.useMemo(()=>c.map(a),[c]),A=k.useMemo(()=>{const p=new Set;for(const O of x)for(const T of Object.keys(O))(typeof O[T]=="string"||typeof O[T]=="number"||k.isValidElement(O[T]))&&p.add(T);return Array.from(p)},[x]),[w,P]=k.useState(e.initialQuery||""),m=k.useCallback((p,O)=>Ee(void 0,null,function*(){h(!0);const T=`${s}-${p}-${JSON.stringify(O)}`,R=ja[T]||(yield e.fetchList({query:p,filters:O}));R&&(d(R),h(!1),ja[T]=R)}),[s,e]),I=k.useCallback(p=>e.renderFooter?e.renderFooter(p):f.jsxs("span",{className:ge("footer"),children:[p.items.length," result",p.items.length===1?"":"s"]}),[e.renderFooter]);return k.useEffect(()=>{m(w,_)},[]),f.jsxs("div",{className:yr({dataSelected:!!n,modalVisible:u,readOnly:o}),id:s,children:[f.jsxs("div",{className:yr("actions"),children:[f.jsx("button",{type:"button",onClick:()=>v(!0),className:yr("button"),disabled:o,children:n?e.getItemSummary?e.getItemSummary(n):"External item":f.jsxs(f.Fragment,{children:[f.jsx(au,{size:"16"}),f.jsx("span",{children:e.placeholder})]})}),n&&f.jsx("button",{type:"button",className:yr("detachButton"),onClick:()=>{t(null)},disabled:o,children:f.jsx(Lh,{size:16})})]}),f.jsx(iv,{onClose:()=>v(!1),isOpen:u,children:f.jsxs("form",{className:ge({isLoading:g,loaded:!g,hasData:x.length>0,filtersToggled:y}),onSubmit:p=>{p.preventDefault(),m(w,_)},children:[f.jsx("div",{className:ge("masthead"),children:e.showSearch?f.jsxs("div",{className:ge("searchForm"),children:[f.jsxs("label",{className:ge("search"),children:[f.jsx("span",{className:ge("searchIconText"),children:"Search"}),f.jsx("div",{className:ge("searchIcon"),children:f.jsx(Bh,{size:"18"})}),f.jsx("input",{className:ge("searchInput"),name:"q",type:"search",placeholder:e.placeholder,onChange:p=>{P(p.currentTarget.value)},autoComplete:"off",value:w})]}),f.jsxs("div",{className:ge("searchActions"),children:[f.jsx(ho,{type:"submit",loading:g,fullWidth:!0,children:"Search"}),E&&f.jsx("div",{className:ge("searchActionIcon"),children:f.jsx(ft,{type:"button",title:"Toggle filters",onClick:p=>{p.preventDefault(),p.stopPropagation(),S(!y)},children:f.jsx(Wh,{size:20})})})]})]}):f.jsx(Di,{rank:"2",size:"xs",children:e.placeholder||"Select data"})}),f.jsxs("div",{className:ge("grid"),children:[E&&f.jsx("div",{className:ge("filters"),children:E&&Object.keys(l).map(p=>{const O=l[p];return f.jsx("div",{className:ge("field"),children:f.jsx(us,{field:O,name:p,id:`external_field_${p}_filter`,label:O.label||p,value:_[p],onChange:T=>{const R=N(j({},_),{[p]:T});C(R),m(w,R)}})},p)})}),f.jsxs("div",{className:ge("tableWrapper"),children:[f.jsxs("table",{className:ge("table"),children:[f.jsx("thead",{className:ge("thead"),children:f.jsx("tr",{className:ge("tr"),children:A.map(p=>f.jsx("th",{className:ge("th"),style:{textAlign:"left"},children:p},p))})}),f.jsx("tbody",{className:ge("tbody"),children:x.map((p,O)=>f.jsx("tr",{style:{whiteSpace:"nowrap"},className:ge("tr"),onClick:()=>{t(i(c[O])),v(!1)},children:A.map(T=>f.jsx("td",{className:ge("td"),children:p[T]},T))},O))})]}),f.jsx("div",{className:ge("loadingBanner"),children:f.jsx(Gt,{size:24})})]})]}),f.jsx("div",{className:ge("footerContainer"),children:f.jsx(I,{items:x})})]})})]})},uv=({field:e,onChange:t,value:n,name:r,label:s,labelIcon:o,Label:i,id:a,readOnly:l})=>{var c,d,u;const v=e,g=e;return k.useEffect(()=>{g.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),e.type!=="external"?null:f.jsx(i,{label:s||r,icon:o||f.jsx(au,{size:16}),el:"div",children:f.jsx(cv,{name:r,field:N(j({},v),{placeholder:(c=g.adaptor)!=null&&c.name?`Select from ${g.adaptor.name}`:v.placeholder||"Select data",mapProp:((d=g.adaptor)==null?void 0:d.mapProp)||v.mapProp,mapRow:v.mapRow,fetchList:(u=g.adaptor)!=null&&u.fetchList?()=>Ee(void 0,null,function*(){return yield g.adaptor.fetchList(g.adaptorParams)}):v.fetchList}),onChange:t,value:n,id:a,readOnly:l})})};M();var _r=oe("Input",In),dv=({field:e,onChange:t,readOnly:n,value:r,name:s,id:o,label:i,labelIcon:a,Label:l})=>e.type!=="radio"||!e.options?null:f.jsx(l,{icon:a||f.jsx(jh,{size:16}),label:i||s,readOnly:n,el:"div",children:f.jsx("div",{className:_r("radioGroupItems"),id:o,children:e.options.map(c=>{var d;return f.jsxs("label",{className:_r("radio"),children:[f.jsx("input",{type:"radio",className:_r("radioInput"),value:JSON.stringify({value:c.value}),name:s,onChange:u=>{t(JSON.parse(u.target.value).value)},disabled:n,checked:r===c.value}),f.jsx("div",{className:_r("radioInner"),children:c.label||((d=c.value)==null?void 0:d.toString())})]},c.label+c.value)})})});M();var fv=oe("Input",In),pv=({field:e,onChange:t,label:n,labelIcon:r,Label:s,value:o,name:i,readOnly:a,id:l})=>e.type!=="select"||!e.options?null:f.jsx(s,{label:n||i,icon:r||f.jsx(cs,{size:16}),readOnly:a,children:f.jsx("select",{id:l,title:n||i,className:fv("input"),disabled:a,onChange:c=>{t(JSON.parse(c.target.value).value)},value:JSON.stringify({value:o}),children:e.options.map(c=>f.jsx("option",{label:c.label,value:JSON.stringify({value:c.value})},c.label+JSON.stringify(c.value)))})});M();var hv=oe("Input",In),vv=({field:e,onChange:t,readOnly:n,value:r,name:s,label:o,labelIcon:i,Label:a,id:l})=>f.jsx(a,{label:o||s,icon:i||f.jsx(Ci,{size:16}),readOnly:n,children:f.jsx("textarea",{id:l,className:hv("input"),autoComplete:"off",name:s,value:typeof r>"u"?"":r,onChange:c=>t(c.currentTarget.value),readOnly:n,tabIndex:n?-1:void 0,rows:5,placeholder:e.type==="textarea"?e.placeholder:void 0})});M();M();var gv={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},Ca=oe("ObjectField",gv),mv=({field:e,onChange:t,value:n,name:r,label:s,labelIcon:o,Label:i,readOnly:a,id:l})=>{const{readOnlyFields:c,localName:d=r}=pu();if(e.type!=="object"||!e.objectFields)return null;const u=n||{};return f.jsx(i,{label:s||r,icon:o||f.jsx(Dh,{size:16}),el:"div",readOnly:a,children:f.jsx("div",{className:Ca(),children:f.jsx("fieldset",{className:Ca("fieldset"),children:Object.keys(e.objectFields).map(v=>{const g=e.objectFields[v],h=`${d}.${v}`,E=a||c[h],_=g.label||v;return f.jsx(hu,{name:d||l,subName:v,readOnlyFields:c,children:f.jsx(us,{name:h,label:h,id:`${l}_${v}`,readOnly:E,field:N(j({},g),{label:_}),value:u[v],onChange:(C,y)=>{t(N(j({},u),{[v]:C}),y)}})},h)})})})})};M();var Pi=()=>{if(typeof zs.useId<"u")return zs.useId();const[e]=k.useState(et());return e},Or=oe("Input",In),yv=oe("InputWrapper",In),_v=({children:e,icon:t,label:n,el:r="label",readOnly:s,className:o})=>{const i=r;return f.jsxs(i,{className:o,children:[f.jsxs("div",{className:Or("label"),children:[t?f.jsx("div",{className:Or("labelIcon"),children:t}):f.jsx(f.Fragment,{}),n,s&&f.jsx("div",{className:Or("disabledIcon"),title:"Read-only",children:f.jsx(Th,{size:"12"})})]}),e]})},bv=({children:e,icon:t,label:n,el:r="label",readOnly:s})=>{const o=$(a=>a.overrides),i=k.useMemo(()=>o.fieldLabel||_v,[o]);return n?f.jsx(i,{label:n,icon:t,className:Or({readOnly:s}),readOnly:s,el:r,children:e}):f.jsx(f.Fragment,{children:e})},wt={array:rv,external:uv,object:mv,select:pv,textarea:vv,radio:dv,text:Ea,number:Ea};function xv(e){var t;const n=$(x=>x.dispatch),r=$(x=>x.overrides),s=$(x=>{var A;return(A=x.selectedItem)==null?void 0:A.readOnly}),o=k.useContext(Qr),{id:i,Label:a=bv}=e,l=e.field,c=l.label,d=l.labelIcon,u=Pi(),v=i||u,g=k.useMemo(()=>{var x,A,w,P,m,I,p,O;return N(j({},r.fieldTypes),{array:((x=r.fieldTypes)==null?void 0:x.array)||wt.array,external:((A=r.fieldTypes)==null?void 0:A.external)||wt.external,object:((w=r.fieldTypes)==null?void 0:w.object)||wt.object,select:((P=r.fieldTypes)==null?void 0:P.select)||wt.select,textarea:((m=r.fieldTypes)==null?void 0:m.textarea)||wt.textarea,radio:((I=r.fieldTypes)==null?void 0:I.radio)||wt.radio,text:((p=r.fieldTypes)==null?void 0:p.text)||wt.text,number:((O=r.fieldTypes)==null?void 0:O.number)||wt.number})},[r]),h=k.useMemo(()=>N(j({},e),{field:l,label:c,labelIcon:d,Label:a,id:v}),[e,l,c,d,a,v]),E=k.useCallback(x=>{h.name&&(x.target.nodeName==="INPUT"||x.target.nodeName==="TEXTAREA")&&(x.stopPropagation(),n({type:"setUi",ui:{field:{focus:h.name}}}))},[h.name]),_=k.useCallback(x=>{"name"in x.target&&n({type:"setUi",ui:{field:{focus:null}}})},[]);let C=k.useMemo(()=>l.type!=="custom"&&l.type!=="slot"?wt[l.type]:x=>null,[l.type]),y=k.useMemo(()=>{if(l.type==="custom")return l.render?l.render:null;if(l.type!=="slot")return g[l.type]},[l.type,g]);const{visible:S=!0}=e.field;if(!S||l.type==="slot")return null;if(!y)throw new Error(`Field type for ${l.type} did not exist.`);return f.jsx(Qr.Provider,{value:{readOnlyFields:o.readOnlyFields||s||{},localName:(t=o.localName)!=null?t:h.name},children:f.jsx("div",{className:yv(),onFocus:E,onBlur:_,onClick:x=>{x.stopPropagation()},children:f.jsx(y,N(j({},h),{children:f.jsx(C,j({},h))}))})})}function us(e){const t=$(l=>l.state.ui.field.focus===e.name),{value:n,onChange:r}=e,[s,o]=k.useState(n),i=k.useCallback((l,c)=>{o(l),r(l,c)},[r]);k.useEffect(()=>{t||o(n)},[n]),k.useEffect(()=>{t||n!==s&&o(n)},[t,n,s]);const a={value:s,onChange:i};return f.jsx(xv,j(j({},e),a))}M();M();M();M();var wv={DraggableComponent:"_DraggableComponent_1vaqy_1","DraggableComponent-overlayWrapper":"_DraggableComponent-overlayWrapper_1vaqy_12","DraggableComponent-overlay":"_DraggableComponent-overlay_1vaqy_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_1vaqy_34","DraggableComponent--hover":"_DraggableComponent--hover_1vaqy_50","DraggableComponent--isSelected":"_DraggableComponent--isSelected_1vaqy_57","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_1vaqy_71","DraggableComponent-actions":"_DraggableComponent-actions_1vaqy_71"};M();function Da(e){let t={x:0,y:0},n=e;for(;n&&n!==document.documentElement;){const r=n.parentElement;r&&(t.x+=r.scrollLeft,t.y+=r.scrollTop),n=r}return t}M();var En=k.createContext(null),Je=k.createContext(ts(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),Sv=({children:e,store:t})=>f.jsx(Je.Provider,{value:t,children:e}),rr=({children:e,value:t})=>{const n=$(o=>o.dispatch),r=k.useCallback(o=>{n({type:"registerZone",zone:o})},[n]),s=k.useMemo(()=>j({registerZone:r},t),[t]);return f.jsx(f.Fragment,{children:s&&f.jsx(En.Provider,{value:s,children:e})})};M();function Iv(e){let t=new DOMMatrixReadOnly,n=e.parentElement;for(;n&&n!==document.documentElement;){const r=getComputedStyle(n).transform;r&&r!=="none"&&(t=new DOMMatrixReadOnly(r).multiply(t)),n=n.parentElement}return{scaleX:t.a,scaleY:t.d}}M();function Yt(e,t){const n=k.useContext(e);if(!n)throw new Error("useContextStore must be used inside context");return qa(n,Ne(t))}M();var gu=(e,t=[])=>{const n=Xe();return k.useCallback(()=>{let r=()=>{};const s=i=>{i?e(!1):(setTimeout(()=>{e(!0)},0),r&&r())},o=n.getState().state.ui.isDragging;return s(o),o&&(r=n.subscribe(i=>i.state.ui.isDragging,i=>{s(i)})),r},[n,...t])},Qt=oe("DraggableComponent",wv),mu=8,Ev=mu*6.5,kv=-44,Pa=mu,jv=({label:e,children:t,parentAction:n})=>f.jsxs(ct,{children:[f.jsxs(ct.Group,{children:[n,e&&f.jsx(ct.Label,{label:e})]}),f.jsx(ct.Group,{children:t})]}),Cv=({children:e})=>f.jsx(f.Fragment,{children:e}),Dv=({children:e,depth:t,componentType:n,id:r,index:s,zoneCompound:o,isLoading:i=!1,isSelected:a=!1,debug:l,label:c,autoDragAxis:d,userDragAxis:u,inDroppableZone:v=!0})=>{const g=$(H=>{var J;return((J=H.selectedItem)==null?void 0:J.props.id)===r?H.zoomConfig.zoom:1}),h=$(H=>H.overrides),E=$(H=>H.dispatch),_=$(H=>H.iframe),C=k.useContext(En),[y,S]=k.useState({}),x=k.useCallback((H,J)=>{var Q;(Q=C?.registerLocalZone)==null||Q.call(C,H,J),S(ue=>N(j({},ue),{[H]:J}))},[S]),A=k.useCallback(H=>{var J;(J=C?.unregisterLocalZone)==null||J.call(C,H),S(Q=>{const ue=j({},Q);return delete ue[H],ue})},[S]),w=Object.values(y).filter(Boolean).length>0,P=$(Ne(H=>{var J;return(J=H.state.indexes.nodes[r])==null?void 0:J.path})),m=$(Ne(H=>{const J=dt({index:s,zone:o},H.state);return H.permissions.getPermissions({item:J})})),I=k.useContext(Je),[p,O]=k.useState(u||d),T=k.useMemo(()=>fu(p),[p]),{ref:R,isDragging:z,sortable:U}=Ka({id:r,index:s,group:o,type:"component",data:{areaId:C?.areaId,zone:o,index:s,componentType:n,containsActiveZone:w,depth:t,path:P||[],inDroppableZone:v},collisionPriority:t,collisionDetector:T,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});k.useEffect(()=>{const H=I.getState().enabledIndex[o];U.droppable.disabled=!H,U.draggable.disabled=!m.drag;const J=I.subscribe(Q=>{U.droppable.disabled=!Q.enabledIndex[o]});return F.current&&!m.drag?(F.current.setAttribute("data-puck-disabled",""),()=>{var Q;(Q=F.current)==null||Q.removeAttribute("data-puck-disabled"),J()}):J},[m.drag,o]);const F=k.useRef(null),K=k.useCallback(H=>{R(H),H&&(F.current=H)},[R]),[Z,X]=k.useState();k.useEffect(()=>{var H,J,Q;X(_.enabled?(H=F.current)==null?void 0:H.ownerDocument.body:(Q=(J=F.current)==null?void 0:J.closest("[data-puck-preview]"))!=null?Q:document.body)},[_.enabled,F.current]);const G=k.useCallback(()=>{var H,J,Q;if(!F.current)return;const ue=F.current.getBoundingClientRect(),ve=Da(F.current),be=_.enabled?null:(H=F.current)==null?void 0:H.closest("[data-puck-preview]"),Ae=be?.getBoundingClientRect(),Ve=be?Da(be):{x:0,y:0},Ke={x:ve.x-Ve.x-((J=Ae?.left)!=null?J:0),y:ve.y-Ve.y-((Q=Ae?.top)!=null?Q:0)},vt={height:F.current.offsetHeight,width:F.current.offsetWidth},jn=Iv(F.current);return{left:`${(ue.left+Ke.x)/jn.scaleX}px`,top:`${(ue.top+Ke.y)/jn.scaleY}px`,height:`${vt.height}px`,width:`${vt.width}px`}},[F.current]),[Y,te]=k.useState(),le=k.useCallback(()=>{te(G())},[F.current,_]);k.useEffect(()=>{if(F.current){const H=new ResizeObserver(le);return H.observe(F.current),()=>{H.disconnect()}}},[F.current]);const we=$(H=>H.nodes.registerNode),se=k.useCallback(()=>{Ce(!1)},[]),Se=k.useCallback(()=>{Ce(!0)},[]);k.useEffect(()=>{var H;return we(r,{methods:{sync:le,showOverlay:Se,hideOverlay:se},element:(H=F.current)!=null?H:null}),()=>{we(r,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[r,o,s,n,le]);const je=k.useMemo(()=>h.actionBar||jv,[h.actionBar]),V=k.useMemo(()=>h.componentOverlay||Cv,[h.componentOverlay]),b=k.useCallback(H=>{H.target.closest("[data-puck-overlay-portal]")||H.stopPropagation(),E({type:"setUi",ui:{itemSelector:{index:s,zone:o}}})},[s,o,r]),D=Xe(),L=k.useCallback(()=>{const{nodes:H,zones:J}=D.getState().state.indexes,Q=H[r],ue=Q?.parentId?H[Q?.parentId]:null;if(!ue||!Q.parentId)return;const ve=`${ue.parentId}:${ue.zone}`,be=J[ve].contentIds.indexOf(Q.parentId);E({type:"setUi",ui:{itemSelector:{zone:ve,index:be}}})},[C,P]),B=k.useCallback(()=>{E({type:"duplicate",sourceIndex:s,sourceZone:o})},[s,o]),W=k.useCallback(()=>{E({type:"remove",index:s,zone:o})},[s,o]),[q,ee]=k.useState(!1),fe=Yt(Je,H=>H.hoveringComponent===r);k.useEffect(()=>{if(!F.current)return;const H=F.current,J=ue=>{const ve=!!I.getState().draggedItem;ee(ve?!!z:!0),ue.stopPropagation()},Q=ue=>{ue.stopPropagation(),ee(!1)};return H.setAttribute("data-puck-component",r),H.setAttribute("data-puck-dnd",r),H.style.position="relative",H.addEventListener("click",b),H.addEventListener("mouseover",J),H.addEventListener("mouseout",Q),()=>{H.removeAttribute("data-puck-component"),H.removeAttribute("data-puck-dnd"),H.removeEventListener("click",b),H.removeEventListener("mouseover",J),H.removeEventListener("mouseout",Q)}},[F.current,b,w,o,r,z,v]);const[ye,Ce]=k.useState(!1),[De,Ie]=k.useState(!0),[_e,he]=k.useTransition();k.useEffect(()=>{he(()=>{q||fe||a?(le(),Ce(!0),Dt(!1)):Ce(!1)})},[q,fe,a,_]);const[tt,Dt]=k.useState(!1),ur=gu(H=>{H?he(()=>{le(),Ie(!0)}):Ie(!1)});k.useEffect(()=>{z&&Dt(!0)},[z]),k.useEffect(()=>{if(tt)return ur()},[tt,ur]);const kn=k.useCallback(H=>{if(H&&H.ownerDocument.defaultView){const Q=H.getBoundingClientRect(),ve=Q.x<0,Ae=Q.y<0;ve&&(H.style.transformOrigin="left top",H.style.left="0px"),Ae&&(H.style.top="12px",ve||(H.style.transformOrigin="right top"))}},[g]);k.useEffect(()=>{if(u){O(u);return}if(F.current){const H=window.getComputedStyle(F.current);if(H.display==="inline"||H.display==="inline-block"){O("x");return}}O(d)},[F,u,d]);const fs=k.useMemo(()=>C?.areaId&&C?.areaId!=="root"&&f.jsx(ct.Action,{onClick:L,label:"Select parent",children:f.jsx(Ch,{size:16})}),[C?.areaId]),ie=k.useMemo(()=>N(j({},C),{areaId:r,zoneCompound:o,index:s,depth:t+1,registerLocalZone:x,unregisterLocalZone:A}),[C,r,o,s,t,x,A]);return f.jsxs(rr,{value:ie,children:[De&&ye&&Io.createPortal(f.jsxs("div",{className:Qt({isSelected:a,isDragging:z,hover:q||fe}),style:j({},Y),"data-puck-overlay":!0,children:[l,i&&f.jsx("div",{className:Qt("loadingOverlay"),children:f.jsx(Gt,{})}),f.jsx("div",{className:Qt("actionsOverlay"),style:{top:Ev/g},children:f.jsx("div",{className:Qt("actions"),style:{transform:`scale(${1/g}`,top:kv/g,right:0,paddingLeft:Pa,paddingRight:Pa},ref:kn,children:f.jsxs(je,{parentAction:fs,label:c,children:[m.duplicate&&f.jsx(ct.Action,{onClick:B,label:"Duplicate",children:f.jsx(iu,{size:16})}),m.delete&&f.jsx(ct.Action,{onClick:W,label:"Delete",children:f.jsx(lu,{size:16})})]})})}),f.jsx("div",{className:Qt("overlayWrapper"),children:f.jsx(V,{componentId:r,componentType:n,hover:q,isSelected:a,children:f.jsx("div",{className:Qt("overlay")})})})]}),Z||document.body),e(K)]})};M();var Pv={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};M();M();var yu={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};M();M();M();function Av(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)}function Mv(e,t){const n=()=>performance.now();let r,s=0;return function(...o){const i=n(),a=this;i-s>=t?(e.apply(a,o),s=i):(r?.(),r=Av(()=>{e.apply(a,o),s=n()},t-(i-s)))}}M();var vn=()=>{if(typeof window>"u")return;let e=document.querySelector("#preview-frame");return e?.tagName==="IFRAME"?e.contentDocument||document:e?.ownerDocument||document};M();var Ov=class{constructor(e,t){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var n;this.target=e,this.original=t,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/(((n=this.frameEl.contentWindow)==null?void 0:n.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};M();var Lv=typeof PointerEvent<"u"?PointerEvent:Event,_u=class extends Lv{constructor(e,t){super(e,t),this._originalTarget=null,this.originalTarget=t.originalTarget}set originalTarget(e){this._originalTarget=e}get originalTarget(){return this._originalTarget}},Tv=e=>e.sort((t,n)=>{const r=t.data,s=n.data;return r.depth>s.depth?1:s.depth>r.depth?-1:0}),Nv=e=>{let t=e?.id;if(!e)return null;if(e.type==="component"){const n=e.data;n.containsActiveZone?t=null:t=n.zone}else if(e.type==="void")return"void";return t},br=6,zv=(e,t)=>{const n=[];let r=e.target.ownerDocument.elementsFromPoint(e.x,e.y);const s=r.find(i=>i.getAttribute("data-puck-preview")),o=r.find(i=>i.getAttribute("data-puck-drawer"));if(o&&(r=[o]),s){const i=vn();i&&(r=i.elementsFromPoint(e.frame.x,e.frame.y))}if(r)for(let i=0;i<r.length;i++){const a=r[i],l=a.getAttribute("data-puck-dropzone"),c=a.getAttribute("data-puck-dnd"),d=a.hasAttribute("data-puck-dnd-void");if((l||c)&&!d){const u=a.getBoundingClientRect(),v={left:u.left+br,right:u.right-br,top:u.top+br,bottom:u.bottom-br};if(e.frame.x<v.left||e.frame.x>v.right||e.frame.y>v.bottom||e.frame.y<v.top)continue}if(l){const u=t.registry.droppables.get(l);u&&n.push(u)}if(c){const u=t.registry.droppables.get(c);u&&n.push(u)}}return n},Rv=(e,t)=>{var n;const r=zv(e,t);if(r.length>0){const s=Tv(r),o=t.dragOperation.source,i=s.findIndex(h=>h.id===o?.id),a=o?.id;let l=[...s];a&&i>-1&&l.splice(i,1),l=l.filter(h=>{const E=h.data;if(a&&i>-1&&E.path.indexOf(a)>-1)return!1;if(h.type==="dropzone"){const _=h.data;if(!_.isDroppableTarget||_.areaId===a)return!1}else if(h.type==="component"&&!h.data.inDroppableZone)return!1;return!0}),l.reverse();const c=l[0];if(!c)return{zone:null,area:null};const d=c.data,u="containsActiveZone"in d,v=Nv(c),g=u&&d.containsActiveZone?l[0].id:(n=l[0])==null?void 0:n.data.areaId;return{zone:v,area:g}}return{zone:Be,area:Ao}},Fv=({onChange:e},t)=>class extends Ue{constructor(r,s){super(r),!(typeof window>"u")&&this.registerEffect(()=>{const i=Mv(c=>{const d=c instanceof _u&&c.originalTarget||c.target,u=new Ov(d,{x:c.clientX,y:c.clientY});document.elementsFromPoint(u.global.x,u.global.y).some(h=>h.id===t)&&e(Rv(u,r),r)},50),a=c=>{i(c)};return document.body.addEventListener("pointermove",a,{capture:!0}),()=>{document.body.removeEventListener("pointermove",a,{capture:!0})}})}};M();var $v=(e,t,n,r)=>Ee(void 0,null,function*(){const s=et(e),o={type:"insert",componentType:e,destinationIndex:n,destinationZone:t,id:s},{state:i,dispatch:a,resolveComponentData:l}=r,c=Gc(i,o,r);a(N(j({},o),{recordHistory:!0}));const d={index:n,zone:t};a({type:"setUi",ui:{itemSelector:d}});const u=dt(d,c);if(u){const v=yield l(u,"insert");v.didChange&&a({type:"replace",destinationZone:d.zone,destinationIndex:d.index,data:v.node})}});M();function Bv(e){function t(n){return n?n.getAttribute("dir")||t(n.parentElement):"ltr"}return e?t(e):"ltr"}var bu=k.createContext({dragListeners:{}});function Wv(e,t,n=[]){const{setDragListeners:r}=k.useContext(bu);k.useEffect(()=>{r&&r(s=>N(j({},s),{[e]:[...s[e]||[],t]}))},n)}var Hv=100,Zv=e=>{const t=k.useRef(null);return k.useCallback(n=>{vo.setState({fallbackEnabled:!1});const r=et();t.current=r,setTimeout(()=>{t.current===r&&(vo.setState({fallbackEnabled:!0}),n.collisionObserver.forceUpdate(!0))},e)},[])},Uv=({children:e,disableAutoScroll:t})=>{const n=$(S=>S.dispatch),r=Xe(),s=Pi(),o=k.useRef(null),i=Zv(100),[a]=k.useState(()=>ts(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),l=k.useCallback((S,x)=>{const{zoneDepthIndex:A={},areaDepthIndex:w={}}=a.getState()||{},P=Object.keys(A).length>0,m=Object.keys(w).length>0;let I=!1,p=!1;return(S.zone&&!A[S.zone]||!S.zone&&P)&&(I=!0),(S.area&&!w[S.area]||!S.area&&m)&&(p=!0),{zoneChanged:I,areaChanged:p}},[a]),c=k.useCallback((S,x)=>{const{zoneChanged:A,areaChanged:w}=l(S,s);!A&&!w||(a.setState({zoneDepthIndex:S.zone?{[S.zone]:!0}:{},areaDepthIndex:S.area?{[S.area]:!0}:{}}),i(x),setTimeout(()=>{x.collisionObserver.forceUpdate(!0)},50),o.current=null)},[a]),d=Mp(c,Hv),u=()=>{d.cancel(),o.current=null};k.useEffect(()=>{},[]);const[v]=k.useState(()=>[...t?Jr.plugins.filter(S=>S!==xi):Jr.plugins,Fv({onChange:(S,x)=>{const A=a.getState(),{zoneChanged:w,areaChanged:P}=l(S,s),m=x.dragOperation.status.dragging;if(P||w){let I={},p={};S.zone&&(I={[S.zone]:!0}),S.area&&(p={[S.area]:!0}),a.setState({nextZoneDepthIndex:I,nextAreaDepthIndex:p})}if(S.zone!=="void"&&A?.zoneDepthIndex.void){c(S,x);return}if(P){if(m){const I=o.current;I&&I.area===S.area&&I.zone===S.zone||(u(),d(S,x),o.current=S)}else u(),c(S,x);return}w&&c(S,x),u()}},s)]),g=uu(),[h,E]=k.useState({}),_=k.useRef(null),C=k.useRef(void 0),y=k.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return f.jsx("div",{id:s,children:f.jsx(bu.Provider,{value:{dragListeners:h,setDragListeners:E},children:f.jsx(Ya,{plugins:v,sensors:g,onDragEnd:(S,x)=>{var A,w;const P=(A=vn())==null?void 0:A.querySelector("[data-puck-entry]");P?.removeAttribute("data-puck-dragging");const{source:m,target:I}=S.operation;if(!m){a.setState({draggedItem:null});return}const{zone:p,index:O}=m.data,{previewIndex:T={}}=a.getState()||{},R=((w=T[p])==null?void 0:w.props.id)===m.id?T[p]:null,z=()=>{var F,K;if(a.setState({draggedItem:null}),S.canceled||I?.type==="void"){a.setState({previewIndex:{}}),(F=h.dragend)==null||F.forEach(Z=>{Z(S,x)}),n({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}R&&(a.setState({previewIndex:{}}),R.type==="insert"?$v(R.componentType,R.zone,R.index,r.getState()):C.current&&n({type:"move",sourceIndex:C.current.index,sourceZone:C.current.zone,destinationIndex:R.index,destinationZone:R.zone,recordHistory:!1})),n({type:"setUi",ui:{itemSelector:{index:O,zone:p},isDragging:!1},recordHistory:!0}),(K=h.dragend)==null||K.forEach(Z=>{Z(S,x)})};let U;U=pt(()=>{m.status==="idle"&&(z(),U?.())})},onDragOver:(S,x)=>{var A,w,P,m;if(S.preventDefault(),!((A=a.getState())==null?void 0:A.draggedItem))return;u();const{source:p,target:O}=S.operation;if(!O||!p||O.type==="void")return;const[T]=p.id.split(":"),[R]=O.id.split(":"),z=p.data;let U=z.zone,F=z.index,K="",Z=0;if(O.type==="component"){const G=O.data;K=G.zone,Z=G.index;const Y=(w=x.collisionObserver.collisions[0])==null?void 0:w.data,te=Bv(O.element),le=Y?.direction==="up"||te==="ltr"&&Y?.direction==="left"||te==="rtl"&&Y?.direction==="right"?"before":"after";Z>=F&&U===K&&(Z=Z-1),le==="after"&&(Z=Z+1)}else K=O.id.toString(),Z=0;const X=((P=r.getState().state.indexes.nodes[O.id])==null?void 0:P.path)||[];if(!(R===T||X.find(G=>{const[Y]=G.split(":");return Y===T}))){if(_.current==="new")a.setState({previewIndex:{[K]:{componentType:z.componentType,type:"insert",index:Z,zone:K,element:p.element,props:{id:p.id.toString()}}}});else{C.current||(C.current={zone:z.zone,index:z.index});const G=dt(C.current,r.getState().state);G&&a.setState({previewIndex:{[K]:{componentType:z.componentType,type:"move",index:Z,zone:K,props:G.props,element:p.element}}})}(m=h.dragover)==null||m.forEach(G=>{G(S,x)})}},onDragStart:(S,x)=>{var A;const{source:w}=S.operation;if(w&&w.type!=="void"){const P=w.data,m=dt({zone:P.zone,index:P.index},r.getState().state);m&&a.setState({previewIndex:{[P.zone]:{componentType:P.componentType,type:"move",index:P.index,zone:P.zone,props:m.props,element:w.element}}})}(A=h.dragstart)==null||A.forEach(P=>{P(S,x)})},onBeforeDragStart:S=>{var x,A,w,P;const m=((x=S.operation.source)==null?void 0:x.type)==="drawer";_.current=m?"new":"existing",C.current=void 0,a.setState({draggedItem:S.operation.source}),((A=r.getState().selectedItem)==null?void 0:A.props.id)!==((w=S.operation.source)==null?void 0:w.id)?n({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):n({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const I=(P=vn())==null?void 0:P.querySelector("[data-puck-entry]");I?.setAttribute("data-puck-dragging","true")},children:f.jsx(Sv,{store:a,children:f.jsx(rr,{value:y,children:e})})})})})},Vv=({children:e,disableAutoScroll:t})=>$(r=>r.status)==="LOADING"?e:f.jsx(Uv,{disableAutoScroll:t,children:e}),Lr=oe("Drawer",yu),en=oe("DrawerItem",yu),go=({children:e,name:t,label:n,dragRef:r,isDragDisabled:s})=>{const o=k.useMemo(()=>e||(({children:i})=>f.jsx("div",{className:en("default"),children:i})),[e]);return f.jsx("div",{className:en({disabled:s}),ref:r,onMouseDown:i=>i.preventDefault(),"data-testid":r?`drawer-item:${t}`:"","data-puck-drawer-item":!0,children:f.jsx(o,{name:t,children:f.jsx("div",{className:en("draggableWrapper"),children:f.jsxs("div",{className:en("draggable"),children:[f.jsx("div",{className:en("name"),children:n??t}),f.jsx("div",{className:en("icon"),children:f.jsx(cu,{})})]})})})})},qv=({children:e,name:t,label:n,id:r,isDragDisabled:s})=>{const{ref:o}=Bu({id:r,data:{componentType:t},disabled:s,type:"drawer"});return f.jsxs("div",{className:Lr("draggable"),children:[f.jsx("div",{className:Lr("draggableBg"),children:f.jsx(go,{name:t,label:n,children:e})}),f.jsx("div",{className:Lr("draggableFg"),children:f.jsx(go,{name:t,label:n,dragRef:o,isDragDisabled:s,children:e})})]})},Yv=({name:e,children:t,id:n,label:r,index:s,isDragDisabled:o})=>{const i=n||e,[a,l]=k.useState(et(i));return typeof s<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),Wv("dragend",()=>{l(et(i))},[i]),f.jsx("div",{children:f.jsx(qv,{name:e,label:r,id:a,isDragDisabled:o,children:t})},a)},Ai=({children:e,droppableId:t,direction:n})=>{t&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),n&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const r=Pi(),{ref:s}=Xa({id:r,type:"void",collisionPriority:0});return f.jsx("div",{className:Lr(),ref:s,"data-puck-dnd":r,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:e})};Ai.Item=Yv;M();var Aa=(e,t)=>e.getState().state.indexes.zones[t].contentIds.length,Xv=({zoneCompound:e,userMinEmptyHeight:t,ref:n})=>{const r=Xe(),[s,o]=k.useState(0),[i,a]=k.useState(!1),{draggedItem:l,isZone:c}=Yt(Je,v=>{var g,h;return{draggedItem:((g=v.draggedItem)==null?void 0:g.data.zone)===e?v.draggedItem:null,isZone:((h=v.draggedItem)==null?void 0:h.data.zone)===e}}),d=k.useRef(0),u=gu(v=>{var g;if(v){const h=Aa(r,e);if(o(0),h||d.current===0){a(!1);return}const E=r.getState().selectedItem,_=r.getState().state.indexes.zones,C=r.getState().nodes;(g=C.nodes[E?.props.id])==null||g.methods.hideOverlay(),setTimeout(()=>{var y;(((y=_[e])==null?void 0:y.contentIds)||[]).forEach(x=>{const A=C.nodes[x];A?.methods.sync()}),E&&setTimeout(()=>{var x,A;(x=C.nodes[E.props.id])==null||x.methods.sync(),(A=C.nodes[E.props.id])==null||A.methods.showOverlay()},200),a(!1)},100)}},[r,s,e]);return k.useEffect(()=>{if(l&&n.current&&c){const v=n.current.getBoundingClientRect();return d.current=Aa(r,e),o(v.height),a(!0),u()}},[n.current,l,u]),[s||t,i]};M();function Kv(e,t){typeof e=="function"?e(t):e&&typeof e=="object"&&"current"in e&&(e.current=t)}function Gv(e,t){e.forEach(n=>{Kv(n,t)})}M();M();function Jv(e,t){const n=$u();return k.useCallback((...r)=>Ee(this,null,function*(){return yield n?.renderer.rendering,e(...r)}),[...t,n])}var Qv=(e,t)=>{const n=k.useContext(Je),r=Yt(Je,d=>d.previewIndex[t]),s=$(d=>d.state.ui.isDragging),[o,i]=k.useState(e),[a,l]=k.useState(r),c=Jv((d,u,v,g,h)=>{v&&!h||(u?u.type==="insert"?i(hn(d.filter(E=>E!==u.props.id),u.index,u.props.id)):i(hn(d.filter(E=>E!==u.props.id),u.index,u.props.id)):i(h?d.filter(E=>E!==g):d),l(u))},[]);return k.useEffect(()=>{var d;const u=n.getState(),v=(d=u.draggedItem)==null?void 0:d.id,g=Object.keys(u.previewIndex||{}).length>0;c(e,r,s,v,g)},[e,r,s]),[o,a]};M();var eg="dynamic",tg="x",Ma="y",ng=(e,t)=>{const n=$(i=>i.status),[r,s]=k.useState(t||Ma),o=k.useCallback(()=>{if(e.current){const i=window.getComputedStyle(e.current);i.display==="grid"?s(eg):i.display==="flex"&&i.flexDirection==="row"?s(tg):s(Ma)}},[e.current]);return k.useEffect(()=>{const i=()=>{o()};return window.addEventListener("viewportchange",i),()=>{window.removeEventListener("viewportchange",i)}},[]),k.useEffect(o,[n,t]),[r,o]};M();var rg=({componentId:e,zone:t})=>{const n=$(o=>o.config),r=$(o=>o.metadata),s=$(Ne(o=>{var i,a;const l=o.state.indexes;return((a=(i=l.zones[`${e}:${t}`])==null?void 0:i.contentIds)!=null?a:[]).map(d=>l.nodes[d].flatData)}));return f.jsx(Oo,{content:s,zone:t,config:n,metadata:r})};M();M();M();var sg=(e,t={})=>{if(!e)return;const{disableDrag:n=!1,disableDragOnFocus:r=!0}=t,s=a=>{a.stopPropagation()};e.addEventListener("mouseover",s,{capture:!0});const o=()=>{setTimeout(()=>{e.addEventListener("pointerdown",s,{capture:!0})},200)},i=()=>{e.removeEventListener("pointerdown",s,{capture:!0})};return r?(e.addEventListener("focus",o,{capture:!0}),e.addEventListener("blur",i,{capture:!0})):n&&e.addEventListener("pointerdown",s,{capture:!0}),e.setAttribute("data-puck-overlay-portal","true"),()=>{e.removeEventListener("mouseover",s,{capture:!0}),r?(e.removeEventListener("focus",o,{capture:!0}),e.removeEventListener("blur",o,{capture:!0})):n&&e.removeEventListener("pointerdown",s,{capture:!0}),e.removeAttribute("data-puck-overlay-portal")}};M();var og={InlineTextField:"_InlineTextField_1xph6_1"};M();function ig(e,t,n){const r=t.split("."),s=j({},e);let o=s;for(let i=0;i<r.length;i++){const[a,l]=r[i].replace("]","").split("["),c=i===r.length-1;if(l!==void 0){Array.isArray(o[a])||(o[a]=[]);const d=Number(l);if(c){o[a][d]=n;continue}o[a][d]===void 0&&(o[a][d]={}),o=o[a][d];continue}if(c){o[a]=n;continue}o[a]===void 0&&(o[a]={}),o=o[a]}return j(j({},e),s)}M();var xu=(e,t)=>{const n=e.indexes.nodes[t];if(!n)return;const r=`${n.parentId}:${n.zone}`,s=e.indexes.zones[r].contentIds.indexOf(t);return{zone:r,index:s}},ag=oe("InlineTextField",og),lg=({propPath:e,componentId:t,value:n,isReadOnly:r,opts:s={}})=>{var o;const i=k.useRef(null),a=Xe(),l=(o=s.disableLineBreaks)!=null?o:!1;k.useEffect(()=>{const g=a.getState(),h=g.state.indexes.nodes[t].data;if(!g.getComponentConfig(h.type))throw new Error(`InlineTextField Error: No config defined for ${h.type}`);if(i.current){n!==i.current.innerText&&i.current.replaceChildren(n);const _=sg(i.current),C=y=>Ee(void 0,null,function*(){var S;const x=a.getState(),A=x.state.indexes.nodes[t],w=`${A.parentId}:${A.zone}`,P=(S=x.state.indexes.zones[w])==null?void 0:S.contentIds.indexOf(t);let m=y.target.innerText;l&&(m=m.replaceAll(/\n/gm,""));const I=ig(A.data.props,e,m),p=yield x.resolveComponentData(N(j({},A.data),{props:I}),"replace");x.dispatch({type:"replace",data:p.node,destinationIndex:P,destinationZone:w})});return i.current.addEventListener("input",C),()=>{var y;(y=i.current)==null||y.removeEventListener("input",C),_?.()}}},[a,i.current,n,l]);const[c,d]=k.useState(!1),[u,v]=k.useState(!1);return f.jsx("span",{className:ag(),ref:i,contentEditable:c||u?"plaintext-only":"false",onClick:g=>{g.preventDefault(),g.stopPropagation()},onClickCapture:g=>{g.preventDefault(),g.stopPropagation();const h=xu(a.getState().state,t);a.getState().setUi({itemSelector:h})},onKeyDown:g=>{g.stopPropagation(),(l&&g.key==="Enter"||r)&&g.preventDefault()},onKeyUp:g=>{g.stopPropagation(),g.preventDefault()},onMouseOverCapture:()=>d(!0),onMouseOutCapture:()=>d(!1),onFocus:()=>v(!0),onBlur:()=>v(!1)})},Os=k.memo(lg),cg=()=>({text:({value:e,componentId:t,field:n,propPath:r,isReadOnly:s})=>n.contentEditable?f.jsx(Os,{propPath:r,componentId:t,value:e,opts:{disableLineBreaks:!0},isReadOnly:s}):e,textarea:({value:e,componentId:t,field:n,propPath:r,isReadOnly:s})=>n.contentEditable?f.jsx(Os,{propPath:r,componentId:t,value:e,isReadOnly:s}):e,custom:({value:e,componentId:t,field:n,propPath:r,isReadOnly:s})=>n.contentEditable&&typeof e=="string"?f.jsx(Os,{propPath:r,componentId:t,value:e,isReadOnly:s}):e}),ug=oe("DropZone",Pv),mo=e=>f.jsx(wu,j({},e)),dg=({zoneCompound:e,componentId:t,index:n,dragAxis:r,collisionAxis:s,inDroppableZone:o})=>{var i,a;const l=$(Z=>Z.metadata),c=k.useContext(En),{depth:d=1}=c??{},u=k.useContext(Je),v=$(Ne(Z=>{var X;return(X=Z.state.indexes.nodes[t])==null?void 0:X.flatData.props})),g=$(Z=>{var X;return(X=Z.state.indexes.nodes[t])==null?void 0:X.data.type}),h=$(Ne(Z=>{var X;return(X=Z.state.indexes.nodes[t])==null?void 0:X.data.readOnly})),E=Xe(),_=k.useMemo(()=>{if(v)return ld({type:g,props:v});const Z=u.getState().previewIndex[e];return t===Z?.props.id?{type:Z.componentType,props:Z.props,previewType:Z.type,element:Z.element}:null},[E,t,e,g,v]),C=$(Z=>_?.type?Z.config.components[_.type]:null),y=k.useMemo(()=>({renderDropZone:mo,isEditing:!0,dragRef:null,metadata:j(j({},l),C?.metadata)}),[l,C?.metadata]),S=$(Z=>Z.overrides),x=$(Z=>{var X;return((X=Z.componentState[t])==null?void 0:X.loadingCount)>0}),A=$(Z=>{var X;return((X=Z.selectedItem)==null?void 0:X.props.id)===t||!1});let w=(a=(i=C?.label)!=null?i:_?.type.toString())!=null?a:"Component";const P=k.useMemo(()=>function(){var X;return _&&"element"in _&&_.element?f.jsx("div",{dangerouslySetInnerHTML:{__html:_.element.outerHTML}}):f.jsx(go,{name:w,children:(X=S.componentItem)!=null?X:S.drawerItem})},[t,w,S]),m=k.useMemo(()=>N(j(j({},C?.defaultProps),_?.props),{puck:y,editMode:!0}),[C?.defaultProps,_?.props,y]),I=k.useMemo(()=>{var Z;return{type:(Z=_?.type)!=null?Z:g,props:m}},[_?.type,g,m]),p=$(Z=>Z.config),O=$(Z=>Z.plugins),T=$(Z=>Z.fieldTransforms),R=k.useMemo(()=>j(j(j(j({},rl(mo,Z=>f.jsx(rg,{componentId:t,zone:Z.zone}))),cg()),O.reduce((Z,X)=>j(j({},Z),X.fieldTransforms),{})),T),[O,T]),z=nl(p,I,R,h,x);if(!_)return;let U=C?C.render:()=>f.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",_.type]}),F=_.type;const K="previewType"in _?_.previewType==="insert":!1;return K&&(U=P),f.jsx(Dv,{id:t,componentType:F,zoneCompound:e,depth:d+1,index:n,isLoading:x,isSelected:A,label:w,autoDragAxis:r,userDragAxis:s,inDroppableZone:o,children:Z=>C?.inline&&!K?f.jsx(f.Fragment,{children:f.jsx(U,N(j({},z),{puck:N(j({},z.puck),{dragRef:Z})}))}):f.jsx("div",{ref:Z,children:f.jsx(U,j({},z))})})},fg=k.memo(dg),wu=k.forwardRef(function({zone:t,allow:n,disallow:r,style:s,className:o,minEmptyHeight:i=128,collisionAxis:a},l){const c=k.useContext(En),d=Xe(),{areaId:u,depth:v=0,registerLocalZone:g,unregisterLocalZone:h}=c??{},E=$(Ne(Y=>{var te;return u?(te=Y.state.indexes.nodes[u])==null?void 0:te.path:null}));let _=Be;u&&t!==Be&&(_=`${u}:${t}`);const C=_===Be||t===Be||u==="root",y=Yt(Je,Y=>Y.nextAreaDepthIndex[u||""]),S=$(Ne(Y=>{var te;return(te=Y.state.indexes.zones[_])==null?void 0:te.contentIds})),x=$(Ne(Y=>{var te;return(te=Y.state.indexes.zones[_])==null?void 0:te.type}));k.useEffect(()=>{(!x||x==="dropzone")&&c?.registerZone&&c?.registerZone(_)},[x,d]),k.useEffect(()=>{x==="dropzone"&&_!==Be&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[x]);const A=k.useMemo(()=>S||[],[S]),w=k.useRef(null),P=k.useCallback(Y=>{if(!Y)return!0;if(r){const te=n||[];if((r||[]).filter(we=>te.indexOf(we)===-1).indexOf(Y)!==-1)return!1}else if(n&&n.indexOf(Y)===-1)return!1;return!0},[n,r]),m=Yt(Je,Y=>{var te;const le=(te=Y.draggedItem)==null?void 0:te.data.componentType;return P(le)}),I=y||C,p=Yt(Je,Y=>{var te;let le=!0;return le=(te=Y.zoneDepthIndex[_])!=null?te:!1,le&&(le=m),le});k.useEffect(()=>(g&&g(_,m||p),()=>{h&&h(_)}),[m,p,_]);const[O,T]=Qv(A,_),R=p&&(T?O.length===1:O.length===0),z=k.useContext(Je);k.useEffect(()=>{const{enabledIndex:Y}=z.getState();z.setState({enabledIndex:N(j({},Y),{[_]:p})})},[p,z,_]);const U={id:_,collisionPriority:p?v:0,disabled:!R,collisionDetector:Qh,type:"dropzone",data:{areaId:u,depth:v,isDroppableTarget:m,path:E||[]}},{ref:F}=Xa(U),K=$(Y=>Y?.selectedItem&&u===Y?.selectedItem.props.id),[Z]=ng(w,a),[X,G]=Xv({zoneCompound:_,userMinEmptyHeight:i,ref:w});return f.jsx("div",{className:`${ug({isRootZone:C,hoveringOverArea:I,isEnabled:p,isAreaSelected:K,hasChildren:A.length>0,isAnimating:G})}${o?` ${o}`:""}`,ref:Y=>{Gv([w,F,l],Y)},"data-testid":`dropzone:${_}`,"data-puck-dropzone":_,style:N(j({},s),{"--min-empty-height":`${X}px`,backgroundColor:s?.backgroundColor}),children:O.map((Y,te)=>f.jsx(fg,{zoneCompound:_,componentId:Y,dragAxis:Z,index:te,collisionAxis:a,inDroppableZone:m},Y))})}),pg=({config:e,item:t,metadata:n})=>{const r=e.components[t.type],s=es(e,t,i=>f.jsx(Oo,N(j({},i),{config:e,metadata:n}))),o=k.useMemo(()=>({areaId:s.id,depth:1}),[s]);return f.jsx(rr,{value:o,children:f.jsx(r.render,N(j({},s),{puck:N(j({},s.puck),{renderDropZone:yo,metadata:j(j({},n),r.metadata)})}))},s.id)},yo=e=>f.jsx(Su,j({},e)),Su=k.forwardRef(function({className:t,style:n,zone:r},s){const o=k.useContext(En),{areaId:i="root"}=o||{},{config:a,data:l,metadata:c}=k.useContext(bo);let d=`${i}:${r}`,u=l?.content||[];return k.useEffect(()=>{u||o?.registerZone&&o?.registerZone(d)},[u]),!l||!a?null:(d!==Be&&(u=tl(l,d).zones[d]),f.jsx("div",{className:t,style:n,ref:s,children:u.map(v=>a.components[v.type]?f.jsx(pg,{config:a,item:v,metadata:c},v.props.id):null)}))}),_o=e=>f.jsx(hg,j({},e)),hg=k.forwardRef(function(t,n){const r=k.useContext(En);return r?.mode==="edit"?f.jsx(f.Fragment,{children:f.jsx(wu,N(j({},t),{ref:n}))}):f.jsx(f.Fragment,{children:f.jsx(Su,N(j({},t),{ref:n}))})}),bo=zs.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function vg({config:e,data:t,metadata:n={}}){var r;const s=N(j({},t),{root:t.root||{},content:t.content||[]}),o="props"in s.root?s.root.props:s.root,i=o?.title||"",a=N(j({},o),{puck:{renderDropZone:_o,isEditing:!1,dragRef:null,metadata:n},title:i,editMode:!1,id:"puck-root"}),l=es(e,{type:"root",props:a},d=>f.jsx(sl,N(j({},d),{config:e,metadata:n}))),c=k.useMemo(()=>({mode:"render",depth:0}),[]);return(r=e.root)!=null&&r.render?f.jsx(bo.Provider,{value:{config:e,data:s,metadata:n},children:f.jsx(rr,{value:c,children:f.jsx(e.root.render,N(j({},l),{children:f.jsx(yo,{zone:$s})}))})}):f.jsx(bo.Provider,{value:{config:e,data:s,metadata:n},children:f.jsx(rr,{value:c,children:f.jsx(yo,{zone:$s})})})}M();var Oa=e=>{const t={back:e.history.back,forward:e.history.forward,setHistories:e.history.setHistories,setHistoryIndex:e.history.setHistoryIndex,hasPast:e.history.hasPast(),hasFuture:e.history.hasFuture(),histories:e.history.histories,index:e.history.index};return{appState:nr(e.state),config:e.config,dispatch:e.dispatch,getPermissions:e.permissions.getPermissions,refreshPermissions:e.permissions.refreshPermissions,history:t,selectedItem:e.selectedItem||null,getItemBySelector:r=>dt(r,e.state),getItemById:r=>e.state.indexes.nodes[r].data,getSelectorForId:r=>xu(e.state,r)}},gg=k.createContext(null),La=e=>({state:e.state,config:e.config,dispatch:e.dispatch,permissions:e.permissions,history:e.history,selectedItem:e.selectedItem}),mg=e=>{const[t]=k.useState(()=>ts(()=>Oa(La(e.getState()))));return k.useEffect(()=>e.subscribe(n=>La(n),n=>{t.setState(Oa(n))}),[]),t};M();M();M();var yg={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};M();var _g=e=>{const t=$(o=>{var i;return(i=o.selectedItem)==null?void 0:i.props.id}),n=$(o=>o.config),r=$(o=>{var i;return(i=o.state.indexes.nodes[t])==null?void 0:i.path}),s=Xe();return k.useMemo(()=>{const o=r?.map(i=>{var a,l,c;const[d]=i.split(":");if(d==="root")return{label:"Page",selector:null};const u=s.getState().state.indexes.nodes[d],v=u.path[u.path.length-1],h=(((a=s.getState().state.indexes.zones[v])==null?void 0:a.contentIds)||[]).indexOf(d);return{label:u?(c=(l=n.components[u.data.type])==null?void 0:l.label)!=null?c:u.data.type:"Component",selector:u?{index:h,zone:u.path[u.path.length-1]}:null}})||[];return o.slice(o.length-e)},[r,e])},At=oe("SidebarSection",yg),xo=({children:e,title:t,background:n,showBreadcrumbs:r,noBorderTop:s,noPadding:o,isLoading:i})=>{const a=$(c=>c.setUi),l=_g(1);return f.jsxs("div",{className:At({noBorderTop:s,noPadding:o}),style:{background:n},children:[f.jsx("div",{className:At("title"),children:f.jsxs("div",{className:At("breadcrumbs"),children:[r?l.map((c,d)=>f.jsxs("div",{className:At("breadcrumb"),children:[f.jsx("button",{type:"button",className:At("breadcrumbLabel"),onClick:()=>a({itemSelector:c.selector}),children:c.label}),f.jsx(kh,{size:16})]},d)):null,f.jsx("div",{className:At("heading"),children:f.jsx(Di,{rank:"2",size:"xs",children:t})})]})}),f.jsx("div",{className:At("content"),children:e}),i&&f.jsx("div",{className:At("loadingOverlay"),children:f.jsx(Gt,{size:32})})]})};M();var Iu={Puck:"_Puck_1yxlw_19","Puck-portal":"_Puck-portal_1yxlw_31","PuckLayout-inner":"_PuckLayout-inner_1yxlw_38","PuckLayout--mounted":"_PuckLayout--mounted_1yxlw_59","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_1yxlw_63","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_1yxlw_69","PuckLayout-mounted":"_PuckLayout-mounted_1yxlw_83",PuckLayout:"_PuckLayout_1yxlw_38"};M();M();var bg={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},Tr=oe("PuckFields",bg),xg=({children:e})=>f.jsx(f.Fragment,{children:e}),wg=(e,t)=>(n,r)=>Ee(void 0,null,function*(){let s;const{dispatch:o,state:i,selectedItem:a,resolveComponentData:l}=t.getState(),{data:c,ui:d}=i,{itemSelector:u}=d,v=c.root.props||c.root;a?s=a.props:s=v;const g=N(j({},s),{[e]:n});a&&u?o({type:"replace",destinationIndex:u.index,destinationZone:u.zone||Be,data:(yield l(N(j({},a),{props:g}),"replace")).node,ui:r}):c.root.props?o({type:"replaceRoot",root:(yield l(N(j({},c.root),{props:g}),"replace")).node,ui:j(j({},d),r),recordHistory:!0}):o({type:"setData",data:{root:g}})}),Sg=({fieldName:e})=>{const t=$(c=>c.fields.fields[e]),n=$(c=>((c.selectedItem?c.selectedItem.readOnly:c.state.data.root.readOnly)||{})[e]),r=$(c=>{const d=c.state.data.root.props||c.state.data.root;return c.selectedItem?c.selectedItem.props[e]:d[e]}),s=$(c=>t?c.selectedItem?`${c.selectedItem.props.id}_${t.type}_${e}`:`root_${t.type}_${e}`:null),o=$(Ne(c=>{const{selectedItem:d,permissions:u}=c;return d?u.getPermissions({item:d}):u.getPermissions({root:!0})})),i=Xe(),a=k.useCallback(wg(e,i),[e]),{visible:l=!0}=t??{};return!t||!s||!l||t.type==="slot"?null:f.jsx("div",{className:Tr("field"),children:f.jsx(us,{field:t,name:e,id:s,readOnly:!o.edit||n,value:r,onChange:a})},s)},Ig=k.memo(Sg),Eg=({wrapFields:e=!0})=>{const t=$(d=>d.overrides),n=$(d=>{var u,v;const g=d.selectedItem?(u=d.componentState[d.selectedItem.props.id])==null?void 0:u.loadingCount:(v=d.componentState.root)==null?void 0:v.loadingCount;return(g??0)>0}),r=$(Ne(d=>d.state.ui.itemSelector)),s=$(d=>{var u;return(u=d.selectedItem)==null?void 0:u.props.id}),o=Xe();ch(o,s);const i=$(d=>d.fields.loading),a=$(Ne(d=>d.fields.id===s?Object.keys(d.fields.fields):[])),l=i||n,c=k.useMemo(()=>t.fields||xg,[t]);return f.jsxs("form",{className:Tr({wrapFields:e}),onSubmit:d=>{d.preventDefault()},children:[f.jsx(c,{isLoading:l,itemSelector:r,children:a.map(d=>f.jsx(Ig,{fieldName:d},d))}),l&&f.jsx("div",{className:Tr("loadingOverlay"),children:f.jsx("div",{className:Tr("loadingOverlayInner"),children:f.jsx(Gt,{size:16})})})]})},Eu=k.memo(Eg);M();M();M();M();var kg={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},xr=oe("ComponentList",kg),ku=({name:e,label:t})=>{var n;const r=$(o=>o.overrides),s=$(o=>o.permissions.getPermissions({type:e}).insert);return k.useEffect(()=>{r.componentItem&&console.warn("The `componentItem` override has been deprecated and renamed to `drawerItem`")},[r]),f.jsx(Ai.Item,{label:t,name:e,isDragDisabled:!s,children:(n=r.componentItem)!=null?n:r.drawerItem})},cn=({children:e,title:t,id:n})=>{const r=$(a=>a.config),s=$(a=>a.setUi),o=$(a=>a.state.ui.componentList),{expanded:i=!0}=o[n]||{};return f.jsxs("div",{className:xr({isExpanded:i}),children:[t&&f.jsxs("button",{type:"button",className:xr("title"),onClick:()=>s({componentList:N(j({},o),{[n]:N(j({},o[n]),{expanded:!i})})}),title:i?`Collapse${t?` ${t}`:""}`:`Expand${t?` ${t}`:""}`,children:[f.jsx("div",{children:t}),f.jsx("div",{className:xr("titleIcon"),children:i?f.jsx(ou,{size:12}):f.jsx(cs,{size:12})})]}),f.jsx("div",{className:xr("content"),children:f.jsx(Ai,{children:e||Object.keys(r.components).map(a=>{var l;return f.jsx(ku,{label:(l=r.components[a].label)!=null?l:a,name:a},a)})})})]})};cn.Item=ku;var jg=()=>{const[e,t]=k.useState(),n=$(s=>s.config),r=$(s=>s.state.ui.componentList);return k.useEffect(()=>{var s,o,i;if(Object.keys(r).length>0){const a=[];let l;l=Object.entries(r).map(([d,u])=>!u.components||(u.components.forEach(v=>{a.push(v)}),u.visible===!1)?null:f.jsx(cn,{id:d,title:u.title||d,children:u.components.map((v,g)=>{var h;const E=n.components[v]||{};return f.jsx(cn.Item,{label:(h=E.label)!=null?h:v,name:v,index:g},v)})},d));const c=Object.keys(n.components).filter(d=>a.indexOf(d)===-1);c.length>0&&!((s=r.other)!=null&&s.components)&&((o=r.other)==null?void 0:o.visible)!==!1&&l.push(f.jsx(cn,{id:"other",title:((i=r.other)==null?void 0:i.title)||"Other",children:c.map((d,u)=>{var v;const g=n.components[d]||{};return f.jsx(cn.Item,{name:d,label:(v=g.label)!=null?v:d,index:u},d)})},"other")),t(l)}},[n.categories,n.components,r]),e},ju=()=>{const e=$(r=>r.overrides),t=jg(),n=k.useMemo(()=>(e.components&&console.warn("The `components` override has been deprecated and renamed to `drawer`"),e.components||e.drawer||"div"),[e]);return f.jsx(n,{children:t||f.jsx(cn,{id:"all"})})};M();M();var wo='style, link[rel="stylesheet"]',Cg=e=>{const t=[];return e.querySelectorAll(wo).forEach(n=>{n.tagName==="STYLE"?n.innerHTML.trim()&&t.push(n):t.push(n)}),t},Ta=e=>Array.from(document.styleSheets).find(t=>t.ownerNode.href===e.href),Dg=e=>{if(e)try{return[...Array.from(e.cssRules)].map(t=>t.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",e.href)}return""},Na=(e,t)=>{const n=e.attributes;n?.length>0&&Array.from(n).forEach(r=>{t.setAttribute(r.name,r.value)})},za=e=>setTimeout(e,0),Pg=({children:e,debug:t=!1,onStylesLoaded:n=()=>null})=>{const{document:r,window:s}=Ag();return k.useEffect(()=>{if(!s||!r)return()=>{};let o=[];const i={},a=y=>o.findIndex(S=>S.original===y),l=(y,S=!1)=>Ee(void 0,null,function*(){let x;if(y.nodeName==="LINK"&&S){x=document.createElement("style"),x.type="text/css";let A=Ta(y);A||(yield new Promise(P=>{const m=()=>{P(),y.removeEventListener("load",m)};y.addEventListener("load",m)}),A=Ta(y));const w=Dg(A);if(!w){t&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}x.innerHTML=w,x.setAttribute("data-href",y.getAttribute("href"))}else x=y.cloneNode(!0);return x}),c=y=>Ee(void 0,null,function*(){const S=a(y);if(S>-1){t&&console.log("Tried to add an element that was already mirrored. Updating instead..."),o[S].mirror.innerText=y.innerText;return}const x=yield l(y);if(!x)return;const A=js(x.outerHTML);if(i[A]){t&&console.log("iframe already contains element that is being mirrored. Skipping...");return}i[A]=!0,r.head.append(x),o.push({original:y,mirror:x}),t&&console.log(`Added style node ${y.outerHTML}`)}),d=y=>{var S,x;const A=a(y);if(A===-1){t&&console.log("Tried to remove an element that did not exist. Skipping...");return}const w=js(y.outerHTML);(x=(S=o[A])==null?void 0:S.mirror)==null||x.remove(),delete i[w],t&&console.log(`Removed style node ${y.outerHTML}`)},u=new MutationObserver(y=>{y.forEach(S=>{S.type==="childList"&&(S.addedNodes.forEach(x=>{if(x.nodeType===Node.TEXT_NODE||x.nodeType===Node.ELEMENT_NODE){const A=x.nodeType===Node.TEXT_NODE?x.parentElement:x;A&&A.matches(wo)&&za(()=>c(A))}}),S.removedNodes.forEach(x=>{if(x.nodeType===Node.TEXT_NODE||x.nodeType===Node.ELEMENT_NODE){const A=x.nodeType===Node.TEXT_NODE?x.parentElement:x;A&&A.matches(wo)&&za(()=>d(A))}}))})}),v=s.parent.document,g=Cg(v),h=[];let E=0;const _=v.getElementsByTagName("html")[0];Na(_,r.documentElement);const C=v.getElementsByTagName("body")[0];return Na(C,r.body),Promise.all(g.map((y,S)=>Ee(void 0,null,function*(){if(y.nodeName==="LINK"){const A=y.href;if(h.indexOf(A)>-1)return;h.push(A)}const x=yield l(y);if(x)return o.push({original:y,mirror:x}),x}))).then(y=>{const S=y.filter(x=>typeof x<"u");S.forEach(x=>{x.onload=()=>{E=E+1,E>=o.length&&n()},x.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),E=E+1,E>=o.length&&n()}}),r.head.innerHTML="",r.head.append(...S),u.observe(v.head,{childList:!0,subtree:!0}),S.forEach(x=>{const A=js(x.outerHTML);i[A]=!0})}),()=>{u.disconnect()}},[]),f.jsx(f.Fragment,{children:e})},Mi=k.createContext({}),Ag=()=>k.useContext(Mi);function Cu(e){var t=e,{children:n,className:r,debug:s,id:o,onReady:i=()=>{},onNotReady:a=()=>{},frameRef:l}=t,c=Ft(t,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[d,u]=k.useState(!1),[v,g]=k.useState({}),[h,E]=k.useState(),[_,C]=k.useState(!1);return k.useEffect(()=>{var y;if(l.current){const S=l.current.contentDocument,x=l.current.contentWindow;g({document:S||void 0,window:x||void 0}),E((y=l.current.contentDocument)==null?void 0:y.getElementById("frame-root")),S&&x&&_?i():a()}},[l,d,_]),f.jsx("iframe",N(j({},c),{className:r,id:o,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:l,onLoad:()=>{u(!0)},children:f.jsx(Mi.Provider,{value:v,children:d&&h&&f.jsx(Pg,{debug:s,onStylesLoaded:()=>C(!0),children:Io.createPortal(n,h)})})}))}Cu.displayName="AutoFrame";var Mg=Cu;M();var Og={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},Ls=oe("PuckPreview",Og),Lg=e=>{const t=$(n=>n.status);k.useEffect(()=>{if(e.current&&t==="READY"){const n=e.current,r=i=>{const a=new _u("pointermove",N(j({},i),{bubbles:!0,cancelable:!1,clientX:i.clientX,clientY:i.clientY,originalTarget:i.target}));n.dispatchEvent(a)},s=()=>{var i;o(),(i=n.contentDocument)==null||i.addEventListener("pointermove",r,{capture:!0})},o=()=>{var i;(i=n.contentDocument)==null||i.removeEventListener("pointermove",r)};return s(),()=>{o()}}},[t])},Du=({id:e="puck-preview"})=>{const t=$(h=>h.dispatch),n=$(h=>h.state.data.root),r=$(h=>h.config),s=$(h=>h.setStatus),o=$(h=>h.iframe),i=$(h=>h.overrides),a=$(h=>h.metadata),l=$(h=>h.state.ui.previewMode==="edit"?null:h.state.data),c=k.useCallback(h=>{var E,_;const C=es(r,{type:"root",props:h},mo);return(E=r.root)!=null&&E.render?(_=r.root)==null?void 0:_.render(j({id:"puck-root"},C)):f.jsx(f.Fragment,{children:C.children})},[r]),d=k.useMemo(()=>i.iframe,[i]),u=n.props||n,v=k.useRef(null);Lg(v);const g=l?f.jsx(vg,{data:l,config:r,metadata:a}):f.jsx(c,N(j({},u),{puck:{renderDropZone:_o,isEditing:!0,dragRef:null,metadata:a},editMode:!0,children:f.jsx(_o,{zone:Be})}));return k.useEffect(()=>{o.enabled||s("READY")},[o.enabled]),f.jsx("div",{className:Ls(),id:e,"data-puck-preview":!0,onClick:h=>{const E=h.target;!E.hasAttribute("data-puck-component")&&!E.hasAttribute("data-puck-dropzone")&&t({type:"setUi",ui:{itemSelector:null}})},children:o.enabled?f.jsx(Mg,{id:"preview-frame",className:Ls("frame"),"data-rfd-iframe":!0,onReady:()=>{s("READY")},onNotReady:()=>{s("MOUNTED")},frameRef:v,children:f.jsx(Mi.Consumer,{children:({document:h})=>d?f.jsx(d,{document:h,children:g}):g})}):f.jsx("div",{id:"preview-frame",className:Ls("frame"),ref:v,"data-puck-entry":!0,children:g})})};M();M();M();var Pu={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};M();var Tg=e=>{const t=j({},e.style);e.style.scrollMargin="256px",e&&(e?.scrollIntoView({behavior:"smooth"}),e.style.scrollMargin=t.scrollMargin||"")};M();var Ng=(e,t)=>{let n;const r=function(){clearTimeout(n),n=setTimeout(function(){t(),e?.removeEventListener("scroll",r)},50)};e?.addEventListener("scroll",r),setTimeout(()=>{n||t()},50)},wr=oe("LayerTree",Pu),Mt=oe("Layer",Pu),zg=({index:e,itemId:t,zoneCompound:n})=>{var r;const s=$(y=>y.config),o=$(y=>y.state.ui.itemSelector),i=$(y=>y.dispatch),a=k.useCallback(y=>{i({type:"setUi",ui:{itemSelector:y}})},[i]),c=$(y=>{var S;return(S=y.selectedItem)==null?void 0:S.props.id})===t||o&&o.zone===Be&&!n,d=$(y=>y.state.indexes.nodes[t]),u=$(Ne(y=>Object.keys(y.state.indexes.zones).filter(S=>S.split(":")[0]===t))),v=u.length>0,g=k.useContext(Je),h=Yt(Je,y=>y.hoveringComponent===t),E=$(y=>{var S,x;const A=y.state.indexes.nodes[(S=y.selectedItem)==null?void 0:S.props.id];return(x=A?.path.some(w=>{const[P]=w.split(":");return P===t}))!=null?x:!1}),_=s.components[d.data.type],C=(r=_?.label)!=null?r:d.data.type.toString();return f.jsxs("li",{className:Mt({isSelected:c,isHovering:h,containsZone:v,childIsSelected:E}),children:[f.jsx("div",{className:Mt("inner"),children:f.jsxs("button",{type:"button",className:Mt("clickable"),onClick:()=>{if(c){a(null);return}const y=vn(),S=y?.querySelector(`[data-puck-component="${t}"]`);if(!S){a({index:e,zone:n});return}Tg(S),Ng(y,()=>{a({index:e,zone:n})})},onMouseEnter:y=>{y.stopPropagation(),g.setState({hoveringComponent:t})},onMouseLeave:y=>{y.stopPropagation(),g.setState({hoveringComponent:null})},children:[v&&f.jsx("div",{className:Mt("chevron"),title:c?"Collapse":"Expand",children:f.jsx(cs,{size:"12"})}),f.jsxs("div",{className:Mt("title"),children:[f.jsx("div",{className:Mt("icon"),children:d.data.type==="Text"||d.data.type==="Heading"?f.jsx(Ci,{size:"16"}):f.jsx(Mh,{size:"16"})}),f.jsx("div",{className:Mt("name"),children:C})]})]})}),v&&u.map(y=>f.jsx("div",{className:Mt("zones"),children:f.jsx(Au,{zoneCompound:y})},y))]})},Au=({label:e,zoneCompound:t})=>{const n=$(s=>{var o,i,a,l;if(e)return e;if(t===Be)return;const[c,d]=t.split(":"),u=(o=s.state.indexes.nodes[c])==null?void 0:o.data.type,v=u&&u!==Ao?s.config.components[u]:s.config.root;return(l=(a=(i=v?.fields)==null?void 0:i[d])==null?void 0:a.label)!=null?l:d}),r=$(Ne(s=>{var o,i;return t?(i=(o=s.state.indexes.zones[t])==null?void 0:o.contentIds)!=null?i:[]:[]}));return f.jsxs(f.Fragment,{children:[n&&f.jsxs("div",{className:wr("zoneTitle"),children:[f.jsx("div",{className:wr("zoneIcon"),children:f.jsx(Ah,{size:"16"})}),n]}),f.jsxs("ul",{className:wr(),children:[r.length===0&&f.jsx("div",{className:wr("helper"),children:"No items"}),r.map((s,o)=>f.jsx(zg,{index:o,itemId:s,zoneCompound:t},s))]})]})};M();var Rg=(e,t)=>Object.keys(e.indexes.zones).filter(n=>n.split(":")[0]===t),Mu=()=>{const e=$(r=>r.overrides.outline),t=$(Ne(r=>Rg(r.state,"root"))),n=k.useMemo(()=>e||"div",[e]);return f.jsx(n,{children:t.map(r=>f.jsx(Au,{label:t.length===1?"":r.split(":")[1],zoneCompound:r},r))})};M();M();M();var Ou={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},Ra={Smartphone:f.jsx(Hh,{size:16}),Tablet:f.jsx(Zh,{size:16}),Monitor:f.jsx(Nh,{size:16})},Sr=oe("ViewportControls",Ou),Fa=oe("ViewportButton",Ou),Fg=({children:e,height:t="auto",title:n,width:r,onClick:s})=>{const o=$(l=>l.state.ui.viewports),[i,a]=k.useState(!1);return k.useEffect(()=>{a(r===o.current.width)},[r,o.current.width]),f.jsx("span",{className:Fa({isActive:i}),children:f.jsx(ft,{type:"button",title:n,disabled:i,onClick:l=>{l.stopPropagation(),s({width:r,height:t})},children:f.jsx("span",{className:Fa("inner"),children:e})})})},$a=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],$g=({autoZoom:e,zoom:t,onViewportChange:n,onZoom:r})=>{var s,o;const i=$(c=>c.viewports),a=$a.find(c=>c.value===e),l=k.useMemo(()=>[...$a,...a?[]:[{value:e,label:`${(e*100).toFixed(0)}% (Auto)`}]].filter(c=>c.value<=e).sort((c,d)=>c.value>d.value?1:-1),[e]);return f.jsxs("div",{className:Sr(),children:[i.map((c,d)=>f.jsx(Fg,{height:c.height,width:c.width,title:c.label?`Switch to ${c.label} viewport`:"Switch viewport",onClick:n,children:typeof c.icon=="string"?Ra[c.icon]||c.icon:c.icon||Ra.Smartphone},d)),f.jsx("div",{className:Sr("divider")}),f.jsx(ft,{type:"button",title:"Zoom viewport out",disabled:t<=((s=l[0])==null?void 0:s.value),onClick:c=>{c.stopPropagation(),r(l[Math.max(l.findIndex(d=>d.value===t)-1,0)].value)},children:f.jsx(qh,{size:16})}),f.jsx(ft,{type:"button",title:"Zoom viewport in",disabled:t>=((o=l[l.length-1])==null?void 0:o.value),onClick:c=>{c.stopPropagation(),r(l[Math.min(l.findIndex(d=>d.value===t)+1,l.length-1)].value)},children:f.jsx(Vh,{size:16})}),f.jsx("div",{className:Sr("divider")}),f.jsx("select",{className:Sr("zoomSelect"),value:t.toString(),onClick:c=>{c.stopPropagation()},onChange:c=>{r(parseFloat(c.currentTarget.value))},children:l.map(c=>f.jsx("option",{value:c.value,label:c.label},c.label))})]})};M();var Bg={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};M();var Lu=k.createContext(null),Wg=({children:e})=>{const t=k.useRef(null),n=k.useMemo(()=>({frameRef:t}),[]);return f.jsx(Lu.Provider,{value:n,children:e})},Tu=()=>{const e=k.useContext(Lu);if(e===null)throw new Error("useCanvasFrame must be used within a FrameProvider");return e},Dn=oe("PuckCanvas",Bg),Ts=150,Hg=()=>{const{frameRef:e}=Tu(),t=nu(e),{dispatch:n,overrides:r,setUi:s,zoomConfig:o,setZoomConfig:i,status:a,iframe:l}=$(Ne(w=>({dispatch:w.dispatch,overrides:w.overrides,setUi:w.setUi,zoomConfig:w.zoomConfig,setZoomConfig:w.setZoomConfig,status:w.status,iframe:w.iframe}))),{leftSideBarVisible:c,rightSideBarVisible:d,leftSideBarWidth:u,rightSideBarWidth:v,viewports:g}=$(Ne(w=>({leftSideBarVisible:w.state.ui.leftSideBarVisible,rightSideBarVisible:w.state.ui.rightSideBarVisible,leftSideBarWidth:w.state.ui.leftSideBarWidth,rightSideBarWidth:w.state.ui.rightSideBarWidth,viewports:w.state.ui.viewports}))),[h,E]=k.useState(!1),_=k.useRef(!1),C=k.useMemo(()=>({children:P})=>f.jsx(f.Fragment,{children:P}),[]),y=k.useMemo(()=>r.preview||C,[r]),S=k.useCallback(()=>{if(e.current){const w=e.current,P=tu(w);return{width:P.contentBox.width,height:P.contentBox.height}}return{width:0,height:0}},[e]);k.useEffect(()=>{t()},[e,c,d,u,v,g]),k.useEffect(()=>{const{height:w}=S();g.current.height==="auto"&&i(N(j({},o),{rootHeight:w/o.zoom}))},[o.zoom,S,i]),k.useEffect(()=>{t()},[g.current.width,g]),k.useEffect(()=>{if(!e.current)return;const w=new ResizeObserver(()=>{_.current||t()});return w.observe(e.current),()=>{w.disconnect()}},[e.current]);const[x,A]=k.useState(!1);return k.useEffect(()=>{setTimeout(()=>{A(!0)},500)},[]),f.jsxs("div",{className:Dn({ready:a==="READY"||!l.enabled||!l.waitForStyles,showLoader:x}),onClick:w=>{const P=w.target;!P.hasAttribute("data-puck-component")&&!P.hasAttribute("data-puck-dropzone")&&n({type:"setUi",ui:{itemSelector:null},recordHistory:!0})},children:[g.controlsVisible&&l.enabled&&f.jsx("div",{className:Dn("controls"),children:f.jsx($g,{autoZoom:o.autoZoom,zoom:o.zoom,onViewportChange:w=>{E(!0),_.current=!0;const P=N(j({},w),{height:w.height||"auto",zoom:o.zoom}),m={viewports:N(j({},g),{current:P})};s(m),t({viewports:N(j({},g),{current:P})})},onZoom:w=>{E(!0),_.current=!0,i(N(j({},o),{zoom:w}))}})}),f.jsxs("div",{className:Dn("inner"),ref:e,children:[f.jsx("div",{className:Dn("root"),style:{width:l.enabled?g.current.width:"100%",height:o.rootHeight,transform:l.enabled?`scale(${o.zoom})`:void 0,transition:h?`width ${Ts}ms ease-out, height ${Ts}ms ease-out, transform ${Ts}ms ease-out`:"",overflow:l.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{E(!1),_.current=!1},children:f.jsx(y,{children:f.jsx(Du,{})})}),f.jsx("div",{className:Dn("loader"),children:f.jsx(Gt,{size:24})})]})]})};M();M();var Zg=({overrides:e,plugins:t})=>{const n=j({},e);return t?.forEach(r=>{r.overrides&&Object.keys(r.overrides).forEach(s=>{var o;const i=s;if(!((o=r.overrides)!=null&&o[i]))return;if(i==="fieldTypes"){const c=r.overrides.fieldTypes;Object.keys(c).forEach(d=>{n.fieldTypes=n.fieldTypes||{};const u=n.fieldTypes[d],v=g=>c[d](N(j({},g),{children:u?u(g):g.children}));n.fieldTypes[d]=v});return}const a=n[i],l=c=>r.overrides[i](N(j({},c),{children:a?a(c):c.children}));n[i]=l})}),n},Ug=({overrides:e,plugins:t})=>k.useMemo(()=>Zg({overrides:e,plugins:t}),[t,e]);M();var So=({children:e})=>f.jsx(f.Fragment,{children:e});M();var Vg="",qg=(e,t)=>{const[n,r]=k.useState();return k.useEffect(()=>{r(document.createElement("style"))},[]),k.useEffect(()=>{var s;if(!(!n||typeof window>"u")){if(n.innerHTML=e,t){const o=vn();(s=o?.head)==null||s.appendChild(n)}document.head.appendChild(n)}},[t,n]),n},Yg=e=>qg(Vg,e);M();var Xg=()=>{const e=Xe(),t=k.useCallback(()=>{const n=e.getState().dispatch;n({type:"setUi",ui:r=>({previewMode:r.previewMode==="edit"?"interactive":"edit"})})},[e]);Nt({meta:!0,i:!0},t),Nt({ctrl:!0,i:!0},t)};M();M();M();var Kg={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},Ns=oe("MenuBar",Kg);function Gg({menuOpen:e=!1,renderHeaderActions:t,setMenuOpen:n}){const r=$(a=>a.history.back),s=$(a=>a.history.forward),o=$(a=>a.history.hasFuture()),i=$(a=>a.history.hasPast());return f.jsx("div",{className:Ns({menuOpen:e}),onClick:a=>{var l;const c=a.target;window.matchMedia("(min-width: 638px)").matches||c.tagName==="A"&&((l=c.getAttribute("href"))!=null&&l.startsWith("#"))&&n(!1)},children:f.jsxs("div",{className:Ns("inner"),children:[f.jsxs("div",{className:Ns("history"),children:[f.jsx(ft,{type:"button",title:"undo",disabled:!i,onClick:r,children:f.jsx(Uh,{size:21})}),f.jsx(ft,{type:"button",title:"redo",disabled:!o,onClick:s,children:f.jsx($h,{size:21})})]}),f.jsx(f.Fragment,{children:t&&t()})]})})}M();var Jg={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},St=oe("PuckHeader",Jg),Qg=()=>{const{onPublish:e,renderHeader:t,renderHeaderActions:n,headerTitle:r,headerPath:s,iframe:o}=Oi(),i=$(y=>y.dispatch),a=Xe(),l=k.useMemo(()=>t?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),S=>{var x=S,{actions:A}=x,w=Ft(x,["actions"]);const P=t,m=$(I=>I.state);return f.jsx(P,N(j({},w),{dispatch:i,state:m,children:A}))}):So,[t]),c=k.useMemo(()=>n?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),S=>{const x=n,A=$(w=>w.state);return f.jsx(x,N(j({},S),{dispatch:i,state:A}))}):So,[n]),d=$(y=>y.overrides.header||l),u=$(y=>y.overrides.headerActions||c),[v,g]=k.useState(!1),h=$(y=>{var S,x;return(x=((S=y.state.indexes.nodes.root)==null?void 0:S.data).props.title)!=null?x:""}),E=$(y=>y.state.ui.leftSideBarVisible),_=$(y=>y.state.ui.rightSideBarVisible),C=k.useCallback(y=>{const S=window.matchMedia("(min-width: 638px)").matches,x=y==="left"?E:_,A=y==="left"?"rightSideBarVisible":"leftSideBarVisible";i({type:"setUi",ui:j({[`${y}SideBarVisible`]:!x},S?{}:{[A]:!1})})},[i,E,_]);return f.jsx(d,{actions:f.jsx(f.Fragment,{children:f.jsx(u,{children:f.jsx(ho,{onClick:()=>{const y=a.getState().state.data;e&&e(y)},icon:f.jsx(xa,{size:"14px"}),children:"Publish"})})}),children:f.jsx("header",{className:St({leftSideBarVisible:E,rightSideBarVisible:_}),children:f.jsxs("div",{className:St("inner"),children:[f.jsxs("div",{className:St("toggle"),children:[f.jsx("div",{className:St("leftSideBarToggle"),children:f.jsx(ft,{type:"button",onClick:()=>{C("left")},title:"Toggle left sidebar",children:f.jsx(zh,{focusable:"false"})})}),f.jsx("div",{className:St("rightSideBarToggle"),children:f.jsx(ft,{type:"button",onClick:()=>{C("right")},title:"Toggle right sidebar",children:f.jsx(Rh,{focusable:"false"})})})]}),f.jsx("div",{className:St("title"),children:f.jsxs(Di,{rank:"2",size:"xs",children:[r||h||"Page",s&&f.jsxs(f.Fragment,{children:[" ",f.jsx("code",{className:St("path"),children:s})]})]})}),f.jsxs("div",{className:St("tools"),children:[f.jsx("div",{className:St("menuButton"),children:f.jsx(ft,{type:"button",onClick:()=>g(!v),title:"Toggle menu bar",children:v?f.jsx(ou,{focusable:"false"}):f.jsx(cs,{focusable:"false"})})}),f.jsx(Gg,{dispatch:i,onPublish:e,menuOpen:v,renderHeaderActions:()=>f.jsx(u,{children:f.jsx(ho,{onClick:()=>{const y=a.getState().state.data;e&&e(y)},icon:f.jsx(xa,{size:"14px"}),children:"Publish"})}),setMenuOpen:g})]})]})})})},em=k.memo(Qg);M();M();M();var tm={ResizeHandle:"_ResizeHandle_144bf_2","ResizeHandle--left":"_ResizeHandle--left_144bf_16","ResizeHandle--right":"_ResizeHandle--right_144bf_20"},nm=oe("ResizeHandle",tm),rm=({position:e,sidebarRef:t,onResize:n,onResizeEnd:r})=>{const{frameRef:s}=Tu(),o=nu(s),i=k.useRef(null),a=k.useRef(!1),l=k.useRef(0),c=k.useRef(0),d=k.useCallback(g=>{if(!a.current)return;const h=g.clientX-l.current,E=e==="left"?c.current+h:c.current-h,_=Math.max(192,E);n(_),g.preventDefault()},[n,e]),u=k.useCallback(()=>{var g;if(!a.current)return;a.current=!1,document.body.style.cursor="",document.body.style.userSelect="";const h=document.getElementById("resize-overlay");h&&document.body.removeChild(h),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u);const E=((g=t.current)==null?void 0:g.getBoundingClientRect().width)||0;r(E),o()},[r]),v=k.useCallback(g=>{var h;a.current=!0,l.current=g.clientX,c.current=((h=t.current)==null?void 0:h.getBoundingClientRect().width)||0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const E=document.createElement("div");E.id="resize-overlay",E.setAttribute("data-resize-overlay",""),document.body.appendChild(E),document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),g.preventDefault()},[e,d,u]);return f.jsx("div",{ref:i,className:nm({[e]:!0}),onMouseDown:v})};M();var sm={Sidebar:"_Sidebar_1xksb_1","Sidebar--left":"_Sidebar--left_1xksb_8","Sidebar--right":"_Sidebar--right_1xksb_14","Sidebar-resizeHandle":"_Sidebar-resizeHandle_1xksb_20"},Ba=oe("Sidebar",sm),Wa=({position:e,sidebarRef:t,isVisible:n,onResize:r,onResizeEnd:s,children:o})=>n?f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:t,className:Ba({[e]:!0}),children:o}),f.jsx("div",{className:`${Ba("resizeHandle")}`,children:f.jsx(rm,{position:e,sidebarRef:t,onResize:r,onResizeEnd:s})})]}):null;M();function Ha(e,t){const[n,r]=k.useState(null),s=k.useRef(null),o=$(a=>e==="left"?a.state.ui.leftSideBarWidth:a.state.ui.rightSideBarWidth);k.useEffect(()=>{if(typeof window<"u"&&!o)try{const a=localStorage.getItem("puck-sidebar-widths");if(a){const c=JSON.parse(a)[e];c&&t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:c}})}}catch(a){console.error(`Failed to load ${e} sidebar width from localStorage`,a)}},[t,e,o]),k.useEffect(()=>{o!==void 0&&r(o)},[o]);const i=k.useCallback(a=>{t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:a}});let l={};try{const c=localStorage.getItem("puck-sidebar-widths");l=c?JSON.parse(c):{}}catch(c){console.error(`Failed to save ${e} sidebar width to localStorage`,c)}finally{localStorage.setItem("puck-sidebar-widths",JSON.stringify(N(j({},l),{[e]:a})))}window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},[t,e]);return{width:n,setWidth:r,sidebarRef:s,handleResizeEnd:i}}var Za=oe("Puck",Iu),Ua=oe("PuckLayout",Iu),om=()=>{const e=$(t=>{var n,r;return t.selectedItem?(r=(n=t.config.components[t.selectedItem.type])==null?void 0:n.label)!=null?r:t.selectedItem.type.toString():"Page"});return f.jsx(xo,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:e,children:f.jsx(Eu,{})})},Nu=k.createContext({});function im(e){return f.jsx(Nu.Provider,{value:e,children:e.children})}var Oi=()=>k.useContext(Nu);function am({children:e}){const{config:t,data:n,ui:r,onChange:s,permissions:o={},plugins:i,overrides:a,viewports:l=Fr,iframe:c,initialHistory:d,metadata:u,onAction:v,fieldTransforms:g}=Oi(),h=k.useMemo(()=>j({enabled:!0,waitForStyles:!0},c),[c]),[E]=k.useState(()=>{var p,O,T,R,z,U,F,K,Z;const X=j(j({},Fs.ui),r);let G={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(G=N(j({},G),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const we=window.innerWidth,Se=Object.entries(l).map(([je,V])=>({key:je,diff:Math.abs(we-V.width)})).sort((je,V)=>je.diff>V.diff?1:-1)[0].key;h.enabled&&(G=N(j({},G),{viewports:N(j({},X.viewports),{current:N(j({},X.viewports.current),{height:((O=(p=r?.viewports)==null?void 0:p.current)==null?void 0:O.height)||((T=l[Se])==null?void 0:T.height)||"auto",width:((z=(R=r?.viewports)==null?void 0:R.current)==null?void 0:z.width)||((U=l[Se])==null?void 0:U.width)})})}))}Object.keys(n?.root||{}).length>0&&!((F=n?.root)!=null&&F.props)&&console.warn("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const Y=((K=n?.root)==null?void 0:K.props)||n?.root||{},te=j(j({},(Z=t.root)==null?void 0:Z.defaultProps),Y),le=N(j({},Fs),{data:N(j({},n),{root:N(j({},n?.root),{props:te}),content:n.content||[]}),ui:N(j(j({},X),G),{componentList:t.categories?Object.entries(t.categories).reduce((we,[se,Se])=>N(j({},we),{[se]:{title:Se.title,components:Se.components,expanded:Se.defaultExpanded,visible:Se.visible}}),{}):{}})});return Qe(le,t)}),{appendData:_=!0}=d||{},[C]=k.useState([...d?.histories||[],..._?[{state:E}]:[]].map(p=>{let O=j(j({},E),p.state);return p.state.indexes||(O=Qe(O,t)),N(j({},p),{state:O})})),y=d?.index||C.length-1,S=C[y].state,x=Ug({overrides:a,plugins:i}),A=k.useMemo(()=>{const O=(i||[]).reduce((T,R)=>j(j({},T),R.fieldTransforms),{});return j(j({},O),g)},[g,i]),w=k.useCallback(p=>({state:p,config:t,plugins:i||[],overrides:x,viewports:l,iframe:h,onAction:v,metadata:u,fieldTransforms:A}),[S,t,i,x,l,h,v,u,A]),[P]=k.useState(()=>eu(w(S)));k.useEffect(()=>{},[P]),k.useEffect(()=>{const p=P.getState().state;P.setState(j({},w(p)))},[t,i,x,l,h,v,u]),sh(P,{histories:C,index:y,initialAppState:S});const m=k.useRef(null);k.useEffect(()=>{P.subscribe(p=>p.state.data,p=>{if(s){if(Nr(p,m.current))return;s(p),m.current=p}})},[]),ah(P,o);const I=mg(P);return k.useEffect(()=>{const{resolveAndCommitData:p}=P.getState();p()},[]),f.jsx(ji.Provider,{value:P,children:f.jsx(gg.Provider,{value:I,children:e})})}function lm({children:e}){const{iframe:t,dnd:n,initialHistory:r}=Oi(),s=k.useMemo(()=>j({enabled:!0,waitForStyles:!0},t),[t]);Yg(s.enabled);const o=$(w=>w.dispatch),i=$(w=>w.state.ui.leftSideBarVisible),a=$(w=>w.state.ui.rightSideBarVisible),{width:l,setWidth:c,sidebarRef:d,handleResizeEnd:u}=Ha("left",o),{width:v,setWidth:g,sidebarRef:h,handleResizeEnd:E}=Ha("right",o);k.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||o({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const w=()=>{window.matchMedia("(min-width: 638px)").matches||o({type:"setUi",ui:P=>j(j({},P),P.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[]);const _=$(w=>w.overrides),C=k.useMemo(()=>_.puck||So,[_]),[y,S]=k.useState(!1);k.useEffect(()=>{S(!0)},[]);const x=$(w=>w.status==="READY");th(),k.useEffect(()=>{if(x&&s.enabled){const w=vn();if(w)return Qc(w)}},[x,s.enabled]),Xg();const A={};return l&&(A["--puck-user-left-side-bar-width"]=`${l}px`),v&&(A["--puck-user-right-side-bar-width"]=`${v}px`),f.jsxs("div",{className:`Puck ${Za()}`,children:[f.jsx(Vv,{disableAutoScroll:n?.disableAutoScroll,children:f.jsx(C,{children:e||f.jsx(Wg,{children:f.jsx("div",{className:Ua({leftSideBarVisible:i,mounted:y,rightSideBarVisible:a}),children:f.jsxs("div",{className:Ua("inner"),style:A,children:[f.jsx(em,{}),f.jsxs(Wa,{position:"left",sidebarRef:d,isVisible:i,onResize:c,onResizeEnd:u,children:[f.jsx(xo,{title:"Components",noBorderTop:!0,children:f.jsx(ju,{})}),f.jsx(xo,{title:"Outline",children:f.jsx(Mu,{})})]}),f.jsx(Hg,{}),f.jsx(Wa,{position:"right",sidebarRef:h,isVisible:a,onResize:g,onResizeEnd:E,children:f.jsx(om,{})})]})})})})}),f.jsx("div",{id:"puck-portal-root",className:Za("portal")})]})}function ds(e){return f.jsx(im,N(j({},e),{children:f.jsx(am,N(j({},e),{children:f.jsx(lm,j({},e))}))}))}ds.Components=ju;ds.Fields=Eu;ds.Outline=Mu;ds.Preview=Du;M();M();M();M();M();M();M();M();M();M();M();M();M();export{mt as C,Sm as D,Ji as P,Et as R,as as S,yn as V,dm as W,Jr as a,Xc as b,ts as c,Ws as d,$t as e,ls as f,$e as g,xt as h,ym as i,Nf as j,Yf as k,Ue as l,pi as m,It as n,Wr as o,_m as p,vg as q,ce as r,Of as s,ds as t};
