import{w as f,u as p,f as b}from"./chunk-JMJ3UQ3L-Dw7tS_gO.js";import{j as e}from"./vendor-puck-By1A5E5K.js";import{R as j,B as v,C as z,X as k,Y as N,T as w,L as y,a as o}from"./vendor-charts-nrSmOgTy.js";import"./vendor-sentry-BD1MTpLq.js";const A=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F=f(function(){const c=p(),{utilization:d,retention:l,ltv:n}=c||{utilization:[],retention:[],ltv:{averageLtv:0,trend:0}},{tenant:x}=b(),m=x?.currency?.toUpperCase()||"USD",g=(i,t)=>{const r=d.find(s=>parseInt(s.day)===i&&parseInt(s.hour)===t);return r?r.count:0},h=Math.max(...d.map(i=>i.count)||[0],1),u=i=>{if(i===0)return"bg-zinc-50 dark:bg-zinc-900";const t=i/h;return t<.25?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300":t<.5?"bg-indigo-300 dark:bg-indigo-700/60 text-indigo-900 dark:text-indigo-100":t<.75?"bg-indigo-500 text-white":"bg-indigo-700 text-white"};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:"Advanced Analytics"}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Deep dive into studio performance and retention."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 uppercase tracking-wider mb-2",children:"Average Lifetime Value"}),e.jsx("div",{className:"text-4xl font-bold text-zinc-900 dark:text-zinc-100",children:new Intl.NumberFormat(void 0,{style:"currency",currency:m}).format(n.averageLtv)}),e.jsxs("div",{className:`text-sm mt-2 font-medium ${n.trend>=0?"text-emerald-600":"text-red-600"}`,children:[n.trend>0?"+":"",n.trend,"% vs last month"]})]})}),e.jsxs("section",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100 mb-6",children:"Member Retention by Cohort"}),e.jsx("div",{className:"h-80 w-full",children:e.jsx(j,{width:"100%",height:"100%",children:e.jsxs(v,{data:l,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx(z,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E5"}),e.jsx(k,{dataKey:"cohortMonth",stroke:"#71717A",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(N,{stroke:"#71717A",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(w,{cursor:{fill:"#F4F4F5"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(y,{}),e.jsx(o,{dataKey:"total",name:"New Members",fill:"#E4E4E7",radius:[4,4,0,0]}),e.jsx(o,{dataKey:"active",name:"Retained Active",fill:"#4F46E5",radius:[4,4,0,0]})]})})})]}),e.jsxs("section",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-x-auto",children:[e.jsx("h3",{className:"font-bold text-lg text-zinc-900 dark:text-zinc-100 mb-6",children:"Class Utilization Heatmap"}),e.jsx("div",{className:"min-w-[800px]",children:e.jsxs("div",{className:"grid grid-cols-[auto_repeat(24,1fr)] gap-1",children:[e.jsx("div",{className:"h-8 w-16"})," ",Array.from({length:24}).map((i,t)=>e.jsx("div",{className:"h-8 flex items-center justify-center text-[10px] text-zinc-400 font-medium",children:t},`h-${t}`)),A.map((i,t)=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-10 flex items-center pr-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:i},`d-${t}`),Array.from({length:24}).map((r,s)=>{const a=g(t,s);return e.jsx("div",{title:`${i} @ ${s}:00 - ${a} bookings`,className:`h-10 rounded-md flex items-center justify-center text-xs font-medium transition-all hover:scale-110 ${u(a)}`,children:a>0?a:""},`${t}-${s}`)})]}))]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2 text-xs text-zinc-500",children:[e.jsx("span",{children:"Less Busy"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-indigo-100 dark:bg-indigo-900/40"}),e.jsx("div",{className:"w-4 h-4 rounded bg-indigo-300 dark:bg-indigo-700/60"}),e.jsx("div",{className:"w-4 h-4 rounded bg-indigo-500"}),e.jsx("div",{className:"w-4 h-4 rounded bg-indigo-700"})]}),e.jsx("span",{children:"More Busy"})]})]})]})});export{F as default};
