import{w as P,H as O,v as M,B as I,r as l,z as x,I as y}from"./chunk-JMJ3UQ3L-BbiJBYoX.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{a,A as F}from"./api-piI5qlNr.js";import{C as u}from"./credit-card-BkTjC-rI.js";import{C as k}from"./circle-check-big-DYqMMV6V.js";import{c as h}from"./createLucideIcon-DiSUMwKo.js";import{M as D}from"./mail-BH-ldGQc.js";import{M as E}from"./message-square-BpuB2ccB.js";import{V as _}from"./video-CUkzMH-5.js";import{P as $}from"./plus-CFavzZjE.js";import{T as J}from"./trash-2-DzzDfAkM.js";import{F as K}from"./file-text-fS_yvdCU.js";import{G as B}from"./globe-B4obcF6E.js";const H=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],R=h("map-pin",H);const V=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],X=h("shopping-bag",V);const L=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],U=h("smartphone",L),ce=P(function(){const{tenant:t}=O(),{locations:b}=M();I();const[p,v]=l.useState(t.name||""),[g,f]=l.useState(!1),[w,j]=l.useState(null),[N,z]=l.useState(null),[S,d]=l.useState(!1),[C,m]=l.useState(!1),T=async s=>{s.preventDefault(),f(!0),j(null),z(null);try{const n=await window.Clerk?.session?.getToken();await a("/tenant/settings",n,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({name:p})}),z("Settings saved successfully.")}catch(n){j(n.message||"Failed to save settings.")}finally{f(!1)}},A=async s=>{s.preventDefault(),alert("Your request for a Stripe Terminal Reader (WisePOS E) has been received. Our team will contact you shortly to confirm shipping details."),m(!1)};return e.jsxs("div",{className:"max-w-4xl pb-10",children:[e.jsx("div",{className:"mb-8",children:e.jsx("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Studio Settings"})}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 mb-4",children:"General Information"}),w&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded mb-4 text-sm",children:w}),N&&e.jsx("div",{className:"bg-green-50 text-green-600 p-3 rounded mb-4 text-sm",children:N}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Studio Name"}),e.jsx("input",{type:"text",value:p,onChange:s=>v(s.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter studio name"})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:g,className:"bg-zinc-900 text-white px-4 py-2 rounded-md font-medium text-sm hover:bg-zinc-800 disabled:opacity-70",children:g?"Saving...":"Save Changes"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Registration"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Control how new students sign up for your studio."})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:"Public Student Registration"}),e.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:t.settings?.enableStudentRegistration?"Students can create accounts on your public site.":"Only you can add students manually."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.settings?.enableStudentRegistration||!1,onChange:async s=>{const n=s.target.checked;try{const i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{enableStudentRegistration:n}})}),window.location.reload()}catch{alert("Failed to update setting")}}}),e.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Notifications & Automation"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Manage email alerts and studio automation settings."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Admin Notification Email"}),e.jsx("input",{type:"email",className:"w-full border-zinc-300 dark:border-zinc-700 rounded text-sm px-3 py-2 bg-white dark:bg-zinc-800",placeholder:"admin@studio.com",defaultValue:t.settings?.notifications?.adminEmail||"",onBlur:async s=>{const n=s.target.value,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{notifications:{...t.settings?.notifications,adminEmail:n}}})})}}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Where should we send system alerts?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"New Student Alerts"}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Email on registration."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.settings?.notifications?.newStudentAlert||!1,onChange:async s=>{const n=s.target.checked,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{notifications:{...t.settings?.notifications,newStudentAlert:n}}})}),window.location.reload()}}),e.jsx("div",{className:"w-9 h-5 bg-zinc-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"BCC on User Emails"}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Copy of booking emails."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.settings?.notifications?.enableBcc||!1,onChange:async s=>{const n=s.target.checked,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{notifications:{...t.settings?.notifications,enableBcc:n}}})}),window.location.reload()}}),e.jsx("div",{className:"w-9 h-5 bg-zinc-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Enable No-Show Fee Automation"}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Automatically charge fees for missed classes."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.settings?.noShowFeeEnabled||!1,onChange:async s=>{const n=s.target.checked;try{const i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{noShowFeeEnabled:n}})}),window.location.reload()}catch{alert("Failed to save")}}}),e.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.settings?.noShowFeeEnabled&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Fee Amount ($)"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border-zinc-300 dark:border-zinc-700 rounded text-sm px-3 py-2 bg-white dark:bg-zinc-800",placeholder:"10.00",defaultValue:t.settings?.noShowFeeAmount?(t.settings.noShowFeeAmount/100).toFixed(2):"10.00",onBlur:async s=>{const n=parseFloat(s.target.value);if(n>0){const i=Math.round(n*100),r=await window.Clerk?.session?.getToken();await a("/tenant/settings",r,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{noShowFeeAmount:i}})})}}}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:'Fee will be charged automatically when marking "No Show".'})]}),e.jsxs("div",{className:"flex items-center justify-between pb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Auto-Mark No Shows"}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Automatically mark expected students as No Show."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t.settings?.noShowAutoMarkEnabled||!1,onChange:async s=>{const n=s.target.checked;try{const i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{noShowAutoMarkEnabled:n}})}),window.location.reload()}catch{alert("Failed to save")}}}),e.jsx("div",{className:"w-11 h-6 bg-zinc-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-zinc-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.settings?.noShowAutoMarkEnabled&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"When to Mark?"}),e.jsxs("select",{className:"w-full border-zinc-300 dark:border-zinc-700 rounded text-sm px-3 py-2 bg-white dark:bg-zinc-800",defaultValue:t.settings?.noShowAutoMarkTime||"end_of_class",onChange:async s=>{const n=s.target.value,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{noShowAutoMarkTime:n}})})},children:[e.jsx("option",{value:"start_of_class",children:"Start of Class"}),e.jsx("option",{value:"15_mins_after_start",children:"15 Minutes After Start"}),e.jsx("option",{value:"end_of_class",children:"End of Class"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Class Management"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Configure booking windows and cancellation policies."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Attendance Switch Cutoff"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:"w-24 border-zinc-300 dark:border-zinc-700 rounded text-sm px-3 py-2 bg-white dark:bg-zinc-800",placeholder:"15",defaultValue:t.settings?.classSettings?.attendanceSwitchCutoffMinutes||"15",onBlur:async s=>{const n=parseInt(s.target.value),i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{classSettings:{...t.settings?.classSettings,attendanceSwitchCutoffMinutes:n}}})})}}),e.jsx("span",{className:"text-sm text-zinc-500",children:"minutes before class"})]}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"When students can last switch between In-Person and Zoom."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Cancellation Cutoff"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",className:"w-24 border-zinc-300 dark:border-zinc-700 rounded text-sm px-3 py-2 bg-white dark:bg-zinc-800",placeholder:"60",defaultValue:t.settings?.classSettings?.cancellationCutoffMinutes||"60",onBlur:async s=>{const n=parseInt(s.target.value),i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{classSettings:{...t.settings?.classSettings,cancellationCutoffMinutes:n}}})})}}),e.jsx("span",{className:"text-sm text-zinc-500",children:"minutes before class"})]}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:"Latest time a student can cancel without penalty."})]}),e.jsx("div",{className:"md:col-span-2 border-t border-zinc-100 dark:border-zinc-800 pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Cancellation Notifications"}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Notify students when you cancel a class."})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500",checked:t.settings?.notificationSettings?.cancellationEmail!==!1,onChange:async s=>{const n=s.target.checked,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{notificationSettings:{...t.settings?.notificationSettings,cancellationEmail:n}}})}),window.location.reload()}}),e.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Email"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-zinc-300 text-blue-600 focus:ring-blue-500",checked:t.settings?.notificationSettings?.cancellationSms||!1,onChange:async s=>{const n=s.target.checked,i=await window.Clerk?.session?.getToken();await a("/tenant/settings",i,{method:"PATCH",headers:{"X-Tenant-Slug":t.slug},body:JSON.stringify({settings:{notificationSettings:{...t.settings?.notificationSettings,cancellationSms:n}}})}),window.location.reload()}}),e.jsx("span",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"SMS"})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Integrations & Connections"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Connect third-party services to power your studio."})]}),e.jsxs("div",{className:"space-y-8 divide-y divide-zinc-100 dark:divide-zinc-800",children:[e.jsxs("div",{className:"pt-4 first:pt-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"})," Payment Processing"]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${t.paymentProvider==="connect"&&t.stripeAccountId?"bg-green-100 text-green-700":"bg-zinc-100 text-zinc-500"}`,children:t.paymentProvider==="connect"&&t.stripeAccountId?"Connected":t.paymentProvider==="custom"?"Custom Keys":"Not Configured"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{onClick:async()=>{if(t.paymentProvider!=="connect"&&confirm("Switch to Platform Managed?")){const s=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,s,{method:"PUT",body:JSON.stringify({paymentProvider:"connect"})}),window.location.reload()}},className:`relative cursor-pointer border rounded-lg p-4 transition-all ${t.paymentProvider==="connect"?"border-blue-500 ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300"}`,children:[t.paymentProvider==="connect"&&e.jsx("div",{className:"absolute top-2 right-2 text-blue-600",children:e.jsx(k,{size:20,className:"fill-blue-100"})}),e.jsx("div",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 mb-1",children:"Platform Managed"}),e.jsx("div",{className:"text-xs text-zinc-500",children:"We handle billing complexity. Standard fees. Recommended for most studios."}),t.paymentProvider==="connect"&&!t.stripeAccountId&&e.jsx("a",{href:`${F}/studios/stripe/connect?tenantId=${t.id}`,className:"mt-4 block w-full py-2 text-center bg-blue-600 text-white rounded text-xs font-bold hover:bg-blue-700",children:"Connect Stripe Account â†’"}),t.paymentProvider==="connect"&&t.stripeAccountId&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("span",{className:"text-[10px] uppercase font-bold text-blue-700",children:"Hardware"})}),e.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center justify-center gap-2 py-2 border border-blue-300 text-blue-700 rounded text-xs font-bold hover:bg-blue-100 transition-colors",children:[e.jsx(U,{size:14})," Order Terminal Reader"]}),e.jsx("p",{className:"text-[10px] text-blue-600/70 mt-1 text-center",children:"BBPOS WisePOS E available"})]})]}),e.jsxs("div",{onClick:async()=>{if(t.paymentProvider!=="custom"){const s=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,s,{method:"PUT",body:JSON.stringify({paymentProvider:"custom"})}),window.location.reload()}},className:`relative cursor-pointer border rounded-lg p-4 transition-all ${t.paymentProvider==="custom"?"border-blue-500 ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-zinc-200 dark:border-zinc-700 hover:border-zinc-300"}`,children:[t.paymentProvider==="custom"&&e.jsx("div",{className:"absolute top-2 right-2 text-blue-600",children:e.jsx(k,{size:20,className:"fill-blue-100"})}),e.jsx("div",{className:"font-bold text-sm text-zinc-900 dark:text-zinc-100 mb-1",children:"Self Managed (BYOK)"}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Use your own Stripe keys. No platform fees. You handle compliance."})]})]}),t.paymentProvider==="custom"&&e.jsxs("form",{onSubmit:async s=>{s.preventDefault();const n=new FormData(s.currentTarget),i=n.get("stripePublishableKey"),r=n.get("stripeSecretKey");try{const o=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,o,{method:"PUT",body:JSON.stringify({paymentProvider:"custom",stripePublishableKey:i,stripeSecretKey:r})}),alert("Stripe keys saved.")}catch(o){alert(o.message)}},className:"bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded border border-zinc-200 dark:border-zinc-700 space-y-3 animate-in slide-in-from-top-2",children:[e.jsx("input",{name:"stripePublishableKey",placeholder:"Publishable Key (pk_...)",className:"w-full text-sm border-zinc-300 rounded px-3 py-2"}),e.jsx("input",{name:"stripeSecretKey",type:"password",placeholder:"Secret Key (sk_...)",className:"w-full text-sm border-zinc-300 rounded px-3 py-2"}),e.jsx("button",{type:"submit",className:"text-xs bg-zinc-900 text-white px-3 py-1.5 rounded",children:"Save Stripe Keys"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"})," Email Service (Resend)"]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${t.resendCredentials?.apiKey?"bg-green-100 text-green-700":"bg-zinc-100 text-zinc-500"}`,children:t.resendCredentials?.apiKey?"Configured":"Using Platform Default"})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-3",children:"Provide your own Resend API Key to send emails from your own domain."}),e.jsxs("form",{onSubmit:async s=>{s.preventDefault();const i=new FormData(s.currentTarget).get("resendApiKey");try{const r=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,r,{method:"PUT",body:JSON.stringify({resendApiKey:i})}),alert("Email configuration saved."),window.location.reload()}catch(r){alert(r.message)}},className:"flex gap-2",children:[e.jsx("input",{name:"resendApiKey",type:"password",placeholder:"re_123...",className:"flex-1 text-sm border-zinc-300 rounded px-3 py-2"}),e.jsx("button",{type:"submit",className:"text-xs bg-white border border-zinc-300 hover:bg-zinc-50 px-3 py-2 rounded font-medium",children:"Save Key"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"})," SMS Service (Twilio)"]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${t.twilioCredentials?.accountSid?"bg-green-100 text-green-700":"bg-zinc-100 text-zinc-500"}`,children:t.twilioCredentials?.accountSid?"Configured":"Using Platform Default"})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-3",children:"Connect your Twilio account for custom SMS notifications."}),e.jsxs("form",{onSubmit:async s=>{s.preventDefault();const n=new FormData(s.currentTarget),i=n.get("twilioAccountSid"),r=n.get("twilioAuthToken"),o=n.get("twilioFromNumber");try{const c=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,c,{method:"PUT",body:JSON.stringify({twilioAccountSid:i,twilioAuthToken:r,twilioFromNumber:o})}),alert("SMS configuration saved."),window.location.reload()}catch(c){alert(c.message)}},className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{name:"twilioAccountSid",placeholder:"Account SID",className:"text-sm border-zinc-300 rounded px-3 py-2",defaultValue:t.twilioCredentials?.accountSid||""}),e.jsx("input",{name:"twilioAuthToken",type:"password",placeholder:"Auth Token",className:"text-sm border-zinc-300 rounded px-3 py-2"}),e.jsx("input",{name:"twilioFromNumber",placeholder:"From Number (+1...)",className:"text-sm border-zinc-300 rounded px-3 py-2",defaultValue:t.twilioCredentials?.fromNumber||""}),e.jsx("div",{className:"md:col-span-3",children:e.jsx("button",{type:"submit",className:"text-xs bg-white border border-zinc-300 hover:bg-zinc-50 px-3 py-2 rounded font-medium",children:"Save Twilio Config"})})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"})," Video Conferencing (Zoom)"]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${t.zoomCredentials?.accountId?"bg-green-100 text-green-700":"bg-zinc-100 text-zinc-500"}`,children:t.zoomCredentials?.accountId?"Configured":"Not Configured"})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-3",children:"Server-to-Server OAuth credentials for creating meetings."}),e.jsxs("form",{onSubmit:async s=>{s.preventDefault();const n=new FormData(s.currentTarget),i=n.get("zoomAccountId"),r=n.get("zoomClientId"),o=n.get("zoomClientSecret");try{const c=await window.Clerk?.session?.getToken();await a(`/studios/${t.id}/integrations`,c,{method:"PUT",body:JSON.stringify({zoomAccountId:i,zoomClientId:r,zoomClientSecret:o})}),alert("Zoom configuration saved."),window.location.reload()}catch(c){alert(c.message)}},className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{name:"zoomAccountId",placeholder:"Account ID",className:"text-sm border-zinc-300 rounded px-3 py-2",defaultValue:t.zoomCredentials?.accountId||""}),e.jsx("input",{name:"zoomClientId",placeholder:"Client ID",className:"text-sm border-zinc-300 rounded px-3 py-2",defaultValue:t.zoomCredentials?.clientId||""}),e.jsx("input",{name:"zoomClientSecret",type:"password",placeholder:"Client Secret",className:"text-sm border-zinc-300 rounded px-3 py-2"}),e.jsx("div",{className:"md:col-span-3",children:e.jsx("button",{type:"submit",className:"text-xs bg-white border border-zinc-300 hover:bg-zinc-50 px-3 py-2 rounded font-medium",children:"Save Zoom Config"})})]})]})]})]}),e.jsx(x,{to:`/studio/${t.slug}/settings/billing`,className:"block bg-white border border-zinc-200 rounded-lg p-6 shadow-sm mb-8 hover:border-blue-300 transition-colors group",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold group-hover:text-blue-600 transition-colors",children:"Billing & Subscription"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Manage your plan, payment methods, and view usage."})]}),e.jsx("div",{className:"bg-zinc-100 p-2 rounded-full group-hover:bg-blue-50 group-hover:text-blue-600 transition-colors",children:e.jsx(u,{className:"h-5 w-5"})})]})}),e.jsxs("div",{className:"bg-white border border-zinc-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Locations"}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-800",children:[e.jsx($,{className:"h-4 w-4"}),"Add Location"]})]}),S&&e.jsxs("div",{className:"bg-zinc-50 border border-zinc-200 rounded p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"New Location"}),e.jsxs(y,{method:"post",onSubmit:()=>d(!1),children:[e.jsx("input",{type:"hidden",name:"intent",value:"create_location"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Name"}),e.jsx("input",{name:"name",required:!0,placeholder:"e.g. Main Studio",className:"w-full text-sm border-zinc-300 rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-zinc-500 mb-1",children:"Address (Optional)"}),e.jsx("input",{name:"address",placeholder:"123 Yoga St",className:"w-full text-sm border-zinc-300 rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-3 py-1.5 text-xs border border-zinc-300 rounded hover:bg-zinc-100",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save Location"})]})]})]}),e.jsx("div",{className:"space-y-3",children:b.length===0?e.jsx("div",{className:"text-center py-8 text-zinc-500 text-sm italic",children:"No locations added yet."}):b.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-zinc-100 rounded hover:bg-zinc-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1 p-2 bg-blue-50 text-blue-600 rounded",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-zinc-900",children:s.name}),s.address&&e.jsx("div",{className:"text-sm text-zinc-500",children:s.address})]})]}),e.jsxs(y,{method:"post",onSubmit:n=>{confirm("Delete this location?")||n.preventDefault()},children:[e.jsx("input",{type:"hidden",name:"intent",value:"delete_location"}),e.jsx("input",{type:"hidden",name:"id",value:s.id}),e.jsx("button",{className:"text-zinc-400 hover:text-red-600 p-2 rounded hover:bg-zinc-100",children:e.jsx(J,{className:"h-4 w-4"})})]})]},s.id))})]}),e.jsx(x,{to:`/studio/${t.slug}/settings/import`,className:"block bg-white border border-zinc-200 rounded-lg p-6 shadow-sm mb-8 hover:border-blue-300 transition-colors group",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold group-hover:text-blue-600 transition-colors",children:"Data Import"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Migrate users and memberships from CSV."})]}),e.jsx("div",{className:"bg-zinc-100 p-2 rounded-full group-hover:bg-blue-50 group-hover:text-blue-600 transition-colors",children:e.jsx(K,{className:"h-5 w-5"})})]})}),e.jsx(x,{to:`/studio/${t.slug}/settings/domain`,className:"block bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-lg p-6 shadow-sm mb-8 hover:border-purple-300 transition-colors group",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold dark:text-zinc-100 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:"Custom Domain"}),e.jsxs("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:["Connect your own website domain (e.g. studio.com). ",e.jsx("span",{className:"inline-block bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-[10px] px-1.5 py-0.5 rounded ml-2 uppercase font-bold tracking-wider",children:"Scale"})]})]}),e.jsx("div",{className:"bg-zinc-100 dark:bg-zinc-800 p-2 rounded-full group-hover:bg-purple-50 dark:group-hover:bg-purple-900/30 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:e.jsx(B,{className:"h-5 w-5"})})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-8 shadow-2xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Order BBPOS WisePOS E"}),e.jsx("p",{className:"text-sm text-zinc-500 mb-6",children:"Connect your Stripe account to the physical world with a pre-certified card reader. $249/unit."}),e.jsx("div",{className:"bg-zinc-50 p-4 rounded-xl mb-6 flex justify-center",children:e.jsx(u,{size:48,className:"text-zinc-300"})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-3 font-bold text-zinc-500 hover:bg-zinc-100 rounded-xl",children:"Cancel"}),e.jsxs("button",{onClick:A,className:"flex-1 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(X,{size:16})," Place Order"]})]})]})})]})});export{ce as default};
