import{w as z,u as k,f as C,F as w}from"./chunk-EPOLDU6W-BNyyBaiR.js";import{j as e}from"./vendor-puck-aUaaDwmz.js";import{a as i}from"./vendor-livekit-D3VpklN2.js";import{C as S}from"./Dialogs-C3BiSLFk.js";import{t as P}from"./index-BFgzoDOP.js";import{M as g}from"./map-pin-B0MbiE_s.js";import{P as M}from"./plus-Cj1r96us.js";import{c as A}from"./createLucideIcon-CcD9UNCP.js";import{S as v}from"./star-BKxM4wCu.js";import{C as D}from"./clock-BEkBHqHW.js";import{P as L}from"./phone-C8i6dWaH.js";import{S as T}from"./square-pen-BBE3RPrz.js";import{T as I}from"./trash-2-BHPWr9eo.js";import{X as E}from"./x-Cbj0htte.js";import"./Modal-RrMUvIY-.js";const _=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],F=A("building",_),ee=z(function(){const{locations:r}=k(),x=C(),[a,d]=i.useState(null),[h,l]=i.useState(!1),[c,o]=i.useState(null),p=s=>{o(s)},b=()=>{c&&(x({intent:"delete",id:c},{method:"post"}),o(null),P.success("Location deleted"))};return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50",children:[e.jsx("header",{className:"bg-white border-b border-zinc-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded-lg text-white",children:e.jsx(g,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900",children:"Locations"}),e.jsxs("p",{className:"text-sm text-zinc-500",children:[r.length," location",r.length!==1?"s":""]})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-zinc-900 text-white rounded-lg text-sm font-medium hover:bg-zinc-800 flex items-center gap-2",children:[e.jsx(M,{size:16})," Add Location"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?e.jsxs("div",{className:"text-center py-20 text-zinc-500",children:[e.jsx(F,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No locations configured"}),e.jsx("button",{onClick:()=>l(!0),className:"mt-4 text-sm text-zinc-900 underline",children:"Add your first location"})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx("div",{className:`bg-white rounded-xl border ${s.isPrimary?"border-amber-300 ring-2 ring-amber-100":"border-zinc-200"} p-5`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s.isPrimary?"bg-amber-100":"bg-zinc-100"}`,children:e.jsx(g,{size:24,className:s.isPrimary?"text-amber-600":"text-zinc-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-zinc-900",children:s.name}),s.isPrimary&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(v,{size:10})," Primary"]}),!s.isActive&&e.jsx("span",{className:"px-2 py-0.5 bg-zinc-100 text-zinc-500 rounded-full text-xs font-medium",children:"Inactive"})]}),s.address&&e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:s.address}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-zinc-400",children:[s.timezone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{size:12})," ",s.timezone]}),s.settings?.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{size:12})," ",s.settings.phone]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s.isPrimary&&e.jsxs(w,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"set-primary"}),e.jsx("input",{type:"hidden",name:"id",value:s.id}),e.jsx("button",{type:"submit",className:"p-2 hover:bg-amber-50 rounded-lg text-amber-600",title:"Set as primary",children:e.jsx(v,{size:16})})]}),e.jsx("button",{onClick:()=>d(s),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(T,{size:16})}),e.jsx("button",{onClick:()=>p(s.id),className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:e.jsx(I,{size:16})})]})]})},s.id))})}),(a||h)&&e.jsx(U,{location:a,onClose:()=>{d(null),l(!1)},onSave:s=>{const m=new FormData;m.append("intent",a?"update":"create"),a&&m.append("id",a.id),Object.entries(s).forEach(([u,f])=>{m.append(u,String(f))}),x(m,{method:"post"}),d(null),l(!1)}}),e.jsx(S,{isOpen:!!c,onClose:()=>o(null),onConfirm:b,title:"Delete Location",message:"Are you sure you want to delete this location? This action cannot be undone.",confirmText:"Delete",isDestructive:!0})]})});function U({location:n,onClose:r,onSave:x}){const[a,d]=i.useState(n?.name||""),[h,l]=i.useState(n?.address||""),[c,o]=i.useState(n?.timezone||"UTC"),[p,b]=i.useState(n?.settings?.phone||""),[s,m]=i.useState(n?.settings?.hours||""),[u,f]=i.useState(n?.isPrimary||!1),[j,y]=i.useState(n?.isActive!==!1),N=t=>{t.preventDefault(),x({name:a,address:h,timezone:c,phone:p,hours:s,isPrimary:u,isActive:j})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold",children:n?"Edit Location":"New Location"}),e.jsx("button",{onClick:r,children:e.jsx(E,{size:20,className:"text-zinc-400 hover:text-zinc-600"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",required:!0,value:a,onChange:t=>d(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",placeholder:"Main Studio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:h,onChange:t=>l(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",placeholder:"123 Main St, City, State"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Timezone"}),e.jsxs("select",{value:c,onChange:t=>o(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"Eastern"}),e.jsx("option",{value:"America/Chicago",children:"Central"}),e.jsx("option",{value:"America/Denver",children:"Mountain"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:p,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:t=>f(t.target.checked),className:"w-4 h-4"}),"Primary location"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:t=>y(t.target.checked),className:"w-4 h-4"}),"Active"]})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-zinc-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-zinc-900 text-white rounded-lg hover:bg-zinc-800",children:"Save"})]})]})]})})}export{ee as default};
