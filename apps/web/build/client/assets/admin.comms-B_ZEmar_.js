import{w as c,k as o,u as l,l as x,m,L as h}from"./chunk-JMJ3UQ3L-DIHTCPR9.js";import{j as e}from"./vendor-puck-EFhZVjRu.js";import{M as p}from"./mail-BVU9VLVw.js";import{M as b}from"./message-square-DXFYk9Nj.js";import{Z as z}from"./zap-CpdSyYPf.js";import{T as u}from"./triangle-alert-CAr0UhK4.js";import"./vendor-sentry-BD1MTpLq.js";import"./createLucideIcon-DgXJrNmH.js";const E=c(function(){const{data:t}=l(),{totals:a,tenants:i}=t;return e.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:"Communications"}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"System-wide Email & SMS usage and automation tracking."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full",children:e.jsx(p,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Total Emails"}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:a.email.toLocaleString()})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-full",children:e.jsx(b,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:"Total SMS"}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100",children:a.sms.toLocaleString()})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50",children:e.jsx("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Tenant Usage & Automations"})}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-zinc-50 dark:bg-zinc-900/50 border-b border-zinc-200 dark:border-zinc-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"Emails"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"SMS"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Active Automations"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100 dark:divide-zinc-800",children:[i.map(s=>e.jsxs("tr",{className:"hover:bg-zinc-50 dark:hover:bg-zinc-800/50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:s.name}),e.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono",children:s.slug})]}),e.jsx("td",{className:"px-6 py-4 text-right font-mono text-zinc-700 dark:text-zinc-300",children:s.emailCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right font-mono text-zinc-700 dark:text-zinc-300",children:s.smsCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4",children:s.automations.length===0?e.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 italic",children:"None active"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:s.automations.map((n,d)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 text-xs border border-zinc-200 dark:border-zinc-700",children:[e.jsx(z,{size:10,className:"mr-1 text-amber-500"}),g(n.type)]},d))})})]},s.id)),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-zinc-500",children:"No data available"})})]})]})]})]})});function g(r){return r.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}const T=o(function(){const t=x();return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-red-600 p-4",children:[e.jsx(u,{size:48,className:"mb-4"}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Failed to load Communications Dashboard"}),e.jsx("p",{className:"text-sm text-zinc-600 mb-4",children:m(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:"Unknown Error"}),e.jsx(h,{to:"/admin",className:"text-blue-600 hover:underline",children:"Return to Admin Dashboard"})]})});export{T as ErrorBoundary,E as default};
