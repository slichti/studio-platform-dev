import{r as i,w as Pt}from"./chunk-EPOLDU6W-mFdHVWdG.js";import{j as n}from"./jsx-runtime-u17CrQMm.js";import{T as At}from"./trending-up-CQiTy74m.js";import{Z as St}from"./zap-DavihE8l.js";import{I as Et}from"./info-CLRYdh_w.js";import{c as A,p as J,a as Ot,i as wt,s as $,b as Nt,d as Ct,e as qe,f as Rt,g as It,h as K,j as Mt,k as Tt,l as kt,m as Dt,n as Ze,o as _t,q as zt,r as Lt,t as Kt,u as Gt,v as $t,w as Ye,x as Bt,y as ce,z as Vt,A as Ft,B as Wt,C as Ae,D as He,R as Ut,S as qt,E as Qe,F as Xe,G as Q,H as Zt,I as Se,L as q,Z as Je,J as Yt,K as Ht,M as Qt,N as Xt,O as ke,P as De,Q as oe,T as je,U as Jt,V as ea,W as ta,X as aa,Y as ra,_ as na,$ as sa,a0 as ia,a1 as la,a2 as oa,a3 as X,a4 as _e,a5 as ca,a6 as da,a7 as ua,a8 as ma,a9 as pa,aa as va,ab as fa,ac as xa,ad as ha,ae as ge,af as ze,ag as Le,ah as Ke,ai as Ge,aj as be,ak as ye,al as ga}from"./AreaChart-BEIZHYHq.js";import{A as ba}from"./activity-o8eyQMZY.js";import"./createLucideIcon-DI_cxpme.js";import"./index-Co5n-02Y.js";import"./with-selector-BCSoLDBv.js";import"./with-selector-UHDedquC.js";import"./index-7ERyFhN8.js";var de=e=>null;de.displayName="Cell";var et=e=>e.graphicalItems.polarItems,ya=A([J,Ot],wt),ue=A([et,$,ya],Nt),ja=A([ue],Ct),me=A([ja,qe],Rt),Pa=A([me,$,ue],It);A([me,$,ue],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,o=K(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:K(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var $e=()=>{},Aa=A([me,$,ue,Mt,J],Tt),Sa=A([$,kt,Dt,$e,Aa,$e,Ze,J],_t),tt=A([$,Ze,me,Pa,zt,J,Sa],Lt),Ea=A([tt,$,Kt],Gt);A([$,tt,Ea,J],$t);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(a),!0).forEach(function(r){Oa(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Oa(e,t,a){return(t=wa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wa(e){var t=Na(e,"string");return typeof t=="symbol"?t:t+""}function Na(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ca=(e,t)=>t,Ee=A([et,Ca],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Ra=[],Oe=(e,t,a)=>a?.length===0?Ra:a,at=A([qe,Ee,Oe],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>Ve(Ve({},t.presentationProps),l.props))),s!=null)return s}}),Ia=A([at,Ee,Oe],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,o=K(r,t.nameKey,t.name),c;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?c=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=t.fill,{value:Ye(o,t.dataKey),color:c,payload:r,type:t.legendType}})}),Ma=A([at,Ee,Oe,Bt],(e,t,a,r)=>{if(!(t==null||e==null))return ar({offset:r,pieSettings:t,displayedData:e,cells:a})}),Ta=(e,t,a)=>{var r=ce();return(s,l)=>o=>{e?.(s,l,o),r(Vt({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},ka=e=>{var t=ce();return(a,r)=>s=>{e?.(a,r,s),t(Ft())}},Da=(e,t,a)=>{var r=ce();return(s,l)=>o=>{e?.(s,l,o),r(Wt({activeIndex:String(l),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},_a=["key"],za=["onMouseEnter","onClick","onMouseLeave"],La=["id"],Ka=["id"];function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(a),!0).forEach(function(r){Ga(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ga(e,t,a){return(t=$a(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $a(e){var t=Ba(e,"string");return typeof t=="symbol"?t:t+""}function Ba(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(null,arguments)}function pe(e,t){if(e==null)return{};var a,r,s=Va(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Va(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Fa(e){var t=i.useMemo(()=>Xe(e.children,de),[e.children]),a=Q(r=>Ia(r,e.id,t));return a==null?null:i.createElement(Zt,{legendPayload:a})}var Wa=i.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:o,name:c,hide:x,tooltipType:p,id:j}=e,f={dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:o,dataKey:t,nameKey:a,name:Ye(c,t),hide:x,type:p,color:o,unit:"",graphicalItemId:j}};return i.createElement(Yt,{tooltipEntrySettings:f})}),Ua=(e,t)=>e>t?"start":e<t?"end":"middle",qa=(e,t,a)=>typeof t=="function"?X(t(e),a,a*.8):X(t,a,a*.8),Za=(e,t,a)=>{var{top:r,left:s,width:l,height:o}=t,c=oa(l,o),x=s+X(e.cx,l,l/2),p=r+X(e.cy,o,o/2),j=X(e.innerRadius,c,0),f=qa(a,e.outerRadius,c),d=e.maxRadius||Math.sqrt(l*l+o*o)/2;return{cx:x,cy:p,innerRadius:j,outerRadius:f,maxRadius:d}},Ya=(e,t)=>{var a=oe(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function Ha(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Qa=(e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Se("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,s=pe(t,_a);return i.createElement(ca,G({},s,{type:"linear",className:a}))},Xa=(e,t,a)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),i.isValidElement(r)))return r;var s=Se("recharts-pie-label-text",Ha(e));return i.createElement(da,G({},t,{alignmentBaseline:"middle",className:s}),r)};function Ja(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:o}=a;if(!r||!s||!t)return null;var c=He(a),x=_e(s),p=_e(l),j=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,f=t.map((d,b)=>{var w=(d.startAngle+d.endAngle)/2,y=je(d.cx,d.cy,d.outerRadius+j,w),N=v(v(v(v({},c),d),{},{stroke:"none"},x),{},{index:b,textAnchor:Ua(y.x,d.cx)},y),m=v(v(v(v({},c),d),{},{fill:"none",stroke:d.fill},p),{},{index:b,points:[je(d.cx,d.cy,d.outerRadius,w),y],key:"line"});return i.createElement(Je,{zIndex:Qe.label,key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(b)},i.createElement(q,null,l&&Qa(l,m),Xa(s,N,K(d,o))))});return i.createElement(q,{className:"recharts-pie-labels"},f)}function er(e){var{sectors:t,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?i.createElement(la,{label:s}):i.createElement(Ja,{sectors:t,props:a,showLabels:r})}function tr(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:l,id:o}=e,c=Q(ea),x=Q(ta),p=Q(aa),{onMouseEnter:j,onClick:f,onMouseLeave:d}=s,b=pe(s,za),w=Ta(j,s.dataKey,o),y=ka(d),N=Da(f,s.dataKey,o);return t==null||t.length===0?null:i.createElement(i.Fragment,null,t.map((m,S)=>{if(m?.startAngle===0&&m?.endAngle===0&&t.length!==1)return null;var I=p==null||p===o,C=String(S)===c&&(x==null||s.dataKey===x)&&I,O=c?r:null,h=a&&C?a:O,g=v(v({},m),{},{stroke:m.stroke,tabIndex:-1,[na]:S,[ra]:o});return i.createElement(q,G({key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},sa(b,m,S),{onMouseEnter:w(m,S),onMouseLeave:y(m,S),onClick:N(m,S)}),i.createElement(ia,G({option:l??h,index:S,shapeType:"sector",isActive:C},g)))}))}function ar(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:o,startAngle:c,endAngle:x,dataKey:p,nameKey:j,tooltipType:f}=a,d=Math.abs(a.minAngle),b=Ya(c,x),w=Math.abs(b),y=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,N=r.filter(h=>K(h,p,0)!==0).length,m=(w>=360?N:N-1)*y,S=w-N*d-m,I=r.reduce((h,g)=>{var E=K(g,p,0);return h+(De(E)?E:0)},0),C;if(I>0){var O;C=r.map((h,g)=>{var E=K(h,p,0),T=K(h,j,g),R=Za(a,l,h),z=(De(E)?E:0)/I,k,D=v(v({},h),s&&s[g]&&s[g].props);g?k=O.endAngle+oe(b)*y*(E!==0?1:0):k=c;var U=k+oe(b)*((E!==0?d:0)+z*S),L=(k+U)/2,B=(R.innerRadius+R.outerRadius)/2,Z=[{name:T,value:E,payload:D,dataKey:p,type:f,graphicalItemId:a.id}],ve=je(R.cx,R.cy,B,L);return O=v(v(v(v({},a.presentationProps),{},{percent:z,cornerRadius:typeof o=="string"?parseFloat(o):o,name:T,tooltipPayload:Z,midAngle:L,middleRadius:B,tooltipPosition:ve},D),R),{},{value:E,dataKey:p,startAngle:k,endAngle:U,payload:D,paddingAngle:oe(b)*y}),O})}return C}function rr(e){var{showLabels:t,sectors:a,children:r}=e,s=i.useMemo(()=>!t||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,t]);return i.createElement(Jt,{value:t?s:void 0},r)}function nr(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:l,animationBegin:o,animationDuration:c,animationEasing:x,activeShape:p,inactiveShape:j,onAnimationStart:f,onAnimationEnd:d}=t,b=Ht(t,"recharts-pie-"),w=a.current,[y,N]=i.useState(!1),m=i.useCallback(()=>{typeof d=="function"&&d(),N(!1)},[d]),S=i.useCallback(()=>{typeof f=="function"&&f(),N(!0)},[f]);return i.createElement(rr,{showLabels:!y,sectors:s},i.createElement(Qt,{animationId:b,begin:o,duration:c,isActive:l,easing:x,onAnimationStart:S,onAnimationEnd:m,key:b},I=>{var C=[],O=s&&s[0],h=O?.startAngle;return s?.forEach((g,E)=>{var T=w&&w[E],R=E>0?Xt(g,"paddingAngle",0):0;if(T){var z=ke(T.endAngle-T.startAngle,g.endAngle-g.startAngle,I),k=v(v({},g),{},{startAngle:h+R,endAngle:h+z+R});C.push(k),h=k.endAngle}else{var{endAngle:D,startAngle:U}=g,L=ke(0,D-U,I),B=v(v({},g),{},{startAngle:h+R,endAngle:h+L+R});C.push(B),h=B.endAngle}}),a.current=C,i.createElement(q,null,i.createElement(tr,{sectors:C,activeShape:p,inactiveShape:j,allOtherPieProps:t,shape:t.shape,id:r}))}),i.createElement(er,{showLabels:!y,sectors:s,props:t}),t.children)}var sr={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Qe.area};function ir(e){var{id:t}=e,a=pe(e,La),{hide:r,className:s,rootTabIndex:l}=e,o=i.useMemo(()=>Xe(e.children,de),[e.children]),c=Q(j=>Ma(j,t,o)),x=i.useRef(null),p=Se("recharts-pie",s);return r||c==null?(x.current=null,i.createElement(q,{tabIndex:l,className:p})):i.createElement(Je,{zIndex:e.zIndex},i.createElement(Wa,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),i.createElement(q,{tabIndex:l,className:p},i.createElement(nr,{props:v(v({},a),{},{sectors:c}),previousSectorsRef:x,id:t})))}function rt(e){var t=Ae(e,sr),{id:a}=t,r=pe(t,Ka),s=He(r);return i.createElement(Ut,{id:a,type:"pie"},l=>i.createElement(i.Fragment,null,i.createElement(qt,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),i.createElement(Fa,G({},r,{id:l})),i.createElement(ir,G({},r,{id:l}))))}rt.displayName="Pie";function lr(e){var t=ce();return i.useEffect(()=>{t(ua(e))},[t,e]),null}var or=["layout"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pe.apply(null,arguments)}function cr(e,t){if(e==null)return{};var a,r,s=dr(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function dr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ur={top:5,right:5,bottom:5,left:5},nt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ur,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mr=i.forwardRef(function(t,a){var r,s=Ae(t.categoricalChartProps,nt),{layout:l}=s,o=cr(s,or),{chartName:c,defaultTooltipEventType:x,validateTooltipEventTypes:p,tooltipPayloadSearcher:j}=t,f={chartName:c,defaultTooltipEventType:x,validateTooltipEventTypes:p,tooltipPayloadSearcher:j,eventEmitter:void 0};return i.createElement(ma,{preloadedState:{options:f},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:c},i.createElement(pa,{chartData:s.data}),i.createElement(va,{layout:l,margin:s.margin}),i.createElement(fa,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),i.createElement(lr,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),i.createElement(xa,Pe({},o,{ref:a})))});function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(r){pr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function pr(e,t,a){return(t=vr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vr(e){var t=fr(e,"string");return typeof t=="symbol"?t:t+""}function fr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xr=["item"],hr=Ue(Ue({},nt),{},{layout:"centric",startAngle:0,endAngle:360}),gr=i.forwardRef((e,t)=>{var a=Ae(e,hr);return i.createElement(mr,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xr,tooltipPayloadSearcher:ha,categoricalChartProps:a,ref:t})});const Mr=Pt(function(){const[t,a]=i.useState(50),[r,s]=i.useState(5),[l,o]=i.useState(29),[c,x]=i.useState(79),[p,j]=i.useState(149),[f,d]=i.useState(60),[b,w]=i.useState(30),[y,N]=i.useState(5e3),[m,S]=i.useState(1),[I,C]=i.useState(60),[O,h]=i.useState(40),[g,E]=i.useState(30),[T,R]=i.useState(5e5),[z,k]=i.useState(10),[D,U]=i.useState(100),[L,B]=i.useState(3),[Z,ve]=i.useState(2500),[fe,st]=i.useState(200),[ee,it]=i.useState(!0),[Y,lt]=i.useState(!0),[te,ot]=i.useState(!0),[H,ct]=i.useState(!0),[V,dt]=i.useState(!1),F={WORKERS_REQ_PRICE:.3/1e6,WORKERS_BASE:5,R2_STORAGE_GB:.015,STREAM_STORAGE_MIN:.005,STREAM_DELIVERY_MIN:.001,EMAIL_COST:6e-4,SMS_COST:.0079},we=Math.max(0,100-f-b),xe=(l*f+c*b+p*we)/100,ae=i.useMemo(()=>{const u=[];let M=t;const mt=V?20:r;for(let he=0;he<12;he++){const pt=M*xe,vt=M*y*(m/100),ne=pt+vt,Ne=te?Math.max(F.WORKERS_BASE,M*T*F.WORKERS_REQ_PRICE):0,Ce=ee?M*z*F.R2_STORAGE_GB:0,Re=Y?M*(D*F.STREAM_STORAGE_MIN+D*L*F.STREAM_DELIVERY_MIN):0,Ie=H?M*(Z*F.EMAIL_COST+fe*F.SMS_COST):0,Me=Ne+Ce+Re+Ie,Te=ne-Me,ft=ne>0?Te/ne*100:0,xt=y,ht=y*.029,gt=xe,bt=I*((100-O)/100)*g,yt=ht+gt+bt,jt=xt-yt;u.push({name:`Month ${he+1}`,tenants:Math.round(M),revenue:ne,infraCost:Me,profit:Te,workerCost:Ne,r2Cost:Ce,streamCost:Re,commsCost:Ie,margin:ft,tenantNet:jt}),M=M*(1+mt/100)}return u},[t,y,m,r,l,c,p,f,b,z,D,L,T,Z,fe,ee,Y,te,H,V,I,O,g]),_=ae[11],ut=_.revenue*12;ae.find(u=>u.profit>0)?.name;const re=[{name:"Workers",value:_.workerCost,color:"#F59E0B"},{name:"R2 Storage",value:_.r2Cost,color:"#3B82F6"},{name:"Stream",value:_.streamCost,color:"#EF4444"},{name:"Comms",value:_.commsCost,color:"#10B981"}].filter(u=>u.value>0),W=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(u);return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 tracking-tight flex items-center gap-2",children:[n.jsx(At,{className:"text-indigo-600"}),"Platform Projections"]}),n.jsx("p",{className:"text-zinc-500 mt-1",children:"SaaS margins and Unit Economics simulator."})]}),n.jsxs("button",{onClick:()=>dt(!V),className:`px-4 py-2 rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2
                        ${V?"bg-purple-600 text-white shadow-purple-500/50 scale-105 animate-pulse":"bg-white text-zinc-700 border border-zinc-200 hover:bg-zinc-50"}`,children:[n.jsx(St,{size:16,className:V?"fill-current":""}),V?"VIRAL MODE ACTIVE":"Activate Viral Mode"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(se,{label:"Proj. Annual Revenue (ARR)",value:W(ut),sub:`End of Year 1 (${Math.round(_.tenants)} Tenants)`,color:"text-emerald-600"}),n.jsx(se,{label:"Monthly Profit (Month 12)",value:W(_.profit),sub:`${_.margin.toFixed(1)}% Margin`,color:_.profit>0?"text-indigo-600":"text-red-600"}),n.jsx(se,{label:"Avg Revenue Per Tenant",value:W(xe),sub:"Weighted Avg (Mix)",color:"text-zinc-900"}),n.jsx(se,{label:"Avg Tenant Net (Monthly)",value:W(_.tenantNet),sub:"After Fees & Expenses",color:"text-amber-600"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ie,{title:"Growth & Revenue",children:[n.jsx(P,{label:"Starting Tenants",val:t,set:a,min:0,max:1e3,step:10}),n.jsx(P,{label:"Growth Rate (%)",val:r,set:s,min:0,max:100,disabled:V}),n.jsx(P,{label:"Avg Monthly GMV ($)",val:y,set:N,min:0,max:5e4,step:500}),n.jsx(P,{label:"Platform Fee (%)",val:m,set:S,min:0,max:10,step:.1})]}),n.jsxs(ie,{title:"Pricing Strategy",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-xs font-medium text-zinc-500",children:[n.jsx("div",{children:"Basic"}),n.jsx("div",{children:"Growth"}),n.jsx("div",{children:"Scale"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[n.jsx("input",{type:"number",value:l,onChange:u=>o(Number(u.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"}),n.jsx("input",{type:"number",value:c,onChange:u=>x(Number(u.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"}),n.jsx("input",{type:"number",value:p,onChange:u=>j(Number(u.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"})]}),n.jsx("label",{className:"text-xs font-bold text-zinc-900 uppercase",children:"Tier Mix"}),n.jsx(P,{label:"Basic %",val:f,set:d,min:0,max:100}),n.jsx(P,{label:"Growth %",val:b,set:w,min:0,max:100}),n.jsxs("div",{className:"flex justify-between items-center text-sm py-2 px-3 bg-zinc-50 rounded border border-zinc-100 mt-2",children:[n.jsx("span",{className:"text-zinc-500",children:"Scale % (Remainder)"}),n.jsxs("span",{className:"font-mono font-bold",children:[we,"%"]})]})]}),n.jsxs(ie,{title:"Tenant Economics",children:[n.jsx(P,{label:"Classes / Month",val:I,set:C,min:0,max:300}),n.jsx(P,{label:"Instructor Hourly ($)",val:g,set:E,min:15,max:100}),n.jsx(P,{label:"Owner Taught %",val:O,set:h,min:0,max:100})]}),n.jsxs(ie,{title:"Infrastructure Costs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[n.jsx(le,{label:"Workers",checked:te,set:ot}),n.jsx(le,{label:"R2 Storage",checked:ee,set:it}),n.jsx(le,{label:"Stream VOD",checked:Y,set:lt}),n.jsx(le,{label:"Email/SMS",checked:H,set:ct})]}),n.jsx(P,{label:"Requests (M)",val:T/1e6,set:u=>R(u*1e6),step:.1,min:0,max:50,disabled:!te}),n.jsx(P,{label:"Storage (GB)",val:z,set:k,min:0,max:1e3,disabled:!ee}),n.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 space-y-4",children:[n.jsx("h4",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide mb-2",children:"Streaming"}),n.jsx(P,{label:"Mins Stored",val:D,set:U,min:0,max:5e3,disabled:!Y}),n.jsx(P,{label:"Viewers/Min",val:L,set:B,min:1,max:50,disabled:!Y})]}),n.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 space-y-4",children:[n.jsx("h4",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide mb-2",children:"Communications"}),n.jsx(P,{label:"Emails / Mo",val:Z,set:ve,min:0,max:5e4,step:100,disabled:!H}),n.jsx(P,{label:"SMS / Mo",val:fe,set:st,min:0,max:5e3,step:50,disabled:!H})]})]}),n.jsxs("div",{className:"bg-blue-50 text-blue-800 p-4 rounded-xl text-sm opacity-80",children:[n.jsxs("p",{className:"flex items-center gap-2 font-bold mb-1",children:[n.jsx(Et,{size:14})," Unit Costs:"]}),n.jsxs("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs list-disc list-inside",children:[n.jsx("li",{children:"Request: $0.30 / M"}),n.jsx("li",{children:"R2: $0.015 / GB"}),n.jsx("li",{children:"Stream Store: $0.005"}),n.jsx("li",{children:"Stream View: $0.001"}),n.jsx("li",{children:"Email: $0.60 / k"}),n.jsx("li",{children:"SMS: $0.0079 / msg"})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[400px]",children:[n.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Projected Profit vs. Cost"}),n.jsx(ge,{width:"100%",height:"100%",children:n.jsxs(ze,{data:ae,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),n.jsx(Le,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),n.jsx(Ke,{dataKey:"name",fontSize:12,stroke:"#71717A"}),n.jsx(Ge,{fontSize:12,stroke:"#71717A",tickFormatter:u=>`$${u/1e3}k`}),n.jsx(be,{formatter:u=>W(Number(u)||0),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),n.jsx(ye,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),n.jsx(ye,{type:"monotone",dataKey:"infraCost",stroke:"#EF4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorCost)",name:"Infra Cost"}),n.jsx(ga,{y:0,stroke:"#000"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[300px] flex flex-col",children:[n.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Infra Cost Breakdown"}),re.length>0?n.jsxs("div",{className:"flex-1 flex text-xs",children:[n.jsx(ge,{width:"60%",children:n.jsxs(gr,{children:[n.jsx(rt,{data:re,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:re.map((u,M)=>n.jsx(de,{fill:u.color},`cell-${M}`))}),n.jsx(be,{formatter:u=>W(Number(u)||0)})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-2",children:re.map(u=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),n.jsx("span",{children:u.name})]},u.name))})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-400",children:"No Costs Selected"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[300px]",children:[n.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Avg Tenant Profit History"}),n.jsx(ge,{width:"100%",height:"100%",children:n.jsxs(ze,{data:ae,children:[n.jsx(Le,{strokeDasharray:"3 3",vertical:!1}),n.jsx(Ke,{dataKey:"name",hide:!0}),n.jsx(Ge,{hide:!0}),n.jsx(be,{formatter:u=>W(Number(u)||0)}),n.jsx(ye,{type:"monotone",dataKey:"tenantNet",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:3})]})}),n.jsx("p",{className:"text-xs text-zinc-400 text-center mt-2",children:"* Simulates single studio profit after fees & payroll"})]})]})]})]})]})});function se({label:e,value:t,sub:a,color:r}){return n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm",children:[n.jsx("h4",{className:"text-sm font-medium text-zinc-500 mb-1",children:e}),n.jsx("div",{className:`text-3xl font-bold tracking-tight ${r}`,children:t}),n.jsx("div",{className:"text-xs text-zinc-400 mt-2",children:a})]})}function ie({title:e,children:t}){return n.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm",children:[n.jsxs("h3",{className:"font-bold text-zinc-900 mb-6 flex items-center gap-2",children:[n.jsx(ba,{size:18,className:"text-zinc-400"}),e]}),n.jsx("div",{className:"space-y-4",children:t})]})}function P({label:e,val:t,set:a,step:r=1,min:s=0,max:l=100,disabled:o}){return n.jsxs("div",{className:`space-y-2 ${o?"opacity-50 pointer-events-none":""}`,children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"text-sm font-medium text-zinc-700",children:e}),n.jsx("input",{type:"number",step:r,value:t,onChange:c=>a(parseFloat(c.target.value)||0),className:"w-24 text-right px-2 py-1 border border-zinc-300 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-mono","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",autoComplete:"off",name:`field_stat_${Math.floor(Math.random()*1e4)}`,id:`field_stat_${Math.floor(Math.random()*1e4)}`})]}),n.jsx("input",{type:"range",min:s,max:l,step:r,value:t,onChange:c=>a(parseFloat(c.target.value)||0),className:"w-full accent-indigo-600 h-1.5 bg-zinc-200 rounded-lg appearance-none cursor-pointer"})]})}function le({label:e,checked:t,set:a}){return n.jsxs("button",{onClick:()=>a(!t),className:`flex items-center justify-between p-2 rounded-lg border transition-all w-full text-xs ${t?"bg-indigo-50 border-indigo-200 text-indigo-900":"bg-white border-zinc-200 text-zinc-500"}`,children:[n.jsx("span",{className:"font-medium",children:e}),n.jsx("div",{className:`w-6 h-3 rounded-full relative transition-colors ${t?"bg-indigo-500":"bg-zinc-300"}`,children:n.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-transform ${t?"left-3.5":"left-0.5"}`})})]})}export{Mr as default};
