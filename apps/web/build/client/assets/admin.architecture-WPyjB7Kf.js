import{w as m,c as b,h as p,r as h}from"./chunk-JMJ3UQ3L-Cjm2z498.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{R as j}from"./refresh-cw-Cq58Fumf.js";import{G as o}from"./globe-Bgvo--VR.js";import{c as x}from"./createLucideIcon-DkPcMMCg.js";import{S as g}from"./shield-A-2rOIlb.js";import{C as u}from"./credit-card-CG5JFpUP.js";import{C as f}from"./calendar-Dw0bVI2s.js";import{D as v}from"./database-Bb0VeQsc.js";import{B as z}from"./box-BUStSxIa.js";const N=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],w=x("layers",N);const y=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],k=x("panels-top-left",y),c=({title:l,sub:i,icon:a,color:s,status:n="online",items:t})=>e.jsxs("div",{className:`relative overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900/50 p-6 backdrop-blur-sm transition-all hover:bg-zinc-900/80 hover:border-${s}-500/30 group`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-50",children:e.jsx("div",{className:`w-24 h-24 rounded-full bg-${s}-500/10 blur-2xl -mr-10 -mt-10 transition-all group-hover:bg-${s}-500/20`})}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-zinc-900 border border-zinc-800 text-${s}-400`,children:e.jsx(a,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-zinc-100",children:l}),e.jsx("p",{className:"text-xs text-zinc-500 font-mono",children:i})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/20",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-medium text-emerald-500 uppercase tracking-wide",children:"ON LINE"})]})]}),t&&e.jsx("div",{className:"space-y-2",children:t.map((d,r)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-400",children:[e.jsx("div",{className:`w-1 h-1 rounded-full bg-${s}-500/50`}),d]},r))})]}),A=({width:l="100%"})=>e.jsxs("div",{className:"relative h-4 w-full flex justify-center",children:[e.jsx("div",{className:"absolute top-0 left-1/4 right-1/4 h-px bg-zinc-800"}),e.jsx("div",{className:"absolute top-0 left-1/4 h-4 w-px bg-zinc-800"}),e.jsx("div",{className:"absolute top-0 right-1/4 h-4 w-px bg-zinc-800"}),e.jsx("div",{className:"absolute top-0 left-1/2 h-4 w-px bg-zinc-800 -translate-x-1/2"})]}),E=m(function(){const{stats:i,error:a}=b(),s=p(),[n,t]=h.useState(!1),d=()=>{t(!0),s.revalidate(),setTimeout(()=>t(!1),1e3)};return a?e.jsxs("div",{className:"p-8 text-red-600",children:["Error: ",a]}):e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-200 font-sans selection:bg-indigo-500/30",children:[e.jsxs("div",{className:"bg-white border-b border-zinc-200 px-8 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900",children:"System Architecture"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Microservices overview and communication status"})]}),e.jsx("button",{onClick:d,disabled:n,className:"p-2 text-zinc-400 hover:text-zinc-600 transition-colors rounded-full hover:bg-zinc-100",children:e.jsx(j,{size:20,className:n?"animate-spin":""})})]}),e.jsxs("div",{className:"p-8 pb-32 max-w-[1400px] mx-auto",children:[e.jsxs("div",{className:"flex justify-center gap-6 mb-2",children:[e.jsxs("div",{className:"px-4 py-2 rounded-full border border-zinc-700 bg-zinc-900/50 text-zinc-400 text-sm flex items-center gap-2",children:[e.jsx(o,{size:14})," Web App"]}),e.jsxs("div",{className:"px-4 py-2 rounded-full border border-zinc-700 bg-zinc-900/50 text-zinc-400 text-sm flex items-center gap-2",children:[e.jsx(k,{size:14})," Admin Portal"]}),e.jsxs("div",{className:"px-4 py-2 rounded-full border border-zinc-700 bg-zinc-900/50 text-zinc-400 text-sm flex items-center gap-2",children:[e.jsx(o,{size:14})," Public API"]})]}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("div",{className:"h-8 w-px border-l border-dashed border-zinc-600"})}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 relative",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-0.5 rounded text-[10px] font-bold bg-indigo-600 text-white uppercase tracking-wider shadow-lg shadow-indigo-500/20 z-10",children:"Entrance"}),e.jsxs("div",{className:"rounded-2xl border border-indigo-500/30 bg-zinc-900/80 p-8 text-center relative overflow-hidden backdrop-blur-xl shadow-2xl shadow-indigo-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex flex-col items-center gap-2 relative z-10",children:[e.jsx(w,{className:"text-indigo-400 mb-2",size:32}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"API Gateway"}),e.jsx("span",{className:"font-mono text-zinc-500 text-sm",children:"`packages/api`"}),e.jsx("div",{className:"flex gap-2 mt-4",children:["Routing","Rate Limiting","Auth Context","Observability"].map(r=>e.jsx("span",{className:"px-2 py-1 rounded bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs font-medium",children:r},r))})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsx(A,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto mb-16 px-4",children:[e.jsx(c,{title:"Core API",sub:"apps/core-api",icon:g,color:"emerald",items:["Identity","Tenants","Onboarding","Platform Admin"]}),e.jsx(c,{title:"Commerce API",sub:"apps/commerce-api",icon:u,color:"blue",items:["Billing","Subscriptions","Products","POS","Webhooks"]}),e.jsx(c,{title:"Studio API",sub:"apps/studio-api",icon:f,color:"orange",items:["Classes","Bookings","Members","Waivers","Payroll"]})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"border-t border-zinc-800 pt-8 flex gap-6",children:[e.jsxs("div",{className:"flex-1 rounded-xl border border-dashed border-zinc-800 bg-zinc-900/30 p-4 flex items-center gap-4 hover:border-zinc-700 transition-colors",children:[e.jsx("div",{className:"p-3 bg-zinc-800 rounded-lg text-zinc-400",children:e.jsx(v,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Database"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Cloudflare D1 (SQLite)"})]})]}),e.jsxs("div",{className:"flex-1 rounded-xl border border-dashed border-zinc-800 bg-zinc-900/30 p-4 flex items-center gap-4 hover:border-zinc-700 transition-colors",children:[e.jsx("div",{className:"p-3 bg-zinc-800 rounded-lg text-zinc-400",children:e.jsx(z,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-zinc-200",children:"Shared Lib"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Middleware, Utils, Types"})]})]})]})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-zinc-200 p-6 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-900 mb-4",children:"Gateway Performance"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-50 border border-zinc-100",children:[e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase mb-1",children:"DB Read Latency"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-zinc-900",children:i?.latency?.database_ms||0}),e.jsx("span",{className:"text-sm text-zinc-500",children:"ms"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-50 border border-zinc-100",children:[e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase mb-1",children:"Edge Latency"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-zinc-900",children:i?.latency?.edge_ms||0}),e.jsx("span",{className:"text-sm text-zinc-500",children:"ms"})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-50 border border-zinc-100",children:[e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase mb-1",children:"Worker Region"}),e.jsx("div",{className:"flex items-baseline gap-1",children:e.jsx("span",{className:"text-xl font-bold text-zinc-900",children:i?.worker?.region||"Unknown"})})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-zinc-50 border border-zinc-100",children:[e.jsx("div",{className:"text-xs font-bold text-zinc-400 uppercase mb-1",children:"Memory Used"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold text-zinc-900",children:i?.worker?.memory_used_mb||0}),e.jsx("span",{className:"text-sm text-zinc-500",children:"MB"})]})]})]})]})})]})});export{E as default};
