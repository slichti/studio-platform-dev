import{p,q as u,a as g,j as e,a1 as h,aq as j,ar as D,ag as v,az as f,aD as N}from"./vendor-react-D59Q0YKK.js";import"./vendor-puck-RN2Ey-av.js";import"./vendor-charts-Dp-zC2wb.js";const S=p(function(){const{classes:d,weekStart:o}=u(),n=g.useMemo(()=>{const t=new Date(o),s=t.getDay(),a=new Date(t);return a.setDate(t.getDate()-(s===0?6:s-1)),Array.from({length:7},(i,r)=>{const c=new Date(a);return c.setDate(a.getDate()+r),{date:c.toISOString().split("T")[0],day:c}})},[o]),m=t=>d.filter(s=>new Date(s.startTime).toISOString().split("T")[0]===t).sort((s,a)=>new Date(s.startTime).getTime()-new Date(a.startTime).getTime()),x=t=>new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),l=t=>{const s=new Date(n[0].date);s.setDate(s.getDate()+t*7),window.location.search=`?week=${s.toISOString().split("T")[0]}`};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-xl font-bold text-zinc-900 flex items-center gap-2",children:[e.jsx(h,{size:20})," My Schedule"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(j,{size:18})}),e.jsxs("span",{className:"text-sm font-medium",children:[n[0].day.toLocaleDateString(void 0,{month:"short",day:"numeric"})," - ",n[6].day.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),e.jsx("button",{onClick:()=>l(1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(D,{size:18})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-4",children:n.map(({date:t,day:s})=>{const a=m(t),i=t===new Date().toISOString().split("T")[0];return e.jsxs("div",{className:`bg-white rounded-xl border ${i?"border-purple-300 ring-2 ring-purple-100":"border-zinc-200"} overflow-hidden`,children:[e.jsxs("div",{className:`p-3 text-center ${i?"bg-purple-50":"bg-zinc-50"} border-b border-zinc-100`,children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:s.toLocaleDateString(void 0,{weekday:"short"})}),e.jsx("div",{className:`text-lg font-bold ${i?"text-purple-700":"text-zinc-900"}`,children:s.getDate()})]}),e.jsx("div",{className:"p-2 space-y-2 min-h-[200px]",children:a.length===0?e.jsx("p",{className:"text-xs text-zinc-400 text-center py-4",children:"No classes"}):a.map(r=>e.jsxs("div",{className:"p-2 bg-purple-50 rounded-lg text-xs",children:[e.jsx("div",{className:"font-medium text-purple-800 truncate",children:r.title}),e.jsxs("div",{className:"text-purple-600 flex items-center gap-1 mt-1",children:[e.jsx(v,{size:10})," ",x(r.startTime)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-zinc-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{size:10})," ",r.confirmedCount||0]}),r.videoProvider==="livekit"&&e.jsx(N,{size:10})]})]},r.id))})]},t)})})]})});export{S as default};
