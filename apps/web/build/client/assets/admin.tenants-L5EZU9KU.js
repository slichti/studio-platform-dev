import{w as ue,d as pe,r,a as ge,L as he}from"./chunk-JMJ3UQ3L-CD8Ifjmd.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{a as o}from"./api-LAgipKeK.js";import{M as R}from"./Modal-8uXLamvd.js";import{E as be,C as fe}from"./Dialogs-D2NPN-i6.js";import{P as je}from"./PrivacyBlur-DCeFAFUq.js";import{C as Ne}from"./chevron-down-BCtePF3T.js";import{C as ve}from"./chevron-right-CiNyuouW.js";import{A as ye}from"./activity-DsCnadY6.js";import{C as J}from"./credit-card-R-UObwMD.js";import{V as ze}from"./video-C5RNC1FD.js";import{c as we}from"./createLucideIcon-B1hucShu.js";import{S as Se}from"./shopping-cart-CTY-zw1D.js";import{M as ke}from"./mail-LYFDCYXF.js";import{S as Ce}from"./settings-RFGX9eYs.js";import{u as Oe}from"./chunk-OT5FTIRN-Bz_rpxYV.js";import"./index-C4g0QdQB.js";import"./index-B7-qqMfU.js";const Te=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Pe=we("monitor",Te),We=ue(function(){const{tenants:V}=pe(),[l,b]=r.useState(V),[q,v]=r.useState(!1),[y,z]=r.useState(!1),[T,$]=r.useState(null),[B,P]=r.useState({}),[Ae,_]=r.useState({}),[G,L]=r.useState(!1),H=[{key:"financials",label:"Financials & Payouts",icon:J},{key:"vod",label:"Video on Demand",icon:ze},{key:"zoom",label:"Zoom Integration",icon:Pe},{key:"pos",label:"POS & Retail",icon:Se},{key:"marketing",label:"Marketing & CRM",icon:ke},{key:"payroll",label:"Payroll & Compensation",icon:J}],[D,c]=r.useState({isOpen:!1,message:""}),[w,p]=r.useState({isOpen:!1,message:""}),{getToken:m}=Oe();ge();const[d,f]=r.useState({name:"",slug:"",ownerEmail:"",plan:"basic"}),[x,Y]=r.useState("createdAt"),[g,I]=r.useState("desc"),[A,Q]=r.useState("all"),[E,W]=r.useState("all"),[j,X]=r.useState(()=>typeof window<"u"?localStorage.getItem("admin_show_financials")==="true":!1),[K,S]=r.useState(!1),[U,ee]=r.useState(null),[h,k]=r.useState({accountId:"",clientId:"",clientSecret:""}),se=s=>{ee(s),k({accountId:"",clientId:"",clientSecret:""}),S(!0)},te=async s=>{if(s.preventDefault(),!!U){z(!0);try{const t=await m(),n=await o(`/admin/tenants/${U}/credentials/zoom`,t,{method:"PUT",body:JSON.stringify(h)});if(n.error)throw new Error(n.error);p({isOpen:!0,message:"Zoom credentials updated successfully."}),S(!1)}catch(t){c({isOpen:!0,message:t.message})}finally{z(!1)}}},ne=()=>{const s=!j;X(s),localStorage.setItem("admin_show_financials",String(s))},N=s=>{x===s?I(g==="asc"?"desc":"asc"):(Y(s),I("asc"))},ae=()=>{if(!Array.isArray(l))return[];let s=[...l];return A!=="all"&&(s=s.filter(t=>(t.status||"active")===A)),E!=="all"&&(s=s.filter(t=>(t.tier||"basic")===E)),s.sort((t,n)=>{const a=(de,me)=>me.split(".").reduce((Z,xe)=>Z&&Z[xe],de),i=a(t,x),u=a(n,x);if(i===u)return 0;const O=i>u?1:-1;return g==="asc"?O:-O})},ie=async s=>{s.preventDefault(),z(!0);try{const t=await m(),n=await o("/admin/tenants",t,{method:"POST",body:JSON.stringify({name:d.name,slug:d.slug,tier:d.plan,trialDays:d.trialDays})});n.error?c({isOpen:!0,message:n.error}):(b([...l,n]),v(!1),f({name:"",slug:"",ownerEmail:"",plan:"basic"}),p({isOpen:!0,message:`Tenant ${n.name} (${n.slug}) has been provisioned successfully.`}))}catch(t){console.error(t),c({isOpen:!0,message:t.message||"Failed to create tenant. Please try again."})}finally{z(!1)}},C=async(s,t)=>{try{const n=await m(),a=await o(`/admin/tenants/${s}/status`,n,{method:"PATCH",body:JSON.stringify({status:t})});a.error?c({isOpen:!0,message:a.error}):(b(l.map(i=>i.id===s?{...i,status:t}:i)),p({isOpen:!0,message:`Tenant status updated to ${t}.`}))}catch(n){c({isOpen:!0,message:n.message||"Failed to update status."})}},re=async(s,t)=>{if(confirm(`Are you sure you want to change this tenant to ${t}?`))try{const n=await m(),a=await o(`/admin/tenants/${s}/tier`,n,{method:"PATCH",body:JSON.stringify({tier:t})});a.error?c({isOpen:!0,message:a.error}):(b(l.map(i=>i.id===s?{...i,tier:t}:i)),p({isOpen:!0,message:`Tenant tier updated to ${t}.`}))}catch(n){c({isOpen:!0,message:n.message||"Failed to update tier."})}},M=async(s,t)=>{try{const n=await m(),a=await o(`/admin/tenants/${s}/subscription`,n,{method:"PATCH",body:JSON.stringify({trialDays:t})});if(a.error)throw new Error(a.error);const i=await o("/admin/tenants",n);b(i)}catch(n){c({isOpen:!0,message:n.message})}},le=async(s,t)=>{if(t)try{const n=await m(),a=await o(`/admin/tenants/${s}/subscription`,n,{method:"PATCH",body:JSON.stringify({currentPeriodEnd:t})});if(a.error)throw new Error(a.error);const i=await o("/admin/tenants",n);b(i)}catch(n){c({isOpen:!0,message:n.message})}},F=async(s,t,n)=>{try{const a=await m(),i=await o(`/admin/tenants/${s}/quotas`,a,{method:"PATCH",body:JSON.stringify({[t]:n})});if(i.error)throw new Error(i.error);b(l.map(u=>u.id===s?{...u,[t]:n}:u)),p({isOpen:!0,message:"Limits updated."})}catch(a){c({isOpen:!0,message:a.message})}},oe=async s=>{if(T===s){$(null);return}$(s),L(!0);try{const t=await m(),[n,a]=await Promise.all([o(`/admin/tenants/${s}/features`,t),o(`/admin/tenants/${s}/stats`,t)]);P(n.features||{}),_(a||{})}catch(t){console.error(t)}finally{L(!1)}},ce=async(s,t,n)=>{P(a=>({...a,[t]:{...a[t],enabled:!n,source:"manual"}}));try{const a=await m();await o(`/admin/tenants/${s}/features`,a,{method:"POST",body:JSON.stringify({featureKey:t,enabled:!n,source:"manual"})})}catch(a){console.error(a),P(i=>({...i,[t]:{...i[t],enabled:n}}))}};return e.jsxs("div",{children:[e.jsx(be,{isOpen:D.isOpen,onClose:()=>c({...D,isOpen:!1}),title:"Error",message:D.message}),e.jsx(fe,{isOpen:w.isOpen,onClose:()=>p({...w,isOpen:!1}),onConfirm:()=>p({...w,isOpen:!1}),title:"Success",message:w.message,confirmText:"Done",cancelText:"Close"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Tenant Management"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("select",{className:"text-sm border border-zinc-300 rounded-md px-2 py-1 bg-white outline-none focus:ring-2 focus:ring-blue-500",value:A,onChange:s=>Q(s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsxs("select",{className:"text-sm border border-zinc-300 rounded-md px-2 py-1 bg-white outline-none focus:ring-2 focus:ring-blue-500",value:E,onChange:s=>W(s.target.value),children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"basic",children:"Launch"}),e.jsx("option",{value:"growth",children:"Growth"}),e.jsx("option",{value:"scale",children:"Scale"})]}),e.jsx("div",{className:"h-6 w-px bg-zinc-300 mx-2"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ne,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${j?"bg-indigo-600":"bg-zinc-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${j?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:"text-sm text-zinc-600 font-medium",children:j?"Financials Visible":"Privacy Mode"})]})]})]}),e.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 font-medium text-sm flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"+"})," Spin Up Tenant"]})]}),e.jsxs("div",{className:"bg-white border border-zinc-200 rounded-lg overflow-hidden shadow-sm",children:[l?.error&&e.jsxs("div",{className:"p-4 bg-red-50 text-red-700 border-b border-red-100 mb-4",children:[e.jsxs("div",{className:"font-bold",children:["Access Denied: ",l.error]}),l.debug&&e.jsx("pre",{className:"mt-2 text-xs bg-red-100 p-2 rounded overflow-auto",children:JSON.stringify(l.debug,null,2)}),e.jsx("p",{className:"text-xs mt-2",children:"Try refreshing to re-trigger admin bootstrapping."})]}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-8"}),e.jsxs("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider cursor-pointer hover:bg-zinc-100",onClick:()=>N("name"),children:["Tenant ",x==="name"&&(g==="asc"?"↑":"↓")]}),e.jsxs("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider cursor-pointer hover:bg-zinc-100",onClick:()=>N("tier"),children:["Tier ",x==="tier"&&(g==="asc"?"↑":"↓")]}),e.jsxs("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider text-center cursor-pointer hover:bg-zinc-100",onClick:()=>N("stats.owners"),children:["People ",x==="stats.owners"&&(g==="asc"?"↑":"↓")]}),e.jsxs("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider text-center cursor-pointer hover:bg-zinc-100",onClick:()=>N("storageUsage"),children:["Usage ",x==="storageUsage"&&(g==="asc"?"↑":"↓")]}),e.jsxs("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider cursor-pointer hover:bg-zinc-100",onClick:()=>N("status"),children:["Status ",x==="status"&&(g==="asc"?"↑":"↓")]}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-100",children:ae().map(s=>e.jsxs(r.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors cursor-pointer",onClick:()=>oe(s.id),children:[e.jsx("td",{className:"pl-4",children:T===s.id?e.jsx(Ne,{size:16,className:"text-zinc-400"}):e.jsx(ve,{size:16,className:"text-zinc-400"})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-zinc-900",children:s.name}),e.jsx("div",{className:"text-zinc-500 text-xs font-mono mt-0.5 bg-zinc-100 inline-block px-1 rounded",children:s.slug})]}),e.jsx("td",{className:"px-6 py-4",onClick:t=>t.stopPropagation(),children:e.jsx("div",{className:"relative",children:e.jsxs("select",{value:s.tier||"basic",onChange:t=>re(s.id,t.target.value),className:`appearance-none cursor-pointer inline-flex items-center pl-2 pr-6 py-0.5 rounded text-xs font-medium uppercase tracking-wide border outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 ${s.tier==="scale"?"bg-purple-100 text-purple-800 border-purple-200":s.tier==="growth"?"bg-blue-100 text-blue-800 border-blue-200":"bg-zinc-100 text-zinc-600 border-zinc-200"}`,children:[e.jsx("option",{value:"basic",children:"Launch"}),e.jsx("option",{value:"growth",children:"Growth"}),e.jsx("option",{value:"scale",children:"Scale"})]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("div",{className:"flex flex-col items-center",title:"Owners",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"Own"}),e.jsx("span",{className:"text-sm font-bold text-zinc-700",children:s.stats?.owners||0})]}),e.jsxs("div",{className:"flex flex-col items-center",title:"Instructors",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"Inst"}),e.jsx("span",{className:"text-sm font-bold text-zinc-700",children:s.stats?.instructors||0})]}),e.jsxs("div",{className:"flex flex-col items-center",title:"Subscribers",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"Subs"}),e.jsx(je,{revealed:j,placeholder:"***",children:e.jsx("span",{className:"text-sm font-bold text-blue-600",children:s.stats?.subscribers||0})})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs("div",{className:"flex flex-col items-center",title:"Storage GB",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"Storage"}),e.jsxs("span",{className:"text-xs font-bold text-zinc-700",children:[(s.storageUsage/(1024*1024*1024)).toFixed(1),"G"]})]}),e.jsxs("div",{className:"flex flex-col items-center",title:"VOD Minutes",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"VOD"}),e.jsxs("span",{className:"text-xs font-bold text-zinc-700",children:[s.streamingUsage||0,"m"]})]}),e.jsxs("div",{className:"flex flex-col items-center",title:"Emails",children:[e.jsx("span",{className:"text-[10px] text-zinc-400 font-bold uppercase tracking-tighter",children:"Email"}),e.jsx("span",{className:"text-xs font-bold text-zinc-700",children:s.emailUsage||0})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${s.status==="suspended"?"bg-red-100 text-red-800":s.status==="paused"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:s.status||"Active"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(he,{to:`/studio/${s.slug}`,className:"text-blue-600 hover:text-blue-800 text-xs font-semibold uppercase tracking-wide border border-blue-200 bg-blue-50 px-3 py-1 rounded-full hover:bg-blue-100 transition-colors",onClick:t=>t.stopPropagation(),children:"Enter"}),e.jsx("div",{className:"h-4 w-px bg-zinc-200"}),s.status==="paused"?e.jsx("button",{className:"text-emerald-600 hover:text-emerald-700 text-xs font-medium transition-colors",onClick:t=>{t.stopPropagation(),C(s.id,"active")},children:"Resume"}):e.jsx("button",{className:"text-zinc-500 hover:text-amber-600 text-xs font-medium transition-colors",onClick:t=>{t.stopPropagation(),C(s.id,"paused")},children:"Pause"}),s.status==="suspended"?e.jsx("button",{className:"text-emerald-600 hover:text-emerald-700 text-xs font-medium transition-colors",onClick:t=>{t.stopPropagation(),C(s.id,"active")},children:"Activate"}):e.jsx("button",{className:"text-zinc-500 hover:text-red-600 text-xs font-medium transition-colors",onClick:t=>{t.stopPropagation(),C(s.id,"suspended")},children:"Suspend"})]})})]}),T===s.id&&e.jsx("tr",{className:"bg-zinc-50/50",children:e.jsx("td",{colSpan:7,className:"px-6 pb-6 pt-2",children:e.jsxs("div",{className:"bg-white border border-zinc-200 rounded-lg p-4 shadow-inner",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-zinc-900 flex items-center gap-2",children:[e.jsx(ye,{size:16})," Entitlements & Features"]}),e.jsxs("div",{className:"text-right bg-zinc-50 p-3 rounded border border-zinc-200",children:[e.jsx("div",{className:"text-xs text-zinc-500",children:"Subscription Status"}),e.jsx("div",{className:"font-medium text-zinc-900 capitalize",children:s.subscriptionStatus||"trialing"}),e.jsx("div",{className:"text-xs text-zinc-500 mt-2",children:"Period Ends"}),e.jsx("div",{className:"flex items-center justify-end gap-2 mt-1",children:e.jsx("input",{type:"date",className:"text-xs border border-zinc-300 rounded px-2 py-1 bg-white",defaultValue:s.currentPeriodEnd?new Date(s.currentPeriodEnd).toISOString().split("T")[0]:"",onBlur:t=>{t.target.value&&window.confirm(`Update renewal date to ${t.target.value}?`)&&le(s.id,t.target.value)}})}),e.jsxs("div",{className:"mt-2 flex gap-2 justify-end",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),M(s.id,30)},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"extend +30d"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),M(s.id,9999)},className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"infinite"})]})]}),e.jsxs("div",{className:"text-right bg-zinc-50 p-3 rounded border border-zinc-200 mt-2",children:[e.jsx("div",{className:"text-xs text-zinc-500 font-bold mb-2",children:"Usage Limits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase text-zinc-400 font-bold block",children:"SMS"}),e.jsx("input",{type:"number",className:"w-full text-xs border rounded px-1 py-0.5 text-right",defaultValue:s.smsLimit||0,onBlur:t=>F(s.id,"smsLimit",parseInt(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase text-zinc-400 font-bold block",children:"Email"}),e.jsx("input",{type:"number",className:"w-full text-xs border rounded px-1 py-0.5 text-right",defaultValue:s.emailLimit||0,onBlur:t=>F(s.id,"emailLimit",parseInt(t.target.value))})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2 px-1",children:[e.jsx("label",{className:"text-xs text-zinc-700 cursor-pointer select-none",htmlFor:`exempt-${s.id}`,children:"Billing Exempt"}),e.jsx("input",{type:"checkbox",id:`exempt-${s.id}`,defaultChecked:!!s.billingExempt,onChange:t=>F(s.id,"billingExempt",t.target.checked)})]})]})]}),G?e.jsx("div",{className:"text-sm text-zinc-500 py-2",children:"Loading capabilities..."}):e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(t=>{const n=B[t.key]||{enabled:!1,source:"manual"};return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md bg-zinc-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{size:18,className:"text-zinc-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-zinc-900",children:t.label}),e.jsxs("div",{className:"text-xs text-zinc-500",children:["Source: ",n.source]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.key==="zoom"&&n.enabled&&e.jsx("button",{onClick:a=>{a.stopPropagation(),se(s.id)},className:"p-1 text-zinc-500 hover:text-blue-600 hover:bg-zinc-200 rounded",title:"Configure Zoom Credentials",children:e.jsx(Ce,{size:16})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),ce(s.id,t.key,n.enabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${n.enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n.enabled?"translate-x-6":"translate-x-1"}`})})]})]},t.key)})})})]})})})]},s.id))})]}),(!Array.isArray(l)||l.length===0)&&e.jsx("div",{className:"p-8 text-center text-zinc-500",children:"No tenants found. Create one to get started."})]}),e.jsxs(R,{isOpen:K,onClose:()=>S(!1),title:"Configure Zoom Integration",children:[e.jsx("div",{className:"mb-4 text-sm text-zinc-500",children:"Provide the Server-to-Server OAuth credentials from the Zoom App Marketplace. This allows the platform to create meetings on behalf of this tenant."}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Account ID"}),e.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:h.accountId,onChange:s=>k({...h,accountId:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Client ID"}),e.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:h.clientId,onChange:s=>k({...h,clientId:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Client Secret"}),e.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:h.clientSecret,onChange:s=>k({...h,clientSecret:s.target.value})})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 px-4 py-2 border border-zinc-300 text-zinc-700 rounded-md hover:bg-zinc-50 font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium disabled:opacity-50",children:y?"Saving...":"Save Credentials"})]})]})]}),e.jsxs(R,{isOpen:q,onClose:()=>v(!1),title:"Spin Up New Tenant",children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-zinc-500 text-sm",children:"Automated provisioning: This will create a database record, set up initial owner permissions, and allocate resources."})}),e.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Studio Name"}),e.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Zen Garden Yoga",value:d.name,onChange:s=>{const t=s.target.value;f(n=>{const a=O=>O.toLowerCase().replace(/[^a-z0-9]/g,"-"),i=a(n.name),u=!n.slug||n.slug===i;return{...n,name:t,slug:u?a(t):n.slug}})}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"URL Slug"}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-zinc-300 bg-zinc-50 text-zinc-500 text-sm",children:"/studio/"}),e.jsx("input",{type:"text",required:!0,className:"flex-1 px-3 py-2 border border-zinc-300 rounded-r-md focus:ring-2 focus:ring-blue-500 outline-none font-mono text-sm",placeholder:"zen-garden",value:d.slug,onChange:s=>f({...d,slug:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Plan Tier"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:d.plan,onChange:s=>f({...d,plan:s.target.value}),children:[e.jsx("option",{value:"basic",children:"Launch (Basic)"}),e.jsx("option",{value:"growth",children:"Growth"}),e.jsx("option",{value:"scale",children:"Scale"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Trial Period (Days)"}),e.jsx("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-zinc-300 rounded-md focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"14",value:d.trialDays||"",onChange:s=>f({...d,trialDays:parseInt(s.target.value)})}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Leave empty for no trial"})]})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"This studio will be created under your admin account with billing bypassed."}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-zinc-300 text-zinc-700 rounded-md hover:bg-zinc-50 font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium disabled:opacity-50",children:y?"Provisioning...":"Launch Studio"})]})]})]})]})});export{We as default};
