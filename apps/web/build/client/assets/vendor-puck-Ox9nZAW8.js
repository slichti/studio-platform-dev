import{r as $f,g as Fs,a as E,R as Ut}from"./vendor-sentry-JepEA2vj.js";var ri={exports:{}},qr={};var Ta;function Rf(){if(Ta)return qr;Ta=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:i}}return qr.Fragment=t,qr.jsx=r,qr.jsxs=r,qr}var La;function Nf(){return La||(La=1,ri.exports=Rf()),ri.exports}var f=Nf(),ni={exports:{}},He={};var $a;function zf(){if($a)return He;$a=1;var e=$f();function t(c){var l="https://react.dev/errors/"+c;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,l,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:d==null?null:""+d,children:c,containerInfo:l,implementation:u}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,l){if(c==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,He.createPortal=function(c,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(t(299));return i(c,l,null,u)},He.flushSync=function(c){var l=o.T,u=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=l,n.p=u,n.d.f()}},He.preconnect=function(c,l){typeof c=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,n.d.C(c,l))},He.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},He.preinit=function(c,l){if(typeof c=="string"&&l&&typeof l.as=="string"){var u=l.as,d=a(u,l.crossOrigin),p=typeof l.integrity=="string"?l.integrity:void 0,v=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;u==="style"?n.d.S(c,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:v}):u==="script"&&n.d.X(c,{crossOrigin:d,integrity:p,fetchPriority:v,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},He.preinitModule=function(c,l){if(typeof c=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var u=a(l.as,l.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&n.d.M(c)},He.preload=function(c,l){if(typeof c=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var u=l.as,d=a(u,l.crossOrigin);n.d.L(c,u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},He.preloadModule=function(c,l){if(typeof c=="string")if(l){var u=a(l.as,l.crossOrigin);n.d.m(c,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:u,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else n.d.m(c)},He.requestFormReset=function(c){n.d.r(c)},He.unstable_batchedUpdates=function(c,l){return c(l)},He.useFormState=function(c,l,u){return o.H.useFormState(c,l,u)},He.useFormStatus=function(){return o.H.useHostTransitionStatus()},He.version="19.2.3",He}var Ra;function Ff(){if(Ra)return ni.exports;Ra=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ni.exports=zf(),ni.exports}var Mn=Ff();const hb=Fs(Mn);var si,Na;function Bf(){if(Na)return si;Na=1,si=r,r.flatten=r,r.unflatten=n;function e(s){return s&&s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function t(s){return s}function r(s,i){i=i||{};const o=i.delimiter||".",a=i.maxDepth,c=i.transformKey||t,l={};function u(d,p,v){v=v||1,Object.keys(d).forEach(function(g){const k=d[g],y=i.safe&&Array.isArray(k),S=Object.prototype.toString.call(k),m=e(k),x=S==="[object Object]"||S==="[object Array]",b=p?p+o+c(g):c(g);if(!y&&!m&&x&&Object.keys(k).length&&(!i.maxDepth||v<a))return u(k,b,v+1);l[b]=k})}return u(s),l}function n(s,i){i=i||{};const o=i.delimiter||".",a=i.overwrite||!1,c=i.transformKey||t,l={};if(e(s)||Object.prototype.toString.call(s)!=="[object Object]")return s;function d(g){const k=Number(g);return isNaN(k)||g.indexOf(".")!==-1||i.object?g:k}function p(g,k,y){return Object.keys(y).reduce(function(S,m){return S[g+o+m]=y[m],S},k)}function v(g){const k=Object.prototype.toString.call(g),y=k==="[object Array]",S=k==="[object Object]";if(g){if(y)return!g.length;if(S)return!Object.keys(g).length}else return!0}return s=Object.keys(s).reduce(function(g,k){const y=Object.prototype.toString.call(s[k]);return!(y==="[object Object]"||y==="[object Array]")||v(s[k])?(g[k]=s[k],g):p(k,g,r(s[k],i))},{}),Object.keys(s).forEach(function(g){const k=g.split(o).map(c);let y=d(k.shift()),S=d(k[0]),m=l;for(;S!==void 0;){if(y==="__proto__")return;const x=Object.prototype.toString.call(m[y]),b=x==="[object Object]"||x==="[object Array]";if(!a&&!b&&typeof m[y]<"u")return;(a&&!b||!a&&m[y]==null)&&(m[y]=typeof S=="number"&&!i.object?[]:{}),m=m[y],k.length>0&&(y=d(k.shift()),S=d(k[0]))}m[y]=n(s[g],i)}),l}return si}var Wf=Bf();const Hf=Fs(Wf);var ii,za;function Uf(){return za||(za=1,ii=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),ii}var Vf=Uf();const xs=Fs(Vf);var Zf=Object.create,_o=Object.defineProperty,qf=Object.defineProperties,Yf=Object.getOwnPropertyDescriptor,Xf=Object.getOwnPropertyDescriptors,bo=Object.getOwnPropertyNames,ws=Object.getOwnPropertySymbols,Kf=Object.getPrototypeOf,xo=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable,Fa=(e,t,r)=>t in e?_o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))xo.call(t,r)&&Fa(e,r,t[r]);if(ws)for(var r of ws(t))cc.call(t,r)&&Fa(e,r,t[r]);return e},$=(e,t)=>qf(e,Xf(t)),Kt=(e,t)=>{var r={};for(var n in e)xo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ws)for(var n of ws(e))t.indexOf(n)<0&&cc.call(e,n)&&(r[n]=e[n]);return r},Gf=(e,t)=>function(){return e&&(t=(0,e[bo(e)[0]])(e=0)),t},Jf=(e,t)=>function(){return t||(0,e[bo(e)[0]])((t={exports:{}}).exports,t),t.exports},Qf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bo(t))!xo.call(e,s)&&s!==r&&_o(e,s,{get:()=>t[s],enumerable:!(n=Yf(t,s))||n.enumerable});return e},ep=(e,t,r)=>(r=e!=null?Zf(Kf(e)):{},Qf(!e||!e.__esModule?_o(r,"default",{value:e,enumerable:!0}):r,e)),Ce=(e,t,r)=>new Promise((n,s)=>{var i=c=>{try{a(r.next(c))}catch(l){s(l)}},o=c=>{try{a(r.throw(c))}catch(l){s(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);a((r=r.apply(e,t)).next())}),M=Gf({"../tsup-config/react-import.js"(){}});M();M();M();var wo=(e,t)=>Object.keys(t).reduce((r,n)=>t[n].type==="slot"?D({[n]:[]},r):r,e),So=e=>!!e&&typeof e.then=="function",Ba=e=>e.reduce((t,r)=>D(D({},t),r),{}),Di=e=>e.some(So),Ss=({value:e,fields:t,mappers:r,propKey:n="",propPath:s="",id:i="",config:o,recurseSlots:a=!1})=>{var c,l,u;const d=(c=t[n])==null?void 0:c.type,p=r[d];if(p&&d==="slot"){const v=e||[],g=a?v.map(k=>{var y;const S=o.components[k.type];if(!S)throw new Error(`Could not find component config for ${k.type}`);const m=(y=S.fields)!=null?y:{};return Ss({value:$(D({},k),{props:wo(k.props,m)}),fields:m,mappers:r,id:k.props.id,config:o,recurseSlots:a})}):v;return Di(g)?Promise.all(g):p({value:g,parentId:i,propName:s,field:t[n],propPath:s})}else if(p&&t[n])return p({value:e,parentId:i,propName:n,field:t[n],propPath:s});if(e&&typeof e=="object")if(Array.isArray(e)){const v=((l=t[n])==null?void 0:l.type)==="array"?t[n].arrayFields:null;if(!v)return e;const g=e.map((k,y)=>Ss({value:k,fields:v,mappers:r,propKey:n,propPath:`${s}[${y}]`,id:i,config:o,recurseSlots:a}));return Di(g)?Promise.all(g):g}else{if("$$typeof"in e)return e;{const v=((u=t[n])==null?void 0:u.type)==="object"?t[n].objectFields:t;return uc({value:e,fields:v,mappers:r,id:i,getPropPath:g=>`${s}.${g}`,config:o,recurseSlots:a})}}return e},uc=({value:e,fields:t,mappers:r,id:n,getPropPath:s,config:i,recurseSlots:o})=>{const a=Object.entries(e).map(([c,l])=>{const u={value:l,fields:t,mappers:r,propKey:c,propPath:s(c),id:n,config:i,recurseSlots:o},d=Ss(u);return So(d)?d.then(p=>({[c]:p})):{[c]:d}},{});return Di(a)?Promise.all(a).then(Ba):Ba(a)};function Tn(e,t,r,n=!1){var s,i,o,a,c;const l="type"in e?e.type:"root",u=l==="root"?r.root:(s=r.components)==null?void 0:s[l],d=uc({value:wo((i=e.props)!=null?i:{},(o=u?.fields)!=null?o:{}),fields:(a=u?.fields)!=null?a:{},mappers:t,id:e.props&&(c=e.props.id)!=null?c:"root",getPropPath:p=>p,config:r,recurseSlots:n});return So(d)?d.then(p=>$(D({},e),{props:p})):$(D({},e),{props:d})}function dc(e,t,r){var n,s;const i=l=>Tn(l,{slot:({value:u,parentId:d,propName:p})=>{var v;const g=u;return(v=r(g,{parentId:d,propName:p}))!=null?v:g}},t,!0);if("props"in e)return i(e);const o=e,a=(n=o.zones)!=null?n:{},c=o.content.map(i);return{root:i(o.root),content:(s=r(c,{parentId:"root",propName:"default-zone"}))!=null?s:c,zones:Object.keys(a).reduce((l,u)=>$(D({},l),{[u]:a[u].map(i)}),{})}}M();M();M();var Is=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],Pi={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:Is[0].width,height:Is[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};M();M();M();M();var Io="root",Oi="default-zone",Ze=`${Io}:${Oi}`,tp=e=>e?e&&e.indexOf(":")>-1?e.split(":"):[Ze,e]:[];function rp(e,t,r,n=[]){Object.entries(t.zones||{}).forEach(([s,i])=>{const[o]=tp(s);o===e.props.id&&r(n,s,i)})}M();M();var np=(e,t)=>Tn(e,{slot:()=>null},t),{flatten:sp,unflatten:ip}=Hf,op=(e,t)=>$(D({},e),{props:sp(np(e,t).props)}),ap=e=>{const t=ip(e.props);return $(D({},e),{props:t})};function it(e,t,r=s=>s,n=s=>s){var s;let i={};const o={},a={},c=(m,x,b,C,I)=>{var P;const[_]=x.split(":"),j=((P=r(b,x,C))!=null?P:b)||[],[h,A]=x.split(":"),T=`${I||_}:${A}`,N=j.map((R,V)=>u(R,[...m,T],V));return o[T]={contentIds:N.map(R=>R.props.id),type:C},[T,N]},l=(m,x,b)=>{rp(m,e.data,(C,I,P)=>{const[_,j]=c(C,I,P,"dropzone",x);i[_]=j},b)},u=(m,x,b)=>{const C=n(m,x,b);if(!C)return m;const I=C.props.id,P=$(D({},Tn(C,{slot:({value:N,parentId:R,propPath:V})=>{const z=N,K=`${R}:${V}`,[U,X]=c(x,K,z,"slot",R);return X}},t).props),{id:I});l(m,I,x);const _=$(D({},m),{props:P}),j=x[x.length-1],[h,A]=j?j.split(":"):[null,""];a[I]={data:_,flatData:op(_,t),path:x,parentId:h,zone:A};const T=$(D({},_),{props:D({},_.props)});return P.id==="root"&&(delete T.type,delete T.props.id),T},d=e.data.zones||{},[p,v]=c([],Ze,e.data.content,"root"),g=v,k=Object.keys(i);Object.keys(d||{}).forEach(m=>{const[x]=m.split(":");if(k.includes(m))return;const[b,C]=c([Ze],m,d[m],"dropzone",x);i[m]=C},i);const y=u({type:"root",props:$(D({},(s=e.data.root.props)!=null?s:e.data.root),{id:"root"})},[],-1),S=$(D({},e.data.root),{props:y.props});return $(D({},e),{data:{root:S,content:g,zones:D(D({},e.data.zones),i)},indexes:{nodes:D(D({},e.indexes.nodes),a),zones:D(D({},e.indexes.zones),o)}})}M();M();M();M();M();var Eo=(e,t)=>e?Object.keys(e.props||{}).reduce((r,n)=>{const s=e?.props||{},i=t?.props||{};return $(D({},r),{[n]:!xs(i[n],s[n])})},{}):{},Wa={lastChange:{}},fc=(e,t,...r)=>Ce(void 0,[e,t,...r],function*(n,s,i={},o,a,c="replace"){const l="type"in n&&n.type!=="root"?s.components[n.type]:s.root,u=D({},n),d=l?.resolveData&&n.props,p="id"in n.props?n.props.id:"root";if(d){const{item:g=null,resolved:k={}}=Wa.lastChange[p]||{};if(c!=="force"&&n&&xs(n,g))return{node:k,didChange:!1};const y=Eo(n,g);o&&o(n);const{props:S,readOnly:m={}}=yield l.resolveData(n,{changed:y,lastData:g,metadata:D(D({},i),l.metadata),trigger:c});u.props=D(D({},n.props),S),Object.keys(m).length&&(u.readOnly=m)}let v=yield Tn(u,{slot:g=>Ce(void 0,[g],function*({value:k}){const y=k;return yield Promise.all(y.map(S=>Ce(void 0,null,function*(){return(yield fc(S,s,i,o,a,c)).node})))})},s);return d&&a&&a(u),Wa.lastChange[p]={item:n,resolved:v},{node:v,didChange:!xs(n,v)}});M();M();var pc=(e,t)=>{if(t===Ze)return e;const r=$(D({},e),{zones:e.zones?D({},e.zones):{}});return r.zones[t]=r.zones[t]||[],r};M();function hc(e,t,r,n,s){const i=E.useMemo(()=>Object.keys(r).reduce((c,l)=>{const u=l;return $(D({},c),{[u]:d=>{var p=d,{parentId:v}=p,g=Kt(p,["parentId"]);const k=g.propPath.replace(/\[\d+\]/g,"[*]"),y=n?.[g.propPath]||n?.[k]||s||!1,S=r[u];return S?.($(D({},g),{isReadOnly:y,componentId:v}))}})},{}),[r,n,s]),o=E.useMemo(()=>Tn(t,i,e).props,[e,t,i]);return E.useMemo(()=>D(D({},t.props),o),[t.props,o])}M();var gc=(e,t=e)=>({slot:({value:r,propName:n,field:s,isReadOnly:i})=>{const o=i?t:e;return c=>o($(D({allow:s?.type==="slot"?s.allow:[],disallow:s?.type==="slot"?s.disallow:[]},c),{zone:n,content:r}))}});M();function Bs(e,t,r,n=r,s,i){return hc(e,t,gc(r,n),s,i)}M();var ko=e=>f.jsx(vc,D({},e)),lp=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=Bs(e,t,i=>f.jsx(ko,$(D({},i),{config:e,metadata:r})));return f.jsx(n.render,$(D({},s),{puck:$(D({},s.puck),{metadata:r||{}})}))},vc=E.forwardRef(function({className:t,style:r,content:n,config:s,metadata:i},o){return f.jsx("div",{className:t,style:r,ref:o,children:n.map(a=>s.components[a.type]?f.jsx(lp,{config:s,item:a,metadata:i},a.props.id):null)})});let Vn;const cp=new Uint8Array(16);function up(){if(!Vn&&(Vn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vn(cp)}const $e=[];for(let e=0;e<256;++e)$e.push((e+256).toString(16).slice(1));function dp(e,t=0){return $e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]}const fp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ha={randomUUID:fp};function Ua(e,t,r){if(Ha.randomUUID&&!e)return Ha.randomUUID();e=e||{};const n=e.random||(e.rng||up)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,dp(n)}const Va=e=>{let t;const r=new Set,n=(l,u)=>{const d=typeof l=="function"?l(t):l;if(!Object.is(d,t)){const p=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),r.forEach(v=>v(t,p))}},s=()=>t,a={setState:n,getState:s,getInitialState:()=>c,subscribe:l=>(r.add(l),()=>r.delete(l))},c=t=e(n,s,a);return a},Ln=(e=>e?Va(e):Va),pp=e=>e;function jo(e,t=pp){const r=Ut.useSyncExternalStore(e.subscribe,Ut.useCallback(()=>t(e.getState()),[e,t]),Ut.useCallback(()=>t(e.getInitialState()),[e,t]));return Ut.useDebugValue(r),r}const Za=e=>{const t=Ln(e),r=n=>jo(t,n);return Object.assign(r,t),r},mc=(e=>e?Za(e):Za),hp=e=>(t,r,n)=>{const s=n.subscribe;return n.subscribe=((o,a,c)=>{let l=o;if(a){const u=c?.equalityFn||Object.is;let d=o(n.getState());l=p=>{const v=o(p);if(!u(d,v)){const g=d;a(d=v,g)}},c?.fireImmediately&&a(d,d)}return s(l)}),e(t,r,n)},yc=hp;var gp=Symbol.for("preact-signals");function Ws(){if(Yt>1)Yt--;else{for(var e,t=!1;gn!==void 0;){var r=gn;for(gn=void 0,Ai++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&bc(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=n}}if(Ai=0,Yt--,t)throw e}}function Ee(e){if(Yt>0)return e();Yt++;try{return e()}finally{Ws()}}var ue=void 0;function ge(e){var t=ue;ue=void 0;try{return e()}finally{ue=t}}var gn=void 0,Yt=0,Ai=0,Es=0;function _c(e){if(ue!==void 0){var t=e.n;if(t===void 0||t.t!==ue)return t={i:0,S:e,p:ue.s,n:void 0,t:ue,e:void 0,x:void 0,r:t},ue.s!==void 0&&(ue.s.n=t),ue.s=t,e.n=t,32&ue.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=ue.s,t.n=void 0,ue.s.n=t,ue.s=t),t}}function Ke(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Ke.prototype.brand=gp;Ke.prototype.h=function(){return!0};Ke.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:ge(function(){var n;(n=t.W)==null||n.call(t)}))};Ke.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,n=e.x;r!==void 0&&(r.x=n,e.e=void 0),n!==void 0&&(n.e=r,e.x=void 0),e===this.t&&(this.t=n,n===void 0&&ge(function(){var s;(s=t.Z)==null||s.call(t)}))}};Ke.prototype.subscribe=function(e){var t=this;return et(function(){var r=t.value,n=ue;ue=void 0;try{e(r)}finally{ue=n}},{name:"sub"})};Ke.prototype.valueOf=function(){return this.value};Ke.prototype.toString=function(){return this.value+""};Ke.prototype.toJSON=function(){return this.value};Ke.prototype.peek=function(){var e=ue;ue=void 0;try{return this.value}finally{ue=e}};Object.defineProperty(Ke.prototype,"value",{get:function(){var e=_c(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Ai>100)throw new Error("Cycle detected");this.v=e,this.i++,Es++,Yt++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Ws()}}}});function $n(e,t){return new Ke(e,t)}function bc(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function xc(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function wc(e){for(var t=e.s,r=void 0;t!==void 0;){var n=t.p;t.i===-1?(t.S.U(t),n!==void 0&&(n.n=t.n),t.n!==void 0&&(t.n.p=n)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=n}e.s=r}function ur(e,t){Ke.call(this,void 0),this.x=e,this.s=void 0,this.g=Es-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}ur.prototype=new Ke;ur.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Es))return!0;if(this.g=Es,this.f|=1,this.i>0&&!bc(this))return this.f&=-2,!0;var e=ue;try{xc(this),ue=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return ue=e,wc(this),this.f&=-2,!0};ur.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Ke.prototype.S.call(this,e)};ur.prototype.U=function(e){if(this.t!==void 0&&(Ke.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};ur.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(ur.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=_c(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function qa(e,t){return new ur(e,t)}function Sc(e){var t=e.u;if(e.u=void 0,typeof t=="function"){Yt++;var r=ue;ue=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,Co(e),n}finally{ue=r,Ws()}}}function Co(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,Sc(e)}function vp(e){if(ue!==this)throw new Error("Out-of-order effect");wc(this),ue=e,this.f&=-2,8&this.f&&Co(this),Ws()}function Mr(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}Mr.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Mr.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Sc(this),xc(this),Yt++;var e=ue;return ue=this,vp.bind(this,e)};Mr.prototype.N=function(){2&this.f||(this.f|=2,this.o=gn,gn=this)};Mr.prototype.d=function(){this.f|=8,1&this.f||Co(this)};Mr.prototype.dispose=function(){this.d()};function et(e,t){var r=new Mr(e,t);try{r.c()}catch(s){throw r.d(),s}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var mp=Object.create,Do=Object.defineProperty,yp=Object.defineProperties,_p=Object.getOwnPropertyDescriptor,bp=Object.getOwnPropertyDescriptors,Ya=Object.getOwnPropertySymbols,xp=Object.prototype.hasOwnProperty,wp=Object.prototype.propertyIsEnumerable,Sp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Tr=e=>{throw TypeError(e)},Mi=(e,t,r)=>t in e?Do(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ip=(e,t)=>{for(var r in t||(t={}))xp.call(t,r)&&Mi(e,r,t[r]);if(Ya)for(var r of Ya(t))wp.call(t,r)&&Mi(e,r,t[r]);return e},Ep=(e,t)=>yp(e,bp(t)),Xa=(e,t)=>Do(e,"name",{value:t,configurable:!0}),kp=e=>{var t;return[,,,mp((t=void 0)!=null?t:null)]},Ic=["class","method","getter","setter","accessor","field","value","get","set"],Gr=e=>e!==void 0&&typeof e!="function"?Tr("Function expected"):e,jp=(e,t,r,n,s)=>({kind:Ic[e],name:t,metadata:n,addInitializer:i=>r._?Tr("Already initialized"):s.push(Gr(i||null))}),Ec=(e,t)=>Mi(t,Sp("metadata"),e[3]),Jt=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Lr=(e,t,r,n,s,i)=>{var o,a,c,l,u,d=t&7,p=!!(t&8),v=!!(t&16),g=d>3?e.length+1:d?p?1:2:0,k=Ic[d+5],y=d>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=d&&(!v&&!p&&(s=s.prototype),d<5&&(d>3||!v)&&_p(d<4?s:{get[r](){return ct(this,i)},set[r](b){return Wt(this,i,b)}},r));d?v&&d<4&&Xa(i,(d>2?"set ":d>1?"get ":"")+r):Xa(s,r);for(var x=n.length-1;x>=0;x--)l=jp(d,r,c={},e[3],S),d&&(l.static=p,l.private=v,u=l.access={has:v?b=>Cp(s,b):b=>r in b},d^3&&(u.get=v?b=>(d^1?ct:Dp)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=v?(b,C)=>Wt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?v?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,l),c._=1,d^4||a===void 0?Gr(a)&&(d>4?y.unshift(a):d?v?i=a:m[k]=a:s=a):typeof a!="object"||a===null?Tr("Object expected"):(Gr(o=a.get)&&(m.get=o),Gr(o=a.set)&&(m.set=o),Gr(o=a.init)&&y.unshift(o));return d||Ec(e,s),m&&Do(s,r,m),v?d^4?i:m:s},Po=(e,t,r)=>t.has(e)||Tr("Cannot "+r),Cp=(e,t)=>Object(t)!==t?Tr('Cannot use the "in" operator on this value'):e.has(t),ct=(e,t,r)=>(Po(e,t,"read from private field"),r?r.call(e):t.get(e)),Jr=(e,t,r)=>t.has(e)?Tr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Wt=(e,t,r,n)=>(Po(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Dp=(e,t,r)=>(Po(e,t,"access private method"),r);function ks(e,t){if(t){let r;return qa(()=>{const n=e();return n&&r&&t(r,n)?r:(r=n,n)})}return qa(e)}function At(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e=="function"&&typeof t=="function")return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((n,s)=>!At(n,t[s]));if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:!r.some(i=>!At(e[i],t[i]))}return!1}function ae({get:e},t){return{init(r){return $n(r)},get(){return e.call(this).value},set(r){const n=e.call(this);n.peek()!==r&&(n.value=r)}}}function Me(e,t){const r=new WeakMap;return function(){let n=r.get(this);return n||(n=ks(e.bind(this)),r.set(this,n)),n.value}}function oi(e=!0){return function(t,r){r.addInitializer(function(){const n=r.kind==="field"?this:r.static?this:Object.getPrototypeOf(this),s=Object.getOwnPropertyDescriptor(n,r.name);s&&Object.defineProperty(n,r.name,Ep(Ip({},s),{enumerable:e}))})}}function Rn(...e){const t=e.map(et);return()=>t.forEach(r=>r())}var kc,jc,Cc,Dc,Pc,Oc,Ye,Oo,ai,Ti,Li,Ue,Ao,li,Ac,$i,Mo,ci,Ri,Ni;Oc=[ae],Pc=[ae],Dc=[ae],Cc=[oi()],jc=[oi()],kc=[oi()];var dr=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,Jt(Ye,5,this),Jr(this,Ue),Jr(this,Oo,Jt(Ye,8,this)),Jt(Ye,11,this),Jr(this,Ao,Jt(Ye,12,this)),Jt(Ye,15,this),Jr(this,Mo,Jt(Ye,16,this)),Jt(Ye,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return ct(this,Ue,Ri)}get initial(){return ct(this,Ue,Ti)}get previous(){return ct(this,Ue,Ac)}set current(e){const t=ge(()=>ct(this,Ue,Ri));e&&t&&this.equals(t,e)||Ee(()=>{ct(this,Ue,Ti)||Wt(this,Ue,e,Li),Wt(this,Ue,t,$i),Wt(this,Ue,e,Ni)})}reset(e=this.defaultValue){Ee(()=>{Wt(this,Ue,void 0,$i),Wt(this,Ue,e,Li),Wt(this,Ue,e,Ni)})}};Ye=kp();Oo=new WeakMap;Ue=new WeakSet;Ao=new WeakMap;Mo=new WeakMap;ai=Lr(Ye,20,"#initial",Oc,Ue,Oo),Ti=ai.get,Li=ai.set;li=Lr(Ye,20,"#previous",Pc,Ue,Ao),Ac=li.get,$i=li.set;ci=Lr(Ye,20,"#current",Dc,Ue,Mo),Ri=ci.get,Ni=ci.set;Lr(Ye,2,"current",Cc,dr);Lr(Ye,2,"initial",jc,dr);Lr(Ye,2,"previous",kc,dr);Ec(Ye,dr);function ui(e){return ge(()=>{const t={};for(const r in e)t[r]=e[r];return t})}var Qt,Pp=class{constructor(){Jr(this,Qt,new WeakMap)}get(e,t){var r;return e?(r=ct(this,Qt).get(e))==null?void 0:r.get(t):void 0}set(e,t,r){var n;if(e)return ct(this,Qt).has(e)||ct(this,Qt).set(e,new Map),(n=ct(this,Qt).get(e))==null?void 0:n.set(t,r)}clear(e){var t;return e?(t=ct(this,Qt).get(e))==null?void 0:t.clear():void 0}};Qt=new WeakMap;var Op=Object.create,Mc=Object.defineProperty,Ap=Object.getOwnPropertyDescriptor,Ka=Object.getOwnPropertySymbols,Mp=Object.prototype.hasOwnProperty,Tp=Object.prototype.propertyIsEnumerable,Tc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Hs=e=>{throw TypeError(e)},Ga=Math.pow,zi=(e,t,r)=>t in e?Mc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lp=(e,t)=>{for(var r in t||(t={}))Mp.call(t,r)&&zi(e,r,t[r]);if(Ka)for(var r of Ka(t))Tp.call(t,r)&&zi(e,r,t[r]);return e},$p=e=>{var t;return[,,,Op((t=e?.[Tc("metadata")])!=null?t:null)]},Lc=["class","method","getter","setter","accessor","field","value","get","set"],$c=e=>e!==void 0&&typeof e!="function"?Hs("Function expected"):e,Rp=(e,t,r,n,s)=>({kind:Lc[e],name:t,metadata:n,addInitializer:i=>r._?Hs("Already initialized"):s.push($c(i||null))}),Np=(e,t)=>zi(t,Tc("metadata"),e[3]),zp=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},Rc=(e,t,r,n,s,i)=>{for(var o,a,c,l,u=t&7,d=!1,p=!1,v=2,g=Lc[u+5],k=e[v]||(e[v]=[]),y=(s=s.prototype,Ap(s,r)),S=n.length-1;S>=0;S--)c=Rp(u,r,a={},e[3],k),c.static=d,c.private=p,l=c.access={has:m=>r in m},l.get=m=>m[r],o=(0,n[S])(y[g],c),a._=1,$c(o)&&(y[g]=o);return y&&Mc(s,r,y),s},Nc=(e,t,r)=>t.has(e)||Hs("Cannot "+r),Fp=(e,t,r)=>(Nc(e,t,"read from private field"),t.get(e)),Bp=(e,t,r)=>t.has(e)?Hs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Wp=(e,t,r,n)=>(Nc(e,t,"write to private field"),t.set(e,r),r),qe=class Fi{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new Fi(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new Fi(t,r)}},xt=class er{constructor(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,r){const{top:n,left:s,width:i,height:o,scale:a}=this,c=new er(s+t,n+r,i,o);return c.scale=Lp({},a),c}get boundingRectangle(){const{width:t,height:r,left:n,top:s,right:i,bottom:o}=this;return{width:t,height:r,left:n,top:s,right:i,bottom:o}}get center(){const{left:t,top:r,right:n,bottom:s}=this;return new qe((t+n)/2,(r+s)/2)}get area(){const{width:t,height:r}=this;return t*r}equals(t){if(!(t instanceof er))return!1;const{left:r,top:n,width:s,height:i}=this;return r===t.left&&n===t.top&&s===t.width&&i===t.height}containsPoint(t){const{top:r,left:n,bottom:s,right:i}=this;return r<=t.y&&t.y<=s&&n<=t.x&&t.x<=i}intersectionArea(t){return t instanceof er?Hp(this,t):0}intersectionRatio(t){const{area:r}=this,n=this.intersectionArea(t);return n/(t.area+r-n)}get bottom(){const{top:t,height:r}=this;return t+r}get right(){const{left:t,width:r}=this;return t+r}get aspectRatio(){const{width:t,height:r}=this;return t/r}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:r,width:n,height:s}){return new er(r,t,n,s)}static delta(t,r,n={x:"center",y:"center"}){const s=(i,o)=>{const a=n[o],c=o==="x"?i.left:i.top,l=o==="x"?i.width:i.height;return a=="start"?c:a=="end"?c+l:c+l/2};return qe.delta({x:s(t,"x"),y:s(t,"y")},{x:s(r,"x"),y:s(r,"y")})}static intersectionRatio(t,r){return er.from(t).intersectionRatio(er.from(r))}};function Hp(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,a=i-r;return n<s&&r<i?o*a:0}var zc,Fc,Bi,ls,Nn,Us=class extends(Bi=dr,Fc=[Me],zc=[Me],Bi){constructor(t){const r=qe.from(t);super(r,(n,s)=>qe.equals(n,s)),zp(Nn,5,this),Bp(this,ls,0),this.velocity={x:0,y:0}}get delta(){return qe.delta(this.current,this.initial)}get direction(){const{current:t,previous:r}=this;if(!r)return null;const n={x:t.x-r.x,y:t.y-r.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?"right":"left":n.y>0?"down":"up"}get current(){return super.current}set current(t){const{current:r}=this,n=qe.from(t),s={x:n.x-r.x,y:n.y-r.y},i=Date.now(),o=i-Fp(this,ls),a=c=>Math.round(c/o*100);Ee(()=>{Wp(this,ls,i),this.velocity={x:a(s.x),y:a(s.y)},super.current=n})}reset(t=this.defaultValue){super.reset(qe.from(t)),this.velocity={x:0,y:0}}};Nn=$p(Bi);ls=new WeakMap;Rc(Nn,2,"delta",Fc,Us);Rc(Nn,2,"direction",zc,Us);Np(Nn,Us);function di({x:e,y:t},r){const n=Math.abs(e),s=Math.abs(t);return typeof r=="number"?Math.sqrt(Ga(n,2)+Ga(s,2))>r:"x"in r&&"y"in r?n>r.x&&s>r.y:"x"in r?n>r.x:"y"in r?s>r.y:!1}var Bc=(e=>(e.Horizontal="x",e.Vertical="y",e))(Bc||{}),Wc=Object.values(Bc),Up=Object.create,To=Object.defineProperty,Vp=Object.defineProperties,Zp=Object.getOwnPropertyDescriptor,qp=Object.getOwnPropertyDescriptors,js=Object.getOwnPropertySymbols,Hc=Object.prototype.hasOwnProperty,Uc=Object.prototype.propertyIsEnumerable,Vc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),$r=e=>{throw TypeError(e)},Wi=(e,t,r)=>t in e?To(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zc=(e,t)=>{for(var r in t||(t={}))Hc.call(t,r)&&Wi(e,r,t[r]);if(js)for(var r of js(t))Uc.call(t,r)&&Wi(e,r,t[r]);return e},qc=(e,t)=>Vp(e,qp(t)),Ja=(e,t)=>To(e,"name",{value:t,configurable:!0}),Yc=(e,t)=>{var r={};for(var n in e)Hc.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&js)for(var n of js(e))t.indexOf(n)<0&&Uc.call(e,n)&&(r[n]=e[n]);return r},Rr=e=>{var t;return[,,,Up((t=e?.[Vc("metadata")])!=null?t:null)]},Xc=["class","method","getter","setter","accessor","field","value","get","set"],Qr=e=>e!==void 0&&typeof e!="function"?$r("Function expected"):e,Yp=(e,t,r,n,s)=>({kind:Xc[e],name:t,metadata:n,addInitializer:i=>r._?$r("Already initialized"):s.push(Qr(i||null))}),fr=(e,t)=>Wi(t,Vc("metadata"),e[3]),re=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},le=(e,t,r,n,s,i)=>{var o,a,c,l,u,d=t&7,p=!!(t&8),v=!!(t&16),g=d>3?e.length+1:d?p?1:2:0,k=Xc[d+5],y=d>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=d&&(!v&&!p&&(s=s.prototype),d<5&&(d>3||!v)&&Zp(d<4?s:{get[r](){return Ne(this,i)},set[r](b){return vt(this,i,b)}},r));d?v&&d<4&&Ja(i,(d>2?"set ":d>1?"get ":"")+r):Ja(s,r);for(var x=n.length-1;x>=0;x--)l=Yp(d,r,c={},e[3],S),d&&(l.static=p,l.private=v,u=l.access={has:v?b=>Xp(s,b):b=>r in b},d^3&&(u.get=v?b=>(d^1?Ne:Kp)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=v?(b,C)=>vt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?v?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,l),c._=1,d^4||a===void 0?Qr(a)&&(d>4?y.unshift(a):d?v?i=a:m[k]=a:s=a):typeof a!="object"||a===null?$r("Object expected"):(Qr(o=a.get)&&(m.get=o),Qr(o=a.set)&&(m.set=o),Qr(o=a.init)&&y.unshift(o));return d||fr(e,s),m&&To(s,r,m),v?d^4?i:m:s},Lo=(e,t,r)=>t.has(e)||$r("Cannot "+r),Xp=(e,t)=>Object(t)!==t?$r('Cannot use the "in" operator on this value'):e.has(t),Ne=(e,t,r)=>(Lo(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?$r("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),vt=(e,t,r,n)=>(Lo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Kp=(e,t,r)=>(Lo(e,t,"access private method"),r);function Kc(e,t){return{plugin:e,options:t}}function $o(e){return t=>Kc(e,t)}function Ro(e){return typeof e=="function"?{plugin:e,options:void 0}:e}var Gc,bn,No,cs;Gc=[ae];var We=class{constructor(e,t){this.manager=e,this.options=t,ve(this,No,re(bn,8,this,!1)),re(bn,11,this),ve(this,cs,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return ge(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){const t=et(e.bind(this));return Ne(this,cs).add(t),t}destroy(){Ne(this,cs).forEach(e=>e())}static configure(e){return Kc(this,e)}};bn=Rr(null);No=new WeakMap;cs=new WeakMap;le(bn,4,"disabled",Gc,We,No);fr(bn,We);var Vs=class extends We{},us,fi=class{constructor(e){this.manager=e,this.instances=new Map,ve(this,us,[])}get values(){return Array.from(this.instances.values())}set values(e){const t=e.map(Ro).reduceRight((n,s)=>n.some(({plugin:i})=>i===s.plugin)?n:[s,...n],[]),r=t.map(({plugin:n})=>n);for(const n of Ne(this,us))if(!r.includes(n)){if(n.prototype instanceof Vs)continue;this.unregister(n)}for(const{plugin:n,options:s}of t)this.register(n,s);vt(this,us,r)}get(e){return this.instances.get(e)}register(e,t){const r=this.instances.get(e);if(r)return r.options!==t&&(r.options=t),r;const n=new e(this.manager,t);return this.instances.set(e,n),n}unregister(e){const t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(const e of this.instances.values())e.destroy();this.instances.clear()}};us=new WeakMap;function Gp(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var Zn=[],yr,_r,Jp=class extends We{constructor(e){super(e),ve(this,yr),ve(this,_r),this.computeCollisions=this.computeCollisions.bind(this),vt(this,_r,$n(Zn)),this.destroy=Rn(()=>{const t=this.computeCollisions(),r=ge(()=>this.manager.dragOperation.position.current);if(t!==Zn){const n=Ne(this,yr);if(vt(this,yr,r),n&&r.x==n.x&&r.y==n.y)return}else vt(this,yr,void 0);Ne(this,_r).value=t},()=>{const{dragOperation:t}=this.manager;t.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){ge(()=>{e?Ne(this,_r).value=this.computeCollisions():vt(this,yr,void 0)})}computeCollisions(e,t){const{registry:r,dragOperation:n}=this.manager,{source:s,shape:i,status:o}=n;if(!o.initialized||!i)return Zn;const a=[],c=[];for(const l of e??r.droppables){if(l.disabled||s&&!l.accepts(s))continue;const u=t??l.collisionDetector;if(!u)continue;c.push(l),l.shape;const d=ge(()=>u({droppable:l,dragOperation:n}));d&&(l.collisionPriority!=null&&(d.priority=l.collisionPriority),a.push(d))}return c.length===0?Zn:(a.sort(Gp),a)}get collisions(){return Ne(this,_r).value}};yr=new WeakMap;_r=new WeakMap;var Qp=class{constructor(){this.registry=new Map}addEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));return s.add(r),n.set(t,s),()=>this.removeEventListener(t,r)}removeEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));s.delete(r),n.set(t,s)}dispatch(t,...r){const{registry:n}=this,s=n.get(t);if(s)for(const i of s)i(...r)}},eh=class extends Qp{constructor(e){super(),this.manager=e}dispatch(e,t){const r=[t,this.manager];super.dispatch(e,...r)}};function ds(e,t=!0){let r=!1;return qc(Zc({},e),{cancelable:t,get defaultPrevented(){return r},preventDefault(){t&&(r=!0)}})}var th=class extends Vs{constructor(e){super(e);const t=(n,s)=>n.map(({id:i})=>i).join("")===s.map(({id:i})=>i).join("");let r=[];this.destroy=Rn(()=>{const{dragOperation:n,collisionObserver:s}=e;n.status.initializing&&(r=[],s.enable())},()=>{const{collisionObserver:n,monitor:s}=e,{collisions:i}=n;if(n.isDisabled())return;const o=ds({collisions:i});if(s.dispatch("collision",o),o.defaultPrevented||t(i,r))return;r=i;const[a]=i;ge(()=>{var c;a?.id!==((c=e.dragOperation.target)==null?void 0:c.id)&&(n.disable(),e.actions.setDropTarget(a?.id).then(()=>{n.enable()}))})})}},ut=(e=>(e[e.Lowest=0]="Lowest",e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Highest=4]="Highest",e))(ut||{}),Dt=(e=>(e[e.Collision=0]="Collision",e[e.ShapeIntersection=1]="ShapeIntersection",e[e.PointerIntersection=2]="PointerIntersection",e))(Dt||{}),Jc,Qc,eu,tu,ru,nu,su,ft,zo;su=[ae],nu=[Me],ru=[Me],tu=[Me],eu=[Me],Qc=[Me],Jc=[Me];var Mt=class{constructor(){re(ft,5,this),ve(this,zo,re(ft,8,this,"idle")),re(ft,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:e}=this;return e!=="idle"&&e!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(e){this.value=e}};ft=Rr(null);zo=new WeakMap;le(ft,4,"value",su,Mt,zo);le(ft,2,"current",nu,Mt);le(ft,2,"idle",ru,Mt);le(ft,2,"initializing",tu,Mt);le(ft,2,"initialized",eu,Mt);le(ft,2,"dragging",Qc,Mt);le(ft,2,"dropped",Jc,Mt);fr(ft,Mt);var rh=class{constructor(e){this.manager=e}setDragSource(e){const{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e=="string"||typeof e=="number"?e:e.id}setDropTarget(e){return ge(()=>{const{dragOperation:t}=this.manager,r=e??null;if(t.targetIdentifier===r)return Promise.resolve(!1);t.targetIdentifier=r;const n=ds({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch("dragover",n),this.manager.renderer.rendering.then(()=>n.defaultPrevented)})}start(e){return ge(()=>{const{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw new Error("Cannot start a drag operation without a drag source");if(!t.status.idle)throw new Error("Cannot start a drag operation while another is active");const n=new AbortController,{event:s,coordinates:i}=e;Ee(()=>{t.status.set("initialization-pending"),t.shape=null,t.canceled=!1,t.activatorEvent=s??null,t.position.reset(i)});const o=ds({operation:t.snapshot()});return this.manager.monitor.dispatch("beforedragstart",o),o.defaultPrevented?(t.reset(),n.abort(),n):(t.status.set("initializing"),t.controller=n,this.manager.renderer.rendering.then(()=>{if(n.signal.aborted)return;const{status:a}=t;a.current==="initializing"&&(t.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:s,operation:t.snapshot(),cancelable:!1}))}),n)})}move(e){return ge(()=>{var t,r;const{dragOperation:n}=this.manager,{status:s,controller:i}=n;if(!s.dragging||!i||i.signal.aborted)return;const o=ds({nativeEvent:e.event,operation:n.snapshot(),by:e.by,to:e.to},(t=e.cancelable)!=null?t:!0);((r=e.propagate)==null||r)&&this.manager.monitor.dispatch("dragmove",o),queueMicrotask(()=>{var a,c,l,u,d;if(o.defaultPrevented)return;const p=(d=e.to)!=null?d:{x:n.position.current.x+((c=(a=e.by)==null?void 0:a.x)!=null?c:0),y:n.position.current.y+((u=(l=e.by)==null?void 0:l.y)!=null?u:0)};n.position.current=p})})}stop(e={}){return ge(()=>{var t,r;const{dragOperation:n}=this.manager,{controller:s}=n;if(!s||s.signal.aborted)return;let i;const o=()=>{const c={resume:()=>{},abort:()=>{}};return i=new Promise((l,u)=>{c.resume=l,c.abort=u}),c};s.abort();const a=()=>{this.manager.renderer.rendering.then(()=>{n.status.set("dropped");const c=ge(()=>{var u;return((u=n.source)==null?void 0:u.status)==="dropping"}),l=()=>{n.controller===s&&(n.controller=void 0),n.reset()};if(c){const{source:u}=n,d=et(()=>{u?.status==="idle"&&(d(),l())})}else this.manager.renderer.rendering.then(l)})};n.canceled=(t=e.canceled)!=null?t:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:e.event,operation:n.snapshot(),canceled:(r=e.canceled)!=null?r:!1,suspend:o}),i?i.then(a).catch(()=>n.reset()):a()})}},iu,ou,au,lu,Qe,Fo,Bo,Wo,Ho;lu=[ae],au=[ae],ou=[ae],iu=[ae];var Gt=class{constructor(e,t){ve(this,Fo,re(Qe,8,this)),re(Qe,11,this),ve(this,Bo,re(Qe,12,this)),re(Qe,15,this),ve(this,Wo,re(Qe,16,this)),re(Qe,19,this),ve(this,Ho,re(Qe,20,this)),re(Qe,23,this);const{effects:r,id:n,data:s={},disabled:i=!1,register:o=!0}=e;let a=n;this.manager=t,this.id=n,this.data=s,this.disabled=i,this.effects=()=>{var c;return[()=>{const{id:l,manager:u}=this;if(l!==a)return u?.registry.register(this),()=>u?.registry.unregister(this)},...(c=r?.())!=null?c:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&o&&queueMicrotask(this.register)}register(){var e;return(e=this.manager)==null?void 0:e.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};Qe=Rr(null);Fo=new WeakMap;Bo=new WeakMap;Wo=new WeakMap;Ho=new WeakMap;le(Qe,4,"manager",lu,Gt,Fo);le(Qe,4,"id",au,Gt,Bo);le(Qe,4,"data",ou,Gt,Wo);le(Qe,4,"disabled",iu,Gt,Ho);fr(Qe,Gt);var Qa=class{constructor(){this.map=$n(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{const r=this.map.peek(),n=r.get(e),s=()=>this.unregister(e,t);if(n===t)return s;if(n){const a=this.cleanupFunctions.get(n);a?.(),this.cleanupFunctions.delete(n)}const i=new Map(r);i.set(e,t),this.map.value=i;const o=Rn(...t.effects());return this.cleanupFunctions.set(t,o),s},this.unregister=(e,t)=>{const r=this.map.peek();if(r.get(e)!==t)return;const n=this.cleanupFunctions.get(t);n?.(),this.cleanupFunctions.delete(t);const s=new Map(r);s.delete(e),this.map.value=s}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(const e of this){const t=this.cleanupFunctions.get(e);t?.(),e.destroy()}this.map.value=new Map}},cu,uu,du,fu,pu,hu,Hi,Xe,Uo,Vo,Zo,kt=class extends(Hi=Gt,hu=[ae],pu=[ae],fu=[ae],du=[Me],uu=[Me],cu=[Me],Hi){constructor(t,r){var n=t,{modifiers:s,type:i,sensors:o}=n,a=Yc(n,["modifiers","type","sensors"]);super(a,r),re(Xe,5,this),ve(this,Uo,re(Xe,8,this)),re(Xe,11,this),ve(this,Vo,re(Xe,12,this)),re(Xe,15,this),ve(this,Zo,re(Xe,16,this,this.isDragSource?"dragging":"idle")),re(Xe,19,this),this.type=i,this.sensors=o,this.modifiers=s,this.alignment=a.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.source)==null?void 0:r.id)===this.id}};Xe=Rr(Hi);Uo=new WeakMap;Vo=new WeakMap;Zo=new WeakMap;le(Xe,4,"type",hu,kt,Uo);le(Xe,4,"modifiers",pu,kt,Vo);le(Xe,4,"status",fu,kt,Zo);le(Xe,2,"isDropping",du,kt);le(Xe,2,"isDragging",uu,kt);le(Xe,2,"isDragSource",cu,kt);fr(Xe,kt);var gu,vu,mu,yu,_u,bu,Ui,De,qo,Yo,Xo,Ko,Go,jt=class extends(Ui=Gt,bu=[ae],_u=[ae],yu=[ae],mu=[ae],vu=[ae],gu=[Me],Ui){constructor(t,r){var n=t,{accept:s,collisionDetector:i,collisionPriority:o,type:a}=n,c=Yc(n,["accept","collisionDetector","collisionPriority","type"]);super(c,r),re(De,5,this),ve(this,qo,re(De,8,this)),re(De,11,this),ve(this,Yo,re(De,12,this)),re(De,15,this),ve(this,Xo,re(De,16,this)),re(De,19,this),ve(this,Ko,re(De,20,this)),re(De,23,this),ve(this,Go,re(De,24,this)),re(De,27,this),this.accept=s,this.collisionDetector=i,this.collisionPriority=o,this.type=a}accepts(t){const{accept:r}=this;return r?typeof r=="function"?r(t):t.type?Array.isArray(r)?r.includes(t.type):t.type===r:!1:!0}get isDropTarget(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.target)==null?void 0:r.id)===this.id}};De=Rr(Ui);qo=new WeakMap;Yo=new WeakMap;Xo=new WeakMap;Ko=new WeakMap;Go=new WeakMap;le(De,4,"accept",bu,jt,qo);le(De,4,"type",_u,jt,Yo);le(De,4,"collisionDetector",yu,jt,Xo);le(De,4,"collisionPriority",mu,jt,Ko);le(De,4,"shape",vu,jt,Go);le(De,2,"isDropTarget",gu,jt);fr(De,jt);var Cr=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}},el=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},nh=class{constructor(e){this.draggables=new Qa,this.droppables=new Qa,this.plugins=new fi(e),this.sensors=new fi(e),this.modifiers=new fi(e)}register(e,t){if(e instanceof kt)return this.draggables.register(e.id,e);if(e instanceof jt)return this.droppables.register(e.id,e);if(e.prototype instanceof el)return this.modifiers.register(e,t);if(e.prototype instanceof Cr)return this.sensors.register(e,t);if(e.prototype instanceof We)return this.plugins.register(e,t);throw new Error("Invalid instance type")}unregister(e){if(e instanceof Gt)return e instanceof kt?this.draggables.unregister(e.id,e):e instanceof jt?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof el)return this.modifiers.unregister(e);if(e.prototype instanceof Cr)return this.sensors.unregister(e);if(e.prototype instanceof We)return this.plugins.unregister(e);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},xu,wu,Su,Iu,Eu,ku,ju,Cu,Du,en,fs,br,Se,Jo,Qo,ea,ta,ra,tn;Du=[Me],Cu=[ae],ju=[ae],ku=[ae],Eu=[ae],Iu=[ae],Su=[Me],wu=[Me],xu=[Me];var St=class{constructor(e){re(Se,5,this),ve(this,en),ve(this,fs),ve(this,br,new dr(void 0,(t,r)=>t&&r?t.equals(r):t===r)),this.status=new Mt,ve(this,Jo,re(Se,8,this,!1)),re(Se,11,this),ve(this,Qo,re(Se,12,this,null)),re(Se,15,this),ve(this,ea,re(Se,16,this,null)),re(Se,19,this),ve(this,ta,re(Se,20,this,null)),re(Se,23,this),ve(this,ra,re(Se,24,this,[])),re(Se,27,this),this.position=new Us({x:0,y:0}),ve(this,tn,{x:0,y:0}),vt(this,en,e)}get shape(){const{current:e,initial:t,previous:r}=Ne(this,br);return!e||!t?null:{current:e,initial:t,previous:r}}set shape(e){e?Ne(this,br).current=e:Ne(this,br).reset()}get source(){var e;const t=this.sourceIdentifier;if(t==null)return null;const r=Ne(this,en).registry.draggables.get(t);return r&&vt(this,fs,r),(e=r??Ne(this,fs))!=null?e:null}get target(){var e;const t=this.targetIdentifier;return t!=null&&(e=Ne(this,en).registry.droppables.get(t))!=null?e:null}get transform(){const{x:e,y:t}=this.position.delta;let r={x:e,y:t};for(const n of this.modifiers)r=n.apply(qc(Zc({},this.snapshot()),{transform:r}));return vt(this,tn,r),r}snapshot(){return ge(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:Ne(this,tn),shape:this.shape?ui(this.shape):null,position:ui(this.position),status:ui(this.status),canceled:this.canceled}))}reset(){Ee(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,Ne(this,br).reset(),this.position.reset({x:0,y:0}),vt(this,tn,{x:0,y:0}),this.modifiers=[]})}};Se=Rr(null);en=new WeakMap;fs=new WeakMap;br=new WeakMap;Jo=new WeakMap;Qo=new WeakMap;ea=new WeakMap;ta=new WeakMap;ra=new WeakMap;tn=new WeakMap;le(Se,2,"shape",Du,St);le(Se,4,"canceled",Cu,St,Jo);le(Se,4,"activatorEvent",ju,St,Qo);le(Se,4,"sourceIdentifier",ku,St,ea);le(Se,4,"targetIdentifier",Eu,St,ta);le(Se,4,"modifiers",Iu,St,ra);le(Se,2,"source",Su,St);le(Se,2,"target",wu,St);le(Se,2,"transform",xu,St);fr(Se,St);var sh={get rendering(){return Promise.resolve()}},ih=class{constructor(t){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(u=>u.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:r=[],sensors:n=[],modifiers:s=[],renderer:i=sh}=t??{},o=new eh(this),a=new nh(this);this.registry=a,this.monitor=o,this.renderer=i,this.actions=new rh(this),this.dragOperation=new St(this),this.collisionObserver=new Jp(this),this.plugins=[th,...r],this.modifiers=s,this.sensors=n;const{destroy:c}=this,l=Rn(()=>{var u,d,p;const v=ge(()=>this.dragOperation.modifiers),g=this.modifiers;v!==g&&v.forEach(k=>k.destroy()),this.dragOperation.modifiers=(p=(d=(u=this.dragOperation.source)==null?void 0:u.modifiers)==null?void 0:d.map(k=>{const{plugin:y,options:S}=Ro(k);return new y(this,S)}))!=null?p:g});this.destroy=()=>{l(),c()}}get plugins(){return this.registry.plugins.values}set plugins(t){this.registry.plugins.values=t}get modifiers(){return this.registry.modifiers.values}set modifiers(t){this.registry.modifiers.values=t}get sensors(){return this.registry.sensors.values}set sensors(t){this.registry.sensors.values=t}},Pu=e=>{throw TypeError(e)},na=(e,t,r)=>t.has(e)||Pu("Cannot "+r),ne=(e,t,r)=>(na(e,t,"read from private field"),t.get(e)),Je=(e,t,r)=>t.has(e)?Pu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,n)=>(na(e,t,"write to private field"),t.set(e,r),r),Ou=(e,t,r)=>(na(e,t,"access private method"),r);function Zs(e){return e?e instanceof KeyframeEffect?!0:"getKeyframes"in e&&typeof e.getKeyframes=="function":!1}function Au(e,t){const r=e.getAnimations();if(r.length>0)for(const n of r){if(n.playState!=="running")continue;const{effect:s}=n,o=(Zs(s)?s.getKeyframes():[]).filter(t);if(o.length>0)return[o[o.length-1],n]}return null}function qs(e){const{width:t,height:r,top:n,left:s,bottom:i,right:o}=e.getBoundingClientRect();return{width:t,height:r,top:n,left:s,bottom:i,right:o}}var Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sa(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ia(e){return"nodeType"in e}function Tt(e){var t,r,n;return e?sa(e)?e:ia(e)?"defaultView"in e?(t=e.defaultView)!=null?t:window:(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window:window}function Tu(e){const{Document:t}=Tt(e);return e instanceof t||"nodeType"in e&&e.nodeType===Node.DOCUMENT_NODE}function cr(e){return!e||sa(e)?!1:e instanceof Tt(e).HTMLElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("html")}function Lu(e){return e instanceof Tt(e).SVGElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("svg")}function Ct(e){return e?sa(e)?e.document:ia(e)?Tu(e)?e:cr(e)||Lu(e)?e.ownerDocument:document:document:document}function oh(e){const{documentElement:t}=Ct(e),r=t.clientWidth,n=t.clientHeight;return{top:0,left:0,right:r,bottom:n,width:r,height:n}}function ah(e,t){if(lh(e)&&e.open===!1)return!1;const{overflow:r,overflowX:n,overflowY:s}=getComputedStyle(e);return r==="visible"&&n==="visible"&&s==="visible"}function lh(e){return e.tagName==="DETAILS"}function xn(e,t=e.getBoundingClientRect(),r=0){var n;let s=t;const{ownerDocument:i}=e,o=(n=i.defaultView)!=null?n:window;let a=e.parentElement;for(;a&&a!==i.documentElement;){if(!ah(a)){const p=a.getBoundingClientRect(),v=r*(p.bottom-p.top),g=r*(p.right-p.left),k=r*(p.bottom-p.top),y=r*(p.right-p.left);s={top:Math.max(s.top,p.top-v),right:Math.min(s.right,p.right+g),bottom:Math.min(s.bottom,p.bottom+k),left:Math.max(s.left,p.left-y),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top}a=a.parentElement}const c=o.innerWidth,l=o.innerHeight,u=r*l,d=r*c;return s={top:Math.max(s.top,0-u),right:Math.min(s.right,c+d),bottom:Math.min(s.bottom,l+u),left:Math.max(s.left,0-d),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0&&(s.width=0),s.height<0&&(s.height=0),s}function $u(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ch(e){const t="input, textarea, select, canvas, [contenteditable]",r=e.cloneNode(!0),n=Array.from(e.querySelectorAll(t));return Array.from(r.querySelectorAll(t)).forEach((i,o)=>{const a=n[o];if(tl(i)&&tl(a)&&(i.type!=="file"&&(i.value=a.value),i.type==="radio"&&i.name&&(i.name=`Cloned__${i.name}`)),rl(i)&&rl(a)&&a.width>0&&a.height>0){const c=i.getContext("2d");c?.drawImage(a,0,0)}}),r}function tl(e){return"value"in e}function rl(e){return e.tagName==="CANVAS"}function Ru(e,{x:t,y:r}){const n=e.elementFromPoint(t,r);if(uh(n)){const{contentDocument:s}=n;if(s){const{left:i,top:o}=n.getBoundingClientRect();return Ru(s,{x:t-i,y:r-o})}}return n}function uh(e){return e?.tagName==="IFRAME"}var Vi=new WeakMap,Nu=class{constructor(){this.entries=new Set,this.clear=()=>{for(const e of this.entries){const[t,{type:r,listener:n,options:s}]=e;t.removeEventListener(r,n,s)}this.entries.clear()}}bind(e,t){const r=Array.isArray(t)?t:[t],n=[];for(const s of r){const{type:i,listener:o,options:a}=s,c=[e,s];e.addEventListener(i,o,a),this.entries.add(c),n.push(c)}return function(){for(const[i,{type:o,listener:a,options:c}]of n)i.removeEventListener(o,a,c)}}};function Dr(e){const t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function dh(e){const t=new Set;let r=Dr(e);for(;r;)t.add(r),r=Dr(r);return t}function fh(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function zu(e,t){const r=()=>performance.now();let n,s;return function(...i){const o=this;s?(n?.(),n=fh(()=>{e.apply(o,i),s=r()},t-(r()-s))):(e.apply(o,i),s=r())}}function ph(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function hh(e,t=e.getBoundingClientRect()){const{width:r,height:n}=xn(e,t);return r>0&&n>0}var gh=Mu?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},ps,vh=class extends gh{constructor(e){super(t=>{if(!ne(this,ps)){nt(this,ps,!0);return}e(t,this)}),Je(this,ps,!1)}};ps=new WeakMap;var nl=Array.from({length:100},(e,t)=>t/100),Fu=75,tr,Cs,Ft,rr,rn,Re,vn,nn,Ds,Bu,Wu,Hu=class{constructor(e,t,r={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,Je(this,Ds),this.disconnect=()=>{var i,o,a;nt(this,vn,!0),(i=ne(this,Ft))==null||i.disconnect(),(o=ne(this,rr))==null||o.disconnect(),ne(this,rn).disconnect(),(a=ne(this,Re))==null||a.remove()},Je(this,tr,!0),Je(this,Cs),Je(this,Ft),Je(this,rr),Je(this,rn),Je(this,Re),Je(this,vn,!1),Je(this,nn,zu(()=>{var i,o,a;const{element:c}=this;if((i=ne(this,rr))==null||i.disconnect(),ne(this,vn)||!ne(this,tr)||!c.isConnected)return;const l=(o=c.ownerDocument)!=null?o:document,{innerHeight:u,innerWidth:d}=(a=l.defaultView)!=null?a:window,p=c.getBoundingClientRect(),v=xn(c,p),{top:g,left:k,bottom:y,right:S}=v,m=-Math.floor(g),x=-Math.floor(k),b=-Math.floor(d-S),C=-Math.floor(u-y),I=`${m}px ${b}px ${C}px ${x}px`;this.boundingClientRect=p,nt(this,rr,new IntersectionObserver(P=>{const[_]=P,{intersectionRect:j}=_;(_.intersectionRatio!==1?_.intersectionRatio:xt.intersectionRatio(j,xn(c)))!==1&&ne(this,nn).call(this)},{threshold:nl,rootMargin:I,root:l})),ne(this,rr).observe(c),Ou(this,Ds,Bu).call(this)},Fu)),this.boundingClientRect=e.getBoundingClientRect(),nt(this,tr,hh(e,this.boundingClientRect));let n=!0;this.callback=i=>{n&&(n=!1,r.skipInitial)||t(i)};const s=e.ownerDocument;r?.debug&&(nt(this,Re,document.createElement("div")),ne(this,Re).style.background="rgba(0,0,0,0.15)",ne(this,Re).style.position="fixed",ne(this,Re).style.pointerEvents="none",s.body.appendChild(ne(this,Re))),nt(this,rn,new IntersectionObserver(i=>{var o,a;const c=i[i.length-1],{boundingClientRect:l,isIntersecting:u}=c,{width:d,height:p}=l,v=ne(this,tr);nt(this,tr,u),!(!d&&!p)&&(v&&!u?((o=ne(this,rr))==null||o.disconnect(),this.callback(null),(a=ne(this,Ft))==null||a.disconnect(),nt(this,Ft,void 0),ne(this,Re)&&(ne(this,Re).style.visibility="hidden")):ne(this,nn).call(this),u&&!ne(this,Ft)&&(nt(this,Ft,new vh(ne(this,nn))),ne(this,Ft).observe(e)))},{threshold:nl,root:s})),ne(this,tr)&&!r.skipInitial&&this.callback(this.boundingClientRect),ne(this,rn).observe(e)}};tr=new WeakMap;Cs=new WeakMap;Ft=new WeakMap;rr=new WeakMap;rn=new WeakMap;Re=new WeakMap;vn=new WeakMap;nn=new WeakMap;Ds=new WeakSet;Bu=function(){ne(this,vn)||(Ou(this,Ds,Wu).call(this),!ph(this.boundingClientRect,ne(this,Cs))&&(this.callback(this.boundingClientRect),nt(this,Cs,this.boundingClientRect)))};Wu=function(){if(ne(this,Re)){const{top:e,left:t,width:r,height:n}=xn(this.element);ne(this,Re).style.overflow="hidden",ne(this,Re).style.visibility="visible",ne(this,Re).style.top=`${Math.floor(e)}px`,ne(this,Re).style.left=`${Math.floor(t)}px`,ne(this,Re).style.width=`${Math.floor(r)}px`,ne(this,Re).style.height=`${Math.floor(n)}px`}};var qn=new WeakMap,Yn=new WeakMap;function mh(e,t){let r=qn.get(e);return r||(r={disconnect:new Hu(e,s=>{const i=qn.get(e);i&&i.callbacks.forEach(o=>o(s))},{skipInitial:!0}).disconnect,callbacks:new Set}),r.callbacks.add(t),qn.set(e,r),()=>{r.callbacks.delete(t),r.callbacks.size===0&&(qn.delete(e),r.disconnect())}}function yh(e,t){const r=new Set;for(const n of e){const s=mh(n,t);r.add(s)}return()=>r.forEach(n=>n())}function _h(e,t){var r;const n=e.ownerDocument;if(!Yn.has(n)){const o=new AbortController,a=new Set;document.addEventListener("scroll",c=>a.forEach(l=>l(c)),{capture:!0,passive:!0,signal:o.signal}),Yn.set(n,{disconnect:()=>o.abort(),listeners:a})}const{listeners:s,disconnect:i}=(r=Yn.get(n))!=null?r:{};return!s||!i?()=>{}:(s.add(t),()=>{s.delete(t),s.size===0&&(i(),Yn.delete(n))})}var sn,on,hs,Zi,bh=class{constructor(e,t,r){this.callback=t,Je(this,sn),Je(this,on,!1),Je(this,hs),Je(this,Zi,zu(o=>{if(!ne(this,on)&&o.target&&"contains"in o.target&&typeof o.target.contains=="function"){for(const a of ne(this,hs))if(o.target.contains(a)){this.callback(ne(this,sn).boundingClientRect);break}}},Fu));const n=dh(e),s=yh(n,t),i=_h(e,ne(this,Zi));nt(this,hs,n),nt(this,sn,new Hu(e,t,r)),this.disconnect=()=>{ne(this,on)||(nt(this,on,!0),s(),i(),ne(this,sn).disconnect())}}};sn=new WeakMap;on=new WeakMap;hs=new WeakMap;Zi=new WeakMap;function qi(e){return"showPopover"in e&&"hidePopover"in e&&typeof e.showPopover=="function"&&typeof e.hidePopover=="function"}function an(e){try{qi(e)&&e.isConnected&&e.hasAttribute("popover")&&!e.matches(":popover-open")&&e.showPopover()}catch{}}function sl(e){return!Mu||!e?!1:e===Ct(e).scrollingElement}function Uu(e){const t=Tt(e),r=sl(e)?oh(e):qs(e),n=sl(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-n.width,y:e.scrollHeight-n.height}},i=s.current.y<=0,o=s.current.x<=0,a=s.current.y>=s.max.y,c=s.current.x>=s.max.x;return{rect:r,position:s,isTop:i,isLeft:o,isBottom:a,isRight:c}}function xh(e,t){const{isTop:r,isBottom:n,isLeft:s,isRight:i,position:o}=Uu(e),{x:a,y:c}=t??{x:0,y:0},l=!r&&o.current.y+c>0,u=!n&&o.current.y+c<o.max.y,d=!s&&o.current.x+a>0,p=!i&&o.current.x+a<o.max.x;return{top:l,bottom:u,left:d,right:p,x:d||p,y:l||u}}var oa=class{constructor(t){this.scheduler=t,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:r,resolvers:n}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const s of r)s();for(const s of n)s()}}schedule(t){return this.tasks.add(t),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(r=>this.resolvers.add(r))}},Ps=new oa(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),wh=new oa(e=>setTimeout(e,50)),Os=new Map,Sh=Os.clear.bind(Os);function wt(e,t=!1){if(!t)return il(e);let r=Os.get(e);return r||(r=il(e),Os.set(e,r),wh.schedule(Sh),r)}function il(e){return Tt(e).getComputedStyle(e)}function Ih(e,t=wt(e,!0)){return t.position==="fixed"||t.position==="sticky"}function Eh(e,t=wt(e,!0)){const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}var kh={excludeElement:!0};function Yi(e,t=kh){const{limit:r,excludeElement:n}=t,s=new Set;function i(o){if(r!=null&&s.size>=r||!o)return s;if(Tu(o)&&o.scrollingElement!=null&&!s.has(o.scrollingElement))return s.add(o.scrollingElement),s;if(!cr(o))return Lu(o)?i(o.parentElement):s;if(s.has(o))return s;const a=wt(o,!0);if(n&&o===e||Eh(o,a)&&s.add(o),Ih(o,a)){const{scrollingElement:c}=o.ownerDocument;return c&&s.add(c),s}return i(o.parentNode)}return e?i(e):s}function jh(e){const[t]=Yi(e,{limit:1});return t??null}function Pr(e,t=window.frameElement){const r={x:0,y:0,scaleX:1,scaleY:1};if(!e)return r;let n=Dr(e);for(;n;){if(n===t)return r;const s=qs(n),{x:i,y:o}=Ch(n,s);r.x=r.x+s.left,r.y=r.y+s.top,r.scaleX=r.scaleX*i,r.scaleY=r.scaleY*o,n=Dr(n)}return r}function Ch(e,t=qs(e)){const r=Math.round(t.width),n=Math.round(t.height);if(cr(e))return{x:r/e.offsetWidth,y:n/e.offsetHeight};const s=wt(e,!0);return{x:(parseFloat(s.width)||r)/r,y:(parseFloat(s.height)||n)/n}}function Dh(e){if(e==="none")return null;const t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return isNaN(r)&&isNaN(n)?null:{x:isNaN(r)?n:r,y:isNaN(n)?r:n}}function wn(e){if(e==="none")return null;const[t,r,n="0"]=e.split(" "),s={x:parseFloat(t),y:parseFloat(r),z:parseInt(n,10)};return isNaN(s.x)&&isNaN(s.y)?null:{x:isNaN(s.x)?0:s.x,y:isNaN(s.y)?0:s.y,z:isNaN(s.z)?0:s.z}}function aa(e){var t,r,n,s,i,o,a,c,l;const{scale:u,transform:d,translate:p}=e,v=Dh(u),g=wn(p),k=Ph(d);if(!k&&!v&&!g)return null;const y={x:(t=v?.x)!=null?t:1,y:(r=v?.y)!=null?r:1},S={x:(n=g?.x)!=null?n:0,y:(s=g?.y)!=null?s:0},m={x:(i=k?.x)!=null?i:0,y:(o=k?.y)!=null?o:0,scaleX:(a=k?.scaleX)!=null?a:1,scaleY:(c=k?.scaleY)!=null?c:1};return{x:S.x+m.x,y:S.y+m.y,z:(l=g?.z)!=null?l:0,scaleX:y.x*m.scaleX,scaleY:y.y*m.scaleY}}function Ph(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var dt=(e=>(e[e.Idle=0]="Idle",e[e.Forward=1]="Forward",e[e.Reverse=-1]="Reverse",e))(dt||{}),Oh={x:.2,y:.2},Ah={x:10,y:10};function Mh(e,t,r,n=25,s=Oh,i=Ah){const{x:o,y:a}=t,{rect:c,isTop:l,isBottom:u,isLeft:d,isRight:p}=Uu(e),v=Pr(e),g=wt(e,!0),k=aa(g),y=k!==null?k?.scaleX<0:!1,S=k!==null?k?.scaleY<0:!1,m=new xt(c.left*v.scaleX+v.x,c.top*v.scaleY+v.y,c.width*v.scaleX,c.height*v.scaleY),x={x:0,y:0},b={x:0,y:0},C={height:m.height*s.y,width:m.width*s.x};return(!l||S&&!u)&&a<=m.top+C.height&&r?.y!==1&&o>=m.left-i.x&&o<=m.right+i.x?(x.y=S?1:-1,b.y=n*Math.abs((m.top+C.height-a)/C.height)):(!u||S&&!l)&&a>=m.bottom-C.height&&r?.y!==-1&&o>=m.left-i.x&&o<=m.right+i.x&&(x.y=S?-1:1,b.y=n*Math.abs((m.bottom-C.height-a)/C.height)),(!p||y&&!d)&&o>=m.right-C.width&&r?.x!==-1&&a>=m.top-i.y&&a<=m.bottom+i.y?(x.x=y?-1:1,b.x=n*Math.abs((m.right-C.width-o)/C.width)):(!d||y&&!p)&&o<=m.left+C.width&&r?.x!==1&&a>=m.top-i.y&&a<=m.bottom+i.y&&(x.x=y?1:-1,b.x=n*Math.abs((m.left+C.width-o)/C.width)),{direction:x,speed:b}}function Th(e){return"scrollIntoViewIfNeeded"in e&&typeof e.scrollIntoViewIfNeeded=="function"}function Vu(e,t=!1){if(Th(e)){e.scrollIntoViewIfNeeded(t);return}if(!cr(e))return e.scrollIntoView();var r=jh(e);if(!cr(r))return;const n=wt(r,!0),s=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=e.offsetTop-r.offsetTop<r.scrollTop,a=e.offsetTop-r.offsetTop+e.clientHeight-s>r.scrollTop+r.clientHeight,c=e.offsetLeft-r.offsetLeft<r.scrollLeft,l=e.offsetLeft-r.offsetLeft+e.clientWidth-i>r.scrollLeft+r.clientWidth,u=o&&!a;(o||a)&&t&&(r.scrollTop=e.offsetTop-r.offsetTop-r.clientHeight/2-s+e.clientHeight/2),(c||l)&&t&&(r.scrollLeft=e.offsetLeft-r.offsetLeft-r.clientWidth/2-i+e.clientWidth/2),(o||a||c||l)&&!t&&e.scrollIntoView(u)}function Lh(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left+i+(1-n)*parseFloat(r),c=e.top+o+(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),l=n?e.width*n:e.width,u=s?e.height*s:e.height;return{width:l,height:u,top:c,right:a+l,bottom:c+u,left:a}}function $h(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left-i-(1-n)*parseFloat(r),c=e.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),l=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:l,height:u,top:c,right:a+l,bottom:c+u,left:a}}function Zu({element:e,keyframes:t,options:r}){return e.animate(t,r).finished}function ol(e,t=wt(e).translate,r=!0){if(r){const n=Au(e,s=>"translate"in s);if(n){const{translate:s=""}=n[0];if(typeof s=="string"){const i=wn(s);if(i)return i}}}if(t){const n=wn(t);if(n)return n}return{x:0,y:0,z:0}}var Rh=new oa(e=>setTimeout(e,0)),mn=new Map,Nh=mn.clear.bind(mn);function zh(e){const t=e.ownerDocument;let r=mn.get(t);if(r)return r;r=t.getAnimations(),mn.set(t,r),Rh.schedule(Nh);const n=r.filter(s=>Zs(s.effect)&&s.effect.target===e);return mn.set(e,n),r}function Fh(e,t){const r=zh(e).filter(n=>{var s,i;if(Zs(n.effect)){const{target:o}=n.effect;if((i=o&&((s=t.isValidTarget)==null?void 0:s.call(t,o)))!=null?i:!0)return n.effect.getKeyframes().some(c=>{for(const l of t.properties)if(c[l])return!0})}}).map(n=>{const{effect:s,currentTime:i}=n,o=s?.getComputedTiming().duration;if(!(n.pending||n.playState==="finished")&&typeof o=="number"&&typeof i=="number"&&i<o)return n.currentTime=o,()=>{n.currentTime=i}});if(r.length>0)return()=>r.forEach(n=>n?.())}var ht=class extends xt{constructor(e,t={}){var r,n,s,i;const{frameTransform:o=Pr(e),ignoreTransforms:a,getBoundingClientRect:c=qs}=t,l=Fh(e,{properties:["transform","translate","scale","width","height"],isValidTarget:C=>(C!==e||$u())&&C.contains(e)}),u=c(e);let{top:d,left:p,width:v,height:g}=u,k;const y=wt(e),S=aa(y),m={x:(r=S?.scaleX)!=null?r:1,y:(n=S?.scaleY)!=null?n:1},x=Bh(e,y);l?.(),S&&(k=$h(u,S,y.transformOrigin),(a||x)&&(d=k.top,p=k.left,v=k.width,g=k.height));const b={width:(s=k?.width)!=null?s:v,height:(i=k?.height)!=null?i:g};if(x&&!a&&k){const C=Lh(k,x,y.transformOrigin);d=C.top,p=C.left,v=C.width,g=C.height,m.x=x.scaleX,m.y=x.scaleY}o&&(a||(p*=o.scaleX,v*=o.scaleX,d*=o.scaleY,g*=o.scaleY),p+=o.x,d+=o.y),super(p,d,v,g),this.scale=m,this.intrinsicWidth=b.width,this.intrinsicHeight=b.height}};function Bh(e,t){var r;const n=e.getAnimations();let s=null;if(!n.length)return null;for(const i of n){if(i.playState!=="running")continue;const o=Zs(i.effect)?i.effect.getKeyframes():[],a=o[o.length-1];if(!a)continue;const{transform:c,translate:l,scale:u}=a;if(c||l||u){const d=aa({transform:typeof c=="string"&&c?c:t.transform,translate:typeof l=="string"&&l?l:t.translate,scale:typeof u=="string"&&u?u:t.scale});d&&(s=s?{x:s.x+d.x,y:s.y+d.y,z:(r=s.z)!=null?r:d.z,scaleX:s.scaleX*d.scaleX,scaleY:s.scaleY*d.scaleY}:d)}}return s}function yn(e){return"style"in e&&typeof e.style=="object"&&e.style!==null&&"setProperty"in e.style&&"removeProperty"in e.style&&typeof e.style.setProperty=="function"&&typeof e.style.removeProperty=="function"}var Wh=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=""){const{element:r}=this;if(yn(r))for(const[n,s]of Object.entries(e)){const i=`${t}${n}`;this.initial.has(i)||this.initial.set(i,r.style.getPropertyValue(i)),r.style.setProperty(i,typeof s=="string"?s:`${s}px`)}}remove(e,t=""){const{element:r}=this;if(yn(r))for(const n of e){const s=`${t}${n}`;r.style.removeProperty(s)}}reset(){const{element:e}=this;if(yn(e)){for(const[t,r]of this.initial)e.style.setProperty(t,r);e.getAttribute("style")===""&&e.removeAttribute("style")}}};function Nr(e){return e?e instanceof Tt(e).Element||ia(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function Sn(e){if(!e)return!1;const{KeyboardEvent:t}=Tt(e.target);return e instanceof t}function Hh(e){if(!e)return!1;const{PointerEvent:t}=Tt(e.target);return e instanceof t}function Uh(e){if(!Nr(e))return!1;const{tagName:t}=e;return t==="INPUT"||t==="TEXTAREA"||Vh(e)}function Vh(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"}var pi={};function Xi(e){const t=pi[e]==null?0:pi[e]+1;return pi[e]=t,`${e}-${t}`}var Zh=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=qe.distance(t.shape.center,r);return{id:n,value:1/s,type:Dt.PointerIntersection,priority:ut.High}}return null},qh=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=qe.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Dt.ShapeIntersection,priority:ut.Normal}}return null},qu=e=>{var t;return(t=Zh(e))!=null?t:qh(e)},Yh=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?xt.from(n.current.boundingRectangle).corners:void 0,a=xt.from(r.shape.boundingRectangle).corners.reduce((c,l,u)=>{var d;return c+qe.distance(qe.from(l),(d=i?.[u])!=null?d:s.current)},0)/4;return{id:r.id,value:1/a,type:Dt.Collision,priority:ut.Normal}},Xh=Object.create,la=Object.defineProperty,Kh=Object.defineProperties,Gh=Object.getOwnPropertyDescriptor,Jh=Object.getOwnPropertyDescriptors,As=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,Xu=Object.prototype.propertyIsEnumerable,Ku=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),zr=e=>{throw TypeError(e)},Ki=(e,t,r)=>t in e?la(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,In=(e,t)=>{for(var r in t||(t={}))Yu.call(t,r)&&Ki(e,r,t[r]);if(As)for(var r of As(t))Xu.call(t,r)&&Ki(e,r,t[r]);return e},ca=(e,t)=>Kh(e,Jh(t)),al=(e,t)=>la(e,"name",{value:t,configurable:!0}),Gu=(e,t)=>{var r={};for(var n in e)Yu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&As)for(var n of As(e))t.indexOf(n)<0&&Xu.call(e,n)&&(r[n]=e[n]);return r},zn=e=>{var t;return[,,,Xh((t=e?.[Ku("metadata")])!=null?t:null)]},Ju=["class","method","getter","setter","accessor","field","value","get","set"],ln=e=>e!==void 0&&typeof e!="function"?zr("Function expected"):e,Qh=(e,t,r,n,s)=>({kind:Ju[e],name:t,metadata:n,addInitializer:i=>r._?zr("Already initialized"):s.push(ln(i||null))}),Fr=(e,t)=>Ki(t,Ku("metadata"),e[3]),Te=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Lt=(e,t,r,n,s,i)=>{var o,a,c,l,u,d=t&7,p=!!(t&8),v=!!(t&16),g=d>3?e.length+1:d?p?1:2:0,k=Ju[d+5],y=d>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=d&&(!v&&!p&&(s=s.prototype),d<5&&(d>3||!v)&&Gh(d<4?s:{get[r](){return ze(this,i)},set[r](b){return yt(this,i,b)}},r));d?v&&d<4&&al(i,(d>2?"set ":d>1?"get ":"")+r):al(s,r);for(var x=n.length-1;x>=0;x--)l=Qh(d,r,c={},e[3],S),d&&(l.static=p,l.private=v,u=l.access={has:v?b=>eg(s,b):b=>r in b},d^3&&(u.get=v?b=>(d^1?ze:Gi)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=v?(b,C)=>yt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?v?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,l),c._=1,d^4||a===void 0?ln(a)&&(d>4?y.unshift(a):d?v?i=a:m[k]=a:s=a):typeof a!="object"||a===null?zr("Object expected"):(ln(o=a.get)&&(m.get=o),ln(o=a.set)&&(m.set=o),ln(o=a.init)&&y.unshift(o));return d||Fr(e,s),m&&la(s,r,m),v?d^4?i:m:s},ua=(e,t,r)=>t.has(e)||zr("Cannot "+r),eg=(e,t)=>Object(t)!==t?zr('Cannot use the "in" operator on this value'):e.has(t),ze=(e,t,r)=>(ua(e,t,"read from private field"),r?r.call(e):t.get(e)),Fe=(e,t,r)=>t.has(e)?zr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),yt=(e,t,r,n)=>(ua(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gi=(e,t,r)=>(ua(e,t,"access private method"),r),ll={role:"button",roleDescription:"draggable"},tg="dnd-kit-description",rg="dnd-kit-announcement",ng={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},sg={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:r}){if(e)return r?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function ig(e){const t=e.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(t)}function og(e,t){const r=document.createElement("div");return r.id=e,r.style.setProperty("display","none"),r.textContent=t,r}function ag(e){const t=document.createElement("div");return t.id=e,t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.setProperty("position","fixed"),t.style.setProperty("width","1px"),t.style.setProperty("height","1px"),t.style.setProperty("margin","-1px"),t.style.setProperty("border","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("clip","rect(0 0 0 0)"),t.style.setProperty("clip-path","inset(100%)"),t.style.setProperty("white-space","nowrap"),t}var lg=["dragover","dragmove"],cg=class extends We{constructor(e,t){super(e);const{id:r,idPrefix:{description:n=tg,announcement:s=rg}={},announcements:i=sg,screenReaderInstructions:o=ng,debounce:a=500}=t??{},c=r?`${n}-${r}`:Xi(n),l=r?`${s}-${r}`:Xi(s);let u,d,p,v;const g=(C=v)=>{!p||!C||p?.nodeValue!==C&&(p.nodeValue=C)},k=()=>Ps.schedule(g),y=ug(k,a),S=Object.entries(i).map(([C,I])=>this.manager.monitor.addEventListener(C,(P,_)=>{const j=p;if(!j)return;const h=I?.(P,_);h&&j.nodeValue!==h&&(v=h,lg.includes(C)?y():(k(),y.cancel()))})),m=()=>{let C=[];u?.isConnected||(u=og(c,o.draggable),C.push(u)),d?.isConnected||(d=ag(l),p=document.createTextNode(""),d.appendChild(p),C.push(d)),C.length>0&&document.body.append(...C)},x=new Set;function b(){for(const C of x)C()}this.registerEffect(()=>{var C;x.clear();for(const I of this.manager.registry.draggables.value){const P=(C=I.handle)!=null?C:I.element;if(P){(!u||!d)&&x.add(m),(!ig(P)||$u())&&!P.hasAttribute("tabindex")&&x.add(()=>P.setAttribute("tabindex","0")),!P.hasAttribute("role")&&P.tagName.toLowerCase()!=="button"&&x.add(()=>P.setAttribute("role",ll.role)),P.hasAttribute("aria-roledescription")||x.add(()=>P.setAttribute("aria-roledescription",ll.roleDescription)),P.hasAttribute("aria-describedby")||x.add(()=>P.setAttribute("aria-describedby",c));for(const j of["aria-pressed","aria-grabbed"]){const h=String(I.isDragging);P.getAttribute(j)!==h&&x.add(()=>P.setAttribute(j,h))}const _=String(I.disabled);P.getAttribute("aria-disabled")!==_&&x.add(()=>P.setAttribute("aria-disabled",_))}}x.size>0&&Ps.schedule(b)}),this.destroy=()=>{super.destroy(),u?.remove(),d?.remove(),S.forEach(C=>C())}}};function ug(e,t){let r;const n=()=>{clearTimeout(r),r=setTimeout(e,t)};return n.cancel=()=>clearTimeout(r),n}var dg=class extends We{constructor(e,t){super(e,t),this.manager=e;const r=ks(()=>{var n;return Ct((n=this.manager.dragOperation.source)==null?void 0:n.element)});this.destroy=et(()=>{var n;const{dragOperation:s}=this.manager,{cursor:i="grabbing",nonce:o}=(n=this.options)!=null?n:{};if(s.status.initialized){const a=r.value,c=a.createElement("style");return o&&c.setAttribute("nonce",o),c.textContent=`* { cursor: ${i} !important; }`,a.head.appendChild(c),()=>c.remove()}})}},Fn="data-dnd-",Ji=`${Fn}dropping`,Ve="--dnd-",Et=`${Fn}dragging`,Ms=`${Fn}placeholder`,fg=[Et,Ms,"popover","aria-pressed","aria-grabbing"],pg=["view-transition-name"],hg=`
  :root [${Et}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${Ve}top, 0px) !important;
    left: var(${Ve}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${Ve}width, auto);
    max-width: var(${Ve}width, auto);
    height: var(${Ve}height, auto);
    max-height: var(${Ve}height, auto);
    transition: var(${Ve}transition) !important;
  }

  :root [${Ms}] {
    transition: none;
  }

  :root [${Ms}='hidden'] {
    visibility: hidden;
  }

  [${Et}] * {
    pointer-events: none !important;
  }

  [${Et}]:not([${Ji}]) {
    translate: var(${Ve}translate) !important;
  }

  [${Et}][style*='${Ve}scale'] {
    scale: var(${Ve}scale) !important;
    transform-origin: var(${Ve}transform-origin) !important;
  }

  @layer {
    :where([${Et}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${Et}]::backdrop, [${Fn}overlay]:not([${Et}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function gg(e,t="hidden"){return ge(()=>{const{element:r,manager:n}=e;if(!r||!n)return;const s=vg(r,n.registry.droppables),i=[],o=ch(r),{remove:a}=o;return mg(s,o,i),yg(o,t),o.remove=()=>{i.forEach(c=>c()),a.call(o)},o})}function vg(e,t){const r=new Map;for(const n of t)if(n.element&&(e===n.element||e.contains(n.element))){const s=`${Fn}${Xi("dom-id")}`;n.element.setAttribute(s,""),r.set(n,s)}return r}function mg(e,t,r){for(const[n,s]of e){if(!n.element)continue;const i=`[${s}]`,o=t.matches(i)?t:t.querySelector(i);if(n.element.removeAttribute(s),!o)continue;const a=n.element;n.proxy=o,o.removeAttribute(s),Vi.set(a,o),r.push(()=>{Vi.delete(a),n.proxy=void 0})}}function yg(e,t="hidden"){e.setAttribute("inert","true"),e.setAttribute("tab-index","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute(Ms,t)}function cl(e,t){return e===t?!0:Dr(e)===Dr(t)}function ul(e){const{target:t}=e;"newState"in e&&e.newState==="closed"&&Nr(t)&&t.hasAttribute("popover")&&requestAnimationFrame(()=>an(t))}function dl(e){return e.tagName==="TR"}var Ts=new Map,Qu,Qi,En,da,gs,ed,td,kn=class extends(Qi=We,Qu=[ae],Qi){constructor(t,r){super(t,r),Fe(this,gs),Fe(this,da,Te(En,8,this)),Te(En,11,this),this.state={initial:{},current:{}},this.registerEffect(Gi(this,gs,td)),this.registerEffect(Gi(this,gs,ed))}destroy(){super.destroy();for(const[t,r]of Ts.entries())r.instances.has(this)&&(r.instances.delete(this),r.instances.size===0&&(r.cleanup(),Ts.delete(t)))}};En=zn(Qi);da=new WeakMap;gs=new WeakSet;ed=function(){var e,t,r;const{state:n,manager:s,options:i}=this,{dragOperation:o}=s,{position:a,source:c,status:l}=o;if(l.idle){n.current={},n.initial={};return}if(!c)return;const{element:u,feedback:d}=c;if(!u||d==="none"||!l.initialized||l.initializing)return;const{initial:p}=n,v=(e=this.overlay)!=null?e:u,g=Pr(v),k=Pr(u),y=!cl(u,v),S=new ht(u,{frameTransform:y?k:null,ignoreTransforms:!y}),m={x:k.scaleX/g.scaleX,y:k.scaleY/g.scaleY};let{width:x,height:b,top:C,left:I}=S;y&&(x=x/m.x,b=b/m.y);let P,_;const j=new Wh(v),{transition:h,translate:A,boxSizing:T,paddingBlockStart:N,paddingBlockEnd:R,paddingInlineStart:V,paddingInlineEnd:z,borderInlineStartWidth:K,borderInlineEndWidth:U,borderBlockStartWidth:X,borderBlockEndWidth:G}=wt(u),Y=d==="clone",te=T==="content-box",ce=te?parseInt(V)+parseInt(z)+parseInt(K)+parseInt(U):0,Ie=te?parseInt(N)+parseInt(R)+parseInt(X)+parseInt(G):0,se=d!=="move"&&!this.overlay?gg(c,Y?"clone":"hidden"):null,ke=ge(()=>Sn(s.dragOperation.activatorEvent));if(A!=="none"){const oe=wn(A);oe&&!p.translate&&(p.translate=oe)}if(!p.transformOrigin){const oe=ge(()=>a.current);p.transformOrigin={x:(oe.x-I*g.scaleX-g.x)/(x*g.scaleX),y:(oe.y-C*g.scaleY-g.y)/(b*g.scaleY)}}const{transformOrigin:Pe}=p,Z=C*g.scaleY+g.y,w=I*g.scaleX+g.x;if(!p.coordinates&&(p.coordinates={x:w,y:Z},m.x!==1||m.y!==1)){const{scaleX:oe,scaleY:H}=k,{x:J,y:Q}=Pe;p.coordinates.x+=(x*oe-x)*J,p.coordinates.y+=(b*H-b)*Q}p.dimensions||(p.dimensions={width:x,height:b}),p.frameTransform||(p.frameTransform=g);const O={x:p.coordinates.x-w,y:p.coordinates.y-Z},L={width:(p.dimensions.width*p.frameTransform.scaleX-x*g.scaleX)*Pe.x,height:(p.dimensions.height*p.frameTransform.scaleY-b*g.scaleY)*Pe.y},B={x:O.x/g.scaleX+L.width,y:O.y/g.scaleY+L.height},W={left:I+B.x,top:C+B.y};v.setAttribute(Et,"true");const q=ge(()=>o.transform),ee=(t=p.translate)!=null?t:{x:0,y:0},he=q.x*g.scaleX+ee.x,be=q.y*g.scaleY+ee.y,Oe=`${he}px ${be}px 0`,Ae=h?`${h}, translate 0ms linear`:"";j.set({width:x-ce,height:b-Ie,top:W.top,left:W.left,translate:Oe,transition:Ae,scale:y?`${m.x} ${m.y}`:"","transform-origin":`${Pe.x*100}% ${Pe.y*100}%`},Ve),se&&(u.insertAdjacentElement("afterend",se),i?.rootElement&&(typeof i.rootElement=="function"?i.rootElement(c):i.rootElement).appendChild(u)),qi(v)&&(v.hasAttribute("popover")||v.setAttribute("popover","manual"),an(v),v.addEventListener("beforetoggle",ul));const je=new ResizeObserver(()=>{if(!se)return;const oe=new ht(se,{frameTransform:g,ignoreTransforms:!0}),H=Pe??{x:1,y:1},J=(x-oe.width)*H.x+B.x,Q=(b-oe.height)*H.y+B.y;if(j.set({width:oe.width-ce,height:oe.height-Ie,top:C+Q,left:I+J},Ve),P?.takeRecords(),dl(u)&&dl(se)){const de=Array.from(u.cells),ye=Array.from(se.cells);for(const[we,Le]of de.entries()){const Ge=ye[we];Le.style.width=`${Ge.offsetWidth}px`}}o.shape=new ht(v)}),xe=new ht(v);ge(()=>o.shape=xe);const me=Tt(v),at=oe=>{this.manager.actions.stop({event:oe})};ke&&me.addEventListener("resize",at),ge(()=>c.status)==="idle"&&requestAnimationFrame(()=>c.status="dragging"),se&&(je.observe(se),P=new MutationObserver(oe=>{let H=!1;for(const J of oe){if(J.target!==u){H=!0;continue}if(J.type!=="attributes")continue;const Q=J.attributeName;if(Q.startsWith("aria-")||fg.includes(Q))continue;const de=u.getAttribute(Q);if(Q==="style"){if(yn(u)&&yn(se)){const ye=u.style;for(const we of Array.from(se.style))ye.getPropertyValue(we)===""&&se.style.removeProperty(we);for(const we of Array.from(ye)){if(pg.includes(we)||we.startsWith(Ve))continue;const Le=ye.getPropertyValue(we);se.style.setProperty(we,Le)}}}else de!==null?se.setAttribute(Q,de):se.removeAttribute(Q)}H&&Y&&(se.innerHTML=u.innerHTML)}),P.observe(u,{attributes:!0,subtree:!0,childList:!0}),_=new MutationObserver(oe=>{for(const H of oe)if(H.addedNodes.length!==0)for(const J of Array.from(H.addedNodes)){if(J.contains(u)&&u.nextElementSibling!==se){u.insertAdjacentElement("afterend",se),an(v);return}if(J.contains(se)&&se.previousElementSibling!==u){se.insertAdjacentElement("beforebegin",u),an(v);return}}}),_.observe(u.ownerDocument.body,{childList:!0,subtree:!0}));const $t=(r=s.dragOperation.source)==null?void 0:r.id,Un=()=>{var oe;if(!ke||$t==null)return;const H=s.registry.draggables.get($t),J=(oe=H?.handle)!=null?oe:H?.element;cr(J)&&J.focus()},Vr=()=>{P?.disconnect(),_?.disconnect(),je.disconnect(),me.removeEventListener("resize",at),qi(v)&&(v.removeEventListener("beforetoggle",ul),v.removeAttribute("popover")),v.removeAttribute(Et),j.reset(),c.status="idle";const oe=n.current.translate!=null;se&&(oe||se.parentElement!==v.parentElement)&&v.isConnected&&se.replaceWith(v),se?.remove()},ei=Rn(()=>{var oe;const{transform:H,status:J}=o;if(!(!H.x&&!H.y&&!n.current.translate)&&J.dragging){const Q=(oe=p.translate)!=null?oe:{x:0,y:0},de={x:H.x/g.scaleX+Q.x,y:H.y/g.scaleY+Q.y},ye=n.current.translate,we=ge(()=>o.modifiers),Le=ge(()=>{var rt;return(rt=o.shape)==null?void 0:rt.current}),Ge=ke?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(j.set({transition:`${h}, translate ${Ge}`,translate:`${de.x}px ${de.y}px 0`},Ve),P?.takeRecords(),Le&&Le!==xe&&ye&&!we.length){const rt=qe.delta(de,ye);o.shape=xt.from(Le.boundingRectangle).translate(rt.x*g.scaleX,rt.y*g.scaleY)}else o.shape=new ht(v);n.current.translate=de}},function(){if(o.status.dropped){this.dispose(),c.status="dropping";let oe=n.current.translate;const H=oe!=null;if(!oe&&u!==v&&(oe={x:0,y:0}),!oe){Vr();return}const J=()=>{var Q,de;{an(v);const[,ye]=(Q=Au(v,Lf=>"translate"in Lf))!=null?Q:[];ye?.pause();const we=se??u,Le={frameTransform:cl(v,we)?null:void 0},Ge=new ht(v,Le),rt=(de=wn(wt(v).translate))!=null?de:oe,It=new ht(we,Le),Zr=xt.delta(Ge,It,c.alignment),ti={x:rt.x-Zr.x,y:rt.y-Zr.y},Mf=Math.round(Ge.intrinsicHeight)!==Math.round(It.intrinsicHeight)?{minHeight:[`${Ge.intrinsicHeight}px`,`${It.intrinsicHeight}px`],maxHeight:[`${Ge.intrinsicHeight}px`,`${It.intrinsicHeight}px`]}:{},Tf=Math.round(Ge.intrinsicWidth)!==Math.round(It.intrinsicWidth)?{minWidth:[`${Ge.intrinsicWidth}px`,`${It.intrinsicWidth}px`],maxWidth:[`${Ge.intrinsicWidth}px`,`${It.intrinsicWidth}px`]}:{};j.set({transition:h},Ve),v.setAttribute(Ji,""),P?.takeRecords(),Zu({element:v,keyframes:ca(In(In({},Mf),Tf),{translate:[`${rt.x}px ${rt.y}px 0`,`${ti.x}px ${ti.y}px 0`]}),options:{duration:H||v!==u?250:0,easing:"ease"}}).then(()=>{v.removeAttribute(Ji),ye?.finish(),Vr(),requestAnimationFrame(Un)})}};s.renderer.rendering.then(J)}});return()=>{Vr(),ei()}};td=function(){var e,t,r;const{status:n,source:s,target:i}=this.manager.dragOperation,{nonce:o}=(e=this.options)!=null?e:{};if(n.initializing){const a=Ct((t=s?.element)!=null?t:null),c=Ct((r=i?.element)!=null?r:null),l=new Set([a,c]);for(const u of l){let d=Ts.get(u);if(!d){const p=document.createElement("style");p.textContent=hg,o&&p.setAttribute("nonce",o),u.head.prepend(p);const v=new MutationObserver(g=>{for(const k of g)if(k.type==="childList"){const y=Array.from(k.removedNodes);y.length>0&&y.includes(p)&&u.head.prepend(p)}});v.observe(u.head,{childList:!0}),d={cleanup:()=>{v.disconnect(),p.remove()},instances:new Set},Ts.set(u,d)}d.instances.add(this)}}};Lt(En,4,"overlay",Qu,kn,da);Fr(En,kn);kn.configure=$o(kn);var _g=kn,Yr=!0,bg=!1,rd,nd,sd,id,Vt,fa,pa;id=(sd=[ae],dt.Forward),nd=(rd=[ae],dt.Reverse);var jn=class{constructor(){Fe(this,fa,Te(Vt,8,this,Yr)),Te(Vt,11,this),Fe(this,pa,Te(Vt,12,this,Yr)),Te(Vt,15,this)}isLocked(e){return e===dt.Idle?!1:e==null?this[dt.Forward]===Yr&&this[dt.Reverse]===Yr:this[e]===Yr}unlock(e){e!==dt.Idle&&(this[e]=bg)}};Vt=zn(null);fa=new WeakMap;pa=new WeakMap;Lt(Vt,4,id,sd,jn,fa);Lt(Vt,4,nd,rd,jn,pa);Fr(Vt,jn);var xg=[dt.Forward,dt.Reverse],fl=class{constructor(){this.x=new jn,this.y=new jn}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},wg=class extends We{constructor(e){super(e);const t=$n(new fl);let r=null;this.signal=t,et(()=>{const{status:n}=e.dragOperation;if(!n.initialized){r=null,t.value=new fl;return}const{delta:s}=e.dragOperation.position;if(r){const i={x:pl(s.x,r.x),y:pl(s.y,r.y)},o=t.peek();Ee(()=>{for(const a of Wc)for(const c of xg)i[a]===c&&o[a].unlock(c);t.value=o})}r=s})}get current(){return this.signal.peek()}};function pl(e,t){return Math.sign(e-t)}var od,eo,Cn,ha,Bt,to,Bn=class extends(eo=Vs,od=[ae],eo){constructor(e){super(e),Fe(this,ha,Te(Cn,8,this,!1)),Te(Cn,11,this),Fe(this,Bt),Fe(this,to,()=>{if(!ze(this,Bt))return;const{element:i,by:o}=ze(this,Bt);o.y&&(i.scrollTop+=o.y),o.x&&(i.scrollLeft+=o.x)}),this.scroll=i=>{var o;if(this.disabled)return!1;const a=this.getScrollableElements();if(!a)return yt(this,Bt,void 0),!1;const{position:c}=this.manager.dragOperation,l=c?.current;if(l){const{by:u}=i??{},d=u?{x:hl(u.x),y:hl(u.y)}:void 0,p=d?void 0:this.scrollIntentTracker.current;if(p?.isLocked())return!1;for(const v of a){const g=xh(v,u);if(g.x||g.y){const{speed:k,direction:y}=Mh(v,l,d);if(p)for(const S of Wc)p[S].isLocked(y[S])&&(k[S]=0,y[S]=0);if(y.x||y.y){const{x:S,y:m}=u??y,x=S*k.x,b=m*k.y;if(x||b){const C=(o=ze(this,Bt))==null?void 0:o.by;if(this.autoScrolling&&C&&(C.x&&!x||C.y&&!b))continue;return yt(this,Bt,{element:v,by:{x,y:b}}),Ps.schedule(ze(this,to)),!0}}}}}return yt(this,Bt,void 0),!1};let t=null,r=null;const n=ks(()=>{const{position:i,source:o}=e.dragOperation;if(!i)return null;const a=Ru(Ct(o?.element),i.current);return a&&(t=a),a??t}),s=ks(()=>{const i=n.value,{documentElement:o}=Ct(i);if(!i||i===o){const{target:a}=e.dragOperation,c=a?.element;if(c){const l=Yi(c,{excludeElement:!1});return r=l,l}}if(i){const a=Yi(i,{excludeElement:!1});return this.autoScrolling&&r&&a.size<r?.size?r:(r=a,a)}return r=null,null},At);this.getScrollableElements=()=>s.value,this.scrollIntentTracker=new wg(e),this.destroy=e.monitor.addEventListener("dragmove",i=>{this.disabled||i.defaultPrevented||!Sn(e.dragOperation.activatorEvent)||!i.by||this.scroll({by:i.by})&&i.preventDefault()})}};Cn=zn(eo);ha=new WeakMap;Bt=new WeakMap;to=new WeakMap;Lt(Cn,4,"autoScrolling",od,Bn,ha);Fr(Cn,Bn);function hl(e){return e>0?dt.Forward:e<0?dt.Reverse:dt.Idle}var Sg=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:t,resolvers:r}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const n of t)n();for(const n of r)n()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(t=>this.resolvers.add(t))}},Ig=new Sg(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),Eg=10,ga=class extends We{constructor(e,t){super(e);const r=e.registry.plugins.get(Bn);if(!r)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=et(()=>{if(this.disabled)return;const{position:n,status:s}=e.dragOperation;if(s.dragging)if(r.scroll()){r.autoScrolling=!0;const o=setInterval(()=>Ig.schedule(r.scroll),Eg);return()=>{clearInterval(o)}}else r.autoScrolling=!1})}},gl={capture:!0,passive:!0},cn,kg=class extends Vs{constructor(e){super(e),Fe(this,cn),this.handleScroll=()=>{ze(this,cn)==null&&yt(this,cn,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),yt(this,cn,void 0)},50))};const{dragOperation:t}=this.manager;this.destroy=et(()=>{var r,n,s;if(t.status.dragging){const o=(s=(n=(r=t.source)==null?void 0:r.element)==null?void 0:n.ownerDocument)!=null?s:document;return o.addEventListener("scroll",this.handleScroll,gl),()=>{o.removeEventListener("scroll",this.handleScroll,gl)}}})}};cn=new WeakMap;var jg=class extends We{constructor(e,t){super(e,t),this.manager=e,this.destroy=et(()=>{var r;const{dragOperation:n}=this.manager,{nonce:s}=(r=this.options)!=null?r:{};if(n.status.initialized){const i=document.createElement("style");return s&&i.setAttribute("nonce",s),i.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild(i),hi(),document.addEventListener("selectionchange",hi,{capture:!0}),()=>{document.removeEventListener("selectionchange",hi,{capture:!0}),i.remove()}}})}};function hi(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var un=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(e){var t;const{event:r,source:n}=e,s=(t=n.handle)!=null?t:n.element;return r.target===s}}),xr,Ls=class extends Cr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,xr,[]),this.listeners=new Nu,this.handleSourceKeyDown=(n,s,i)=>{if(this.disabled||n.defaultPrevented||!Nr(n.target)||s.disabled)return;const{keyboardCodes:o=un.keyboardCodes,shouldActivate:a=un.shouldActivate}=i??{};o.start.includes(n.code)&&this.manager.dragOperation.status.idle&&a({event:n,source:s,manager:this.manager})&&this.handleStart(n,s,i)}}bind(t,r=this.options){return et(()=>{var s;const i=(s=t.handle)!=null?s:t.element,o=a=>{Sn(a)&&this.handleSourceKeyDown(a,t,r)};if(i)return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}})}handleStart(t,r,n){const{element:s}=r;if(!s)throw new Error("Source draggable does not have an associated element");t.preventDefault(),t.stopImmediatePropagation(),Vu(s);const{center:i}=new ht(s);if(this.manager.actions.start({event:t,coordinates:{x:i.x,y:i.y},source:r}).signal.aborted)return this.cleanup();this.sideEffects();const a=Ct(s),c=[this.listeners.bind(a,[{type:"keydown",listener:l=>this.handleKeyDown(l,r,n),options:{capture:!0}}])];ze(this,xr).push(...c)}handleKeyDown(t,r,n){const{keyboardCodes:s=un.keyboardCodes}=n??{};if(hr(t,[...s.end,...s.cancel])){t.preventDefault();const i=hr(t,s.cancel);this.handleEnd(t,i);return}hr(t,s.up)?this.handleMove("up",t):hr(t,s.down)&&this.handleMove("down",t),hr(t,s.left)?this.handleMove("left",t):hr(t,s.right)&&this.handleMove("right",t)}handleEnd(t,r){this.manager.actions.stop({event:t,canceled:r}),this.cleanup()}handleMove(t,r){var n,s;const{shape:i}=this.manager.dragOperation,o=r.shiftKey?5:1;let a={x:0,y:0},c=(s=(n=this.options)==null?void 0:n.offset)!=null?s:un.offset;if(typeof c=="number"&&(c={x:c,y:c}),!!i){switch(t){case"up":a={x:0,y:-c.y*o};break;case"down":a={x:0,y:c.y*o};break;case"left":a={x:-c.x*o,y:0};break;case"right":a={x:c.x*o,y:0};break}(a.x||a.y)&&(r.preventDefault(),this.manager.actions.move({event:r,by:a}))}}sideEffects(){const t=this.manager.registry.plugins.get(ga);t?.disabled===!1&&(t.disable(),ze(this,xr).push(()=>{t.enable()}))}cleanup(){ze(this,xr).forEach(t=>t()),yt(this,xr,[])}destroy(){this.cleanup(),this.listeners.clear()}};xr=new WeakMap;Ls.configure=$o(Ls);Ls.defaults=un;var Cg=Ls;function hr(e,t){return t.includes(e.code)}var ad=Object.freeze({activationConstraints(e,t){var r;const{pointerType:n,target:s}=e;if(!(n==="mouse"&&Nr(s)&&(t.handle===s||(r=t.handle)!=null&&r.contains(s))))return n==="touch"?{delay:{value:250,tolerance:5}}:Uh(s)&&!e.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),wr,Sr,$s=class extends Cr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,wr,new Set),Fe(this,Sr),this.listeners=new Nu,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:n,coordinates:s}=this.latest;!n||!s||this.manager.actions.move({event:n,to:s})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(t,r){var n;const{activationConstraints:s=ad.activationConstraints}=(n=this.options)!=null?n:{};return typeof s=="function"?s(t,r):s}bind(t,r=this.options){return et(()=>{var s;const i=new AbortController,{signal:o}=i,a=l=>{Hh(l)&&this.handlePointerDown(l,t,r)};let c=[(s=t.handle)!=null?s:t.element];r?.activatorElements&&(Array.isArray(r.activatorElements)?c=r.activatorElements:c=r.activatorElements(t));for(const l of c)l&&(Og(l.ownerDocument.defaultView),l.addEventListener("pointerdown",a,{signal:o}));return()=>i.abort()})}handlePointerDown(t,r,n={}){if(this.disabled||!t.isPrimary||t.button!==0||!Nr(t.target)||r.disabled||Dg(t)||!this.manager.dragOperation.status.idle)return;const{target:s}=t,i=cr(s)&&s.draggable&&s.getAttribute("draggable")==="true",o=Pr(r.element);this.initialCoordinates={x:t.clientX*o.scaleX+o.x,y:t.clientY*o.scaleY+o.y};const a=this.activationConstraints(t,r);if(t.sensor=this,!a?.delay&&!a?.distance)this.handleStart(r,t);else{const{delay:d}=a;if(d){const p=setTimeout(()=>this.handleStart(r,t),d.value);yt(this,Sr,()=>{clearTimeout(p),yt(this,Sr,void 0)})}}const c=Ct(t.target),l=this.listeners.bind(c,[{type:"pointermove",listener:d=>this.handlePointerMove(d,r)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:i?this.handleCancel:Xn,options:{capture:!0}}]),u=()=>{var d;l(),(d=ze(this,Sr))==null||d.call(this),this.initialCoordinates=void 0};ze(this,wr).add(u)}handlePointerMove(t,r){const n={x:t.clientX,y:t.clientY},s=Pr(r.element);if(n.x=n.x*s.scaleX+s.x,n.y=n.y*s.scaleY+s.y,this.manager.dragOperation.status.dragging){t.preventDefault(),t.stopPropagation(),this.latest.event=t,this.latest.coordinates=n,Ps.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const i={x:n.x-this.initialCoordinates.x,y:n.y-this.initialCoordinates.y},o=this.activationConstraints(t,r),{distance:a,delay:c}=o??{};if(a){if(a.tolerance!=null&&di(i,a.tolerance))return this.handleCancel(t);if(di(i,a.value))return this.handleStart(r,t)}if(c&&di(i,c.tolerance))return this.handleCancel(t)}handlePointerUp(t){const{status:r}=this.manager.dragOperation;if(!r.idle){t.preventDefault(),t.stopPropagation();const n=!r.initialized;this.manager.actions.stop({event:t,canceled:n})}this.cleanup()}handleKeyDown(t){t.key==="Escape"&&(t.preventDefault(),this.handleCancel(t))}handleStart(t,r){var n;const{manager:s,initialCoordinates:i}=this;if((n=ze(this,Sr))==null||n.call(this),!i||!s.dragOperation.status.idle||r.defaultPrevented)return;if(s.actions.start({coordinates:i,event:r,source:t}).signal.aborted)return this.cleanup();r.preventDefault();const a=Ct(r.target),c=a.body;c.setPointerCapture(r.pointerId);const l=this.listeners.bind(a,[{type:"touchmove",listener:Xn,options:{passive:!1}},{type:"click",listener:Xn},{type:"contextmenu",listener:Xn},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:u=>{u.target===c&&this.handlePointerUp(u)}}]);ze(this,wr).add(l)}handleCancel(t){const{dragOperation:r}=this.manager;r.status.initialized&&this.manager.actions.stop({event:t,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},ze(this,wr).forEach(t=>t()),ze(this,wr).clear()}destroy(){this.cleanup(),this.listeners.clear()}};wr=new WeakMap;Sr=new WeakMap;$s.configure=$o($s);$s.defaults=ad;var ld=$s;function Dg(e){return"sensor"in e}function Xn(e){e.preventDefault()}function Pg(){}var vl=new WeakSet;function Og(e){!e||vl.has(e)||(e.addEventListener("touchmove",Pg,{capture:!1,passive:!1}),vl.add(e))}var ar={modifiers:[],plugins:[cg,ga,dg,_g,jg],sensors:[ld,Cg]},cd=class extends ih{constructor(e={}){const{plugins:t=ar.plugins,sensors:r=ar.sensors,modifiers:n=[]}=e;super(ca(In({},e),{plugins:[kg,Bn,...t],sensors:r,modifiers:n}))}},ud,dd,fd,ro,gt,va,ma,ya,Br=class extends(ro=kt,fd=[ae],dd=[ae],ud=[ae],ro){constructor(e,t){var r=e,{element:n,effects:s=()=>[],handle:i,feedback:o="default"}=r,a=Gu(r,["element","effects","handle","feedback"]);super(In({effects:()=>[...s(),()=>{var c,l;const{manager:u}=this;if(!u)return;const p=((l=(c=this.sensors)==null?void 0:c.map(Ro))!=null?l:[...u.sensors]).map(v=>{const g=v instanceof Cr?v:u.registry.register(v.plugin),k=v instanceof Cr?void 0:v.options;return g.bind(this,k)});return function(){p.forEach(g=>g())}}]},a),t),Fe(this,va,Te(gt,8,this)),Te(gt,11,this),Fe(this,ma,Te(gt,12,this)),Te(gt,15,this),Fe(this,ya,Te(gt,16,this)),Te(gt,19,this),this.element=n,this.handle=i,this.feedback=o}};gt=zn(ro);va=new WeakMap;ma=new WeakMap;ya=new WeakMap;Lt(gt,4,"handle",fd,Br,va);Lt(gt,4,"element",dd,Br,ma);Lt(gt,4,"feedback",ud,Br,ya);Fr(gt,Br);var pd,hd,no,Zt,_a,gi,gd,vd,_n,ba,Ys=class extends(no=jt,hd=[ae],pd=[ae],no){constructor(e,t){var r=e,{element:n,effects:s=()=>[]}=r,i=Gu(r,["element","effects"]);const{collisionDetector:o=qu}=i,a=l=>{const{manager:u,element:d}=this;if(!d||l===null){this.shape=void 0;return}if(!u)return;const p=new ht(d),v=ge(()=>this.shape);return p&&v?.equals(p)?v:(this.shape=p,p)},c=$n(!1);super(ca(In({},i),{collisionDetector:o,effects:()=>[...s(),()=>{const{element:l,manager:u}=this;if(!u)return;const{dragOperation:d}=u,{source:p}=d;c.value=!!(p&&d.status.initialized&&l&&!this.disabled&&this.accepts(p))},()=>{const{element:l}=this;if(c.value&&l){const u=new bh(l,a);return()=>{u.disconnect(),this.shape=void 0}}},()=>{var l;if((l=this.manager)!=null&&l.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),Fe(this,_n),Fe(this,_a,Te(Zt,8,this)),Te(Zt,11,this),Fe(this,ba,Te(Zt,12,this)),Te(Zt,15,this),this.element=n,this.refreshShape=()=>a()}set element(e){yt(this,_n,e,vd)}get element(){var e;return(e=this.proxy)!=null?e:ze(this,_n,gd)}};Zt=zn(no);_a=new WeakMap;_n=new WeakSet;ba=new WeakMap;gi=Lt(Zt,20,"#element",hd,_n,_a),gd=gi.get,vd=gi.set;Lt(Zt,4,"proxy",pd,Ys,ba);Fr(Zt,Ys);function Ag(e){return e!=null&&typeof e=="object"&&"current"in e}function Xt(e){var t;if(e!=null)return Ag(e)?(t=e.current)!=null?t:void 0:e}var Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wr=Mg?E.useLayoutEffect:E.useEffect;function Tg(){const e=E.useState(0)[1];return E.useCallback(()=>{e(t=>t+1)},[e])}function xa(e,t){const r=E.useRef(new Map),n=Tg();return Wr(()=>{if(!e){r.current.clear();return}return et(()=>{var s;let i=!1,o=!1;for(const a of r.current){const[c]=a,l=ge(()=>a[1]),u=e[c];l!==u&&(i=!0,r.current.set(c,u),o=(s=t?.(c,l,u))!=null?s:!1)}i&&(o?Mn.flushSync(n):n())})},[e]),E.useMemo(()=>e&&new Proxy(e,{get(s,i){const o=s[i];return r.current.set(i,o),o}}),[e])}function Lg(e,t){e()}function gr(e){const t=E.useRef(e);return Wr(()=>{t.current=e},[e]),t}function fe(e,t,r=E.useEffect,n=Object.is){const s=E.useRef(e);r(()=>{const i=s.current;n(e,i)||(s.current=e,t(e,i))},[t,e])}function jr(e,t){const r=E.useRef(Xt(e));Wr(()=>{const n=Xt(e);n!==r.current&&(r.current=n,t(n))})}var $g=Object.defineProperty,Rg=Object.defineProperties,Ng=Object.getOwnPropertyDescriptors,Rs=Object.getOwnPropertySymbols,md=Object.prototype.hasOwnProperty,yd=Object.prototype.propertyIsEnumerable,ml=(e,t,r)=>t in e?$g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_d=(e,t)=>{for(var r in t||(t={}))md.call(t,r)&&ml(e,r,t[r]);if(Rs)for(var r of Rs(t))yd.call(t,r)&&ml(e,r,t[r]);return e},bd=(e,t)=>Rg(e,Ng(t)),zg=(e,t)=>{var r={};for(var n in e)md.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Rs)for(var n of Rs(e))t.indexOf(n)<0&&yd.call(e,n)&&(r[n]=e[n]);return r},Fg=new cd,xd=E.createContext(Fg),Bg=E.memo(E.forwardRef(({children:e},t)=>{const[r,n]=E.useState(0),s=E.useRef(null),i=E.useRef(null),o=E.useMemo(()=>({renderer:{get rendering(){var a;return(a=s.current)!=null?a:Promise.resolve()}},trackRendering(a){s.current||(s.current=new Promise(c=>{i.current=c})),E.startTransition(()=>{a(),n(c=>c+1)})}}),[]);return Wr(()=>{var a;(a=i.current)==null||a.call(i),s.current=null},[e,r]),E.useImperativeHandle(t,()=>o),null})),vi=[void 0,At];function wd(e){var t=e,{children:r,onCollision:n,onBeforeDragStart:s,onDragStart:i,onDragMove:o,onDragOver:a,onDragEnd:c}=t,l=zg(t,["children","onCollision","onBeforeDragStart","onDragStart","onDragMove","onDragOver","onDragEnd"]),u;const d=E.useRef(null),[p,v]=E.useState((u=l.manager)!=null?u:null),{plugins:g,modifiers:k,sensors:y}=l,S=gr(s),m=gr(i),x=gr(a),b=gr(o),C=gr(c),I=gr(n);return E.useEffect(()=>{var P;if(!d.current)throw new Error("Renderer not found");const{renderer:_,trackRendering:j}=d.current,h=(P=l.manager)!=null?P:new cd(l);return h.renderer=_,h.monitor.addEventListener("beforedragstart",A=>{const T=S.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragstart",A=>{var T;return(T=m.current)==null?void 0:T.call(m,A,h)}),h.monitor.addEventListener("dragover",A=>{const T=x.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragmove",A=>{const T=b.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragend",A=>{const T=C.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("collision",A=>{var T;return(T=I.current)==null?void 0:T.call(I,A,h)}),E.startTransition(()=>v(h)),h.destroy},[l.manager]),fe(g,()=>p&&(p.plugins=g??ar.plugins),...vi),fe(y,()=>p&&(p.sensors=y??ar.sensors),...vi),fe(k,()=>p&&(p.modifiers=k??ar.modifiers),...vi),f.jsxs(xd.Provider,{value:p,children:[f.jsx(Bg,{ref:d,children:r}),r]})}function Sd(){return E.useContext(xd)}function wa(e){var t;const r=(t=Sd())!=null?t:void 0,[n]=E.useState(()=>e(r));return n.manager!==r&&(n.manager=r),Wr(n.register,[r,n]),n}function Wg(e){const{disabled:t,data:r,element:n,handle:s,id:i,modifiers:o,sensors:a}=e,c=wa(u=>new Br(bd(_d({},e),{register:!1,handle:Xt(s),element:Xt(n)}),u)),l=xa(c,Hg);return fe(i,()=>c.id=i),jr(s,u=>c.handle=u),jr(n,u=>c.element=u),fe(r,()=>r&&(c.data=r)),fe(t,()=>c.disabled=t===!0),fe(a,()=>c.sensors=a),fe(o,()=>c.modifiers=o,void 0,At),fe(e.feedback,()=>{var u;return c.feedback=(u=e.feedback)!=null?u:"default"}),fe(e.alignment,()=>c.alignment=e.alignment),{draggable:l,get isDragging(){return l.isDragging},get isDropping(){return l.isDropping},get isDragSource(){return l.isDragSource},handleRef:E.useCallback(u=>{c.handle=u??void 0},[c]),ref:E.useCallback(u=>{var d,p;!u&&((d=c.element)!=null&&d.isConnected)&&!((p=c.manager)!=null&&p.dragOperation.status.idle)||(c.element=u??void 0)},[c])}}function Hg(e,t,r){return!!(e==="isDragSource"&&!r&&t)}var Ug=Object.create,Id=Object.defineProperty,Vg=Object.getOwnPropertyDescriptor,Ed=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Xs=e=>{throw TypeError(e)},Zg=(e,t,r)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qg=e=>{var t;return[,,,Ug((t=e?.[Ed("metadata")])!=null?t:null)]},kd=["class","method","getter","setter","accessor","field","value","get","set"],jd=e=>e!==void 0&&typeof e!="function"?Xs("Function expected"):e,Yg=(e,t,r,n,s)=>({kind:kd[e],name:t,metadata:n,addInitializer:i=>r._?Xs("Already initialized"):s.push(jd(i||null))}),Xg=(e,t)=>Zg(t,Ed("metadata"),e[3]),Kg=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},Cd=(e,t,r,n,s,i)=>{for(var o,a,c,l,u=t&7,d=!1,p=!1,v=2,g=kd[u+5],k=e[v]||(e[v]=[]),y=(s=s.prototype,Vg(s,r)),S=n.length-1;S>=0;S--)c=Yg(u,r,a={},e[3],k),c.static=d,c.private=p,l=c.access={has:m=>r in m},l.get=m=>m[r],o=(0,n[S])(y[g],c),a._=1,jd(o)&&(y[g]=o);return y&&Id(s,r,y),s},Dd=(e,t,r)=>t.has(e)||Xs("Cannot "+r),Gg=(e,t,r)=>(Dd(e,t,"read from private field"),t.get(e)),Jg=(e,t,r)=>t.has(e)?Xs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Qg=(e,t,r,n)=>(Dd(e,t,"write to private field"),t.set(e,r),r),ir=class so{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new so(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new so(t,r)}},Pd,Od,io,vs,Wn,Sa=class extends(io=dr,Od=[Me],Pd=[Me],io){constructor(e){const t=ir.from(e);super(t,(r,n)=>ir.equals(r,n)),Kg(Wn,5,this),Jg(this,vs,0),this.velocity={x:0,y:0}}get delta(){return ir.delta(this.current,this.initial)}get direction(){const{current:e,previous:t}=this;if(!t)return null;const r={x:e.x-t.x,y:e.y-t.y};return!r.x&&!r.y?null:Math.abs(r.x)>Math.abs(r.y)?r.x>0?"right":"left":r.y>0?"down":"up"}get current(){return super.current}set current(e){const{current:t}=this,r=ir.from(e),n={x:r.x-t.x,y:r.y-t.y},s=Date.now(),i=s-Gg(this,vs),o=a=>Math.round(a/i*100);Ee(()=>{Qg(this,vs,s),this.velocity={x:o(n.x),y:o(n.y)},super.current=r})}reset(e=this.defaultValue){super.reset(ir.from(e)),this.velocity={x:0,y:0}}};Wn=qg(io);vs=new WeakMap;Cd(Wn,2,"delta",Od,Sa);Cd(Wn,2,"direction",Pd,Sa);Xg(Wn,Sa);var Ad=(e=>(e.Horizontal="x",e.Vertical="y",e))(Ad||{});Object.values(Ad);var ev=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=ir.distance(t.shape.center,r);return{id:n,value:1/s,type:Dt.PointerIntersection,priority:ut.High}}return null},tv=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=ir.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Dt.ShapeIntersection,priority:ut.Normal}}return null},rv=e=>{var t;return(t=ev(e))!=null?t:tv(e)};function Md(e){const{collisionDetector:t,data:r,disabled:n,element:s,id:i,accept:o,type:a}=e,c=wa(u=>new Ys(bd(_d({},e),{register:!1,element:Xt(s)}),u)),l=xa(c);return fe(i,()=>c.id=i),jr(s,u=>c.element=u),fe(o,()=>c.accept=o,void 0,At),fe(t,()=>c.collisionDetector=t??rv),fe(r,()=>r&&(c.data=r)),fe(n,()=>c.disabled=n===!0),fe(a,()=>c.type=a),{droppable:l,get isDropTarget(){return l.isDropTarget},ref:E.useCallback(u=>{var d,p;!u&&((d=c.element)!=null&&d.isConnected)&&!((p=c.manager)!=null&&p.dragOperation.status.idle)||(c.element=u??void 0)},[c])}}var nv=Object.create,Td=Object.defineProperty,sv=Object.defineProperties,iv=Object.getOwnPropertyDescriptor,ov=Object.getOwnPropertyDescriptors,Ns=Object.getOwnPropertySymbols,Ld=Object.prototype.hasOwnProperty,$d=Object.prototype.propertyIsEnumerable,av=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Hn=e=>{throw TypeError(e)},oo=(e,t,r)=>t in e?Td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lv=(e,t)=>{for(var r in t||(t={}))Ld.call(t,r)&&oo(e,r,t[r]);if(Ns)for(var r of Ns(t))$d.call(t,r)&&oo(e,r,t[r]);return e},cv=(e,t)=>sv(e,ov(t)),uv=(e,t)=>{var r={};for(var n in e)Ld.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ns)for(var n of Ns(e))t.indexOf(n)<0&&$d.call(e,n)&&(r[n]=e[n]);return r},dv=e=>{var t;return[,,,nv((t=void 0)!=null?t:null)]},Rd=["class","method","getter","setter","accessor","field","value","get","set"],dn=e=>e!==void 0&&typeof e!="function"?Hn("Function expected"):e,fv=(e,t,r,n,s)=>({kind:Rd[e],name:t,metadata:n,addInitializer:i=>r._?Hn("Already initialized"):s.push(dn(i||null))}),pv=(e,t)=>oo(t,av("metadata"),e[3]),Kn=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Nd=(e,t,r,n,s,i)=>{for(var o,a,c,l,u,d=t&7,p=!1,v=!1,g=e.length+1,k=Rd[d+5],y=e[g-1]=[],S=e[g]||(e[g]=[]),m=(s=s.prototype,iv({get[r](){return fn(this,i)},set[r](b){return nr(this,i,b)}},r)),x=n.length-1;x>=0;x--)l=fv(d,r,c={},e[3],S),l.static=p,l.private=v,u=l.access={has:b=>r in b},u.get=b=>b[r],u.set=(b,C)=>b[r]=C,a=(0,n[x])({get:m.get,set:m.set},l),c._=1,a===void 0?dn(a)&&(m[k]=a):typeof a!="object"||a===null?Hn("Object expected"):(dn(o=a.get)&&(m.get=o),dn(o=a.set)&&(m.set=o),dn(o=a.init)&&y.unshift(o));return m&&Td(s,r,m),s},zd=(e,t,r)=>t.has(e)||Hn("Cannot "+r),fn=(e,t,r)=>(zd(e,t,"read from private field"),t.get(e)),Xr=(e,t,r)=>t.has(e)?Hn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nr=(e,t,r,n)=>(zd(e,t,"write to private field"),t.set(e,r),r);function or(e){return e instanceof ka||e instanceof Hd}var Gn=10,hv=class extends We{constructor(e){super(e);const t=et(()=>{const{dragOperation:n}=e;if(Sn(n.activatorEvent)&&or(n.source)&&n.status.initialized){const s=e.registry.plugins.get(Bn);if(s)return s.disable(),()=>s.enable()}}),r=e.monitor.addEventListener("dragmove",(n,s)=>{queueMicrotask(()=>{if(this.disabled||n.defaultPrevented||!n.nativeEvent)return;const{dragOperation:i}=s;if(!Sn(n.nativeEvent)||!or(i.source)||!i.shape)return;const{actions:o,collisionObserver:a,registry:c}=s,{by:l}=n;if(!l)return;const u=gv(l),{source:d,target:p}=i,{center:v}=i.shape.current,g=[],k=[];Ee(()=>{for(const C of c.droppables){const{id:I}=C;if(!C.accepts(d)||I===p?.id&&or(C)||!C.element)continue;let P=C.shape;const _=new ht(C.element,{getBoundingClientRect:j=>xn(j,void 0,.2)});!_.height||!_.width||(u=="down"&&v.y+Gn<_.center.y||u=="up"&&v.y-Gn>_.center.y||u=="left"&&v.x-Gn>_.center.x||u=="right"&&v.x+Gn<_.center.x)&&(g.push(C),C.shape=_,k.push(()=>C.shape=P))}}),n.preventDefault(),a.disable();const y=a.computeCollisions(g,Yh);Ee(()=>k.forEach(C=>C()));const[S]=y;if(!S)return;const{id:m}=S,{index:x,group:b}=d.sortable;o.setDropTarget(m).then(()=>{const{source:C,target:I,shape:P}=i;if(!C||!or(C)||!P)return;const{index:_,group:j,target:h}=C.sortable,A=x!==_||b!==j,T=A?h:I?.element;if(!T)return;Vu(T);const N=new ht(T);if(!N)return;const R=xt.delta(N,xt.from(P.current.boundingRectangle),C.alignment);o.move({by:R}),A?o.setDropTarget(C.id).then(()=>a.enable()):a.enable()})})});this.destroy=()=>{r(),t()}}};function gv(e){const{x:t,y:r}=e;if(t>0)return"right";if(t<0)return"left";if(r>0)return"down";if(r<0)return"up"}var vv=Object.defineProperty,mv=Object.defineProperties,yv=Object.getOwnPropertyDescriptors,yl=Object.getOwnPropertySymbols,_v=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,_l=(e,t,r)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bl=(e,t)=>{for(var r in t||(t={}))_v.call(t,r)&&_l(e,r,t[r]);if(yl)for(var r of yl(t))bv.call(t,r)&&_l(e,r,t[r]);return e},xl=(e,t)=>mv(e,yv(t));function xv(e,t,r){if(t===r)return e;const n=e.slice();return n.splice(r,0,n.splice(t,1)[0]),n}function wv(e,t,r){var n,s;const{source:i,target:o,canceled:a}=t.operation;if(!i||!o||a)return"preventDefault"in t&&t.preventDefault(),e;const c=(x,b)=>x===b||typeof x=="object"&&"id"in x&&x.id===b;if(Array.isArray(e)){const x=e.findIndex(C=>c(C,i.id)),b=e.findIndex(C=>c(C,o.id));if(x===-1||b===-1)return e;if(!a&&"index"in i&&typeof i.index=="number"){const C=i.index;if(C!==x)return r(e,x,C)}return r(e,x,b)}const l=Object.entries(e);let u=-1,d,p=-1,v;for(const[x,b]of l)if(u===-1&&(u=b.findIndex(C=>c(C,i.id)),u!==-1&&(d=x)),p===-1&&(p=b.findIndex(C=>c(C,o.id)),p!==-1&&(v=x)),u!==-1&&p!==-1)break;if(!i.manager)return e;const{dragOperation:g}=i.manager,k=(s=(n=g.shape)==null?void 0:n.current.center)!=null?s:g.position.current;if(v==null&&o.id in e){const x=o.shape&&k.y>o.shape.center.y?e[o.id].length:0;v=o.id,p=x}if(d==null||v==null||d===v&&u===p)return"preventDefault"in t&&t.preventDefault(),e;if(d===v)return xl(bl({},e),{[d]:r(e[d],u,p)});const S=o.shape&&Math.round(k.y)>Math.round(o.shape.center.y)?1:0,m=e[d][u];return xl(bl({},e),{[d]:[...e[d].slice(0,u),...e[d].slice(u+1)],[v]:[...e[v].slice(0,p+S),m,...e[v].slice(p+S)]})}function Sv(e,t){return wv(e,t,xv)}var wl="__default__",Iv=class extends We{constructor(e){super(e);const t=()=>{const n=new Map;for(const s of e.registry.droppables)if(s instanceof ka){const{sortable:i}=s,{group:o}=i;let a=n.get(o);a||(a=new Set,n.set(o,a)),a.add(i)}for(const[s,i]of n)n.set(s,new Set(Jn(i)));return n},r=[e.monitor.addEventListener("dragover",(n,s)=>{if(this.disabled)return;const{dragOperation:i}=s,{source:o,target:a}=i;if(!or(o)||!or(a)||o.sortable===a.sortable)return;const c=t(),l=o.sortable.group===a.sortable.group,u=c.get(o.sortable.group),d=l?u:c.get(a.sortable.group);!u||!d||queueMicrotask(()=>{n.defaultPrevented||s.renderer.rendering.then(()=>{var p,v,g;const k=t();for(const[h,A]of c.entries()){const T=Array.from(A).entries();for(const[N,R]of T)if(R.index!==N||R.group!==h||!((p=k.get(h))!=null&&p.has(R)))return}const y=o.sortable.element,S=a.sortable.element;if(!S||!y||!l&&a.id===o.sortable.group)return;const m=Jn(u),x=l?m:Jn(d),b=(v=o.sortable.group)!=null?v:wl,C=(g=a.sortable.group)!=null?g:wl,I={[b]:m,[C]:x},P=Sv(I,n);if(I===P)return;const _=P[C].indexOf(o.sortable),j=P[C].indexOf(a.sortable);s.collisionObserver.disable(),Sl(y,_,S,j),Ee(()=>{for(const[h,A]of P[b].entries())A.index=h;if(!l)for(const[h,A]of P[C].entries())A.group=a.sortable.group,A.index=h}),s.actions.setDropTarget(o.id).then(()=>s.collisionObserver.enable())})})}),e.monitor.addEventListener("dragend",(n,s)=>{if(!n.canceled)return;const{dragOperation:i}=s,{source:o}=i;or(o)&&(o.sortable.initialIndex===o.sortable.index&&o.sortable.initialGroup===o.sortable.group||queueMicrotask(()=>{const a=t(),c=a.get(o.sortable.initialGroup);c&&s.renderer.rendering.then(()=>{for(const[v,g]of a.entries()){const k=Array.from(g).entries();for(const[y,S]of k)if(S.index!==y||S.group!==v)return}const l=Jn(c),u=o.sortable.element,d=l[o.sortable.initialIndex],p=d?.element;!d||!p||!u||(Sl(u,d.index,p,o.index),Ee(()=>{for(const[v,g]of a.entries()){const k=Array.from(g).values();for(const y of k)y.index=y.initialIndex,y.group=y.initialGroup}}))})}))})];this.destroy=()=>{for(const n of r)n()}}};function Sl(e,t,r,n){const s=n<t?"afterend":"beforebegin";r.insertAdjacentElement(s,e)}function Ev(e,t){return e.index-t.index}function Jn(e){return Array.from(e).sort(Ev)}var kv=[hv,Iv],Fd={duration:250,easing:"cubic-bezier(0.25, 1, 0.5, 1)",idle:!1},Qn=new Pp,Bd,Wd,qt,Ia,pn,hn,Ea,Ir;Wd=[ae],Bd=[ae];var Ks=class{constructor(e,t){Xr(this,Ia,Kn(qt,8,this)),Kn(qt,11,this),Xr(this,pn),Xr(this,hn),Xr(this,Ea,Kn(qt,12,this)),Kn(qt,15,this),Xr(this,Ir),this.register=()=>(Ee(()=>{var d,p;(d=this.manager)==null||d.registry.register(this.droppable),(p=this.manager)==null||p.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{Ee(()=>{var d,p;(d=this.manager)==null||d.registry.unregister(this.droppable),(p=this.manager)==null||p.registry.unregister(this.draggable)})},this.destroy=()=>{Ee(()=>{this.droppable.destroy(),this.draggable.destroy()})};var r=e,{effects:n=()=>[],group:s,index:i,sensors:o,type:a,transition:c=Fd,plugins:l=kv}=r,u=uv(r,["effects","group","index","sensors","type","transition","plugins"]);this.droppable=new ka(u,t,this),this.draggable=new Hd(cv(lv({},u),{effects:()=>[()=>{var d,p,v;const g=(d=this.manager)==null?void 0:d.dragOperation.status;g?.initializing&&this.id===((v=(p=this.manager)==null?void 0:p.dragOperation.source)==null?void 0:v.id)&&Qn.clear(this.manager),g?.dragging&&Qn.set(this.manager,this.id,ge(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{const{index:d,group:p,manager:v}=this,g=fn(this,hn),k=fn(this,pn);(d!==g||p!==k)&&(nr(this,hn,d),nr(this,pn,p),this.animate())},()=>{const{target:d}=this,{feedback:p,isDragSource:v}=this.draggable;p=="move"&&v&&(this.droppable.disabled=!d)},()=>{const{manager:d}=this;for(const p of l)d?.registry.register(p)},...n()],type:a,sensors:o}),t,this),nr(this,Ir,u.element),this.manager=t,this.index=i,nr(this,hn,i),this.group=s,nr(this,pn,s),this.type=a,this.transition=c}get initialIndex(){var e,t;return(t=(e=Qn.get(this.manager,this.id))==null?void 0:e.initialIndex)!=null?t:this.index}get initialGroup(){var e,t;return(t=(e=Qn.get(this.manager,this.id))==null?void 0:e.initialGroup)!=null?t:this.group}animate(){ge(()=>{const{manager:e,transition:t}=this,{shape:r}=this.droppable;if(!e)return;const{idle:n}=e.dragOperation.status;!r||!t||n&&!t.idle||e.renderer.rendering.then(()=>{const{element:s}=this;if(!s)return;const i=this.refreshShape();if(!i)return;const o={x:r.boundingRectangle.left-i.boundingRectangle.left,y:r.boundingRectangle.top-i.boundingRectangle.top},{translate:a}=wt(s),c=ol(s,a,!1),l=ol(s,a);(o.x||o.y)&&Zu({element:s,keyframes:{translate:[`${c.x+o.x}px ${c.y+o.y}px ${c.z}`,`${l.x}px ${l.y}px ${l.z}`]},options:t}).then(()=>{e.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(e){Ee(()=>{this.draggable.manager=e,this.droppable.manager=e})}set element(e){Ee(()=>{const t=fn(this,Ir),r=this.droppable.element,n=this.draggable.element;(!r||r===t)&&(this.droppable.element=e),(!n||n===t)&&(this.draggable.element=e),nr(this,Ir,e)})}get element(){var e,t;const r=fn(this,Ir);if(r)return(t=(e=Vi.get(r))!=null?e:r)!=null?t:this.droppable.element}set target(e){this.droppable.element=e}get target(){return this.droppable.element}set source(e){this.draggable.element=e}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(e){this.draggable.feedback=e}set disabled(e){Ee(()=>{this.droppable.disabled=e,this.draggable.disabled=e})}set data(e){Ee(()=>{this.droppable.data=e,this.draggable.data=e})}set handle(e){this.draggable.handle=e}set id(e){Ee(()=>{this.droppable.id=e,this.draggable.id=e})}get id(){return this.droppable.id}set sensors(e){this.draggable.sensors=e}set modifiers(e){this.draggable.modifiers=e}set collisionPriority(e){this.droppable.collisionPriority=e}set collisionDetector(e){this.droppable.collisionDetector=e??qu}set alignment(e){this.draggable.alignment=e}get alignment(){return this.draggable.alignment}set type(e){Ee(()=>{this.droppable.type=e,this.draggable.type=e})}get type(){return this.draggable.type}set accept(e){this.droppable.accept=e}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(e){return this.droppable.accepts(e)}};qt=dv();Ia=new WeakMap;pn=new WeakMap;hn=new WeakMap;Ea=new WeakMap;Ir=new WeakMap;Nd(qt,4,"index",Wd,Ks,Ia);Nd(qt,4,"group",Bd,Ks,Ea);pv(qt,Ks);var Hd=class extends Br{constructor(e,t,r){super(e,t),this.sortable=r}get index(){return this.sortable.index}},ka=class extends Ys{constructor(e,t,r){super(e,t),this.sortable=r}},jv=Object.defineProperty,Cv=Object.defineProperties,Dv=Object.getOwnPropertyDescriptors,Il=Object.getOwnPropertySymbols,Pv=Object.prototype.hasOwnProperty,Ov=Object.prototype.propertyIsEnumerable,El=(e,t,r)=>t in e?jv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mi=(e,t)=>{for(var r in t||(t={}))Pv.call(t,r)&&El(e,r,t[r]);if(Il)for(var r of Il(t))Ov.call(t,r)&&El(e,r,t[r]);return e},Av=(e,t)=>Cv(e,Dv(t));function Ud(e){const{accept:t,collisionDetector:r,collisionPriority:n,id:s,data:i,element:o,handle:a,index:c,group:l,disabled:u,feedback:d,modifiers:p,sensors:v,target:g,type:k}=e,y=mi(mi({},Fd),e.transition),S=wa(x=>new Ks(Av(mi({},e),{transition:y,register:!1,handle:Xt(a),element:Xt(o),target:Xt(g),feedback:d}),x)),m=xa(S,Mv);return fe(s,()=>S.id=s),Wr(()=>{Ee(()=>{S.group=l,S.index=c})},[S,l,c]),fe(k,()=>S.type=k),fe(t,()=>S.accept=t,void 0,At),fe(i,()=>i&&(S.data=i)),fe(c,()=>{var x;(x=S.manager)!=null&&x.dragOperation.status.idle&&y?.idle&&S.refreshShape()},Lg),jr(a,x=>S.handle=x),jr(o,x=>S.element=x),jr(g,x=>S.target=x),fe(u,()=>S.disabled=u===!0),fe(v,()=>S.sensors=v),fe(r,()=>S.collisionDetector=r),fe(n,()=>S.collisionPriority=n),fe(d,()=>S.feedback=d??"default"),fe(y,()=>S.transition=y,void 0,At),fe(p,()=>S.modifiers=p,void 0,At),fe(e.alignment,()=>S.alignment=e.alignment),{sortable:m,get isDragging(){return m.isDragging},get isDropping(){return m.isDropping},get isDragSource(){return m.isDragSource},get isDropTarget(){return m.isDropTarget},handleRef:E.useCallback(x=>{S.handle=x??void 0},[S]),ref:E.useCallback(x=>{var b,C;!x&&((b=S.element)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.element=x??void 0)},[S]),sourceRef:E.useCallback(x=>{var b,C;!x&&((b=S.source)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.source=x??void 0)},[S]),targetRef:E.useCallback(x=>{var b,C;!x&&((b=S.target)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.target=x??void 0)},[S])}}function Mv(e,t,r){return!!(e==="isDragSource"&&!r&&t)}const kl=e=>Symbol.iterator in e,jl=e=>"entries"in e,Cl=(e,t)=>{const r=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(r.size!==n.size)return!1;for(const[s,i]of r)if(!n.has(s)||!Object.is(i,n.get(s)))return!1;return!0},Tv=(e,t)=>{const r=e[Symbol.iterator](),n=t[Symbol.iterator]();let s=r.next(),i=n.next();for(;!s.done&&!i.done;){if(!Object.is(s.value,i.value))return!1;s=r.next(),i=n.next()}return!!s.done&&!!i.done};function Lv(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:kl(e)&&kl(t)?jl(e)&&jl(t)?Cl(e,t):Tv(e,t):Cl({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Be(e){const t=Ut.useRef(void 0);return r=>{const n=e(r);return Lv(t.current,n)?t.current:t.current=n}}function $v(e,t,r){var n=this,s=E.useRef(null),i=E.useRef(0),o=E.useRef(null),a=E.useRef([]),c=E.useRef(),l=E.useRef(),u=E.useRef(e),d=E.useRef(!0);E.useEffect(function(){u.current=e},[e]);var p=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var v=!!(r=r||{}).leading,g=!("trailing"in r)||!!r.trailing,k="maxWait"in r,y=k?Math.max(+r.maxWait||0,t):null;E.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var S=E.useMemo(function(){var m=function(_){var j=a.current,h=c.current;return a.current=c.current=null,i.current=_,l.current=u.current.apply(h,j)},x=function(_,j){p&&cancelAnimationFrame(o.current),o.current=p?requestAnimationFrame(_):setTimeout(_,j)},b=function(_){if(!d.current)return!1;var j=_-s.current;return!s.current||j>=t||j<0||k&&_-i.current>=y},C=function(_){return o.current=null,g&&a.current?m(_):(a.current=c.current=null,l.current)},I=function _(){var j=Date.now();if(b(j))return C(j);if(d.current){var h=t-(j-s.current),A=k?Math.min(h,y-(j-i.current)):h;x(_,A)}},P=function(){var _=Date.now(),j=b(_);if(a.current=[].slice.call(arguments),c.current=n,s.current=_,j){if(!o.current&&d.current)return i.current=s.current,x(I,t),v?m(s.current):l.current;if(k)return x(I,t),m(s.current)}return o.current||x(I,t),l.current};return P.cancel=function(){o.current&&(p?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,a.current=s.current=c.current=o.current=null},P.isPending=function(){return!!o.current},P.flush=function(){return o.current?C(Date.now()):l.current},P},[v,k,t,y,g,p]);return S}function es(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yi={exports:{}},Dl;function Rv(){return Dl||(Dl=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,s,i){function o(l,u){if(!s[l]){if(!n[l]){var d=typeof es=="function"&&es;if(!u&&d)return d(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+l+"'")}u=s[l]={exports:{}},n[l][0].call(u.exports,function(p){var v=n[l][1][p];return o(v||p)},u,u.exports,r,n,s,i)}return s[l].exports}for(var a=typeof es=="function"&&es,c=0;c<i.length;c++)o(i[c]);return o})({1:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){var g=r("crypto");function k(I,P){P=m(I,P);var _;return(_=P.algorithm!=="passthrough"?g.createHash(P.algorithm):new C).write===void 0&&(_.write=_.update,_.end=_.update),b(P,_).dispatch(I),_.update||_.end(""),_.digest?_.digest(P.encoding==="buffer"?void 0:P.encoding):(I=_.read(),P.encoding!=="buffer"?I.toString(P.encoding):I)}(s=n.exports=k).sha1=function(I){return k(I)},s.keys=function(I){return k(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(I){return k(I,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(I){return k(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=g.getHashes?g.getHashes().slice():["sha1","md5"],S=(y.push("passthrough"),["buffer","hex","binary","base64"]);function m(I,P){var _={};if(_.algorithm=(P=P||{}).algorithm||"sha1",_.encoding=P.encoding||"hex",_.excludeValues=!!P.excludeValues,_.algorithm=_.algorithm.toLowerCase(),_.encoding=_.encoding.toLowerCase(),_.ignoreUnknown=P.ignoreUnknown===!0,_.respectType=P.respectType!==!1,_.respectFunctionNames=P.respectFunctionNames!==!1,_.respectFunctionProperties=P.respectFunctionProperties!==!1,_.unorderedArrays=P.unorderedArrays===!0,_.unorderedSets=P.unorderedSets!==!1,_.unorderedObjects=P.unorderedObjects!==!1,_.replacer=P.replacer||void 0,_.excludeKeys=P.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var j=0;j<y.length;++j)y[j].toLowerCase()===_.algorithm.toLowerCase()&&(_.algorithm=y[j]);if(y.indexOf(_.algorithm)===-1)throw new Error('Algorithm "'+_.algorithm+'"  not supported. supported values: '+y.join(", "));if(S.indexOf(_.encoding)===-1&&_.algorithm!=="passthrough")throw new Error('Encoding "'+_.encoding+'"  not supported. supported values: '+S.join(", "));return _}function x(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function b(I,P,_){_=_||[];function j(h){return P.update?P.update(h,"utf8"):P.write(h,"utf8")}return{dispatch:function(h){return this["_"+((h=I.replacer?I.replacer(h):h)===null?"null":typeof h)](h)},_object:function(h){var A,T=Object.prototype.toString.call(h),N=/\[object (.*)\]/i.exec(T);if(N=(N=N?N[1]:"unknown:["+T+"]").toLowerCase(),0<=(T=_.indexOf(h)))return this.dispatch("[CIRCULAR:"+T+"]");if(_.push(h),a!==void 0&&a.isBuffer&&a.isBuffer(h))return j("buffer:"),j(h);if(N==="object"||N==="function"||N==="asyncfunction")return T=Object.keys(h),I.unorderedObjects&&(T=T.sort()),I.respectType===!1||x(h)||T.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(T=T.filter(function(R){return!I.excludeKeys(R)})),j("object:"+T.length+":"),A=this,T.forEach(function(R){A.dispatch(R),j(":"),I.excludeValues||A.dispatch(h[R]),j(",")});if(!this["_"+N]){if(I.ignoreUnknown)return j("["+N+"]");throw new Error('Unknown object type "'+N+'"')}this["_"+N](h)},_array:function(h,R){R=R!==void 0?R:I.unorderedArrays!==!1;var T=this;if(j("array:"+h.length+":"),!R||h.length<=1)return h.forEach(function(V){return T.dispatch(V)});var N=[],R=h.map(function(V){var z=new C,K=_.slice();return b(I,z,K).dispatch(V),N=N.concat(K.slice(_.length)),z.read().toString()});return _=_.concat(N),R.sort(),this._array(R,!1)},_date:function(h){return j("date:"+h.toJSON())},_symbol:function(h){return j("symbol:"+h.toString())},_error:function(h){return j("error:"+h.toString())},_boolean:function(h){return j("bool:"+h.toString())},_string:function(h){j("string:"+h.length+":"),j(h.toString())},_function:function(h){j("fn:"),x(h)?this.dispatch("[native]"):this.dispatch(h.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(h.name)),I.respectFunctionProperties&&this._object(h)},_number:function(h){return j("number:"+h.toString())},_xml:function(h){return j("xml:"+h.toString())},_null:function(){return j("Null")},_undefined:function(){return j("Undefined")},_regexp:function(h){return j("regex:"+h.toString())},_uint8array:function(h){return j("uint8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint8clampedarray:function(h){return j("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(h))},_int8array:function(h){return j("int8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint16array:function(h){return j("uint16array:"),this.dispatch(Array.prototype.slice.call(h))},_int16array:function(h){return j("int16array:"),this.dispatch(Array.prototype.slice.call(h))},_uint32array:function(h){return j("uint32array:"),this.dispatch(Array.prototype.slice.call(h))},_int32array:function(h){return j("int32array:"),this.dispatch(Array.prototype.slice.call(h))},_float32array:function(h){return j("float32array:"),this.dispatch(Array.prototype.slice.call(h))},_float64array:function(h){return j("float64array:"),this.dispatch(Array.prototype.slice.call(h))},_arraybuffer:function(h){return j("arraybuffer:"),this.dispatch(new Uint8Array(h))},_url:function(h){return j("url:"+h.toString())},_map:function(h){return j("map:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_set:function(h){return j("set:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_file:function(h){return j("file:"),this.dispatch([h.name,h.size,h.type,h.lastModfied])},_blob:function(){if(I.ignoreUnknown)return j("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return j("domwindow")},_bigint:function(h){return j("bigint:"+h.toString())},_process:function(){return j("process")},_timer:function(){return j("timer")},_pipe:function(){return j("pipe")},_tcp:function(){return j("tcp")},_udp:function(){return j("udp")},_tty:function(){return j("tty")},_statwatcher:function(){return j("statwatcher")},_securecontext:function(){return j("securecontext")},_connection:function(){return j("connection")},_zlib:function(){return j("zlib")},_context:function(){return j("context")},_nodescript:function(){return j("nodescript")},_httpparser:function(){return j("httpparser")},_dataview:function(){return j("dataview")},_signal:function(){return j("signal")},_fsevent:function(){return j("fsevent")},_tlswrap:function(){return j("tlswrap")}}}function C(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}s.writeToStream=function(I,P,_){return _===void 0&&(_=P,P={}),b(P=m(I,P),_).dispatch(I)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){(function(g){var k=typeof Uint8Array<"u"?Uint8Array:Array,y=43,S=47,m=48,x=97,b=65,C=45,I=95;function P(_){return _=_.charCodeAt(0),_===y||_===C?62:_===S||_===I?63:_<m?-1:_<m+10?_-m+26+26:_<b+26?_-b:_<x+26?_-x+26:void 0}g.toByteArray=function(_){var j,h;if(0<_.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var A=_.length,A=_.charAt(A-2)==="="?2:_.charAt(A-1)==="="?1:0,T=new k(3*_.length/4-A),N=0<A?_.length-4:_.length,R=0;function V(z){T[R++]=z}for(j=0;j<N;j+=4,0)V((16711680&(h=P(_.charAt(j))<<18|P(_.charAt(j+1))<<12|P(_.charAt(j+2))<<6|P(_.charAt(j+3))))>>16),V((65280&h)>>8),V(255&h);return A==2?V(255&(h=P(_.charAt(j))<<2|P(_.charAt(j+1))>>4)):A==1&&(V((h=P(_.charAt(j))<<10|P(_.charAt(j+1))<<4|P(_.charAt(j+2))>>2)>>8&255),V(255&h)),T},g.fromByteArray=function(_){var j,h,A,T,N=_.length%3,R="";function V(z){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(z)}for(j=0,A=_.length-N;j<A;j+=3)h=(_[j]<<16)+(_[j+1]<<8)+_[j+2],R+=V((T=h)>>18&63)+V(T>>12&63)+V(T>>6&63)+V(63&T);switch(N){case 1:R=(R+=V((h=_[_.length-1])>>2))+V(h<<4&63)+"==";break;case 2:R=(R=(R+=V((h=(_[_.length-2]<<8)+_[_.length-1])>>10))+V(h>>4&63))+V(h<<2&63)+"="}return R}})(s===void 0?this.base64js={}:s)}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(r,n,s){(function(i,o,y,c,l,u,d,p,v){var g=r("base64-js"),k=r("ieee754");function y(w,O,L){if(!(this instanceof y))return new y(w,O,L);var B,W,q,ee,he=typeof w;if(O==="base64"&&he=="string")for(w=(ee=w).trim?ee.trim():ee.replace(/^\s+|\s+$/g,"");w.length%4!=0;)w+="=";if(he=="number")B=U(w);else if(he=="string")B=y.byteLength(w,O);else{if(he!="object")throw new Error("First argument needs to be a number, array or string.");B=U(w.length)}if(y._useTypedArrays?W=y._augment(new Uint8Array(B)):((W=this).length=B,W._isBuffer=!0),y._useTypedArrays&&typeof w.byteLength=="number")W._set(w);else if(X(ee=w)||y.isBuffer(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number")for(q=0;q<B;q++)y.isBuffer(w)?W[q]=w.readUInt8(q):W[q]=w[q];else if(he=="string")W.write(w,0,O);else if(he=="number"&&!y._useTypedArrays&&!L)for(q=0;q<B;q++)W[q]=0;return W}function S(w,O,L,B){return y._charsWritten=ce((function(W){for(var q=[],ee=0;ee<W.length;ee++)q.push(255&W.charCodeAt(ee));return q})(O),w,L,B)}function m(w,O,L,B){return y._charsWritten=ce((function(W){for(var q,ee,he=[],be=0;be<W.length;be++)ee=W.charCodeAt(be),q=ee>>8,ee=ee%256,he.push(ee),he.push(q);return he})(O),w,L,B)}function x(w,O,L){var B="";L=Math.min(w.length,L);for(var W=O;W<L;W++)B+=String.fromCharCode(w[W]);return B}function b(w,O,L,q){q||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return L?(W=w[O],O+1<q&&(W|=w[O+1]<<8)):(W=w[O]<<8,O+1<q&&(W|=w[O+1])),W}function C(w,O,L,q){q||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return L?(O+2<q&&(W=w[O+2]<<16),O+1<q&&(W|=w[O+1]<<8),W|=w[O],O+3<q&&(W+=w[O+3]<<24>>>0)):(O+1<q&&(W=w[O+1]<<16),O+2<q&&(W|=w[O+2]<<8),O+3<q&&(W|=w[O+3]),W+=w[O]<<24>>>0),W}function I(w,O,L,B){if(B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=b(w,O,L,!0),32768&B?-1*(65535-B+1):B}function P(w,O,L,B){if(B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=C(w,O,L,!0),2147483648&B?-1*(4294967295-B+1):B}function _(w,O,L,B){return B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O+3<w.length,"Trying to read beyond buffer length")),k.read(w,O,L,23,4)}function j(w,O,L,B){return B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O+7<w.length,"Trying to read beyond buffer length")),k.read(w,O,L,52,8)}function h(w,O,L,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+1<w.length,"trying to write beyond buffer length"),se(O,65535)),W=w.length,!(W<=L))for(var q=0,ee=Math.min(W-L,2);q<ee;q++)w[L+q]=(O&255<<8*(B?q:1-q))>>>8*(B?q:1-q)}function A(w,O,L,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"trying to write beyond buffer length"),se(O,4294967295)),W=w.length,!(W<=L))for(var q=0,ee=Math.min(W-L,4);q<ee;q++)w[L+q]=O>>>8*(B?q:3-q)&255}function T(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+1<w.length,"Trying to write beyond buffer length"),ke(O,32767,-32768)),w.length<=L||h(w,0<=O?O:65535+O+1,L,B,W)}function N(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"Trying to write beyond buffer length"),ke(O,2147483647,-2147483648)),w.length<=L||A(w,0<=O?O:4294967295+O+1,L,B,W)}function R(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"Trying to write beyond buffer length"),Pe(O,34028234663852886e22,-34028234663852886e22)),w.length<=L||k.write(w,O,L,B,23,4)}function V(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+7<w.length,"Trying to write beyond buffer length"),Pe(O,17976931348623157e292,-17976931348623157e292)),w.length<=L||k.write(w,O,L,B,52,8)}s.Buffer=y,s.SlowBuffer=y,s.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=(function(){try{var w=new ArrayBuffer(0),O=new Uint8Array(w);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"}catch{return!1}})(),y.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(w){return!(w==null||!w._isBuffer)},y.byteLength=function(w,O){var L;switch(w+="",O||"utf8"){case"hex":L=w.length/2;break;case"utf8":case"utf-8":L=Y(w).length;break;case"ascii":case"binary":case"raw":L=w.length;break;case"base64":L=te(w).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":L=2*w.length;break;default:throw new Error("Unknown encoding")}return L},y.concat=function(w,O){if(Z(X(w),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),w.length===0)return new y(0);if(w.length===1)return w[0];if(typeof O!="number")for(W=O=0;W<w.length;W++)O+=w[W].length;for(var L=new y(O),B=0,W=0;W<w.length;W++){var q=w[W];q.copy(L,B),B+=q.length}return L},y.prototype.write=function(w,O,L,B){isFinite(O)?isFinite(L)||(B=L,L=void 0):(be=B,B=O,O=L,L=be),O=Number(O)||0;var W,q,ee,he,be=this.length-O;switch((!L||be<(L=Number(L)))&&(L=be),B=String(B||"utf8").toLowerCase()){case"hex":W=(function(Oe,Ae,je,xe){je=Number(je)||0;var me=Oe.length-je;(!xe||me<(xe=Number(xe)))&&(xe=me),Z((me=Ae.length)%2==0,"Invalid hex string"),me/2<xe&&(xe=me/2);for(var at=0;at<xe;at++){var $t=parseInt(Ae.substr(2*at,2),16);Z(!isNaN($t),"Invalid hex string"),Oe[je+at]=$t}return y._charsWritten=2*at,at})(this,w,O,L);break;case"utf8":case"utf-8":q=this,ee=O,he=L,W=y._charsWritten=ce(Y(w),q,ee,he);break;case"ascii":case"binary":W=S(this,w,O,L);break;case"base64":q=this,ee=O,he=L,W=y._charsWritten=ce(te(w),q,ee,he);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=m(this,w,O,L);break;default:throw new Error("Unknown encoding")}return W},y.prototype.toString=function(w,O,L){var B,W,q,ee,he=this;if(w=String(w||"utf8").toLowerCase(),O=Number(O)||0,(L=L!==void 0?Number(L):he.length)===O)return"";switch(w){case"hex":B=(function(be,Oe,Ae){var je=be.length;(!Oe||Oe<0)&&(Oe=0),(!Ae||Ae<0||je<Ae)&&(Ae=je);for(var xe="",me=Oe;me<Ae;me++)xe+=G(be[me]);return xe})(he,O,L);break;case"utf8":case"utf-8":B=(function(be,Oe,Ae){var je="",xe="";Ae=Math.min(be.length,Ae);for(var me=Oe;me<Ae;me++)be[me]<=127?(je+=Ie(xe)+String.fromCharCode(be[me]),xe=""):xe+="%"+be[me].toString(16);return je+Ie(xe)})(he,O,L);break;case"ascii":case"binary":B=x(he,O,L);break;case"base64":W=he,ee=L,B=(q=O)===0&&ee===W.length?g.fromByteArray(W):g.fromByteArray(W.slice(q,ee));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":B=(function(be,Oe,Ae){for(var je=be.slice(Oe,Ae),xe="",me=0;me<je.length;me+=2)xe+=String.fromCharCode(je[me]+256*je[me+1]);return xe})(he,O,L);break;default:throw new Error("Unknown encoding")}return B},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(w,O,L,B){if(O=O||0,(B=B||B===0?B:this.length)!==(L=L||0)&&w.length!==0&&this.length!==0){Z(L<=B,"sourceEnd < sourceStart"),Z(0<=O&&O<w.length,"targetStart out of bounds"),Z(0<=L&&L<this.length,"sourceStart out of bounds"),Z(0<=B&&B<=this.length,"sourceEnd out of bounds"),B>this.length&&(B=this.length);var W=(B=w.length-O<B-L?w.length-O+L:B)-L;if(W<100||!y._useTypedArrays)for(var q=0;q<W;q++)w[q+O]=this[q+L];else w._set(this.subarray(L,L+W),O)}},y.prototype.slice=function(w,O){var L=this.length;if(w=K(w,L,0),O=K(O,L,L),y._useTypedArrays)return y._augment(this.subarray(w,O));for(var B=O-w,W=new y(B,void 0,!0),q=0;q<B;q++)W[q]=this[q+w];return W},y.prototype.get=function(w){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(w)},y.prototype.set=function(w,O){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(w,O)},y.prototype.readUInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return this[w]},y.prototype.readUInt16LE=function(w,O){return b(this,w,!0,O)},y.prototype.readUInt16BE=function(w,O){return b(this,w,!1,O)},y.prototype.readUInt32LE=function(w,O){return C(this,w,!0,O)},y.prototype.readUInt32BE=function(w,O){return C(this,w,!1,O)},y.prototype.readInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return 128&this[w]?-1*(255-this[w]+1):this[w]},y.prototype.readInt16LE=function(w,O){return I(this,w,!0,O)},y.prototype.readInt16BE=function(w,O){return I(this,w,!1,O)},y.prototype.readInt32LE=function(w,O){return P(this,w,!0,O)},y.prototype.readInt32BE=function(w,O){return P(this,w,!1,O)},y.prototype.readFloatLE=function(w,O){return _(this,w,!0,O)},y.prototype.readFloatBE=function(w,O){return _(this,w,!1,O)},y.prototype.readDoubleLE=function(w,O){return j(this,w,!0,O)},y.prototype.readDoubleBE=function(w,O){return j(this,w,!1,O)},y.prototype.writeUInt8=function(w,O,L){L||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"trying to write beyond buffer length"),se(w,255)),O>=this.length||(this[O]=w)},y.prototype.writeUInt16LE=function(w,O,L){h(this,w,O,!0,L)},y.prototype.writeUInt16BE=function(w,O,L){h(this,w,O,!1,L)},y.prototype.writeUInt32LE=function(w,O,L){A(this,w,O,!0,L)},y.prototype.writeUInt32BE=function(w,O,L){A(this,w,O,!1,L)},y.prototype.writeInt8=function(w,O,L){L||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"Trying to write beyond buffer length"),ke(w,127,-128)),O>=this.length||(0<=w?this.writeUInt8(w,O,L):this.writeUInt8(255+w+1,O,L))},y.prototype.writeInt16LE=function(w,O,L){T(this,w,O,!0,L)},y.prototype.writeInt16BE=function(w,O,L){T(this,w,O,!1,L)},y.prototype.writeInt32LE=function(w,O,L){N(this,w,O,!0,L)},y.prototype.writeInt32BE=function(w,O,L){N(this,w,O,!1,L)},y.prototype.writeFloatLE=function(w,O,L){R(this,w,O,!0,L)},y.prototype.writeFloatBE=function(w,O,L){R(this,w,O,!1,L)},y.prototype.writeDoubleLE=function(w,O,L){V(this,w,O,!0,L)},y.prototype.writeDoubleBE=function(w,O,L){V(this,w,O,!1,L)},y.prototype.fill=function(w,O,L){if(O=O||0,L=L||this.length,Z(typeof(w=typeof(w=w||0)=="string"?w.charCodeAt(0):w)=="number"&&!isNaN(w),"value is not a number"),Z(O<=L,"end < start"),L!==O&&this.length!==0){Z(0<=O&&O<this.length,"start out of bounds"),Z(0<=L&&L<=this.length,"end out of bounds");for(var B=O;B<L;B++)this[B]=w}},y.prototype.inspect=function(){for(var w=[],O=this.length,L=0;L<O;L++)if(w[L]=G(this[L]),L===s.INSPECT_MAX_BYTES){w[L+1]="...";break}return"<Buffer "+w.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var w=new Uint8Array(this.length),O=0,L=w.length;O<L;O+=1)w[O]=this[O];return w.buffer};var z=y.prototype;function K(w,O,L){return typeof w!="number"?L:O<=(w=~~w)?O:0<=w||0<=(w+=O)?w:0}function U(w){return(w=~~Math.ceil(+w))<0?0:w}function X(w){return(Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"})(w)}function G(w){return w<16?"0"+w.toString(16):w.toString(16)}function Y(w){for(var O=[],L=0;L<w.length;L++){var B=w.charCodeAt(L);if(B<=127)O.push(w.charCodeAt(L));else for(var W=L,q=(55296<=B&&B<=57343&&L++,encodeURIComponent(w.slice(W,L+1)).substr(1).split("%")),ee=0;ee<q.length;ee++)O.push(parseInt(q[ee],16))}return O}function te(w){return g.toByteArray(w)}function ce(w,O,L,B){for(var W=0;W<B&&!(W+L>=O.length||W>=w.length);W++)O[W+L]=w[W];return W}function Ie(w){try{return decodeURIComponent(w)}catch{return""}}function se(w,O){Z(typeof w=="number","cannot write a non-number as a number"),Z(0<=w,"specified a negative value for writing an unsigned value"),Z(w<=O,"value is larger than maximum value for type"),Z(Math.floor(w)===w,"value has a fractional component")}function ke(w,O,L){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(L<=w,"value smaller than minimum allowed value"),Z(Math.floor(w)===w,"value has a fractional component")}function Pe(w,O,L){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(L<=w,"value smaller than minimum allowed value")}function Z(w,O){if(!w)throw new Error(O||"Failed assertion")}y._augment=function(w){return w._isBuffer=!0,w._get=w.get,w._set=w.set,w.get=z.get,w.set=z.set,w.write=z.write,w.toString=z.toString,w.toLocaleString=z.toString,w.toJSON=z.toJSON,w.copy=z.copy,w.slice=z.slice,w.readUInt8=z.readUInt8,w.readUInt16LE=z.readUInt16LE,w.readUInt16BE=z.readUInt16BE,w.readUInt32LE=z.readUInt32LE,w.readUInt32BE=z.readUInt32BE,w.readInt8=z.readInt8,w.readInt16LE=z.readInt16LE,w.readInt16BE=z.readInt16BE,w.readInt32LE=z.readInt32LE,w.readInt32BE=z.readInt32BE,w.readFloatLE=z.readFloatLE,w.readFloatBE=z.readFloatBE,w.readDoubleLE=z.readDoubleLE,w.readDoubleBE=z.readDoubleBE,w.writeUInt8=z.writeUInt8,w.writeUInt16LE=z.writeUInt16LE,w.writeUInt16BE=z.writeUInt16BE,w.writeUInt32LE=z.writeUInt32LE,w.writeUInt32BE=z.writeUInt32BE,w.writeInt8=z.writeInt8,w.writeInt16LE=z.writeInt16LE,w.writeInt16BE=z.writeInt16BE,w.writeInt32LE=z.writeInt32LE,w.writeInt32BE=z.writeInt32BE,w.writeFloatLE=z.writeFloatLE,w.writeFloatBE=z.writeFloatBE,w.writeDoubleLE=z.writeDoubleLE,w.writeDoubleBE=z.writeDoubleBE,w.fill=z.fill,w.inspect=z.inspect,w.toArrayBuffer=z.toArrayBuffer,w}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(r,n,s){(function(i,o,g,c,l,u,d,p,v){var g=r("buffer").Buffer,k=4,y=new g(k);y.fill(0),n.exports={hash:function(S,m,x,b){for(var C=m((function(h,A){h.length%k!=0&&(T=h.length+(k-h.length%k),h=g.concat([h,y],T));for(var T,N=[],R=A?h.readInt32BE:h.readInt32LE,V=0;V<h.length;V+=k)N.push(R.call(h,V));return N})(S=g.isBuffer(S)?S:new g(S),b),8*S.length),m=b,I=new g(x),P=m?I.writeInt32BE:I.writeInt32LE,_=0;_<C.length;_++)P.call(I,C[_],4*_,!0);return I}}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(r,n,s){(function(i,o,g,c,l,u,d,p,v){var g=r("buffer").Buffer,k=r("./sha"),y=r("./sha256"),S=r("./rng"),m={sha1:k,sha256:y,md5:r("./md5")},x=64,b=new g(x);function C(h,A){var T=m[h=h||"sha1"],N=[];return T||I("algorithm:",h,"is not yet supported"),{update:function(R){return g.isBuffer(R)||(R=new g(R)),N.push(R),R.length,this},digest:function(R){var V=g.concat(N),V=A?(function(z,K,U){g.isBuffer(K)||(K=new g(K)),g.isBuffer(U)||(U=new g(U)),K.length>x?K=z(K):K.length<x&&(K=g.concat([K,b],x));for(var X=new g(x),G=new g(x),Y=0;Y<x;Y++)X[Y]=54^K[Y],G[Y]=92^K[Y];return U=z(g.concat([X,U])),z(g.concat([G,U]))})(T,A,V):T(V);return N=null,R?V.toString(R):V}}}function I(){var h=[].slice.call(arguments).join(" ");throw new Error([h,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}b.fill(0),s.createHash=function(h){return C(h)},s.createHmac=C,s.randomBytes=function(h,A){if(!A||!A.call)return new g(S(h));try{A.call(this,void 0,new g(S(h)))}catch(T){A(T)}};var P,_=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],j=function(h){s[h]=function(){I("sorry,",h,"is not implemented yet")}};for(P in _)j(_[P])}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){var g=r("./helpers");function k(I,P){I[P>>5]|=128<<P%32,I[14+(P+64>>>9<<4)]=P;for(var _=1732584193,j=-271733879,h=-1732584194,A=271733878,T=0;T<I.length;T+=16){var N=_,R=j,V=h,z=A,_=S(_,j,h,A,I[T+0],7,-680876936),A=S(A,_,j,h,I[T+1],12,-389564586),h=S(h,A,_,j,I[T+2],17,606105819),j=S(j,h,A,_,I[T+3],22,-1044525330);_=S(_,j,h,A,I[T+4],7,-176418897),A=S(A,_,j,h,I[T+5],12,1200080426),h=S(h,A,_,j,I[T+6],17,-1473231341),j=S(j,h,A,_,I[T+7],22,-45705983),_=S(_,j,h,A,I[T+8],7,1770035416),A=S(A,_,j,h,I[T+9],12,-1958414417),h=S(h,A,_,j,I[T+10],17,-42063),j=S(j,h,A,_,I[T+11],22,-1990404162),_=S(_,j,h,A,I[T+12],7,1804603682),A=S(A,_,j,h,I[T+13],12,-40341101),h=S(h,A,_,j,I[T+14],17,-1502002290),_=m(_,j=S(j,h,A,_,I[T+15],22,1236535329),h,A,I[T+1],5,-165796510),A=m(A,_,j,h,I[T+6],9,-1069501632),h=m(h,A,_,j,I[T+11],14,643717713),j=m(j,h,A,_,I[T+0],20,-373897302),_=m(_,j,h,A,I[T+5],5,-701558691),A=m(A,_,j,h,I[T+10],9,38016083),h=m(h,A,_,j,I[T+15],14,-660478335),j=m(j,h,A,_,I[T+4],20,-405537848),_=m(_,j,h,A,I[T+9],5,568446438),A=m(A,_,j,h,I[T+14],9,-1019803690),h=m(h,A,_,j,I[T+3],14,-187363961),j=m(j,h,A,_,I[T+8],20,1163531501),_=m(_,j,h,A,I[T+13],5,-1444681467),A=m(A,_,j,h,I[T+2],9,-51403784),h=m(h,A,_,j,I[T+7],14,1735328473),_=x(_,j=m(j,h,A,_,I[T+12],20,-1926607734),h,A,I[T+5],4,-378558),A=x(A,_,j,h,I[T+8],11,-2022574463),h=x(h,A,_,j,I[T+11],16,1839030562),j=x(j,h,A,_,I[T+14],23,-35309556),_=x(_,j,h,A,I[T+1],4,-1530992060),A=x(A,_,j,h,I[T+4],11,1272893353),h=x(h,A,_,j,I[T+7],16,-155497632),j=x(j,h,A,_,I[T+10],23,-1094730640),_=x(_,j,h,A,I[T+13],4,681279174),A=x(A,_,j,h,I[T+0],11,-358537222),h=x(h,A,_,j,I[T+3],16,-722521979),j=x(j,h,A,_,I[T+6],23,76029189),_=x(_,j,h,A,I[T+9],4,-640364487),A=x(A,_,j,h,I[T+12],11,-421815835),h=x(h,A,_,j,I[T+15],16,530742520),_=b(_,j=x(j,h,A,_,I[T+2],23,-995338651),h,A,I[T+0],6,-198630844),A=b(A,_,j,h,I[T+7],10,1126891415),h=b(h,A,_,j,I[T+14],15,-1416354905),j=b(j,h,A,_,I[T+5],21,-57434055),_=b(_,j,h,A,I[T+12],6,1700485571),A=b(A,_,j,h,I[T+3],10,-1894986606),h=b(h,A,_,j,I[T+10],15,-1051523),j=b(j,h,A,_,I[T+1],21,-2054922799),_=b(_,j,h,A,I[T+8],6,1873313359),A=b(A,_,j,h,I[T+15],10,-30611744),h=b(h,A,_,j,I[T+6],15,-1560198380),j=b(j,h,A,_,I[T+13],21,1309151649),_=b(_,j,h,A,I[T+4],6,-145523070),A=b(A,_,j,h,I[T+11],10,-1120210379),h=b(h,A,_,j,I[T+2],15,718787259),j=b(j,h,A,_,I[T+9],21,-343485551),_=C(_,N),j=C(j,R),h=C(h,V),A=C(A,z)}return Array(_,j,h,A)}function y(I,P,_,j,h,A){return C((P=C(C(P,I),C(j,A)))<<h|P>>>32-h,_)}function S(I,P,_,j,h,A,T){return y(P&_|~P&j,I,P,h,A,T)}function m(I,P,_,j,h,A,T){return y(P&j|_&~j,I,P,h,A,T)}function x(I,P,_,j,h,A,T){return y(P^_^j,I,P,h,A,T)}function b(I,P,_,j,h,A,T){return y(_^(P|~j),I,P,h,A,T)}function C(I,P){var _=(65535&I)+(65535&P);return(I>>16)+(P>>16)+(_>>16)<<16|65535&_}n.exports=function(I){return g.hash(I,k,16)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){n.exports=function(g){for(var k,y=new Array(g),S=0;S<g;S++)(3&S)==0&&(k=4294967296*Math.random()),y[S]=k>>>((3&S)<<3)&255;return y}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){var g=r("./helpers");function k(m,x){m[x>>5]|=128<<24-x%32,m[15+(x+64>>9<<4)]=x;for(var b,C,I,P=Array(80),_=1732584193,j=-271733879,h=-1732584194,A=271733878,T=-1009589776,N=0;N<m.length;N+=16){for(var R=_,V=j,z=h,K=A,U=T,X=0;X<80;X++){P[X]=X<16?m[N+X]:S(P[X-3]^P[X-8]^P[X-14]^P[X-16],1);var G=y(y(S(_,5),(G=j,C=h,I=A,(b=X)<20?G&C|~G&I:!(b<40)&&b<60?G&C|G&I|C&I:G^C^I)),y(y(T,P[X]),(b=X)<20?1518500249:b<40?1859775393:b<60?-1894007588:-899497514)),T=A,A=h,h=S(j,30),j=_,_=G}_=y(_,R),j=y(j,V),h=y(h,z),A=y(A,K),T=y(T,U)}return Array(_,j,h,A,T)}function y(m,x){var b=(65535&m)+(65535&x);return(m>>16)+(x>>16)+(b>>16)<<16|65535&b}function S(m,x){return m<<x|m>>>32-x}n.exports=function(m){return g.hash(m,k,20,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){function g(x,b){var C=(65535&x)+(65535&b);return(x>>16)+(b>>16)+(C>>16)<<16|65535&C}function k(x,b){var C,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),P=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);x[b>>5]|=128<<24-b%32,x[15+(b+64>>9<<4)]=b;for(var j,h,A=0;A<x.length;A+=16){for(var T=P[0],N=P[1],R=P[2],V=P[3],z=P[4],K=P[5],U=P[6],X=P[7],G=0;G<64;G++)_[G]=G<16?x[G+A]:g(g(g((h=_[G-2],S(h,17)^S(h,19)^m(h,10)),_[G-7]),(h=_[G-15],S(h,7)^S(h,18)^m(h,3))),_[G-16]),C=g(g(g(g(X,S(h=z,6)^S(h,11)^S(h,25)),z&K^~z&U),I[G]),_[G]),j=g(S(j=T,2)^S(j,13)^S(j,22),T&N^T&R^N&R),X=U,U=K,K=z,z=g(V,C),V=R,R=N,N=T,T=g(C,j);P[0]=g(T,P[0]),P[1]=g(N,P[1]),P[2]=g(R,P[2]),P[3]=g(V,P[3]),P[4]=g(z,P[4]),P[5]=g(K,P[5]),P[6]=g(U,P[6]),P[7]=g(X,P[7])}return P}var y=r("./helpers"),S=function(x,b){return x>>>b|x<<32-b},m=function(x,b){return x>>>b};n.exports=function(x){return y.hash(x,k,32,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){s.read=function(g,k,y,S,A){var x,b,C=8*A-S-1,I=(1<<C)-1,P=I>>1,_=-7,j=y?A-1:0,h=y?-1:1,A=g[k+j];for(j+=h,x=A&(1<<-_)-1,A>>=-_,_+=C;0<_;x=256*x+g[k+j],j+=h,_-=8);for(b=x&(1<<-_)-1,x>>=-_,_+=S;0<_;b=256*b+g[k+j],j+=h,_-=8);if(x===0)x=1-P;else{if(x===I)return b?NaN:1/0*(A?-1:1);b+=Math.pow(2,S),x-=P}return(A?-1:1)*b*Math.pow(2,x-S)},s.write=function(g,k,y,S,m,T){var b,C,I=8*T-m-1,P=(1<<I)-1,_=P>>1,j=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=S?0:T-1,A=S?1:-1,T=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(C=isNaN(k)?1:0,b=P):(b=Math.floor(Math.log(k)/Math.LN2),k*(S=Math.pow(2,-b))<1&&(b--,S*=2),2<=(k+=1<=b+_?j/S:j*Math.pow(2,1-_))*S&&(b++,S/=2),P<=b+_?(C=0,b=P):1<=b+_?(C=(k*S-1)*Math.pow(2,m),b+=_):(C=k*Math.pow(2,_-1)*Math.pow(2,m),b=0));8<=m;g[y+h]=255&C,h+=A,C/=256,m-=8);for(b=b<<m|C,I+=m;0<I;g[y+h]=255&b,h+=A,b/=256,I-=8);g[y+h-A]|=128*T}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(r,n,s){(function(i,o,a,c,l,u,d,p,v){var g,k,y;function S(){}(i=n.exports={}).nextTick=(k=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,k?function(m){return window.setImmediate(m)}:y?(g=[],window.addEventListener("message",function(m){var x=m.source;x!==window&&x!==null||m.data!=="process-tick"||(m.stopPropagation(),0<g.length&&g.shift()())},!0),function(m){g.push(m),window.postMessage("process-tick","*")}):function(m){setTimeout(m,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=S,i.addListener=S,i.once=S,i.off=S,i.removeListener=S,i.removeAllListeners=S,i.emit=S,i.binding=function(m){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(m){throw new Error("process.chdir is not supported")}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(yi)),yi.exports}var Nv=Rv();const _i=Fs(Nv);var zv=Jf({"../../node_modules/classnames/index.js"(e,t){M(),(function(){var r={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var c=arguments[a];c&&(o=i(o,s(c)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var c in o)r.call(o,c)&&o[c]&&(a=i(a,c));return a}function i(o,a){return a?o?o+" "+a:o+a:o}typeof t<"u"&&t.exports?(n.default=n,t.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()}});M();M();M();var Fv=ep(zv()),Bv=(e,t,r={baseClass:""})=>(n={})=>{if(typeof n=="string"){const s=n;return t[`${e}-${s}`]&&r.baseClass+t[`${e}-${s}`]||""}else if(typeof n=="object"){const s=n,i={};for(let a in s)i[t[`${e}--${a}`]]=s[a];const o=t[e];return r.baseClass+(0,Fv.default)(D({[o]:!!o},i))}else return r.baseClass+t[e]||""},ie=Bv;M();var Wv={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},Dn=ie("ActionBar",Wv),mt=({label:e,children:t})=>f.jsxs("div",{className:Dn(),onClick:r=>{r.stopPropagation()},children:[e&&f.jsx(mt.Group,{children:f.jsx("div",{className:Dn("label"),children:e})}),t]}),Hv=({children:e,label:t,onClick:r})=>f.jsx("button",{type:"button",className:Dn("action"),onClick:r,title:t,children:e}),Uv=({children:e})=>f.jsx("div",{className:Dn("group"),children:e}),Vv=({label:e})=>f.jsx("div",{className:Dn("label"),children:e});mt.Action=Hv;mt.Label=Vv;mt.Group=Uv;M();M();var Zv={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};M();M();M();M();var Pl=(e,t,r)=>{const n=Array.from(e),[s]=n.splice(t,1);return n.splice(r,0,s),n};M();var qv=(e,t,r)=>{const n=Array.from(e);return n.splice(t,1),n.splice(t,0,r),n};M();M();M();M();var Yv=(e,t,r)=>{if(typeof t.state=="object"){const n=D(D({},e),t.state);return t.state.indexes?n:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),it(n,r.config))}return D(D({},e),t.state(e))};M();M();var Or=(e,t,r)=>{const n=Array.from(e||[]);return n.splice(t,0,r),n};M();var ot=e=>e?`${e}-${Ua()}`:Ua();M();var Pn=(e,t)=>{const[r]=e.split(":"),n=t.indexes.nodes[r];return(n?.path||[]).map(s=>s.split(":")[0])};M();var Vd=(e,t,r=!1)=>{const n=ot(e.type);return dc($(D({},e),{props:r?$(D({},e.props),{id:n}):D({},e.props)}),t,s=>s.map(i=>{const o=ot(i.type);return $(D({},i),{props:r?$(D({},i.props),{id:o}):D({id:o},i.props)})}))};function Zd(e,t,r){const n=t.id||ot(t.componentType),s=Vd({type:t.componentType,props:$(D({},r.config.components[t.componentType].defaultProps||{}),{id:n})},r.config),[i]=t.destinationZone.split(":"),o=Pn(t.destinationZone,e);return it(e,r.config,(a,c)=>c===t.destinationZone?Or(a||[],t.destinationIndex,s):a,(a,c)=>a.props.id===n||a.props.id===i||o.includes(a.props.id)||c.includes(t.destinationZone)?a:null)}M();var Xv=(e,t,r)=>{const[n]=t.destinationZone.split(":"),s=Pn(t.destinationZone,e),i=e.indexes.zones[t.destinationZone].contentIds[t.destinationIndex];if(i!==t.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const a=[],c=dc(t.data,r.config,(u,d)=>(a.push(`${d.parentId}:${d.propName}`),u.map(p=>{const v=ot(p.type);return $(D({},p),{props:D({id:v},p.props)})}))),l=D({},e);return Object.keys(e.indexes.zones).forEach(u=>{u.split(":")[0]===i&&(a.includes(u)||delete l.indexes.zones[u])}),it(l,r.config,(u,d)=>{const p=[...u];return d===t.destinationZone&&(p[t.destinationIndex]=c),p},(u,d)=>{const p=d.map(v=>v.split(":")[0]);return u.props.id===c.props.id?c:u.props.id===n||s.indexOf(u.props.id)>-1||p.indexOf(c.props.id)>-1?u:null})};M();var Kv=(e,t,r)=>it(e,r.config,n=>n,n=>n.props.id==="root"?$(D({},n),{props:D(D({},n.props),t.root.props),readOnly:t.root.readOnly}):n);M();M();function _t(e,t){var r,n;const s=(r=t.indexes.zones)==null?void 0:r[e.zone||Ze];return s?(n=t.indexes.nodes[s.contentIds[e.index]])==null?void 0:n.data:void 0}function Gv(e,t,r){const n=_t({index:t.sourceIndex,zone:t.sourceZone},e),s=Pn(t.sourceZone,e),i=$(D({},n),{props:$(D({},n.props),{id:ot(n.type)})}),o=it(e,r.config,(a,c)=>c===t.sourceZone?Or(a,t.sourceIndex+1,n):a,(a,c,l)=>{const u=c[c.length-1];if(c.map(v=>v.split(":")[0]).indexOf(i.props.id)>-1)return $(D({},a),{props:$(D({},a.props),{id:ot(a.type)})});if(u===t.sourceZone&&l===t.sourceIndex+1)return i;const[p]=t.sourceZone.split(":");return p===a.props.id||s.indexOf(a.props.id)>-1?a:null});return $(D({},o),{ui:$(D({},o.ui),{itemSelector:{index:t.sourceIndex+1,zone:t.sourceZone}})})}M();M();M();var ao=(e,t)=>{const r=Array.from(e);return r.splice(t,1),r},qd=(e,t,r)=>{if(t.sourceZone===t.destinationZone&&t.sourceIndex===t.destinationIndex)return e;const n=_t({zone:t.sourceZone,index:t.sourceIndex},e);if(!n)return e;const s=Pn(t.sourceZone,e),i=Pn(t.destinationZone,e);return it(e,r.config,(o,a)=>a===t.sourceZone&&a===t.destinationZone?Or(ao(o,t.sourceIndex),t.destinationIndex,n):a===t.sourceZone?ao(o,t.sourceIndex):a===t.destinationZone?Or(o,t.destinationIndex,n):o,(o,a)=>{const[c]=t.sourceZone.split(":"),[l]=t.destinationZone.split(":"),u=o.props.id;return c===u||l===u||n.props.id===u||s.indexOf(u)>-1||i.indexOf(u)>-1||a.includes(t.destinationZone)?o:null})},Jv=(e,t,r)=>qd(e,{sourceIndex:t.sourceIndex,sourceZone:t.destinationZone,destinationIndex:t.destinationIndex,destinationZone:t.destinationZone},r);M();var Qv=(e,t,r)=>{const n=_t({index:t.index,zone:t.zone},e),s=Object.entries(e.indexes.nodes).reduce((o,[a,c])=>c.path.map(u=>u.split(":")[0]).includes(n.props.id)?[...o,a]:o,[n.props.id]),i=it(e,r.config,(o,a)=>a===t.zone?ao(o,t.index):o);return Object.keys(i.data.zones||{}).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&i.data.zones&&delete i.data.zones[o]}),Object.keys(i.indexes.zones).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&delete i.indexes.zones[o]}),s.forEach(o=>{delete i.indexes.nodes[o]}),i};M();var ms={};function em(e,t){return ms[t.zone]?$(D({},e),{data:$(D({},e.data),{zones:$(D({},e.data.zones),{[t.zone]:ms[t.zone]})}),indexes:$(D({},e.indexes),{zones:$(D({},e.indexes.zones),{[t.zone]:$(D({},e.indexes.zones[t.zone]),{contentIds:ms[t.zone].map(r=>r.props.id),type:"dropzone"})})})}):$(D({},e),{data:pc(e.data,t.zone)})}function tm(e,t){const r=D({},e.data.zones||{}),n=D({},e.indexes.zones||{});return r[t.zone]&&(ms[t.zone]=r[t.zone],delete r[t.zone]),delete n[t.zone],$(D({},e),{data:$(D({},e.data),{zones:r}),indexes:$(D({},e.indexes),{zones:n})})}M();var rm=(e,t,r)=>typeof t.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),it($(D({},e),{data:D(D({},e.data),t.data)}),r.config)):it($(D({},e),{data:D(D({},e.data),t.data(e.data))}),r.config);M();var nm=(e,t)=>typeof t.ui=="object"?$(D({},e),{ui:D(D({},e.ui),t.ui)}):$(D({},e),{ui:D(D({},e.ui),t.ui(e.ui))});M();var On=e=>{const{data:t,ui:r}=e;return{data:t,ui:r}};M();function sm(e,t,r){return(n,s)=>{const i=e(n,s),o=!["registerZone","unregisterZone","setData","setUi","set"].includes(s.type);return(typeof s.recordHistory<"u"?s.recordHistory:o)&&t&&t(i),r?.(s,On(i),On(n)),i}}function Ol({record:e,onAction:t,appStore:r}){return sm((n,s)=>s.type==="set"?Yv(n,s,r):s.type==="insert"?Zd(n,s,r):s.type==="replace"?Xv(n,s,r):s.type==="replaceRoot"?Kv(n,s,r):s.type==="duplicate"?Gv(n,s,r):s.type==="reorder"?Jv(n,s,r):s.type==="move"?qd(n,s,r):s.type==="remove"?Qv(n,s,r):s.type==="registerZone"?em(n,s):s.type==="unregisterZone"?tm(n,s):s.type==="setData"?rm(n,s,r):s.type==="setUi"?nm(n,s):n,e,t)}M();M();var Al={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},sr=mc()(yc(e=>({held:{},hold:t=>e(r=>r.held[t]?r:{held:$(D({},r.held),{[t]:!0})}),release:t=>e(r=>r.held[t]?{held:$(D({},r.held),{[t]:!1})}:r),reset:(t={})=>e(()=>({held:t})),triggers:{}}))),Yd=e=>{const t=s=>{const i=Al[s.code];if(i){sr.getState().hold(i);const{held:o,triggers:a}=sr.getState();Object.values(a).forEach(({combo:c,cb:l})=>{Object.entries(c).every(([d,p])=>p===!!o[d])&&Object.entries(o).every(([d,p])=>p===!!c[d])&&(s.preventDefault(),l())}),i!=="meta"&&i!=="ctrl"&&i!=="shift"&&sr.getState().release(i)}},r=s=>{const i=Al[s.code];i&&(i==="meta"?sr.getState().reset():sr.getState().release(i))},n=s=>{document.visibilityState==="hidden"&&sr.getState().reset()};return e.addEventListener("keydown",t),e.addEventListener("keyup",r),e.addEventListener("visibilitychange",n),()=>{e.removeEventListener("keydown",t),e.removeEventListener("keyup",r),e.removeEventListener("visibilitychange",n)}},im=()=>{E.useEffect(()=>Yd(document),[])},Ht=(e,t)=>{E.useEffect(()=>sr.setState(r=>({triggers:$(D({},r.triggers),{[`${Object.keys(e).join("+")}`]:{combo:e,cb:t}})})),[])},Ml=0;function om(e,t=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}var Tl=e=>$(D({},e),{ui:$(D({},e.ui),{field:{focus:null}})}),am=(e,t)=>{const r=om(n=>{const{histories:s,index:i}=t().history,o={state:n,id:ot("history")},a=[...s.slice(0,i+1),o];e({history:$(D({},t().history),{histories:a,index:a.length-1})})},250);return{initialAppState:{},index:Ml,histories:[],hasPast:()=>t().history.index>Ml,hasFuture:()=>t().history.index<t().history.histories.length-1,prevHistory:()=>{const{history:n}=t();return n.hasPast()?n.histories[n.index-1]:null},nextHistory:()=>{const n=t().history;return n.hasFuture()?n.histories[n.index+1]:null},currentHistory:()=>t().history.histories[t().history.index],back:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasPast()){const o=Tl(((n=s.prevHistory())==null?void 0:n.state)||s.initialAppState);i({type:"set",state:o}),e({history:$(D({},s),{index:s.index-1})})}},forward:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasFuture()){const o=(n=s.nextHistory())==null?void 0:n.state;i({type:"set",state:o?Tl(o):{}}),e({history:$(D({},s),{index:s.index+1})})}},setHistories:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=n[n.length-1])==null?void 0:s.state)||o.initialAppState}),e({history:$(D({},o),{histories:n,index:n.length-1})})},setHistoryIndex:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=o.histories[n])==null?void 0:s.state)||o.initialAppState}),e({history:$(D({},o),{index:n})})},record:r}};function lm(e,{histories:t,index:r,initialAppState:n}){E.useEffect(()=>e.setState({history:$(D({},e.getState().history),{histories:t,index:r,initialAppState:n})}),[t,r,n]);const s=()=>{e.getState().history.back()},i=()=>{e.getState().history.forward()};Ht({meta:!0,z:!0},s),Ht({meta:!0,shift:!0,z:!0},i),Ht({meta:!0,y:!0},i),Ht({ctrl:!0,z:!0},s),Ht({ctrl:!0,shift:!0,z:!0},i),Ht({ctrl:!0,y:!0},i)}M();var cm=(e,t)=>({nodes:{},registerNode:(r,n)=>{const s=t().nodes,i={id:r,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},o=s.nodes[r];e({nodes:$(D({},s),{nodes:$(D({},s.nodes),{[r]:$(D(D(D({},i),o),n),{id:r})})})})},unregisterNode:r=>{const n=t().nodes;if(n.nodes[r]){const i=D({},n.nodes);delete i[r],e({nodes:$(D({},n),{nodes:i})})}}});M();M();var Ll=(e,t)=>{const r=[];return it(e,t,n=>n,n=>(r.push(n),null)),r},um=(e,t)=>{const r=(...s)=>Ce(void 0,[...s],function*(i={},o){const{state:a,permissions:c,config:l}=t(),{cache:u,globalPermissions:d}=c,p=(S,m=!1)=>Ce(void 0,null,function*(){var x,b,C;const{config:I,state:P,setComponentLoading:_}=t(),j=S.type==="root"?I.root:I.components[S.type];if(!j)return;const h=D(D({},d),j.permissions);if(j.resolvePermissions){const A=Eo(S,(x=u[S.props.id])==null?void 0:x.lastData);if(Object.values(A).some(T=>T===!0)||m){const T=_(S.props.id,!0,50),N=yield j.resolvePermissions(S,{changed:A,lastPermissions:((b=u[S.props.id])==null?void 0:b.lastPermissions)||null,permissions:h,appState:On(P),lastData:((C=u[S.props.id])==null?void 0:C.lastData)||null}),R=t().permissions;e({permissions:$(D({},R),{cache:$(D({},R.cache),{[S.props.id]:{lastData:S,lastPermissions:N}}),resolvedPermissions:$(D({},R.resolvedPermissions),{[S.props.id]:N})})}),T()}}}),v=(S=!1)=>{const{state:m}=t();p({type:"root",props:$(D({},m.data.root.props),{id:"root"})},S)},{item:g,type:k,root:y}=i;g?yield p(g,o):k?Ll(a,l).filter(S=>S.type===k).map(S=>Ce(void 0,null,function*(){yield p(S,o)})):y?v(o):Ll(a,l).map(S=>Ce(void 0,null,function*(){yield p(S,o)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:s,type:i,root:o}={})=>{const{config:a,permissions:c}=t(),{globalPermissions:l,resolvedPermissions:u}=c;if(s){const d=a.components[s.type],p=D(D({},l),d?.permissions),v=u[s.props.id];return v?D(D({},l),v):p}else if(i){const d=a.components[i];return D(D({},l),d?.permissions)}else if(o){const d=a.root,p=D(D({},l),d?.permissions),v=u.root;return v?D(D({},l),v):p}return l},resolvePermissions:r,refreshPermissions:s=>r(s,!0)}},dm=(e,t)=>{E.useEffect(()=>{const{permissions:r}=e.getState(),{globalPermissions:n}=r;e.setState({permissions:$(D({},r),{globalPermissions:D(D({},n),t)})}),r.resolvePermissions()},[t]),E.useEffect(()=>e.subscribe(r=>r.state.data,()=>{e.getState().permissions.resolvePermissions()}),[]),E.useEffect(()=>e.subscribe(r=>r.config,()=>{e.getState().permissions.resolvePermissions()}),[])};M();var fm=(e,t)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),pm=(e,t)=>{const r=E.useCallback(n=>Ce(void 0,null,function*(){var s,i;const{fields:o,lastResolvedData:a}=e.getState().fields,c=e.getState().state.indexes.nodes,l=c[t||"root"],u=l?.data,d=l?.parentId?c[l.parentId]:null,p=d?.data||null,{getComponentConfig:v,state:g}=e.getState(),k=v(u?.type);if(!u||!k)return;const y=k.fields||{},S=k.resolveFields;let m=o;if(n&&(e.setState(x=>({fields:$(D({},x.fields),{fields:y,id:t})})),m=y),S){const x=setTimeout(()=>{e.setState(P=>({fields:$(D({},P.fields),{loading:!0})}))},50),b=((s=a.props)==null?void 0:s.id)===t?a:null,C=Eo(u,b),I=yield S(u,{changed:C,fields:y,lastFields:m,lastData:b,appState:On(g),parent:p});if(clearTimeout(x),((i=e.getState().selectedItem)==null?void 0:i.props.id)!==t)return;e.setState({fields:{fields:I,loading:!1,lastResolvedData:u,id:t}})}else e.setState(x=>({fields:$(D({},x.fields),{fields:y,id:t})}))}),[t]);E.useEffect(()=>(r(!0),e.subscribe(n=>n.state.indexes.nodes[t||"root"],()=>r())),[t])};M();var hm=e=>{if("type"in e&&e.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:t}=e;if(e.props){if("id"in e.props){const r=e.props,{id:n}=r;return{props:Kt(r,["id"]),readOnly:t}}return{props:e.props,readOnly:t}}return{props:{},readOnly:t}},gm={title:{type:"text"}},Xd=e=>mc()(yc((t,r)=>{var n,s;return $(D({state:Pi,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:Is,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{},fieldTransforms:{}},e),{fields:fm(),history:am(t,r),nodes:cm(t,r),permissions:um(t,r),getComponentConfig:i=>{var o;const{config:a,selectedItem:c}=r(),l=((o=a.root)==null?void 0:o.fields)||gm;return i&&i!=="root"?a.components[i]:c?a.components[c.type]:$(D({},a.root),{fields:l})},selectedItem:(n=e?.state)!=null&&n.ui.itemSelector?_t((s=e?.state)==null?void 0:s.ui.itemSelector,e.state):null,dispatch:i=>t(o=>{var a,c;const{record:l}=r().history,d=Ol({record:l,appStore:o})(o.state,i),p=d.ui.itemSelector?_t(d.ui.itemSelector,d):null;return(c=(a=r()).onAction)==null||c.call(a,i,d,r().state),$(D({},o),{state:d,selectedItem:p})}),setZoomConfig:i=>t({zoomConfig:i}),setStatus:i=>t({status:i}),setComponentState:i=>t({componentState:i}),pendingLoadTimeouts:{},setComponentLoading:(i,o=!0,a=0)=>{const{setComponentState:c,pendingLoadTimeouts:l}=r(),u=ot(),d=()=>{var g;const{componentState:k}=r();c($(D({},k),{[i]:$(D({},k[i]),{loadingCount:(((g=k[i])==null?void 0:g.loadingCount)||0)+1})}))},p=()=>{var g;const{componentState:k}=r();clearTimeout(v),delete l[u],t({pendingLoadTimeouts:l}),c($(D({},k),{[i]:$(D({},k[i]),{loadingCount:Math.max((((g=k[i])==null?void 0:g.loadingCount)||0)-1,0)})}))},v=setTimeout(()=>{o?d():p(),delete l[u],t({pendingLoadTimeouts:l})},a);return t({pendingLoadTimeouts:$(D({},l),{[i]:v})}),p},unsetComponentLoading:i=>{const{setComponentLoading:o}=r();o(i,!1)},setUi:(i,o)=>t(a=>{const l=Ol({record:()=>{},appStore:a})(a.state,{type:"setUi",ui:i,recordHistory:o}),u=l.ui.itemSelector?_t(l.ui.itemSelector,l):null;return $(D({},a),{state:l,selectedItem:u})}),resolveComponentData:(i,o)=>Ce(void 0,null,function*(){const{config:a,metadata:c,setComponentLoading:l,permissions:u}=r(),d={};return yield fc(i,a,c,p=>{const v="id"in p.props?p.props.id:"root";d[v]=l(v,!0,50)},p=>Ce(void 0,null,function*(){const v="id"in p.props?p.props.id:"root";"type"in p?yield u.refreshPermissions({item:p}):yield u.refreshPermissions({root:!0}),d[v]()}),o)}),resolveAndCommitData:()=>Ce(void 0,null,function*(){const{config:i,state:o,dispatch:a,resolveComponentData:c}=r();it(o,i,l=>l,l=>(c(l,"load").then(u=>{const{state:d}=r(),p=d.indexes.nodes[u.node.props.id];if(p&&u.didChange)if(u.node.props.id==="root")a({type:"replaceRoot",root:hm(u.node)});else{const v=`${p.parentId}:${p.zone}`,k=d.indexes.zones[v].contentIds.indexOf(u.node.props.id);a({type:"replace",data:u.node,destinationIndex:k,destinationZone:v})}}),l))})})})),ja=E.createContext(Xd());function F(e){const t=E.useContext(ja);return jo(t,e)}function tt(){return E.useContext(ja)}M();M();M();var vm="Invariant failed";function mm(e,t){throw new Error(vm)}var ts=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,c={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return c},ym=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},$l=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},bi={top:0,right:0,bottom:0,left:0},_m=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?bi:n,i=t.border,o=i===void 0?bi:i,a=t.padding,c=a===void 0?bi:a,l=ts(ym(r,s)),u=ts($l(r,o)),d=ts($l(u,c));return{marginBox:l,borderBox:ts(r),paddingBox:u,contentBox:d,margin:s,border:o,padding:c}},lt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&mm(),s},bm=function(t,r){var n={top:lt(r.marginTop),right:lt(r.marginRight),bottom:lt(r.marginBottom),left:lt(r.marginLeft)},s={top:lt(r.paddingTop),right:lt(r.paddingRight),bottom:lt(r.paddingBottom),left:lt(r.paddingLeft)},i={top:lt(r.borderTopWidth),right:lt(r.borderRightWidth),bottom:lt(r.borderBottomWidth),left:lt(r.borderLeftWidth)};return _m({borderBox:t,margin:n,padding:s,border:i})},Kd=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return bm(r,n)},xm=(e,t,r)=>{const n=Kd(t),{width:s,height:i}=n.contentBox,o=e.height==="auto"?i:e.height;let a=0,c=1;if(e.width>s||o>i){const l=Math.min(s/e.width,1),u=Math.min(i/o,1);r=l,l<u?a=o/r:(a=o,r=u),c=r}else c=1,r=1,a=o;return{autoZoom:c,rootHeight:a,zoom:r}},Gd=e=>{const t=tt();return n=>{const{state:s,zoomConfig:i,setZoomConfig:o}=t.getState(),{viewports:a}=s.ui,c=n?.viewports||a;e.current&&o(xm(c?.current,e.current,i.zoom))}};M();var wm={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},Sm=ie("Loader",wm),pr=e=>{var t=e,{color:r,size:n=16}=t,s=Kt(t,["color","size"]);return f.jsx("span",D({className:Sm(),style:{width:n,height:n,color:r},"aria-label":"loading"},s))},Rl=ie("IconButton",Zv),bt=({children:e,href:t,onClick:r,variant:n="primary",type:s,disabled:i,tabIndex:o,newTab:a,fullWidth:c,title:l})=>{const[u,d]=E.useState(!1),p=t?"a":"button";return f.jsxs(p,{className:Rl({primary:n==="primary",secondary:n==="secondary",disabled:i,fullWidth:c}),onClick:g=>{r&&(d(!0),Promise.resolve(r(g)).then(()=>{d(!1)}))},type:s,disabled:i||u,tabIndex:o,target:a?"_blank":void 0,rel:a?"noreferrer":void 0,href:t,title:l,children:[f.jsx("span",{className:Rl("title"),children:l}),e,u&&f.jsxs(f.Fragment,{children:["",f.jsx(pr,{size:14})]})]})};M();M();var Im={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};M();var Em=/^(data-.*)$/,km=e=>{let t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&Em.test(r)&&(t[r]=e[r]);return t},xi=ie("Button",Im),lo=e=>{var t=e,{children:r,href:n,onClick:s,variant:i="primary",type:o,disabled:a,tabIndex:c,newTab:l,fullWidth:u,icon:d,size:p="medium",loading:v=!1}=t,g=Kt(t,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[k,y]=E.useState(v);E.useEffect(()=>y(v),[v]);const S=n?"a":o?"button":"span",m=km(g);return f.jsxs(S,$(D({className:xi({primary:i==="primary",secondary:i==="secondary",disabled:a,fullWidth:u,[p]:!0}),onClick:b=>{s&&(y(!0),Promise.resolve(s(b)).then(()=>{y(!1)}))},type:o,disabled:a||k,tabIndex:c,target:l?"_blank":void 0,rel:l?"noreferrer":void 0,href:n},m),{children:[d&&f.jsx("div",{className:xi("icon"),children:d}),r,k&&f.jsx("div",{className:xi("spinner"),children:f.jsx(pr,{size:14})})]}))};M();M();var Hr={InputWrapper:"_InputWrapper_bsxfo_1","Input-label":"_Input-label_bsxfo_5","Input-labelIcon":"_Input-labelIcon_bsxfo_14","Input-disabledIcon":"_Input-disabledIcon_bsxfo_21","Input-input":"_Input-input_bsxfo_26",Input:"_Input_bsxfo_1","Input--readOnly":"_Input--readOnly_bsxfo_82","Input-radioGroupItems":"_Input-radioGroupItems_bsxfo_93","Input-radio":"_Input-radio_bsxfo_93","Input-radioInner":"_Input-radioInner_bsxfo_110","Input-radioInput":"_Input-radioInput_bsxfo_155"};M();M();M();var Jd={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};M();M();M();var jm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qd=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();M();M();var Cm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},Dm=E.forwardRef((e,t)=>{var r=e,{color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:l}=r,u=Kt(r,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return E.createElement("svg",D($(D({ref:t},Cm),{width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:Qd("lucide",a)}),u),[...l.map(([d,p])=>E.createElement(d,p)),...Array.isArray(c)?c:[c]])}),pe=(e,t)=>{const r=E.forwardRef((n,s)=>{var i=n,{className:o}=i,a=Kt(i,["className"]);return E.createElement(Dm,D({ref:s,iconNode:t,className:Qd(`lucide-${jm(e)}`,o)},a))});return r.displayName=`${e}`,r};M();var Gs=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);M();var Pm=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);M();var ef=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);M();var Om=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);M();var tf=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);M();var Am=pe("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);M();var Mm=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);M();var Nl=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);M();var Tm=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);M();var Lm=pe("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);M();var $m=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);M();var rf=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);M();var Rm=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);M();var Nm=pe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);M();var zm=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);M();var Fm=pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);M();var Bm=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);M();var Wm=pe("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);M();var Hm=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);M();var Um=pe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);M();var Vm=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);M();var Zm=pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);M();var qm=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);M();var Ym=pe("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);M();var nf=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);M();var Ca=pe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);M();var Xm=pe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);M();var Km=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();var Gm=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();M();M();var Jm={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},Qm=ie("DragIcon",Jm),sf=({isDragDisabled:e})=>f.jsx("div",{className:Qm({disabled:e}),children:f.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:f.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});M();M();var zl={delay:{value:200,tolerance:10}},Fl={delay:{value:200,tolerance:10},distance:{value:5}},of=({other:e=Fl,mouse:t,touch:r=zl}={touch:zl,other:Fl})=>{const[n]=E.useState(()=>[ld.configure({activationConstraints(s,i){var o;const{pointerType:a,target:c}=s;return a==="mouse"&&Nr(c)&&(i.handle===c||(o=i.handle)!=null&&o.contains(c))?t:a==="touch"?r:e}})]);return n};M();M();M();var Er=(e,t,r,n,s)=>{},wi="increasing",ey=(e,t)=>{var r;const{dragOperation:n,droppable:s}=e,{shape:i}=s,{position:o}=n,a=(r=n.shape)==null?void 0:r.current;if(!a||!i)return null;const c=i.center,l=Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2)),u=Math.sqrt(Math.pow(c.x-o.current.x,2)+Math.pow(c.y-o.current.y,2));return wi=u===l?wi:u<l?"decreasing":"increasing",Er(a.center,c,s.id.toString()),wi==="decreasing"?{id:s.id,value:1,type:Dt.Collision}:null};M();var af=(e,t)=>e==="dynamic"?Math.abs(t.y)>Math.abs(t.x)?t.y===0?null:t.y>0?"down":"up":t.x===0?null:t.x>0?"right":"left":e==="x"?t.x===0?null:t.x>0?"right":"left":t.y===0?null:t.y>0?"down":"up";M();var ty=(e,t,r,n=0)=>{const s=e.boundingRectangle,i=t.center;if(r==="down"){const a=n*t.boundingRectangle.height;return s.bottom>=i.y+a}else if(r==="up"){const a=n*t.boundingRectangle.height;return s.top<i.y-a}else if(r==="left"){const a=n*t.boundingRectangle.width;return i.x-a>=s.left}const o=n*t.boundingRectangle.width;return s.right-o>=i.x};M();var Bl=10,pt={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},ry=(e,t="dynamic")=>(pt.current=e,pt.delta={x:e.x-pt.previous.x,y:e.y-pt.previous.y},pt.direction=af(t,pt.delta)||pt.direction,(Math.abs(pt.delta.x)>Bl||Math.abs(pt.delta.y)>Bl)&&(pt.previous=qe.from(e)),pt);M();var ny=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=qe.distance(t.shape.center,r);return{id:n,value:1/s,type:Dt.PointerIntersection,priority:ut.High}}return null},sy=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?xt.from(n.current.boundingRectangle).corners:void 0,a=xt.from(r.shape.boundingRectangle).corners.reduce((c,l,u)=>{var d;return c+qe.distance(qe.from(l),(d=i?.[u])!=null?d:s.current)},0)/4;return{id:r.id,value:1/a,type:Dt.Collision,priority:ut.Normal}};M();var co=Ln(()=>({fallbackEnabled:!1})),Si="",lf=(e,t=.05)=>r=>{var n,s,i,o,a;const{dragOperation:c,droppable:l}=r,{position:u}=c,d=(n=c.shape)==null?void 0:n.current,{shape:p}=l;if(!d||!p)return null;const{center:v}=d,{fallbackEnabled:g}=co.getState(),k=ry(u.current,e),y={direction:k.direction},{center:S}=p,m=ty(d,p,k.direction,t);if(((s=c.source)==null?void 0:s.id)===l.id){const C=ey(r,k.previous);if(Er(v,S,l.id.toString()),C)return $(D({},C),{priority:ut.Highest,data:y})}const x=d.intersectionArea(p),b=x/p.area;if(x&&m){Er(v,S,l.id.toString());const C={id:l.id,value:b,priority:ut.High,type:Dt.Collision},I=Si===l.id;return Si="",$(D({},C),{id:I?"flush":C.id,data:y})}if(g&&((i=c.source)==null?void 0:i.id)!==l.id){const C=p.boundingRectangle.right>d.boundingRectangle.left&&p.boundingRectangle.left<d.boundingRectangle.right,I=p.boundingRectangle.bottom>d.boundingRectangle.top&&p.boundingRectangle.top<d.boundingRectangle.bottom;if(e==="y"&&C||I){const P=sy(r);if(P){const _=af(e,{x:d.center.x-(((o=l.shape)==null?void 0:o.center.x)||0),y:d.center.y-(((a=l.shape)==null?void 0:a.center.y)||0)});return y.direction=_,x?(Er(v,S,l.id.toString()),Si=l.id,$(D({},P),{priority:ut.Low,data:y})):(Er(v,S,l.id.toString()),$(D({},P),{priority:ut.Lowest,data:y}))}}}return Er(v,S,l.id.toString()),null},iy=({children:e,onDragStart:t,onDragEnd:r,onMove:n})=>{const s=of({mouse:{distance:{value:5}}});return f.jsx(wd,{sensors:s,onDragStart:i=>{var o,a;return t((a=(o=i.operation.source)==null?void 0:o.id.toString())!=null?a:"")},onDragOver:(i,o)=>{var a;i.preventDefault();const{operation:c}=i,{source:l,target:u}=c;if(!l||!u)return;let d=l.data.index,p=u.data.index;const v=(a=o.collisionObserver.collisions[0])==null?void 0:a.data;if(d!==p&&l.id!==u.id){const g=v?.direction==="up"?"before":"after";p>=d&&(p=p-1),g==="after"&&(p=p+1),n({source:d,target:p})}},onDragEnd:()=>{setTimeout(()=>{r()},250)},children:e})},oy=({id:e,index:t,disabled:r,children:n,type:s="item"})=>{const{ref:i,isDragging:o,isDropping:a,handleRef:c}=Ud({id:e,type:s,index:t,disabled:r,data:{index:t},collisionDetector:lf("y")});return n({isDragging:o,isDropping:a,ref:i,handleRef:c})};M();var zs=E.createContext({}),cf=()=>{const e=E.useContext(zs);return $(D({},e),{readOnlyFields:e.readOnlyFields||{}})},uf=({children:e,name:t,subName:r,wildcardName:n=t,readOnlyFields:s})=>{const i=`${t}.${r}`,o=`${n}.${r}`,a=E.useMemo(()=>Object.keys(s).reduce((c,l)=>{if(l.indexOf(i)>-1||l.indexOf(o)>-1){const d=new RegExp(`^(${t}|${n}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),p=l.replace(d,"");return $(D({},c),{[p]:s[l]})}return c},{}),[t,r,n,s]);return f.jsx(zs.Provider,{value:{readOnlyFields:a,localName:r},children:e})},Ii=ie("ArrayField",Jd),Rt=ie("ArrayFieldItem",Jd),ay=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,readOnly:o,id:a,Label:c=l=>f.jsx("div",D({},l))})=>{const l=F(N=>N.state.ui.arrayState[a]),u=F(N=>N.setUi),{readOnlyFields:d,localName:p=n}=cf(),v=r,g=l||{items:Array.from(v||[]).map((N,R)=>({_originalIndex:R,_arrayId:`${a}-${R}`})),openId:""},[k,y]=E.useState({arrayState:g,value:v});E.useEffect(()=>{var N;const R=(N=S.getState().state.ui.arrayState[a])!=null?N:g;y({arrayState:R,value:v})},[v]);const S=tt(),m=E.useCallback(N=>{const R=S.getState().state;return{arrayState:$(D({},R.ui.arrayState),{[a]:D(D({},g),N)})}},[g,S]),x=E.useCallback(()=>g.items.reduce((N,R)=>R._originalIndex>N?R._originalIndex:N,-1),[g]),b=E.useCallback(N=>{let R=x();const V=Array.from(N||[]).map((z,K)=>{var U;const X=g.items[K],G={_originalIndex:typeof X?._originalIndex<"u"?X._originalIndex:R+1,_arrayId:((U=g.items[K])==null?void 0:U._arrayId)||`${a}-${R+1}`};return G._originalIndex>R&&(R=G._originalIndex),G});return $(D({},g),{items:V})},[g]);E.useEffect(()=>{g.items.length>0&&u(m(g))},[]);const[C,I]=E.useState(""),P=!!C,j=!F(N=>N.permissions.getPermissions({item:N.selectedItem}).edit),h=E.useRef(v),A=E.useCallback(N=>{if(e.type!=="array"||!e.arrayFields)return;const R=S.getState().config;return Ss({value:N,fields:e.arrayFields,mappers:{slot:({value:V})=>V.map(K=>Vd(K,R,!0))},config:R})},[S,e]);if(e.type!=="array"||!e.arrayFields)return null;const T=e.max!==void 0&&k.arrayState.items.length>=e.max||o;return f.jsx(c,{label:s||n,icon:i||f.jsx(Rm,{size:16}),el:"div",readOnly:o,children:f.jsx(iy,{onDragStart:N=>I(N),onDragEnd:()=>{I(""),t(h.current)},onMove:N=>{if(g.items[N.source]._arrayId!==C)return;const R=Pl(k.value,N.source,N.target),V=Pl(g.items,N.source,N.target),z=S.getState().state,K={arrayState:$(D({},z.ui.arrayState),{[a]:$(D({},g),{items:V})})};u(K,!1),y({value:R,arrayState:$(D({},g),{items:V})}),h.current=R},children:f.jsxs("div",{className:Ii({hasItems:Array.isArray(v)&&v.length>0,addDisabled:T}),children:[k.arrayState.items.length>0&&f.jsx("div",{className:Ii("inner"),"data-dnd-container":!0,children:k.arrayState.items.map((N,R)=>{const{_arrayId:V=`${a}-${R}`,_originalIndex:z=R}=N,K=Array.from(k.value||[])[R]||{};return f.jsx(oy,{id:V,index:R,disabled:o,children:({isDragging:U,ref:X,handleRef:G})=>f.jsxs("div",{ref:X,className:Rt({isExpanded:g.openId===V,isDragging:U,readOnly:o}),children:[f.jsxs("div",{ref:G,onClick:Y=>{U||(Y.preventDefault(),Y.stopPropagation(),g.openId===V?u(m({openId:""})):u(m({openId:V})))},className:Rt("summary"),children:[e.getItemSummary?e.getItemSummary(K,R):`Item #${z}`,f.jsxs("div",{className:Rt("rhs"),children:[!o&&f.jsxs("div",{className:Rt("actions"),children:[f.jsx("div",{className:Rt("action"),children:f.jsx(bt,{type:"button",disabled:!!T,onClick:Y=>{Y.stopPropagation();const te=[...v||[]],ce=A(te[R]);te.splice(R,0,ce);const Ie=m(b(te));u(Ie,!1),t(te)},title:"Duplicate",children:f.jsx(tf,{size:16})})}),f.jsx("div",{className:Rt("action"),children:f.jsx(bt,{type:"button",disabled:e.min!==void 0&&e.min>=k.arrayState.items.length,onClick:Y=>{Y.stopPropagation();const te=[...v||[]],ce=[...g.items||[]];te.splice(R,1),ce.splice(R,1),u(m({items:ce}),!1),t(te)},title:"Delete",children:f.jsx(nf,{size:16})})})]}),f.jsx("div",{children:f.jsx(sf,{})})]})]}),f.jsx("div",{className:Rt("body"),children:g.openId===V&&f.jsx("fieldset",{className:Rt("fieldset"),children:Object.keys(e.arrayFields).map(Y=>{const te=e.arrayFields[Y],Ie=`${`${n}[${R}]`}.${Y}`,se=`${p}[${R}]`,ke=`${p}[*]`,Pe=`${se}.${Y}`,Z=`${ke}.${Y}`,w=j||(typeof d[Ie]<"u"?d[Pe]:d[Z]),O=te.label||Y;return f.jsx(uf,{name:se,wildcardName:ke,subName:Y,readOnlyFields:d,children:f.jsx(Js,{name:Ie,label:O,id:`${V}_${Y}`,readOnly:w,field:$(D({},te),{label:O}),value:K[Y],onChange:(L,B)=>{t(qv(v,R,$(D({},K),{[Y]:L})),B)}})},Ie)})})})]})},V)})}),!T&&f.jsx("button",{type:"button",className:Ii("addButton"),onClick:()=>{var N;if(P)return;const R=v||[],V=wo(A((N=e.defaultItemProps)!=null?N:{}),e.arrayFields),z=[...R,V],K=b(z);u(m(K),!1),t(z)},children:f.jsx(Hm,{size:21})})]})})})};M();var ly=ie("Input",Hr),Wl=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:c})=>{const l=n;return f.jsx(a,{label:i||s,icon:o||f.jsxs(f.Fragment,{children:[e.type==="text"&&f.jsx(Ca,{size:16}),e.type==="number"&&f.jsx(Tm,{size:16})]}),readOnly:r,children:f.jsx("input",{className:ly("input"),autoComplete:"off",type:e.type,title:i||s,name:s,value:l?.toString?l.toString():"",onChange:u=>{if(e.type==="number"){const d=Number(u.currentTarget.value);if(typeof e.min<"u"&&d<e.min||typeof e.max<"u"&&d>e.max)return;t(d)}else t(u.currentTarget.value)},readOnly:r,tabIndex:r?-1:void 0,id:c,min:e.type==="number"?e.min:void 0,max:e.type==="number"?e.max:void 0,placeholder:e.type==="text"||e.type==="number"?e.placeholder:void 0,step:e.type==="number"?e.step:void 0})})};M();M();M();var df={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};M();M();var cy={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},Hl=ie("Modal",cy),uy=({children:e,onClose:t,isOpen:r})=>{const[n,s]=E.useState(null);return E.useEffect(()=>{s(document.getElementById("puck-portal-root"))},[]),n?Mn.createPortal(f.jsx("div",{className:Hl({isOpen:r}),onClick:t,children:f.jsx("div",{className:Hl("inner"),onClick:i=>i.stopPropagation(),children:e})}),n):f.jsx("div",{})};M();M();var dy={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},fy=ie("Heading",dy),Da=({children:e,rank:t,size:r="m"})=>{const n=t?`h${t}`:"span";return f.jsx(n,{className:fy({[r]:!0}),children:e})};M();var rs=ie("ExternalInput",df),_e=ie("ExternalInputModal",df),Ul={},py=({field:e,onChange:t,value:r=null,name:n,id:s,readOnly:i})=>{const{mapProp:o=h=>h,mapRow:a=h=>h,filterFields:c}=e||{},[l,u]=E.useState([]),[d,p]=E.useState(!1),[v,g]=E.useState(!0),k=!!c,[y,S]=E.useState(e.initialFilters||{}),[m,x]=E.useState(k),b=E.useMemo(()=>l.map(a),[l]),C=E.useMemo(()=>{const h=new Set;for(const A of b)for(const T of Object.keys(A))(typeof A[T]=="string"||typeof A[T]=="number"||E.isValidElement(A[T]))&&h.add(T);return Array.from(h)},[b]),[I,P]=E.useState(e.initialQuery||""),_=E.useCallback((h,A)=>Ce(void 0,null,function*(){g(!0);const T=`${s}-${h}-${JSON.stringify(A)}`,N=Ul[T]||(yield e.fetchList({query:h,filters:A}));N&&(u(N),g(!1),Ul[T]=N)}),[s,e]),j=E.useCallback(h=>e.renderFooter?e.renderFooter(h):f.jsxs("span",{className:_e("footer"),children:[h.items.length," result",h.items.length===1?"":"s"]}),[e.renderFooter]);return E.useEffect(()=>{_(I,y)},[]),f.jsxs("div",{className:rs({dataSelected:!!r,modalVisible:d,readOnly:i}),id:s,children:[f.jsxs("div",{className:rs("actions"),children:[f.jsx("button",{type:"button",onClick:()=>p(!0),className:rs("button"),disabled:i,children:r?e.getItemSummary?e.getItemSummary(r):"External item":f.jsxs(f.Fragment,{children:[f.jsx(rf,{size:"16"}),f.jsx("span",{children:e.placeholder})]})}),r&&f.jsx("button",{type:"button",className:rs("detachButton"),onClick:()=>{t(null)},disabled:i,children:f.jsx(Nm,{size:16})})]}),f.jsx(uy,{onClose:()=>p(!1),isOpen:d,children:f.jsxs("form",{className:_e({isLoading:v,loaded:!v,hasData:b.length>0,filtersToggled:m}),onSubmit:h=>{h.preventDefault(),_(I,y)},children:[f.jsx("div",{className:_e("masthead"),children:e.showSearch?f.jsxs("div",{className:_e("searchForm"),children:[f.jsxs("label",{className:_e("search"),children:[f.jsx("span",{className:_e("searchIconText"),children:"Search"}),f.jsx("div",{className:_e("searchIcon"),children:f.jsx(Vm,{size:"18"})}),f.jsx("input",{className:_e("searchInput"),name:"q",type:"search",placeholder:e.placeholder,onChange:h=>{P(h.currentTarget.value)},autoComplete:"off",value:I})]}),f.jsxs("div",{className:_e("searchActions"),children:[f.jsx(lo,{type:"submit",loading:v,fullWidth:!0,children:"Search"}),k&&f.jsx("div",{className:_e("searchActionIcon"),children:f.jsx(bt,{type:"button",title:"Toggle filters",onClick:h=>{h.preventDefault(),h.stopPropagation(),x(!m)},children:f.jsx(Zm,{size:20})})})]})]}):f.jsx(Da,{rank:"2",size:"xs",children:e.placeholder||"Select data"})}),f.jsxs("div",{className:_e("grid"),children:[k&&f.jsx("div",{className:_e("filters"),children:k&&Object.keys(c).map(h=>{const A=c[h];return f.jsx("div",{className:_e("field"),children:f.jsx(Js,{field:A,name:h,id:`external_field_${h}_filter`,label:A.label||h,value:y[h],onChange:T=>{const N=$(D({},y),{[h]:T});S(N),_(I,N)}})},h)})}),f.jsxs("div",{className:_e("tableWrapper"),children:[f.jsxs("table",{className:_e("table"),children:[f.jsx("thead",{className:_e("thead"),children:f.jsx("tr",{className:_e("tr"),children:C.map(h=>f.jsx("th",{className:_e("th"),style:{textAlign:"left"},children:h},h))})}),f.jsx("tbody",{className:_e("tbody"),children:b.map((h,A)=>f.jsx("tr",{style:{whiteSpace:"nowrap"},className:_e("tr"),onClick:()=>{t(o(l[A])),p(!1)},children:C.map(T=>f.jsx("td",{className:_e("td"),children:h[T]},T))},A))})]}),f.jsx("div",{className:_e("loadingBanner"),children:f.jsx(pr,{size:24})})]})]}),f.jsx("div",{className:_e("footerContainer"),children:f.jsx(j,{items:b})})]})})]})},hy=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,id:a,readOnly:c})=>{var l,u,d;const p=e,v=e;return E.useEffect(()=>{v.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),e.type!=="external"?null:f.jsx(o,{label:s||n,icon:i||f.jsx(rf,{size:16}),el:"div",children:f.jsx(py,{name:n,field:$(D({},p),{placeholder:(l=v.adaptor)!=null&&l.name?`Select from ${v.adaptor.name}`:p.placeholder||"Select data",mapProp:((u=v.adaptor)==null?void 0:u.mapProp)||p.mapProp,mapRow:p.mapRow,fetchList:(d=v.adaptor)!=null&&d.fetchList?()=>Ce(void 0,null,function*(){return yield v.adaptor.fetchList(v.adaptorParams)}):p.fetchList}),onChange:t,value:r,id:a,readOnly:c})})};M();var ns=ie("Input",Hr),gy=({field:e,onChange:t,readOnly:r,value:n,name:s,id:i,label:o,labelIcon:a,Label:c})=>e.type!=="radio"||!e.options?null:f.jsx(c,{icon:a||f.jsx(Om,{size:16}),label:o||s,readOnly:r,el:"div",children:f.jsx("div",{className:ns("radioGroupItems"),id:i,children:e.options.map(l=>{var u;return f.jsxs("label",{className:ns("radio"),children:[f.jsx("input",{type:"radio",className:ns("radioInput"),value:JSON.stringify({value:l.value}),name:s,onChange:d=>{t(JSON.parse(d.target.value).value)},disabled:r,checked:n===l.value}),f.jsx("div",{className:ns("radioInner"),children:l.label||((u=l.value)==null?void 0:u.toString())})]},l.label+l.value)})})});M();var vy=ie("Input",Hr),my=({field:e,onChange:t,label:r,labelIcon:n,Label:s,value:i,name:o,readOnly:a,id:c})=>e.type!=="select"||!e.options?null:f.jsx(s,{label:r||o,icon:n||f.jsx(Gs,{size:16}),readOnly:a,children:f.jsx("select",{id:c,title:r||o,className:vy("input"),disabled:a,onChange:l=>{t(JSON.parse(l.target.value).value)},value:JSON.stringify({value:i}),children:e.options.map(l=>f.jsx("option",{label:l.label,value:JSON.stringify({value:l.value})},l.label+JSON.stringify(l.value)))})});M();var yy=ie("Input",Hr),_y=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:c})=>f.jsx(a,{label:i||s,icon:o||f.jsx(Ca,{size:16}),readOnly:r,children:f.jsx("textarea",{id:c,className:yy("input"),autoComplete:"off",name:s,value:typeof n>"u"?"":n,onChange:l=>t(l.currentTarget.value),readOnly:r,tabIndex:r?-1:void 0,rows:5,placeholder:e.type==="textarea"?e.placeholder:void 0})});M();M();var by={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},Vl=ie("ObjectField",by),xy=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,readOnly:a,id:c})=>{const{readOnlyFields:l,localName:u=n}=cf();if(e.type!=="object"||!e.objectFields)return null;const d=r||{};return f.jsx(o,{label:s||n,icon:i||f.jsx(Mm,{size:16}),el:"div",readOnly:a,children:f.jsx("div",{className:Vl(),children:f.jsx("fieldset",{className:Vl("fieldset"),children:Object.keys(e.objectFields).map(p=>{const v=e.objectFields[p],g=`${u}.${p}`,k=a||l[g],y=v.label||p;return f.jsx(uf,{name:u||c,subName:p,readOnlyFields:l,children:f.jsx(Js,{name:g,label:g,id:`${c}_${p}`,readOnly:k,field:$(D({},v),{label:y}),value:d[p],onChange:(S,m)=>{t($(D({},d),{[p]:S}),m)}})},g)})})})})};M();var Pa=()=>{if(typeof Ut.useId<"u")return Ut.useId();const[e]=E.useState(ot());return e},ys=ie("Input",Hr),wy=ie("InputWrapper",Hr),Sy=({children:e,icon:t,label:r,el:n="label",readOnly:s,className:i})=>{const o=n;return f.jsxs(o,{className:i,children:[f.jsxs("div",{className:ys("label"),children:[t?f.jsx("div",{className:ys("labelIcon"),children:t}):f.jsx(f.Fragment,{}),r,s&&f.jsx("div",{className:ys("disabledIcon"),title:"Read-only",children:f.jsx(zm,{size:"12"})})]}),e]})},Iy=({children:e,icon:t,label:r,el:n="label",readOnly:s})=>{const i=F(a=>a.overrides),o=E.useMemo(()=>i.fieldLabel||Sy,[i]);return r?f.jsx(o,{label:r,icon:t,className:ys({readOnly:s}),readOnly:s,el:n,children:e}):f.jsx(f.Fragment,{children:e})},Pt={array:ay,external:hy,object:xy,select:my,textarea:_y,radio:gy,text:Wl,number:Wl};function Ey(e){var t;const r=F(b=>b.dispatch),n=F(b=>b.overrides),s=F(b=>{var C;return(C=b.selectedItem)==null?void 0:C.readOnly}),i=E.useContext(zs),{id:o,Label:a=Iy}=e,c=e.field,l=c.label,u=c.labelIcon,d=Pa(),p=o||d,v=E.useMemo(()=>{var b,C,I,P,_,j,h,A;return $(D({},n.fieldTypes),{array:((b=n.fieldTypes)==null?void 0:b.array)||Pt.array,external:((C=n.fieldTypes)==null?void 0:C.external)||Pt.external,object:((I=n.fieldTypes)==null?void 0:I.object)||Pt.object,select:((P=n.fieldTypes)==null?void 0:P.select)||Pt.select,textarea:((_=n.fieldTypes)==null?void 0:_.textarea)||Pt.textarea,radio:((j=n.fieldTypes)==null?void 0:j.radio)||Pt.radio,text:((h=n.fieldTypes)==null?void 0:h.text)||Pt.text,number:((A=n.fieldTypes)==null?void 0:A.number)||Pt.number})},[n]),g=E.useMemo(()=>$(D({},e),{field:c,label:l,labelIcon:u,Label:a,id:p}),[e,c,l,u,a,p]),k=E.useCallback(b=>{g.name&&(b.target.nodeName==="INPUT"||b.target.nodeName==="TEXTAREA")&&(b.stopPropagation(),r({type:"setUi",ui:{field:{focus:g.name}}}))},[g.name]),y=E.useCallback(b=>{"name"in b.target&&r({type:"setUi",ui:{field:{focus:null}}})},[]);let S=E.useMemo(()=>c.type!=="custom"&&c.type!=="slot"?Pt[c.type]:b=>null,[c.type]),m=E.useMemo(()=>{if(c.type==="custom")return c.render?c.render:null;if(c.type!=="slot")return v[c.type]},[c.type,v]);const{visible:x=!0}=e.field;if(!x||c.type==="slot")return null;if(!m)throw new Error(`Field type for ${c.type} did not exist.`);return f.jsx(zs.Provider,{value:{readOnlyFields:i.readOnlyFields||s||{},localName:(t=i.localName)!=null?t:g.name},children:f.jsx("div",{className:wy(),onFocus:k,onBlur:y,onClick:b=>{b.stopPropagation()},children:f.jsx(m,$(D({},g),{children:f.jsx(S,D({},g))}))})})}function Js(e){const t=F(c=>c.state.ui.field.focus===e.name),{value:r,onChange:n}=e,[s,i]=E.useState(r),o=E.useCallback((c,l)=>{i(c),n(c,l)},[n]);E.useEffect(()=>{t||i(r)},[r]),E.useEffect(()=>{t||r!==s&&i(r)},[t,r,s]);const a={value:s,onChange:o};return f.jsx(Ey,D(D({},e),a))}M();M();M();M();var ky={DraggableComponent:"_DraggableComponent_1vaqy_1","DraggableComponent-overlayWrapper":"_DraggableComponent-overlayWrapper_1vaqy_12","DraggableComponent-overlay":"_DraggableComponent-overlay_1vaqy_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_1vaqy_34","DraggableComponent--hover":"_DraggableComponent--hover_1vaqy_50","DraggableComponent--isSelected":"_DraggableComponent--isSelected_1vaqy_57","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_1vaqy_71","DraggableComponent-actions":"_DraggableComponent-actions_1vaqy_71"};M();function Zl(e){let t={x:0,y:0},r=e;for(;r&&r!==document.documentElement;){const n=r.parentElement;n&&(t.x+=n.scrollLeft,t.y+=n.scrollTop),r=n}return t}M();var Ur=E.createContext(null),st=E.createContext(Ln(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),jy=({children:e,store:t})=>f.jsx(st.Provider,{value:t,children:e}),An=({children:e,value:t})=>{const r=F(i=>i.dispatch),n=E.useCallback(i=>{r({type:"registerZone",zone:i})},[r]),s=E.useMemo(()=>D({registerZone:n},t),[t]);return f.jsx(f.Fragment,{children:s&&f.jsx(Ur.Provider,{value:s,children:e})})};M();function Cy(e){let t=new DOMMatrixReadOnly,r=e.parentElement;for(;r&&r!==document.documentElement;){const n=getComputedStyle(r).transform;n&&n!=="none"&&(t=new DOMMatrixReadOnly(n).multiply(t)),r=r.parentElement}return{scaleX:t.a,scaleY:t.d}}M();function lr(e,t){const r=E.useContext(e);if(!r)throw new Error("useContextStore must be used inside context");return jo(r,Be(t))}M();var ff=(e,t=[])=>{const r=tt();return E.useCallback(()=>{let n=()=>{};const s=o=>{o?e(!1):(setTimeout(()=>{e(!0)},0),n&&n())},i=r.getState().state.ui.isDragging;return s(i),i&&(n=r.subscribe(o=>o.state.ui.isDragging,o=>{s(o)})),n},[r,...t])},vr=ie("DraggableComponent",ky),pf=8,Dy=pf*6.5,Py=-44,ql=pf,Oy=({label:e,children:t,parentAction:r})=>f.jsxs(mt,{children:[f.jsxs(mt.Group,{children:[r,e&&f.jsx(mt.Label,{label:e})]}),f.jsx(mt.Group,{children:t})]}),Ay=({children:e})=>f.jsx(f.Fragment,{children:e}),My=({children:e,depth:t,componentType:r,id:n,index:s,zoneCompound:i,isLoading:o=!1,isSelected:a=!1,debug:c,label:l,autoDragAxis:u,userDragAxis:d,inDroppableZone:p=!0})=>{const v=F(H=>{var J;return((J=H.selectedItem)==null?void 0:J.props.id)===n?H.zoomConfig.zoom:1}),g=F(H=>H.overrides),k=F(H=>H.dispatch),y=F(H=>H.iframe),S=E.useContext(Ur),[m,x]=E.useState({}),b=E.useCallback((H,J)=>{var Q;(Q=S?.registerLocalZone)==null||Q.call(S,H,J),x(de=>$(D({},de),{[H]:J}))},[x]),C=E.useCallback(H=>{var J;(J=S?.unregisterLocalZone)==null||J.call(S,H),x(Q=>{const de=D({},Q);return delete de[H],de})},[x]),I=Object.values(m).filter(Boolean).length>0,P=F(Be(H=>{var J;return(J=H.state.indexes.nodes[n])==null?void 0:J.path})),_=F(Be(H=>{const J=_t({index:s,zone:i},H.state);return H.permissions.getPermissions({item:J})})),j=E.useContext(st),[h,A]=E.useState(d||u),T=E.useMemo(()=>lf(h),[h]),{ref:N,isDragging:R,sortable:V}=Ud({id:n,index:s,group:i,type:"component",data:{areaId:S?.areaId,zone:i,index:s,componentType:r,containsActiveZone:I,depth:t,path:P||[],inDroppableZone:p},collisionPriority:t,collisionDetector:T,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});E.useEffect(()=>{const H=j.getState().enabledIndex[i];V.droppable.disabled=!H,V.draggable.disabled=!_.drag;const J=j.subscribe(Q=>{V.droppable.disabled=!Q.enabledIndex[i]});return z.current&&!_.drag?(z.current.setAttribute("data-puck-disabled",""),()=>{var Q;(Q=z.current)==null||Q.removeAttribute("data-puck-disabled"),J()}):J},[_.drag,i]);const z=E.useRef(null),K=E.useCallback(H=>{N(H),H&&(z.current=H)},[N]),[U,X]=E.useState();E.useEffect(()=>{var H,J,Q;X(y.enabled?(H=z.current)==null?void 0:H.ownerDocument.body:(Q=(J=z.current)==null?void 0:J.closest("[data-puck-preview]"))!=null?Q:document.body)},[y.enabled,z.current]);const G=E.useCallback(()=>{var H,J,Q;if(!z.current)return;const de=z.current.getBoundingClientRect(),ye=Zl(z.current),we=y.enabled?null:(H=z.current)==null?void 0:H.closest("[data-puck-preview]"),Le=we?.getBoundingClientRect(),Ge=we?Zl(we):{x:0,y:0},rt={x:ye.x-Ge.x-((J=Le?.left)!=null?J:0),y:ye.y-Ge.y-((Q=Le?.top)!=null?Q:0)},It={height:z.current.offsetHeight,width:z.current.offsetWidth},Zr=Cy(z.current);return{left:`${(de.left+rt.x)/Zr.scaleX}px`,top:`${(de.top+rt.y)/Zr.scaleY}px`,height:`${It.height}px`,width:`${It.width}px`}},[z.current]),[Y,te]=E.useState(),ce=E.useCallback(()=>{te(G())},[z.current,y]);E.useEffect(()=>{if(z.current){const H=new ResizeObserver(ce);return H.observe(z.current),()=>{H.disconnect()}}},[z.current]);const Ie=F(H=>H.nodes.registerNode),se=E.useCallback(()=>{Oe(!1)},[]),ke=E.useCallback(()=>{Oe(!0)},[]);E.useEffect(()=>{var H;return Ie(n,{methods:{sync:ce,showOverlay:ke,hideOverlay:se},element:(H=z.current)!=null?H:null}),()=>{Ie(n,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[n,i,s,r,ce]);const Pe=E.useMemo(()=>g.actionBar||Oy,[g.actionBar]),Z=E.useMemo(()=>g.componentOverlay||Ay,[g.componentOverlay]),w=E.useCallback(H=>{H.target.closest("[data-puck-overlay-portal]")||H.stopPropagation(),k({type:"setUi",ui:{itemSelector:{index:s,zone:i}}})},[s,i,n]),O=tt(),L=E.useCallback(()=>{const{nodes:H,zones:J}=O.getState().state.indexes,Q=H[n],de=Q?.parentId?H[Q?.parentId]:null;if(!de||!Q.parentId)return;const ye=`${de.parentId}:${de.zone}`,we=J[ye].contentIds.indexOf(Q.parentId);k({type:"setUi",ui:{itemSelector:{zone:ye,index:we}}})},[S,P]),B=E.useCallback(()=>{k({type:"duplicate",sourceIndex:s,sourceZone:i})},[s,i]),W=E.useCallback(()=>{k({type:"remove",index:s,zone:i})},[s,i]),[q,ee]=E.useState(!1),he=lr(st,H=>H.hoveringComponent===n);E.useEffect(()=>{if(!z.current)return;const H=z.current,J=de=>{const ye=!!j.getState().draggedItem;ee(ye?!!R:!0),de.stopPropagation()},Q=de=>{de.stopPropagation(),ee(!1)};return H.setAttribute("data-puck-component",n),H.setAttribute("data-puck-dnd",n),H.style.position="relative",H.addEventListener("click",w),H.addEventListener("mouseover",J),H.addEventListener("mouseout",Q),()=>{H.removeAttribute("data-puck-component"),H.removeAttribute("data-puck-dnd"),H.removeEventListener("click",w),H.removeEventListener("mouseover",J),H.removeEventListener("mouseout",Q)}},[z.current,w,I,i,n,R,p]);const[be,Oe]=E.useState(!1),[Ae,je]=E.useState(!0),[xe,me]=E.useTransition();E.useEffect(()=>{me(()=>{q||he||a?(ce(),Oe(!0),$t(!1)):Oe(!1)})},[q,he,a,y]);const[at,$t]=E.useState(!1),Un=ff(H=>{H?me(()=>{ce(),je(!0)}):je(!1)});E.useEffect(()=>{R&&$t(!0)},[R]),E.useEffect(()=>{if(at)return Un()},[at,Un]);const Vr=E.useCallback(H=>{if(H&&H.ownerDocument.defaultView){const Q=H.getBoundingClientRect(),ye=Q.x<0,Le=Q.y<0;ye&&(H.style.transformOrigin="left top",H.style.left="0px"),Le&&(H.style.top="12px",ye||(H.style.transformOrigin="right top"))}},[v]);E.useEffect(()=>{if(d){A(d);return}if(z.current){const H=window.getComputedStyle(z.current);if(H.display==="inline"||H.display==="inline-block"){A("x");return}}A(u)},[z,d,u]);const ei=E.useMemo(()=>S?.areaId&&S?.areaId!=="root"&&f.jsx(mt.Action,{onClick:L,label:"Select parent",children:f.jsx(Am,{size:16})}),[S?.areaId]),oe=E.useMemo(()=>$(D({},S),{areaId:n,zoneCompound:i,index:s,depth:t+1,registerLocalZone:b,unregisterLocalZone:C}),[S,n,i,s,t,b,C]);return f.jsxs(An,{value:oe,children:[Ae&&be&&Mn.createPortal(f.jsxs("div",{className:vr({isSelected:a,isDragging:R,hover:q||he}),style:D({},Y),"data-puck-overlay":!0,children:[c,o&&f.jsx("div",{className:vr("loadingOverlay"),children:f.jsx(pr,{})}),f.jsx("div",{className:vr("actionsOverlay"),style:{top:Dy/v},children:f.jsx("div",{className:vr("actions"),style:{transform:`scale(${1/v}`,top:Py/v,right:0,paddingLeft:ql,paddingRight:ql},ref:Vr,children:f.jsxs(Pe,{parentAction:ei,label:l,children:[_.duplicate&&f.jsx(mt.Action,{onClick:B,label:"Duplicate",children:f.jsx(tf,{size:16})}),_.delete&&f.jsx(mt.Action,{onClick:W,label:"Delete",children:f.jsx(nf,{size:16})})]})})}),f.jsx("div",{className:vr("overlayWrapper"),children:f.jsx(Z,{componentId:n,componentType:r,hover:q,isSelected:a,children:f.jsx("div",{className:vr("overlay")})})})]}),U||document.body),e(K)]})};M();var Ty={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};M();M();var hf={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};M();M();M();function Ly(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function $y(e,t){const r=()=>performance.now();let n,s=0;return function(...i){const o=r(),a=this;o-s>=t?(e.apply(a,i),s=o):(n?.(),n=Ly(()=>{e.apply(a,i),s=r()},t-(o-s)))}}M();var Ar=()=>{if(typeof window>"u")return;let e=document.querySelector("#preview-frame");return e?.tagName==="IFRAME"?e.contentDocument||document:e?.ownerDocument||document};M();var Ry=class{constructor(e,t){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var r;this.target=e,this.original=t,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/(((r=this.frameEl.contentWindow)==null?void 0:r.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};M();var Ny=typeof PointerEvent<"u"?PointerEvent:Event,gf=class extends Ny{constructor(e,t){super(e,t),this._originalTarget=null,this.originalTarget=t.originalTarget}set originalTarget(e){this._originalTarget=e}get originalTarget(){return this._originalTarget}},zy=e=>e.sort((t,r)=>{const n=t.data,s=r.data;return n.depth>s.depth?1:s.depth>n.depth?-1:0}),Fy=e=>{let t=e?.id;if(!e)return null;if(e.type==="component"){const r=e.data;r.containsActiveZone?t=null:t=r.zone}else if(e.type==="void")return"void";return t},ss=6,By=(e,t)=>{const r=[];let n=e.target.ownerDocument.elementsFromPoint(e.x,e.y);const s=n.find(o=>o.getAttribute("data-puck-preview")),i=n.find(o=>o.getAttribute("data-puck-drawer"));if(i&&(n=[i]),s){const o=Ar();o&&(n=o.elementsFromPoint(e.frame.x,e.frame.y))}if(n)for(let o=0;o<n.length;o++){const a=n[o],c=a.getAttribute("data-puck-dropzone"),l=a.getAttribute("data-puck-dnd"),u=a.hasAttribute("data-puck-dnd-void");if((c||l)&&!u){const d=a.getBoundingClientRect(),p={left:d.left+ss,right:d.right-ss,top:d.top+ss,bottom:d.bottom-ss};if(e.frame.x<p.left||e.frame.x>p.right||e.frame.y>p.bottom||e.frame.y<p.top)continue}if(c){const d=t.registry.droppables.get(c);d&&r.push(d)}if(l){const d=t.registry.droppables.get(l);d&&r.push(d)}}return r},Wy=(e,t)=>{var r;const n=By(e,t);if(n.length>0){const s=zy(n),i=t.dragOperation.source,o=s.findIndex(g=>g.id===i?.id),a=i?.id;let c=[...s];a&&o>-1&&c.splice(o,1),c=c.filter(g=>{const k=g.data;if(a&&o>-1&&k.path.indexOf(a)>-1)return!1;if(g.type==="dropzone"){const y=g.data;if(!y.isDroppableTarget||y.areaId===a)return!1}else if(g.type==="component"&&!g.data.inDroppableZone)return!1;return!0}),c.reverse();const l=c[0];if(!l)return{zone:null,area:null};const u=l.data,d="containsActiveZone"in u,p=Fy(l),v=d&&u.containsActiveZone?c[0].id:(r=c[0])==null?void 0:r.data.areaId;return{zone:p,area:v}}return{zone:Ze,area:Io}},Hy=({onChange:e},t)=>class extends We{constructor(n,s){super(n),!(typeof window>"u")&&this.registerEffect(()=>{const o=$y(l=>{const u=l instanceof gf&&l.originalTarget||l.target,d=new Ry(u,{x:l.clientX,y:l.clientY});document.elementsFromPoint(d.global.x,d.global.y).some(g=>g.id===t)&&e(Wy(d,n),n)},50),a=l=>{o(l)};return document.body.addEventListener("pointermove",a,{capture:!0}),()=>{document.body.removeEventListener("pointermove",a,{capture:!0})}})}};M();var Uy=(e,t,r,n)=>Ce(void 0,null,function*(){const s=ot(e),i={type:"insert",componentType:e,destinationIndex:r,destinationZone:t,id:s},{state:o,dispatch:a,resolveComponentData:c}=n,l=Zd(o,i,n);a($(D({},i),{recordHistory:!0}));const u={index:r,zone:t};a({type:"setUi",ui:{itemSelector:u}});const d=_t(u,l);if(d){const p=yield c(d,"insert");p.didChange&&a({type:"replace",destinationZone:u.zone,destinationIndex:u.index,data:p.node})}});M();function Vy(e){function t(r){return r?r.getAttribute("dir")||t(r.parentElement):"ltr"}return e?t(e):"ltr"}var vf=E.createContext({dragListeners:{}});function Zy(e,t,r=[]){const{setDragListeners:n}=E.useContext(vf);E.useEffect(()=>{n&&n(s=>$(D({},s),{[e]:[...s[e]||[],t]}))},r)}var qy=100,Yy=e=>{const t=E.useRef(null);return E.useCallback(r=>{co.setState({fallbackEnabled:!1});const n=ot();t.current=n,setTimeout(()=>{t.current===n&&(co.setState({fallbackEnabled:!0}),r.collisionObserver.forceUpdate(!0))},e)},[])},Xy=({children:e,disableAutoScroll:t})=>{const r=F(x=>x.dispatch),n=tt(),s=Pa(),i=E.useRef(null),o=Yy(100),[a]=E.useState(()=>Ln(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),c=E.useCallback((x,b)=>{const{zoneDepthIndex:C={},areaDepthIndex:I={}}=a.getState()||{},P=Object.keys(C).length>0,_=Object.keys(I).length>0;let j=!1,h=!1;return(x.zone&&!C[x.zone]||!x.zone&&P)&&(j=!0),(x.area&&!I[x.area]||!x.area&&_)&&(h=!0),{zoneChanged:j,areaChanged:h}},[a]),l=E.useCallback((x,b)=>{const{zoneChanged:C,areaChanged:I}=c(x,s);!C&&!I||(a.setState({zoneDepthIndex:x.zone?{[x.zone]:!0}:{},areaDepthIndex:x.area?{[x.area]:!0}:{}}),o(b),setTimeout(()=>{b.collisionObserver.forceUpdate(!0)},50),i.current=null)},[a]),u=$v(l,qy),d=()=>{u.cancel(),i.current=null};E.useEffect(()=>{},[]);const[p]=E.useState(()=>[...t?ar.plugins.filter(x=>x!==ga):ar.plugins,Hy({onChange:(x,b)=>{const C=a.getState(),{zoneChanged:I,areaChanged:P}=c(x,s),_=b.dragOperation.status.dragging;if(P||I){let j={},h={};x.zone&&(j={[x.zone]:!0}),x.area&&(h={[x.area]:!0}),a.setState({nextZoneDepthIndex:j,nextAreaDepthIndex:h})}if(x.zone!=="void"&&C?.zoneDepthIndex.void){l(x,b);return}if(P){if(_){const j=i.current;j&&j.area===x.area&&j.zone===x.zone||(d(),u(x,b),i.current=x)}else d(),l(x,b);return}I&&l(x,b),d()}},s)]),v=of(),[g,k]=E.useState({}),y=E.useRef(null),S=E.useRef(void 0),m=E.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return f.jsx("div",{id:s,children:f.jsx(vf.Provider,{value:{dragListeners:g,setDragListeners:k},children:f.jsx(wd,{plugins:p,sensors:v,onDragEnd:(x,b)=>{var C,I;const P=(C=Ar())==null?void 0:C.querySelector("[data-puck-entry]");P?.removeAttribute("data-puck-dragging");const{source:_,target:j}=x.operation;if(!_){a.setState({draggedItem:null});return}const{zone:h,index:A}=_.data,{previewIndex:T={}}=a.getState()||{},N=((I=T[h])==null?void 0:I.props.id)===_.id?T[h]:null,R=()=>{var z,K;if(a.setState({draggedItem:null}),x.canceled||j?.type==="void"){a.setState({previewIndex:{}}),(z=g.dragend)==null||z.forEach(U=>{U(x,b)}),r({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}N&&(a.setState({previewIndex:{}}),N.type==="insert"?Uy(N.componentType,N.zone,N.index,n.getState()):S.current&&r({type:"move",sourceIndex:S.current.index,sourceZone:S.current.zone,destinationIndex:N.index,destinationZone:N.zone,recordHistory:!1})),r({type:"setUi",ui:{itemSelector:{index:A,zone:h},isDragging:!1},recordHistory:!0}),(K=g.dragend)==null||K.forEach(U=>{U(x,b)})};let V;V=et(()=>{_.status==="idle"&&(R(),V?.())})},onDragOver:(x,b)=>{var C,I,P,_;if(x.preventDefault(),!((C=a.getState())==null?void 0:C.draggedItem))return;d();const{source:h,target:A}=x.operation;if(!A||!h||A.type==="void")return;const[T]=h.id.split(":"),[N]=A.id.split(":"),R=h.data;let V=R.zone,z=R.index,K="",U=0;if(A.type==="component"){const G=A.data;K=G.zone,U=G.index;const Y=(I=b.collisionObserver.collisions[0])==null?void 0:I.data,te=Vy(A.element),ce=Y?.direction==="up"||te==="ltr"&&Y?.direction==="left"||te==="rtl"&&Y?.direction==="right"?"before":"after";U>=z&&V===K&&(U=U-1),ce==="after"&&(U=U+1)}else K=A.id.toString(),U=0;const X=((P=n.getState().state.indexes.nodes[A.id])==null?void 0:P.path)||[];if(!(N===T||X.find(G=>{const[Y]=G.split(":");return Y===T}))){if(y.current==="new")a.setState({previewIndex:{[K]:{componentType:R.componentType,type:"insert",index:U,zone:K,element:h.element,props:{id:h.id.toString()}}}});else{S.current||(S.current={zone:R.zone,index:R.index});const G=_t(S.current,n.getState().state);G&&a.setState({previewIndex:{[K]:{componentType:R.componentType,type:"move",index:U,zone:K,props:G.props,element:h.element}}})}(_=g.dragover)==null||_.forEach(G=>{G(x,b)})}},onDragStart:(x,b)=>{var C;const{source:I}=x.operation;if(I&&I.type!=="void"){const P=I.data,_=_t({zone:P.zone,index:P.index},n.getState().state);_&&a.setState({previewIndex:{[P.zone]:{componentType:P.componentType,type:"move",index:P.index,zone:P.zone,props:_.props,element:I.element}}})}(C=g.dragstart)==null||C.forEach(P=>{P(x,b)})},onBeforeDragStart:x=>{var b,C,I,P;const _=((b=x.operation.source)==null?void 0:b.type)==="drawer";y.current=_?"new":"existing",S.current=void 0,a.setState({draggedItem:x.operation.source}),((C=n.getState().selectedItem)==null?void 0:C.props.id)!==((I=x.operation.source)==null?void 0:I.id)?r({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):r({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const j=(P=Ar())==null?void 0:P.querySelector("[data-puck-entry]");j?.setAttribute("data-puck-dragging","true")},children:f.jsx(jy,{store:a,children:f.jsx(An,{value:m,children:e})})})})})},Ky=({children:e,disableAutoScroll:t})=>F(n=>n.status)==="LOADING"?e:f.jsx(Xy,{disableAutoScroll:t,children:e}),_s=ie("Drawer",hf),mr=ie("DrawerItem",hf),uo=({children:e,name:t,label:r,dragRef:n,isDragDisabled:s})=>{const i=E.useMemo(()=>e||(({children:o})=>f.jsx("div",{className:mr("default"),children:o})),[e]);return f.jsx("div",{className:mr({disabled:s}),ref:n,onMouseDown:o=>o.preventDefault(),"data-testid":n?`drawer-item:${t}`:"","data-puck-drawer-item":!0,children:f.jsx(i,{name:t,children:f.jsx("div",{className:mr("draggableWrapper"),children:f.jsxs("div",{className:mr("draggable"),children:[f.jsx("div",{className:mr("name"),children:r??t}),f.jsx("div",{className:mr("icon"),children:f.jsx(sf,{})})]})})})})},Gy=({children:e,name:t,label:r,id:n,isDragDisabled:s})=>{const{ref:i}=Wg({id:n,data:{componentType:t},disabled:s,type:"drawer"});return f.jsxs("div",{className:_s("draggable"),children:[f.jsx("div",{className:_s("draggableBg"),children:f.jsx(uo,{name:t,label:r,children:e})}),f.jsx("div",{className:_s("draggableFg"),children:f.jsx(uo,{name:t,label:r,dragRef:i,isDragDisabled:s,children:e})})]})},Jy=({name:e,children:t,id:r,label:n,index:s,isDragDisabled:i})=>{const o=r||e,[a,c]=E.useState(ot(o));return typeof s<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),Zy("dragend",()=>{c(ot(o))},[o]),f.jsx("div",{children:f.jsx(Gy,{name:e,label:n,id:a,isDragDisabled:i,children:t})},a)},Oa=({children:e,droppableId:t,direction:r})=>{t&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),r&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const n=Pa(),{ref:s}=Md({id:n,type:"void",collisionPriority:0});return f.jsx("div",{className:_s(),ref:s,"data-puck-dnd":n,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:e})};Oa.Item=Jy;M();var Yl=(e,t)=>e.getState().state.indexes.zones[t].contentIds.length,Qy=({zoneCompound:e,userMinEmptyHeight:t,ref:r})=>{const n=tt(),[s,i]=E.useState(0),[o,a]=E.useState(!1),{draggedItem:c,isZone:l}=lr(st,p=>{var v,g;return{draggedItem:((v=p.draggedItem)==null?void 0:v.data.zone)===e?p.draggedItem:null,isZone:((g=p.draggedItem)==null?void 0:g.data.zone)===e}}),u=E.useRef(0),d=ff(p=>{var v;if(p){const g=Yl(n,e);if(i(0),g||u.current===0){a(!1);return}const k=n.getState().selectedItem,y=n.getState().state.indexes.zones,S=n.getState().nodes;(v=S.nodes[k?.props.id])==null||v.methods.hideOverlay(),setTimeout(()=>{var m;(((m=y[e])==null?void 0:m.contentIds)||[]).forEach(b=>{const C=S.nodes[b];C?.methods.sync()}),k&&setTimeout(()=>{var b,C;(b=S.nodes[k.props.id])==null||b.methods.sync(),(C=S.nodes[k.props.id])==null||C.methods.showOverlay()},200),a(!1)},100)}},[n,s,e]);return E.useEffect(()=>{if(c&&r.current&&l){const p=r.current.getBoundingClientRect();return u.current=Yl(n,e),i(p.height),a(!0),d()}},[r.current,c,d]),[s||t,o]};M();function e_(e,t){typeof e=="function"?e(t):e&&typeof e=="object"&&"current"in e&&(e.current=t)}function t_(e,t){e.forEach(r=>{e_(r,t)})}M();M();function r_(e,t){const r=Sd();return E.useCallback((...n)=>Ce(this,null,function*(){return yield r?.renderer.rendering,e(...n)}),[...t,r])}var n_=(e,t)=>{const r=E.useContext(st),n=lr(st,u=>u.previewIndex[t]),s=F(u=>u.state.ui.isDragging),[i,o]=E.useState(e),[a,c]=E.useState(n),l=r_((u,d,p,v,g)=>{p&&!g||(d?d.type==="insert"?o(Or(u.filter(k=>k!==d.props.id),d.index,d.props.id)):o(Or(u.filter(k=>k!==d.props.id),d.index,d.props.id)):o(g?u.filter(k=>k!==v):u),c(d))},[]);return E.useEffect(()=>{var u;const d=r.getState(),p=(u=d.draggedItem)==null?void 0:u.id,v=Object.keys(d.previewIndex||{}).length>0;l(e,n,s,p,v)},[e,n,s]),[i,a]};M();var s_="dynamic",i_="x",Xl="y",o_=(e,t)=>{const r=F(o=>o.status),[n,s]=E.useState(t||Xl),i=E.useCallback(()=>{if(e.current){const o=window.getComputedStyle(e.current);o.display==="grid"?s(s_):o.display==="flex"&&o.flexDirection==="row"?s(i_):s(Xl)}},[e.current]);return E.useEffect(()=>{const o=()=>{i()};return window.addEventListener("viewportchange",o),()=>{window.removeEventListener("viewportchange",o)}},[]),E.useEffect(i,[r,t]),[n,i]};M();var a_=({componentId:e,zone:t})=>{const r=F(i=>i.config),n=F(i=>i.metadata),s=F(Be(i=>{var o,a;const c=i.state.indexes;return((a=(o=c.zones[`${e}:${t}`])==null?void 0:o.contentIds)!=null?a:[]).map(u=>c.nodes[u].flatData)}));return f.jsx(ko,{content:s,zone:t,config:r,metadata:n})};M();M();M();var l_=(e,t={})=>{if(!e)return;const{disableDrag:r=!1,disableDragOnFocus:n=!0}=t,s=a=>{a.stopPropagation()};e.addEventListener("mouseover",s,{capture:!0});const i=()=>{setTimeout(()=>{e.addEventListener("pointerdown",s,{capture:!0})},200)},o=()=>{e.removeEventListener("pointerdown",s,{capture:!0})};return n?(e.addEventListener("focus",i,{capture:!0}),e.addEventListener("blur",o,{capture:!0})):r&&e.addEventListener("pointerdown",s,{capture:!0}),e.setAttribute("data-puck-overlay-portal","true"),()=>{e.removeEventListener("mouseover",s,{capture:!0}),n?(e.removeEventListener("focus",i,{capture:!0}),e.removeEventListener("blur",i,{capture:!0})):r&&e.removeEventListener("pointerdown",s,{capture:!0}),e.removeAttribute("data-puck-overlay-portal")}};M();var c_={InlineTextField:"_InlineTextField_1xph6_1"};M();function u_(e,t,r){const n=t.split("."),s=D({},e);let i=s;for(let o=0;o<n.length;o++){const[a,c]=n[o].replace("]","").split("["),l=o===n.length-1;if(c!==void 0){Array.isArray(i[a])||(i[a]=[]);const u=Number(c);if(l){i[a][u]=r;continue}i[a][u]===void 0&&(i[a][u]={}),i=i[a][u];continue}if(l){i[a]=r;continue}i[a]===void 0&&(i[a]={}),i=i[a]}return D(D({},e),s)}M();var mf=(e,t)=>{const r=e.indexes.nodes[t];if(!r)return;const n=`${r.parentId}:${r.zone}`,s=e.indexes.zones[n].contentIds.indexOf(t);return{zone:n,index:s}},d_=ie("InlineTextField",c_),f_=({propPath:e,componentId:t,value:r,isReadOnly:n,opts:s={}})=>{var i;const o=E.useRef(null),a=tt(),c=(i=s.disableLineBreaks)!=null?i:!1;E.useEffect(()=>{const v=a.getState(),g=v.state.indexes.nodes[t].data;if(!v.getComponentConfig(g.type))throw new Error(`InlineTextField Error: No config defined for ${g.type}`);if(o.current){r!==o.current.innerText&&o.current.replaceChildren(r);const y=l_(o.current),S=m=>Ce(void 0,null,function*(){var x;const b=a.getState(),C=b.state.indexes.nodes[t],I=`${C.parentId}:${C.zone}`,P=(x=b.state.indexes.zones[I])==null?void 0:x.contentIds.indexOf(t);let _=m.target.innerText;c&&(_=_.replaceAll(/\n/gm,""));const j=u_(C.data.props,e,_),h=yield b.resolveComponentData($(D({},C.data),{props:j}),"replace");b.dispatch({type:"replace",data:h.node,destinationIndex:P,destinationZone:I})});return o.current.addEventListener("input",S),()=>{var m;(m=o.current)==null||m.removeEventListener("input",S),y?.()}}},[a,o.current,r,c]);const[l,u]=E.useState(!1),[d,p]=E.useState(!1);return f.jsx("span",{className:d_(),ref:o,contentEditable:l||d?"plaintext-only":"false",onClick:v=>{v.preventDefault(),v.stopPropagation()},onClickCapture:v=>{v.preventDefault(),v.stopPropagation();const g=mf(a.getState().state,t);a.getState().setUi({itemSelector:g})},onKeyDown:v=>{v.stopPropagation(),(c&&v.key==="Enter"||n)&&v.preventDefault()},onKeyUp:v=>{v.stopPropagation(),v.preventDefault()},onMouseOverCapture:()=>u(!0),onMouseOutCapture:()=>u(!1),onFocus:()=>p(!0),onBlur:()=>p(!1)})},Ei=E.memo(f_),p_=()=>({text:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(Ei,{propPath:n,componentId:t,value:e,opts:{disableLineBreaks:!0},isReadOnly:s}):e,textarea:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(Ei,{propPath:n,componentId:t,value:e,isReadOnly:s}):e,custom:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable&&typeof e=="string"?f.jsx(Ei,{propPath:n,componentId:t,value:e,isReadOnly:s}):e}),h_=ie("DropZone",Ty),fo=e=>f.jsx(yf,D({},e)),g_=({zoneCompound:e,componentId:t,index:r,dragAxis:n,collisionAxis:s,inDroppableZone:i})=>{var o,a;const c=F(U=>U.metadata),l=E.useContext(Ur),{depth:u=1}=l??{},d=E.useContext(st),p=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.flatData.props})),v=F(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.type}),g=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.readOnly})),k=tt(),y=E.useMemo(()=>{if(p)return ap({type:v,props:p});const U=d.getState().previewIndex[e];return t===U?.props.id?{type:U.componentType,props:U.props,previewType:U.type,element:U.element}:null},[k,t,e,v,p]),S=F(U=>y?.type?U.config.components[y.type]:null),m=E.useMemo(()=>({renderDropZone:fo,isEditing:!0,dragRef:null,metadata:D(D({},c),S?.metadata)}),[c,S?.metadata]),x=F(U=>U.overrides),b=F(U=>{var X;return((X=U.componentState[t])==null?void 0:X.loadingCount)>0}),C=F(U=>{var X;return((X=U.selectedItem)==null?void 0:X.props.id)===t||!1});let I=(a=(o=S?.label)!=null?o:y?.type.toString())!=null?a:"Component";const P=E.useMemo(()=>function(){var X;return y&&"element"in y&&y.element?f.jsx("div",{dangerouslySetInnerHTML:{__html:y.element.outerHTML}}):f.jsx(uo,{name:I,children:(X=x.componentItem)!=null?X:x.drawerItem})},[t,I,x]),_=E.useMemo(()=>$(D(D({},S?.defaultProps),y?.props),{puck:m,editMode:!0}),[S?.defaultProps,y?.props,m]),j=E.useMemo(()=>{var U;return{type:(U=y?.type)!=null?U:v,props:_}},[y?.type,v,_]),h=F(U=>U.config),A=F(U=>U.plugins),T=F(U=>U.fieldTransforms),N=E.useMemo(()=>D(D(D(D({},gc(fo,U=>f.jsx(a_,{componentId:t,zone:U.zone}))),p_()),A.reduce((U,X)=>D(D({},U),X.fieldTransforms),{})),T),[A,T]),R=hc(h,j,N,g,b);if(!y)return;let V=S?S.render:()=>f.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",y.type]}),z=y.type;const K="previewType"in y?y.previewType==="insert":!1;return K&&(V=P),f.jsx(My,{id:t,componentType:z,zoneCompound:e,depth:u+1,index:r,isLoading:b,isSelected:C,label:I,autoDragAxis:n,userDragAxis:s,inDroppableZone:i,children:U=>S?.inline&&!K?f.jsx(f.Fragment,{children:f.jsx(V,$(D({},R),{puck:$(D({},R.puck),{dragRef:U})}))}):f.jsx("div",{ref:U,children:f.jsx(V,D({},R))})})},v_=E.memo(g_),yf=E.forwardRef(function({zone:t,allow:r,disallow:n,style:s,className:i,minEmptyHeight:o=128,collisionAxis:a},c){const l=E.useContext(Ur),u=tt(),{areaId:d,depth:p=0,registerLocalZone:v,unregisterLocalZone:g}=l??{},k=F(Be(Y=>{var te;return d?(te=Y.state.indexes.nodes[d])==null?void 0:te.path:null}));let y=Ze;d&&t!==Ze&&(y=`${d}:${t}`);const S=y===Ze||t===Ze||d==="root",m=lr(st,Y=>Y.nextAreaDepthIndex[d||""]),x=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.contentIds})),b=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.type}));E.useEffect(()=>{(!b||b==="dropzone")&&l?.registerZone&&l?.registerZone(y)},[b,u]),E.useEffect(()=>{b==="dropzone"&&y!==Ze&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[b]);const C=E.useMemo(()=>x||[],[x]),I=E.useRef(null),P=E.useCallback(Y=>{if(!Y)return!0;if(n){const te=r||[];if((n||[]).filter(Ie=>te.indexOf(Ie)===-1).indexOf(Y)!==-1)return!1}else if(r&&r.indexOf(Y)===-1)return!1;return!0},[r,n]),_=lr(st,Y=>{var te;const ce=(te=Y.draggedItem)==null?void 0:te.data.componentType;return P(ce)}),j=m||S,h=lr(st,Y=>{var te;let ce=!0;return ce=(te=Y.zoneDepthIndex[y])!=null?te:!1,ce&&(ce=_),ce});E.useEffect(()=>(v&&v(y,_||h),()=>{g&&g(y)}),[_,h,y]);const[A,T]=n_(C,y),N=h&&(T?A.length===1:A.length===0),R=E.useContext(st);E.useEffect(()=>{const{enabledIndex:Y}=R.getState();R.setState({enabledIndex:$(D({},Y),{[y]:h})})},[h,R,y]);const V={id:y,collisionPriority:h?p:0,disabled:!N,collisionDetector:ny,type:"dropzone",data:{areaId:d,depth:p,isDroppableTarget:_,path:k||[]}},{ref:z}=Md(V),K=F(Y=>Y?.selectedItem&&d===Y?.selectedItem.props.id),[U]=o_(I,a),[X,G]=Qy({zoneCompound:y,userMinEmptyHeight:o,ref:I});return f.jsx("div",{className:`${h_({isRootZone:S,hoveringOverArea:j,isEnabled:h,isAreaSelected:K,hasChildren:C.length>0,isAnimating:G})}${i?` ${i}`:""}`,ref:Y=>{t_([I,z,c],Y)},"data-testid":`dropzone:${y}`,"data-puck-dropzone":y,style:$(D({},s),{"--min-empty-height":`${X}px`,backgroundColor:s?.backgroundColor}),children:A.map((Y,te)=>f.jsx(v_,{zoneCompound:y,componentId:Y,dragAxis:U,index:te,collisionAxis:a,inDroppableZone:_},Y))})}),m_=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=Bs(e,t,o=>f.jsx(ko,$(D({},o),{config:e,metadata:r}))),i=E.useMemo(()=>({areaId:s.id,depth:1}),[s]);return f.jsx(An,{value:i,children:f.jsx(n.render,$(D({},s),{puck:$(D({},s.puck),{renderDropZone:po,metadata:D(D({},r),n.metadata)})}))},s.id)},po=e=>f.jsx(_f,D({},e)),_f=E.forwardRef(function({className:t,style:r,zone:n},s){const i=E.useContext(Ur),{areaId:o="root"}=i||{},{config:a,data:c,metadata:l}=E.useContext(go);let u=`${o}:${n}`,d=c?.content||[];return E.useEffect(()=>{d||i?.registerZone&&i?.registerZone(u)},[d]),!c||!a?null:(u!==Ze&&(d=pc(c,u).zones[u]),f.jsx("div",{className:t,style:r,ref:s,children:d.map(p=>a.components[p.type]?f.jsx(m_,{config:a,item:p,metadata:l},p.props.id):null)}))}),ho=e=>f.jsx(y_,D({},e)),y_=E.forwardRef(function(t,r){const n=E.useContext(Ur);return n?.mode==="edit"?f.jsx(f.Fragment,{children:f.jsx(yf,$(D({},t),{ref:r}))}):f.jsx(f.Fragment,{children:f.jsx(_f,$(D({},t),{ref:r}))})}),go=Ut.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function __({config:e,data:t,metadata:r={}}){var n;const s=$(D({},t),{root:t.root||{},content:t.content||[]}),i="props"in s.root?s.root.props:s.root,o=i?.title||"",a=$(D({},i),{puck:{renderDropZone:ho,isEditing:!1,dragRef:null,metadata:r},title:o,editMode:!1,id:"puck-root"}),c=Bs(e,{type:"root",props:a},u=>f.jsx(vc,$(D({},u),{config:e,metadata:r}))),l=E.useMemo(()=>({mode:"render",depth:0}),[]);return(n=e.root)!=null&&n.render?f.jsx(go.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(An,{value:l,children:f.jsx(e.root.render,$(D({},c),{children:f.jsx(po,{zone:Oi})}))})}):f.jsx(go.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(An,{value:l,children:f.jsx(po,{zone:Oi})})})}M();var Kl=e=>{const t={back:e.history.back,forward:e.history.forward,setHistories:e.history.setHistories,setHistoryIndex:e.history.setHistoryIndex,hasPast:e.history.hasPast(),hasFuture:e.history.hasFuture(),histories:e.history.histories,index:e.history.index};return{appState:On(e.state),config:e.config,dispatch:e.dispatch,getPermissions:e.permissions.getPermissions,refreshPermissions:e.permissions.refreshPermissions,history:t,selectedItem:e.selectedItem||null,getItemBySelector:n=>_t(n,e.state),getItemById:n=>e.state.indexes.nodes[n].data,getSelectorForId:n=>mf(e.state,n)}},b_=E.createContext(null),Gl=e=>({state:e.state,config:e.config,dispatch:e.dispatch,permissions:e.permissions,history:e.history,selectedItem:e.selectedItem}),x_=e=>{const[t]=E.useState(()=>Ln(()=>Kl(Gl(e.getState()))));return E.useEffect(()=>e.subscribe(r=>Gl(r),r=>{t.setState(Kl(r))}),[]),t};M();M();M();var w_={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};M();var S_=e=>{const t=F(i=>{var o;return(o=i.selectedItem)==null?void 0:o.props.id}),r=F(i=>i.config),n=F(i=>{var o;return(o=i.state.indexes.nodes[t])==null?void 0:o.path}),s=tt();return E.useMemo(()=>{const i=n?.map(o=>{var a,c,l;const[u]=o.split(":");if(u==="root")return{label:"Page",selector:null};const d=s.getState().state.indexes.nodes[u],p=d.path[d.path.length-1],g=(((a=s.getState().state.indexes.zones[p])==null?void 0:a.contentIds)||[]).indexOf(u);return{label:d?(l=(c=r.components[d.data.type])==null?void 0:c.label)!=null?l:d.data.type:"Component",selector:d?{index:g,zone:d.path[d.path.length-1]}:null}})||[];return i.slice(i.length-e)},[n,e])},Nt=ie("SidebarSection",w_),vo=({children:e,title:t,background:r,showBreadcrumbs:n,noBorderTop:s,noPadding:i,isLoading:o})=>{const a=F(l=>l.setUi),c=S_(1);return f.jsxs("div",{className:Nt({noBorderTop:s,noPadding:i}),style:{background:r},children:[f.jsx("div",{className:Nt("title"),children:f.jsxs("div",{className:Nt("breadcrumbs"),children:[n?c.map((l,u)=>f.jsxs("div",{className:Nt("breadcrumb"),children:[f.jsx("button",{type:"button",className:Nt("breadcrumbLabel"),onClick:()=>a({itemSelector:l.selector}),children:l.label}),f.jsx(Pm,{size:16})]},u)):null,f.jsx("div",{className:Nt("heading"),children:f.jsx(Da,{rank:"2",size:"xs",children:t})})]})}),f.jsx("div",{className:Nt("content"),children:e}),o&&f.jsx("div",{className:Nt("loadingOverlay"),children:f.jsx(pr,{size:32})})]})};M();var bf={Puck:"_Puck_1yxlw_19","Puck-portal":"_Puck-portal_1yxlw_31","PuckLayout-inner":"_PuckLayout-inner_1yxlw_38","PuckLayout--mounted":"_PuckLayout--mounted_1yxlw_59","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_1yxlw_63","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_1yxlw_69","PuckLayout-mounted":"_PuckLayout-mounted_1yxlw_83",PuckLayout:"_PuckLayout_1yxlw_38"};M();M();var I_={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},bs=ie("PuckFields",I_),E_=({children:e})=>f.jsx(f.Fragment,{children:e}),k_=(e,t)=>(r,n)=>Ce(void 0,null,function*(){let s;const{dispatch:i,state:o,selectedItem:a,resolveComponentData:c}=t.getState(),{data:l,ui:u}=o,{itemSelector:d}=u,p=l.root.props||l.root;a?s=a.props:s=p;const v=$(D({},s),{[e]:r});a&&d?i({type:"replace",destinationIndex:d.index,destinationZone:d.zone||Ze,data:(yield c($(D({},a),{props:v}),"replace")).node,ui:n}):l.root.props?i({type:"replaceRoot",root:(yield c($(D({},l.root),{props:v}),"replace")).node,ui:D(D({},u),n),recordHistory:!0}):i({type:"setData",data:{root:v}})}),j_=({fieldName:e})=>{const t=F(l=>l.fields.fields[e]),r=F(l=>((l.selectedItem?l.selectedItem.readOnly:l.state.data.root.readOnly)||{})[e]),n=F(l=>{const u=l.state.data.root.props||l.state.data.root;return l.selectedItem?l.selectedItem.props[e]:u[e]}),s=F(l=>t?l.selectedItem?`${l.selectedItem.props.id}_${t.type}_${e}`:`root_${t.type}_${e}`:null),i=F(Be(l=>{const{selectedItem:u,permissions:d}=l;return u?d.getPermissions({item:u}):d.getPermissions({root:!0})})),o=tt(),a=E.useCallback(k_(e,o),[e]),{visible:c=!0}=t??{};return!t||!s||!c||t.type==="slot"?null:f.jsx("div",{className:bs("field"),children:f.jsx(Js,{field:t,name:e,id:s,readOnly:!i.edit||r,value:n,onChange:a})},s)},C_=E.memo(j_),D_=({wrapFields:e=!0})=>{const t=F(u=>u.overrides),r=F(u=>{var d,p;const v=u.selectedItem?(d=u.componentState[u.selectedItem.props.id])==null?void 0:d.loadingCount:(p=u.componentState.root)==null?void 0:p.loadingCount;return(v??0)>0}),n=F(Be(u=>u.state.ui.itemSelector)),s=F(u=>{var d;return(d=u.selectedItem)==null?void 0:d.props.id}),i=tt();pm(i,s);const o=F(u=>u.fields.loading),a=F(Be(u=>u.fields.id===s?Object.keys(u.fields.fields):[])),c=o||r,l=E.useMemo(()=>t.fields||E_,[t]);return f.jsxs("form",{className:bs({wrapFields:e}),onSubmit:u=>{u.preventDefault()},children:[f.jsx(l,{isLoading:c,itemSelector:n,children:a.map(u=>f.jsx(C_,{fieldName:u},u))}),c&&f.jsx("div",{className:bs("loadingOverlay"),children:f.jsx("div",{className:bs("loadingOverlayInner"),children:f.jsx(pr,{size:16})})})]})},xf=E.memo(D_);M();M();M();M();var P_={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},is=ie("ComponentList",P_),wf=({name:e,label:t})=>{var r;const n=F(i=>i.overrides),s=F(i=>i.permissions.getPermissions({type:e}).insert);return E.useEffect(()=>{n.componentItem&&console.warn("The `componentItem` override has been deprecated and renamed to `drawerItem`")},[n]),f.jsx(Oa.Item,{label:t,name:e,isDragDisabled:!s,children:(r=n.componentItem)!=null?r:n.drawerItem})},kr=({children:e,title:t,id:r})=>{const n=F(a=>a.config),s=F(a=>a.setUi),i=F(a=>a.state.ui.componentList),{expanded:o=!0}=i[r]||{};return f.jsxs("div",{className:is({isExpanded:o}),children:[t&&f.jsxs("button",{type:"button",className:is("title"),onClick:()=>s({componentList:$(D({},i),{[r]:$(D({},i[r]),{expanded:!o})})}),title:o?`Collapse${t?` ${t}`:""}`:`Expand${t?` ${t}`:""}`,children:[f.jsx("div",{children:t}),f.jsx("div",{className:is("titleIcon"),children:o?f.jsx(ef,{size:12}):f.jsx(Gs,{size:12})})]}),f.jsx("div",{className:is("content"),children:f.jsx(Oa,{children:e||Object.keys(n.components).map(a=>{var c;return f.jsx(wf,{label:(c=n.components[a].label)!=null?c:a,name:a},a)})})})]})};kr.Item=wf;var O_=()=>{const[e,t]=E.useState(),r=F(s=>s.config),n=F(s=>s.state.ui.componentList);return E.useEffect(()=>{var s,i,o;if(Object.keys(n).length>0){const a=[];let c;c=Object.entries(n).map(([u,d])=>!d.components||(d.components.forEach(p=>{a.push(p)}),d.visible===!1)?null:f.jsx(kr,{id:u,title:d.title||u,children:d.components.map((p,v)=>{var g;const k=r.components[p]||{};return f.jsx(kr.Item,{label:(g=k.label)!=null?g:p,name:p,index:v},p)})},u));const l=Object.keys(r.components).filter(u=>a.indexOf(u)===-1);l.length>0&&!((s=n.other)!=null&&s.components)&&((i=n.other)==null?void 0:i.visible)!==!1&&c.push(f.jsx(kr,{id:"other",title:((o=n.other)==null?void 0:o.title)||"Other",children:l.map((u,d)=>{var p;const v=r.components[u]||{};return f.jsx(kr.Item,{name:u,label:(p=v.label)!=null?p:u,index:d},u)})},"other")),t(c)}},[r.categories,r.components,n]),e},Sf=()=>{const e=F(n=>n.overrides),t=O_(),r=E.useMemo(()=>(e.components&&console.warn("The `components` override has been deprecated and renamed to `drawer`"),e.components||e.drawer||"div"),[e]);return f.jsx(r,{children:t||f.jsx(kr,{id:"all"})})};M();M();var mo='style, link[rel="stylesheet"]',A_=e=>{const t=[];return e.querySelectorAll(mo).forEach(r=>{r.tagName==="STYLE"?r.innerHTML.trim()&&t.push(r):t.push(r)}),t},Jl=e=>Array.from(document.styleSheets).find(t=>t.ownerNode.href===e.href),M_=e=>{if(e)try{return[...Array.from(e.cssRules)].map(t=>t.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",e.href)}return""},Ql=(e,t)=>{const r=e.attributes;r?.length>0&&Array.from(r).forEach(n=>{t.setAttribute(n.name,n.value)})},ec=e=>setTimeout(e,0),T_=({children:e,debug:t=!1,onStylesLoaded:r=()=>null})=>{const{document:n,window:s}=L_();return E.useEffect(()=>{if(!s||!n)return()=>{};let i=[];const o={},a=m=>i.findIndex(x=>x.original===m),c=(m,x=!1)=>Ce(void 0,null,function*(){let b;if(m.nodeName==="LINK"&&x){b=document.createElement("style"),b.type="text/css";let C=Jl(m);C||(yield new Promise(P=>{const _=()=>{P(),m.removeEventListener("load",_)};m.addEventListener("load",_)}),C=Jl(m));const I=M_(C);if(!I){t&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}b.innerHTML=I,b.setAttribute("data-href",m.getAttribute("href"))}else b=m.cloneNode(!0);return b}),l=m=>Ce(void 0,null,function*(){const x=a(m);if(x>-1){t&&console.log("Tried to add an element that was already mirrored. Updating instead..."),i[x].mirror.innerText=m.innerText;return}const b=yield c(m);if(!b)return;const C=_i(b.outerHTML);if(o[C]){t&&console.log("iframe already contains element that is being mirrored. Skipping...");return}o[C]=!0,n.head.append(b),i.push({original:m,mirror:b}),t&&console.log(`Added style node ${m.outerHTML}`)}),u=m=>{var x,b;const C=a(m);if(C===-1){t&&console.log("Tried to remove an element that did not exist. Skipping...");return}const I=_i(m.outerHTML);(b=(x=i[C])==null?void 0:x.mirror)==null||b.remove(),delete o[I],t&&console.log(`Removed style node ${m.outerHTML}`)},d=new MutationObserver(m=>{m.forEach(x=>{x.type==="childList"&&(x.addedNodes.forEach(b=>{if(b.nodeType===Node.TEXT_NODE||b.nodeType===Node.ELEMENT_NODE){const C=b.nodeType===Node.TEXT_NODE?b.parentElement:b;C&&C.matches(mo)&&ec(()=>l(C))}}),x.removedNodes.forEach(b=>{if(b.nodeType===Node.TEXT_NODE||b.nodeType===Node.ELEMENT_NODE){const C=b.nodeType===Node.TEXT_NODE?b.parentElement:b;C&&C.matches(mo)&&ec(()=>u(C))}}))})}),p=s.parent.document,v=A_(p),g=[];let k=0;const y=p.getElementsByTagName("html")[0];Ql(y,n.documentElement);const S=p.getElementsByTagName("body")[0];return Ql(S,n.body),Promise.all(v.map((m,x)=>Ce(void 0,null,function*(){if(m.nodeName==="LINK"){const C=m.href;if(g.indexOf(C)>-1)return;g.push(C)}const b=yield c(m);if(b)return i.push({original:m,mirror:b}),b}))).then(m=>{const x=m.filter(b=>typeof b<"u");x.forEach(b=>{b.onload=()=>{k=k+1,k>=i.length&&r()},b.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),k=k+1,k>=i.length&&r()}}),n.head.innerHTML="",n.head.append(...x),d.observe(p.head,{childList:!0,subtree:!0}),x.forEach(b=>{const C=_i(b.outerHTML);o[C]=!0})}),()=>{d.disconnect()}},[]),f.jsx(f.Fragment,{children:e})},Aa=E.createContext({}),L_=()=>E.useContext(Aa);function If(e){var t=e,{children:r,className:n,debug:s,id:i,onReady:o=()=>{},onNotReady:a=()=>{},frameRef:c}=t,l=Kt(t,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[u,d]=E.useState(!1),[p,v]=E.useState({}),[g,k]=E.useState(),[y,S]=E.useState(!1);return E.useEffect(()=>{var m;if(c.current){const x=c.current.contentDocument,b=c.current.contentWindow;v({document:x||void 0,window:b||void 0}),k((m=c.current.contentDocument)==null?void 0:m.getElementById("frame-root")),x&&b&&y?o():a()}},[c,u,y]),f.jsx("iframe",$(D({},l),{className:n,id:i,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:c,onLoad:()=>{d(!0)},children:f.jsx(Aa.Provider,{value:p,children:u&&g&&f.jsx(T_,{debug:s,onStylesLoaded:()=>S(!0),children:Mn.createPortal(r,g)})})}))}If.displayName="AutoFrame";var $_=If;M();var R_={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},ki=ie("PuckPreview",R_),N_=e=>{const t=F(r=>r.status);E.useEffect(()=>{if(e.current&&t==="READY"){const r=e.current,n=o=>{const a=new gf("pointermove",$(D({},o),{bubbles:!0,cancelable:!1,clientX:o.clientX,clientY:o.clientY,originalTarget:o.target}));r.dispatchEvent(a)},s=()=>{var o;i(),(o=r.contentDocument)==null||o.addEventListener("pointermove",n,{capture:!0})},i=()=>{var o;(o=r.contentDocument)==null||o.removeEventListener("pointermove",n)};return s(),()=>{i()}}},[t])},Ef=({id:e="puck-preview"})=>{const t=F(g=>g.dispatch),r=F(g=>g.state.data.root),n=F(g=>g.config),s=F(g=>g.setStatus),i=F(g=>g.iframe),o=F(g=>g.overrides),a=F(g=>g.metadata),c=F(g=>g.state.ui.previewMode==="edit"?null:g.state.data),l=E.useCallback(g=>{var k,y;const S=Bs(n,{type:"root",props:g},fo);return(k=n.root)!=null&&k.render?(y=n.root)==null?void 0:y.render(D({id:"puck-root"},S)):f.jsx(f.Fragment,{children:S.children})},[n]),u=E.useMemo(()=>o.iframe,[o]),d=r.props||r,p=E.useRef(null);N_(p);const v=c?f.jsx(__,{data:c,config:n,metadata:a}):f.jsx(l,$(D({},d),{puck:{renderDropZone:ho,isEditing:!0,dragRef:null,metadata:a},editMode:!0,children:f.jsx(ho,{zone:Ze})}));return E.useEffect(()=>{i.enabled||s("READY")},[i.enabled]),f.jsx("div",{className:ki(),id:e,"data-puck-preview":!0,onClick:g=>{const k=g.target;!k.hasAttribute("data-puck-component")&&!k.hasAttribute("data-puck-dropzone")&&t({type:"setUi",ui:{itemSelector:null}})},children:i.enabled?f.jsx($_,{id:"preview-frame",className:ki("frame"),"data-rfd-iframe":!0,onReady:()=>{s("READY")},onNotReady:()=>{s("MOUNTED")},frameRef:p,children:f.jsx(Aa.Consumer,{children:({document:g})=>u?f.jsx(u,{document:g,children:v}):v})}):f.jsx("div",{id:"preview-frame",className:ki("frame"),ref:p,"data-puck-entry":!0,children:v})})};M();M();M();var kf={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};M();var z_=e=>{const t=D({},e.style);e.style.scrollMargin="256px",e&&(e?.scrollIntoView({behavior:"smooth"}),e.style.scrollMargin=t.scrollMargin||"")};M();var F_=(e,t)=>{let r;const n=function(){clearTimeout(r),r=setTimeout(function(){t(),e?.removeEventListener("scroll",n)},50)};e?.addEventListener("scroll",n),setTimeout(()=>{r||t()},50)},os=ie("LayerTree",kf),zt=ie("Layer",kf),B_=({index:e,itemId:t,zoneCompound:r})=>{var n;const s=F(m=>m.config),i=F(m=>m.state.ui.itemSelector),o=F(m=>m.dispatch),a=E.useCallback(m=>{o({type:"setUi",ui:{itemSelector:m}})},[o]),l=F(m=>{var x;return(x=m.selectedItem)==null?void 0:x.props.id})===t||i&&i.zone===Ze&&!r,u=F(m=>m.state.indexes.nodes[t]),d=F(Be(m=>Object.keys(m.state.indexes.zones).filter(x=>x.split(":")[0]===t))),p=d.length>0,v=E.useContext(st),g=lr(st,m=>m.hoveringComponent===t),k=F(m=>{var x,b;const C=m.state.indexes.nodes[(x=m.selectedItem)==null?void 0:x.props.id];return(b=C?.path.some(I=>{const[P]=I.split(":");return P===t}))!=null?b:!1}),y=s.components[u.data.type],S=(n=y?.label)!=null?n:u.data.type.toString();return f.jsxs("li",{className:zt({isSelected:l,isHovering:g,containsZone:p,childIsSelected:k}),children:[f.jsx("div",{className:zt("inner"),children:f.jsxs("button",{type:"button",className:zt("clickable"),onClick:()=>{if(l){a(null);return}const m=Ar(),x=m?.querySelector(`[data-puck-component="${t}"]`);if(!x){a({index:e,zone:r});return}z_(x),F_(m,()=>{a({index:e,zone:r})})},onMouseEnter:m=>{m.stopPropagation(),v.setState({hoveringComponent:t})},onMouseLeave:m=>{m.stopPropagation(),v.setState({hoveringComponent:null})},children:[p&&f.jsx("div",{className:zt("chevron"),title:l?"Collapse":"Expand",children:f.jsx(Gs,{size:"12"})}),f.jsxs("div",{className:zt("title"),children:[f.jsx("div",{className:zt("icon"),children:u.data.type==="Text"||u.data.type==="Heading"?f.jsx(Ca,{size:"16"}):f.jsx($m,{size:"16"})}),f.jsx("div",{className:zt("name"),children:S})]})]})}),p&&d.map(m=>f.jsx("div",{className:zt("zones"),children:f.jsx(jf,{zoneCompound:m})},m))]})},jf=({label:e,zoneCompound:t})=>{const r=F(s=>{var i,o,a,c;if(e)return e;if(t===Ze)return;const[l,u]=t.split(":"),d=(i=s.state.indexes.nodes[l])==null?void 0:i.data.type,p=d&&d!==Io?s.config.components[d]:s.config.root;return(c=(a=(o=p?.fields)==null?void 0:o[u])==null?void 0:a.label)!=null?c:u}),n=F(Be(s=>{var i,o;return t?(o=(i=s.state.indexes.zones[t])==null?void 0:i.contentIds)!=null?o:[]:[]}));return f.jsxs(f.Fragment,{children:[r&&f.jsxs("div",{className:os("zoneTitle"),children:[f.jsx("div",{className:os("zoneIcon"),children:f.jsx(Lm,{size:"16"})}),r]}),f.jsxs("ul",{className:os(),children:[n.length===0&&f.jsx("div",{className:os("helper"),children:"No items"}),n.map((s,i)=>f.jsx(B_,{index:i,itemId:s,zoneCompound:t},s))]})]})};M();var W_=(e,t)=>Object.keys(e.indexes.zones).filter(r=>r.split(":")[0]===t),Cf=()=>{const e=F(n=>n.overrides.outline),t=F(Be(n=>W_(n.state,"root"))),r=E.useMemo(()=>e||"div",[e]);return f.jsx(r,{children:t.map(n=>f.jsx(jf,{label:t.length===1?"":n.split(":")[1],zoneCompound:n},n))})};M();M();M();var Df={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},tc={Smartphone:f.jsx(qm,{size:16}),Tablet:f.jsx(Ym,{size:16}),Monitor:f.jsx(Fm,{size:16})},as=ie("ViewportControls",Df),rc=ie("ViewportButton",Df),H_=({children:e,height:t="auto",title:r,width:n,onClick:s})=>{const i=F(c=>c.state.ui.viewports),[o,a]=E.useState(!1);return E.useEffect(()=>{a(n===i.current.width)},[n,i.current.width]),f.jsx("span",{className:rc({isActive:o}),children:f.jsx(bt,{type:"button",title:r,disabled:o,onClick:c=>{c.stopPropagation(),s({width:n,height:t})},children:f.jsx("span",{className:rc("inner"),children:e})})})},nc=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],U_=({autoZoom:e,zoom:t,onViewportChange:r,onZoom:n})=>{var s,i;const o=F(l=>l.viewports),a=nc.find(l=>l.value===e),c=E.useMemo(()=>[...nc,...a?[]:[{value:e,label:`${(e*100).toFixed(0)}% (Auto)`}]].filter(l=>l.value<=e).sort((l,u)=>l.value>u.value?1:-1),[e]);return f.jsxs("div",{className:as(),children:[o.map((l,u)=>f.jsx(H_,{height:l.height,width:l.width,title:l.label?`Switch to ${l.label} viewport`:"Switch viewport",onClick:r,children:typeof l.icon=="string"?tc[l.icon]||l.icon:l.icon||tc.Smartphone},u)),f.jsx("div",{className:as("divider")}),f.jsx(bt,{type:"button",title:"Zoom viewport out",disabled:t<=((s=c[0])==null?void 0:s.value),onClick:l=>{l.stopPropagation(),n(c[Math.max(c.findIndex(u=>u.value===t)-1,0)].value)},children:f.jsx(Gm,{size:16})}),f.jsx(bt,{type:"button",title:"Zoom viewport in",disabled:t>=((i=c[c.length-1])==null?void 0:i.value),onClick:l=>{l.stopPropagation(),n(c[Math.min(c.findIndex(u=>u.value===t)+1,c.length-1)].value)},children:f.jsx(Km,{size:16})}),f.jsx("div",{className:as("divider")}),f.jsx("select",{className:as("zoomSelect"),value:t.toString(),onClick:l=>{l.stopPropagation()},onChange:l=>{n(parseFloat(l.currentTarget.value))},children:c.map(l=>f.jsx("option",{value:l.value,label:l.label},l.label))})]})};M();var V_={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};M();var Pf=E.createContext(null),Z_=({children:e})=>{const t=E.useRef(null),r=E.useMemo(()=>({frameRef:t}),[]);return f.jsx(Pf.Provider,{value:r,children:e})},Of=()=>{const e=E.useContext(Pf);if(e===null)throw new Error("useCanvasFrame must be used within a FrameProvider");return e},Kr=ie("PuckCanvas",V_),ji=150,q_=()=>{const{frameRef:e}=Of(),t=Gd(e),{dispatch:r,overrides:n,setUi:s,zoomConfig:i,setZoomConfig:o,status:a,iframe:c}=F(Be(I=>({dispatch:I.dispatch,overrides:I.overrides,setUi:I.setUi,zoomConfig:I.zoomConfig,setZoomConfig:I.setZoomConfig,status:I.status,iframe:I.iframe}))),{leftSideBarVisible:l,rightSideBarVisible:u,leftSideBarWidth:d,rightSideBarWidth:p,viewports:v}=F(Be(I=>({leftSideBarVisible:I.state.ui.leftSideBarVisible,rightSideBarVisible:I.state.ui.rightSideBarVisible,leftSideBarWidth:I.state.ui.leftSideBarWidth,rightSideBarWidth:I.state.ui.rightSideBarWidth,viewports:I.state.ui.viewports}))),[g,k]=E.useState(!1),y=E.useRef(!1),S=E.useMemo(()=>({children:P})=>f.jsx(f.Fragment,{children:P}),[]),m=E.useMemo(()=>n.preview||S,[n]),x=E.useCallback(()=>{if(e.current){const I=e.current,P=Kd(I);return{width:P.contentBox.width,height:P.contentBox.height}}return{width:0,height:0}},[e]);E.useEffect(()=>{t()},[e,l,u,d,p,v]),E.useEffect(()=>{const{height:I}=x();v.current.height==="auto"&&o($(D({},i),{rootHeight:I/i.zoom}))},[i.zoom,x,o]),E.useEffect(()=>{t()},[v.current.width,v]),E.useEffect(()=>{if(!e.current)return;const I=new ResizeObserver(()=>{y.current||t()});return I.observe(e.current),()=>{I.disconnect()}},[e.current]);const[b,C]=E.useState(!1);return E.useEffect(()=>{setTimeout(()=>{C(!0)},500)},[]),f.jsxs("div",{className:Kr({ready:a==="READY"||!c.enabled||!c.waitForStyles,showLoader:b}),onClick:I=>{const P=I.target;!P.hasAttribute("data-puck-component")&&!P.hasAttribute("data-puck-dropzone")&&r({type:"setUi",ui:{itemSelector:null},recordHistory:!0})},children:[v.controlsVisible&&c.enabled&&f.jsx("div",{className:Kr("controls"),children:f.jsx(U_,{autoZoom:i.autoZoom,zoom:i.zoom,onViewportChange:I=>{k(!0),y.current=!0;const P=$(D({},I),{height:I.height||"auto",zoom:i.zoom}),_={viewports:$(D({},v),{current:P})};s(_),t({viewports:$(D({},v),{current:P})})},onZoom:I=>{k(!0),y.current=!0,o($(D({},i),{zoom:I}))}})}),f.jsxs("div",{className:Kr("inner"),ref:e,children:[f.jsx("div",{className:Kr("root"),style:{width:c.enabled?v.current.width:"100%",height:i.rootHeight,transform:c.enabled?`scale(${i.zoom})`:void 0,transition:g?`width ${ji}ms ease-out, height ${ji}ms ease-out, transform ${ji}ms ease-out`:"",overflow:c.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{k(!1),y.current=!1},children:f.jsx(m,{children:f.jsx(Ef,{})})}),f.jsx("div",{className:Kr("loader"),children:f.jsx(pr,{size:24})})]})]})};M();M();var Y_=({overrides:e,plugins:t})=>{const r=D({},e);return t?.forEach(n=>{n.overrides&&Object.keys(n.overrides).forEach(s=>{var i;const o=s;if(!((i=n.overrides)!=null&&i[o]))return;if(o==="fieldTypes"){const l=n.overrides.fieldTypes;Object.keys(l).forEach(u=>{r.fieldTypes=r.fieldTypes||{};const d=r.fieldTypes[u],p=v=>l[u]($(D({},v),{children:d?d(v):v.children}));r.fieldTypes[u]=p});return}const a=r[o],c=l=>n.overrides[o]($(D({},l),{children:a?a(l):l.children}));r[o]=c})}),r},X_=({overrides:e,plugins:t})=>E.useMemo(()=>Y_({overrides:e,plugins:t}),[t,e]);M();var yo=({children:e})=>f.jsx(f.Fragment,{children:e});M();var K_="",G_=(e,t)=>{const[r,n]=E.useState();return E.useEffect(()=>{n(document.createElement("style"))},[]),E.useEffect(()=>{var s;if(!(!r||typeof window>"u")){if(r.innerHTML=e,t){const i=Ar();(s=i?.head)==null||s.appendChild(r)}document.head.appendChild(r)}},[t,r]),r},J_=e=>G_(K_,e);M();var Q_=()=>{const e=tt(),t=E.useCallback(()=>{const r=e.getState().dispatch;r({type:"setUi",ui:n=>({previewMode:n.previewMode==="edit"?"interactive":"edit"})})},[e]);Ht({meta:!0,i:!0},t),Ht({ctrl:!0,i:!0},t)};M();M();M();var eb={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},Ci=ie("MenuBar",eb);function tb({menuOpen:e=!1,renderHeaderActions:t,setMenuOpen:r}){const n=F(a=>a.history.back),s=F(a=>a.history.forward),i=F(a=>a.history.hasFuture()),o=F(a=>a.history.hasPast());return f.jsx("div",{className:Ci({menuOpen:e}),onClick:a=>{var c;const l=a.target;window.matchMedia("(min-width: 638px)").matches||l.tagName==="A"&&((c=l.getAttribute("href"))!=null&&c.startsWith("#"))&&r(!1)},children:f.jsxs("div",{className:Ci("inner"),children:[f.jsxs("div",{className:Ci("history"),children:[f.jsx(bt,{type:"button",title:"undo",disabled:!o,onClick:n,children:f.jsx(Xm,{size:21})}),f.jsx(bt,{type:"button",title:"redo",disabled:!i,onClick:s,children:f.jsx(Um,{size:21})})]}),f.jsx(f.Fragment,{children:t&&t()})]})})}M();var rb={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},Ot=ie("PuckHeader",rb),nb=()=>{const{onPublish:e,renderHeader:t,renderHeaderActions:r,headerTitle:n,headerPath:s,iframe:i}=Ma(),o=F(m=>m.dispatch),a=tt(),c=E.useMemo(()=>t?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),x=>{var b=x,{actions:C}=b,I=Kt(b,["actions"]);const P=t,_=F(j=>j.state);return f.jsx(P,$(D({},I),{dispatch:o,state:_,children:C}))}):yo,[t]),l=E.useMemo(()=>r?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),x=>{const b=r,C=F(I=>I.state);return f.jsx(b,$(D({},x),{dispatch:o,state:C}))}):yo,[r]),u=F(m=>m.overrides.header||c),d=F(m=>m.overrides.headerActions||l),[p,v]=E.useState(!1),g=F(m=>{var x,b;return(b=((x=m.state.indexes.nodes.root)==null?void 0:x.data).props.title)!=null?b:""}),k=F(m=>m.state.ui.leftSideBarVisible),y=F(m=>m.state.ui.rightSideBarVisible),S=E.useCallback(m=>{const x=window.matchMedia("(min-width: 638px)").matches,b=m==="left"?k:y,C=m==="left"?"rightSideBarVisible":"leftSideBarVisible";o({type:"setUi",ui:D({[`${m}SideBarVisible`]:!b},x?{}:{[C]:!1})})},[o,k,y]);return f.jsx(u,{actions:f.jsx(f.Fragment,{children:f.jsx(d,{children:f.jsx(lo,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Nl,{size:"14px"}),children:"Publish"})})}),children:f.jsx("header",{className:Ot({leftSideBarVisible:k,rightSideBarVisible:y}),children:f.jsxs("div",{className:Ot("inner"),children:[f.jsxs("div",{className:Ot("toggle"),children:[f.jsx("div",{className:Ot("leftSideBarToggle"),children:f.jsx(bt,{type:"button",onClick:()=>{S("left")},title:"Toggle left sidebar",children:f.jsx(Bm,{focusable:"false"})})}),f.jsx("div",{className:Ot("rightSideBarToggle"),children:f.jsx(bt,{type:"button",onClick:()=>{S("right")},title:"Toggle right sidebar",children:f.jsx(Wm,{focusable:"false"})})})]}),f.jsx("div",{className:Ot("title"),children:f.jsxs(Da,{rank:"2",size:"xs",children:[n||g||"Page",s&&f.jsxs(f.Fragment,{children:[" ",f.jsx("code",{className:Ot("path"),children:s})]})]})}),f.jsxs("div",{className:Ot("tools"),children:[f.jsx("div",{className:Ot("menuButton"),children:f.jsx(bt,{type:"button",onClick:()=>v(!p),title:"Toggle menu bar",children:p?f.jsx(ef,{focusable:"false"}):f.jsx(Gs,{focusable:"false"})})}),f.jsx(tb,{dispatch:o,onPublish:e,menuOpen:p,renderHeaderActions:()=>f.jsx(d,{children:f.jsx(lo,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Nl,{size:"14px"}),children:"Publish"})}),setMenuOpen:v})]})]})})})},sb=E.memo(nb);M();M();M();var ib={ResizeHandle:"_ResizeHandle_144bf_2","ResizeHandle--left":"_ResizeHandle--left_144bf_16","ResizeHandle--right":"_ResizeHandle--right_144bf_20"},ob=ie("ResizeHandle",ib),ab=({position:e,sidebarRef:t,onResize:r,onResizeEnd:n})=>{const{frameRef:s}=Of(),i=Gd(s),o=E.useRef(null),a=E.useRef(!1),c=E.useRef(0),l=E.useRef(0),u=E.useCallback(v=>{if(!a.current)return;const g=v.clientX-c.current,k=e==="left"?l.current+g:l.current-g,y=Math.max(192,k);r(y),v.preventDefault()},[r,e]),d=E.useCallback(()=>{var v;if(!a.current)return;a.current=!1,document.body.style.cursor="",document.body.style.userSelect="";const g=document.getElementById("resize-overlay");g&&document.body.removeChild(g),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d);const k=((v=t.current)==null?void 0:v.getBoundingClientRect().width)||0;n(k),i()},[n]),p=E.useCallback(v=>{var g;a.current=!0,c.current=v.clientX,l.current=((g=t.current)==null?void 0:g.getBoundingClientRect().width)||0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const k=document.createElement("div");k.id="resize-overlay",k.setAttribute("data-resize-overlay",""),document.body.appendChild(k),document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),v.preventDefault()},[e,u,d]);return f.jsx("div",{ref:o,className:ob({[e]:!0}),onMouseDown:p})};M();var lb={Sidebar:"_Sidebar_1xksb_1","Sidebar--left":"_Sidebar--left_1xksb_8","Sidebar--right":"_Sidebar--right_1xksb_14","Sidebar-resizeHandle":"_Sidebar-resizeHandle_1xksb_20"},sc=ie("Sidebar",lb),ic=({position:e,sidebarRef:t,isVisible:r,onResize:n,onResizeEnd:s,children:i})=>r?f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:t,className:sc({[e]:!0}),children:i}),f.jsx("div",{className:`${sc("resizeHandle")}`,children:f.jsx(ab,{position:e,sidebarRef:t,onResize:n,onResizeEnd:s})})]}):null;M();function oc(e,t){const[r,n]=E.useState(null),s=E.useRef(null),i=F(a=>e==="left"?a.state.ui.leftSideBarWidth:a.state.ui.rightSideBarWidth);E.useEffect(()=>{if(typeof window<"u"&&!i)try{const a=localStorage.getItem("puck-sidebar-widths");if(a){const l=JSON.parse(a)[e];l&&t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:l}})}}catch(a){console.error(`Failed to load ${e} sidebar width from localStorage`,a)}},[t,e,i]),E.useEffect(()=>{i!==void 0&&n(i)},[i]);const o=E.useCallback(a=>{t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:a}});let c={};try{const l=localStorage.getItem("puck-sidebar-widths");c=l?JSON.parse(l):{}}catch(l){console.error(`Failed to save ${e} sidebar width to localStorage`,l)}finally{localStorage.setItem("puck-sidebar-widths",JSON.stringify($(D({},c),{[e]:a})))}window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},[t,e]);return{width:r,setWidth:n,sidebarRef:s,handleResizeEnd:o}}var ac=ie("Puck",bf),lc=ie("PuckLayout",bf),cb=()=>{const e=F(t=>{var r,n;return t.selectedItem?(n=(r=t.config.components[t.selectedItem.type])==null?void 0:r.label)!=null?n:t.selectedItem.type.toString():"Page"});return f.jsx(vo,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:e,children:f.jsx(xf,{})})},Af=E.createContext({});function ub(e){return f.jsx(Af.Provider,{value:e,children:e.children})}var Ma=()=>E.useContext(Af);function db({children:e}){const{config:t,data:r,ui:n,onChange:s,permissions:i={},plugins:o,overrides:a,viewports:c=Is,iframe:l,initialHistory:u,metadata:d,onAction:p,fieldTransforms:v}=Ma(),g=E.useMemo(()=>D({enabled:!0,waitForStyles:!0},l),[l]),[k]=E.useState(()=>{var h,A,T,N,R,V,z,K,U;const X=D(D({},Pi.ui),n);let G={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(G=$(D({},G),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const Ie=window.innerWidth,ke=Object.entries(c).map(([Pe,Z])=>({key:Pe,diff:Math.abs(Ie-Z.width)})).sort((Pe,Z)=>Pe.diff>Z.diff?1:-1)[0].key;g.enabled&&(G=$(D({},G),{viewports:$(D({},X.viewports),{current:$(D({},X.viewports.current),{height:((A=(h=n?.viewports)==null?void 0:h.current)==null?void 0:A.height)||((T=c[ke])==null?void 0:T.height)||"auto",width:((R=(N=n?.viewports)==null?void 0:N.current)==null?void 0:R.width)||((V=c[ke])==null?void 0:V.width)})})}))}Object.keys(r?.root||{}).length>0&&!((z=r?.root)!=null&&z.props)&&console.warn("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const Y=((K=r?.root)==null?void 0:K.props)||r?.root||{},te=D(D({},(U=t.root)==null?void 0:U.defaultProps),Y),ce=$(D({},Pi),{data:$(D({},r),{root:$(D({},r?.root),{props:te}),content:r.content||[]}),ui:$(D(D({},X),G),{componentList:t.categories?Object.entries(t.categories).reduce((Ie,[se,ke])=>$(D({},Ie),{[se]:{title:ke.title,components:ke.components,expanded:ke.defaultExpanded,visible:ke.visible}}),{}):{}})});return it(ce,t)}),{appendData:y=!0}=u||{},[S]=E.useState([...u?.histories||[],...y?[{state:k}]:[]].map(h=>{let A=D(D({},k),h.state);return h.state.indexes||(A=it(A,t)),$(D({},h),{state:A})})),m=u?.index||S.length-1,x=S[m].state,b=X_({overrides:a,plugins:o}),C=E.useMemo(()=>{const A=(o||[]).reduce((T,N)=>D(D({},T),N.fieldTransforms),{});return D(D({},A),v)},[v,o]),I=E.useCallback(h=>({state:h,config:t,plugins:o||[],overrides:b,viewports:c,iframe:g,onAction:p,metadata:d,fieldTransforms:C}),[x,t,o,b,c,g,p,d,C]),[P]=E.useState(()=>Xd(I(x)));E.useEffect(()=>{},[P]),E.useEffect(()=>{const h=P.getState().state;P.setState(D({},I(h)))},[t,o,b,c,g,p,d]),lm(P,{histories:S,index:m,initialAppState:x});const _=E.useRef(null);E.useEffect(()=>{P.subscribe(h=>h.state.data,h=>{if(s){if(xs(h,_.current))return;s(h),_.current=h}})},[]),dm(P,i);const j=x_(P);return E.useEffect(()=>{const{resolveAndCommitData:h}=P.getState();h()},[]),f.jsx(ja.Provider,{value:P,children:f.jsx(b_.Provider,{value:j,children:e})})}function fb({children:e}){const{iframe:t,dnd:r,initialHistory:n}=Ma(),s=E.useMemo(()=>D({enabled:!0,waitForStyles:!0},t),[t]);J_(s.enabled);const i=F(I=>I.dispatch),o=F(I=>I.state.ui.leftSideBarVisible),a=F(I=>I.state.ui.rightSideBarVisible),{width:c,setWidth:l,sidebarRef:u,handleResizeEnd:d}=oc("left",i),{width:p,setWidth:v,sidebarRef:g,handleResizeEnd:k}=oc("right",i);E.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const I=()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:P=>D(D({},P),P.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]);const y=F(I=>I.overrides),S=E.useMemo(()=>y.puck||yo,[y]),[m,x]=E.useState(!1);E.useEffect(()=>{x(!0)},[]);const b=F(I=>I.status==="READY");im(),E.useEffect(()=>{if(b&&s.enabled){const I=Ar();if(I)return Yd(I)}},[b,s.enabled]),Q_();const C={};return c&&(C["--puck-user-left-side-bar-width"]=`${c}px`),p&&(C["--puck-user-right-side-bar-width"]=`${p}px`),f.jsxs("div",{className:`Puck ${ac()}`,children:[f.jsx(Ky,{disableAutoScroll:r?.disableAutoScroll,children:f.jsx(S,{children:e||f.jsx(Z_,{children:f.jsx("div",{className:lc({leftSideBarVisible:o,mounted:m,rightSideBarVisible:a}),children:f.jsxs("div",{className:lc("inner"),style:C,children:[f.jsx(sb,{}),f.jsxs(ic,{position:"left",sidebarRef:u,isVisible:o,onResize:l,onResizeEnd:d,children:[f.jsx(vo,{title:"Components",noBorderTop:!0,children:f.jsx(Sf,{})}),f.jsx(vo,{title:"Outline",children:f.jsx(Cf,{})})]}),f.jsx(q_,{}),f.jsx(ic,{position:"right",sidebarRef:g,isVisible:a,onResize:v,onResizeEnd:k,children:f.jsx(cb,{})})]})})})})}),f.jsx("div",{id:"puck-portal-root",className:ac("portal")})]})}function Qs(e){return f.jsx(ub,$(D({},e),{children:f.jsx(db,$(D({},e),{children:f.jsx(fb,D({},e))}))}))}Qs.Components=Sf;Qs.Fields=xf;Qs.Outline=Cf;Qs.Preview=Ef;M();M();M();M();M();M();M();M();M();M();M();M();M();export{y_ as D,Qs as P,__ as R,hb as a,Ff as b,f as j,Mn as r};
