import{p as ho,r as j,R as Ht,w as Pf,d as Df,a as Of,f as Af}from"./chunk-EPOLDU6W-CCdTpUCB.js";import{j as f}from"./jsx-runtime-u17CrQMm.js";import{a as Mf}from"./api-LAgipKeK.js";import{r as zs}from"./index-BAha9i8H.js";import{u as Nf}from"./chunk-OT5FTIRN-ZNG8QEaZ.js";import"./index-DoWUZ9y3.js";import{A as Da}from"./arrow-left-wpSZBJUD.js";import{E as Tf}from"./eye-BHBbsmKO.js";import{S as Lf}from"./save-Db7z-Kaa.js";import"./index-DnWvPTQO.js";import"./index-CTNgJJrB.js";import"./chunk-VMBS36YX-DKijQuia.js";import"./runtimeEnvironment-BB2sO-19-DQnzQjGy.js";import"./chunk-6WD75OPE-CoeluN5w.js";import"./createLucideIcon-BL8SG8hg.js";var Qs,Oa;function $f(){if(Oa)return Qs;Oa=1,Qs=r,r.flatten=r,r.unflatten=n;function e(s){return s&&s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function t(s){return s}function r(s,i){i=i||{};const o=i.delimiter||".",a=i.maxDepth,l=i.transformKey||t,c={};function d(u,p,v){v=v||1,Object.keys(u).forEach(function(g){const E=u[g],y=i.safe&&Array.isArray(E),S=Object.prototype.toString.call(E),m=e(E),_=S==="[object Object]"||S==="[object Array]",x=p?p+o+l(g):l(g);if(!y&&!m&&_&&Object.keys(E).length&&(!i.maxDepth||v<a))return d(E,x,v+1);c[x]=E})}return d(s),c}function n(s,i){i=i||{};const o=i.delimiter||".",a=i.overwrite||!1,l=i.transformKey||t,c={};if(e(s)||Object.prototype.toString.call(s)!=="[object Object]")return s;function u(g){const E=Number(g);return isNaN(E)||g.indexOf(".")!==-1||i.object?g:E}function p(g,E,y){return Object.keys(y).reduce(function(S,m){return S[g+o+m]=y[m],S},E)}function v(g){const E=Object.prototype.toString.call(g),y=E==="[object Array]",S=E==="[object Object]";if(g){if(y)return!g.length;if(S)return!Object.keys(g).length}else return!0}return s=Object.keys(s).reduce(function(g,E){const y=Object.prototype.toString.call(s[E]);return!(y==="[object Object]"||y==="[object Array]")||v(s[E])?(g[E]=s[E],g):p(E,g,r(s[E],i))},{}),Object.keys(s).forEach(function(g){const E=g.split(o).map(l);let y=u(E.shift()),S=u(E[0]),m=c;for(;S!==void 0;){if(y==="__proto__")return;const _=Object.prototype.toString.call(m[y]),x=_==="[object Object]"||_==="[object Array]";if(!a&&!x&&typeof m[y]<"u")return;(a&&!x||!a&&m[y]==null)&&(m[y]=typeof S=="number"&&!i.object?[]:{}),m=m[y],E.length>0&&(y=u(E.shift()),S=u(E[0]))}m[y]=n(s[g],i)}),c}return Qs}var zf=$f();const Rf=ho(zf);var ei,Aa;function Ff(){return Aa||(Aa=1,ei=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),ei}var Bf=Ff();const bs=ho(Bf);var Wf=Object.create,go=Object.defineProperty,Hf=Object.defineProperties,Uf=Object.getOwnPropertyDescriptor,Vf=Object.getOwnPropertyDescriptors,vo=Object.getOwnPropertyNames,xs=Object.getOwnPropertySymbols,Zf=Object.getPrototypeOf,mo=Object.prototype.hasOwnProperty,rc=Object.prototype.propertyIsEnumerable,Ma=(e,t,r)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))mo.call(t,r)&&Ma(e,r,t[r]);if(xs)for(var r of xs(t))rc.call(t,r)&&Ma(e,r,t[r]);return e},L=(e,t)=>Hf(e,Vf(t)),Xt=(e,t)=>{var r={};for(var n in e)mo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&xs)for(var n of xs(e))t.indexOf(n)<0&&rc.call(e,n)&&(r[n]=e[n]);return r},qf=(e,t)=>function(){return e&&(t=(0,e[vo(e)[0]])(e=0)),t},Yf=(e,t)=>function(){return t||(0,e[vo(e)[0]])((t={exports:{}}).exports,t),t.exports},Xf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of vo(t))!mo.call(e,s)&&s!==r&&go(e,s,{get:()=>t[s],enumerable:!(n=Uf(t,s))||n.enumerable});return e},Kf=(e,t,r)=>(r=e!=null?Wf(Zf(e)):{},Xf(!e||!e.__esModule?go(r,"default",{value:e,enumerable:!0}):r,e)),Ce=(e,t,r)=>new Promise((n,s)=>{var i=l=>{try{a(r.next(l))}catch(c){s(c)}},o=l=>{try{a(r.throw(l))}catch(c){s(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,o);a((r=r.apply(e,t)).next())}),M=qf({"../tsup-config/react-import.js"(){}});M();M();M();var yo=(e,t)=>Object.keys(t).reduce((r,n)=>t[n].type==="slot"?P({[n]:[]},r):r,e),bo=e=>!!e&&typeof e.then=="function",Na=e=>e.reduce((t,r)=>P(P({},t),r),{}),Ii=e=>e.some(bo),_s=({value:e,fields:t,mappers:r,propKey:n="",propPath:s="",id:i="",config:o,recurseSlots:a=!1})=>{var l,c,d;const u=(l=t[n])==null?void 0:l.type,p=r[u];if(p&&u==="slot"){const v=e||[],g=a?v.map(E=>{var y;const S=o.components[E.type];if(!S)throw new Error(`Could not find component config for ${E.type}`);const m=(y=S.fields)!=null?y:{};return _s({value:L(P({},E),{props:yo(E.props,m)}),fields:m,mappers:r,id:E.props.id,config:o,recurseSlots:a})}):v;return Ii(g)?Promise.all(g):p({value:g,parentId:i,propName:s,field:t[n],propPath:s})}else if(p&&t[n])return p({value:e,parentId:i,propName:n,field:t[n],propPath:s});if(e&&typeof e=="object")if(Array.isArray(e)){const v=((c=t[n])==null?void 0:c.type)==="array"?t[n].arrayFields:null;if(!v)return e;const g=e.map((E,y)=>_s({value:E,fields:v,mappers:r,propKey:n,propPath:`${s}[${y}]`,id:i,config:o,recurseSlots:a}));return Ii(g)?Promise.all(g):g}else{if("$$typeof"in e)return e;{const v=((d=t[n])==null?void 0:d.type)==="object"?t[n].objectFields:t;return nc({value:e,fields:v,mappers:r,id:i,getPropPath:g=>`${s}.${g}`,config:o,recurseSlots:a})}}return e},nc=({value:e,fields:t,mappers:r,id:n,getPropPath:s,config:i,recurseSlots:o})=>{const a=Object.entries(e).map(([l,c])=>{const d={value:c,fields:t,mappers:r,propKey:l,propPath:s(l),id:n,config:i,recurseSlots:o},u=_s(d);return bo(u)?u.then(p=>({[l]:p})):{[l]:u}},{});return Ii(a)?Promise.all(a).then(Na):Na(a)};function On(e,t,r,n=!1){var s,i,o,a,l;const c="type"in e?e.type:"root",d=c==="root"?r.root:(s=r.components)==null?void 0:s[c],u=nc({value:yo((i=e.props)!=null?i:{},(o=d?.fields)!=null?o:{}),fields:(a=d?.fields)!=null?a:{},mappers:t,id:e.props&&(l=e.props.id)!=null?l:"root",getPropPath:p=>p,config:r,recurseSlots:n});return bo(u)?u.then(p=>L(P({},e),{props:p})):L(P({},e),{props:u})}function sc(e,t,r){var n,s;const i=c=>On(c,{slot:({value:d,parentId:u,propName:p})=>{var v;const g=d;return(v=r(g,{parentId:u,propName:p}))!=null?v:g}},t,!0);if("props"in e)return i(e);const o=e,a=(n=o.zones)!=null?n:{},l=o.content.map(i);return{root:i(o.root),content:(s=r(l,{parentId:"root",propName:"default-zone"}))!=null?s:l,zones:Object.keys(a).reduce((c,d)=>L(P({},c),{[d]:a[d].map(i)}),{})}}M();M();M();var ws=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],ji={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:ws[0].width,height:ws[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};M();M();M();M();var xo="root",Ei="default-zone",Ve=`${xo}:${Ei}`,Gf=e=>e?e&&e.indexOf(":")>-1?e.split(":"):[Ve,e]:[];function Jf(e,t,r,n=[]){Object.entries(t.zones||{}).forEach(([s,i])=>{const[o]=Gf(s);o===e.props.id&&r(n,s,i)})}M();M();var Qf=(e,t)=>On(e,{slot:()=>null},t),{flatten:ep,unflatten:tp}=Rf,rp=(e,t)=>L(P({},e),{props:ep(Qf(e,t).props)}),np=e=>{const t=tp(e.props);return L(P({},e),{props:t})};function st(e,t,r=s=>s,n=s=>s){var s;let i={};const o={},a={},l=(m,_,x,C,I)=>{var D;const[b]=_.split(":"),k=((D=r(x,_,C))!=null?D:x)||[],[h,A]=_.split(":"),N=`${I||b}:${A}`,z=k.map(($,V)=>d($,[...m,N],V));return o[N]={contentIds:z.map($=>$.props.id),type:C},[N,z]},c=(m,_,x)=>{Jf(m,e.data,(C,I,D)=>{const[b,k]=l(C,I,D,"dropzone",_);i[b]=k},x)},d=(m,_,x)=>{const C=n(m,_,x);if(!C)return m;const I=C.props.id,D=L(P({},On(C,{slot:({value:z,parentId:$,propPath:V})=>{const R=z,K=`${$}:${V}`,[U,X]=l(_,K,R,"slot",$);return X}},t).props),{id:I});c(m,I,_);const b=L(P({},m),{props:D}),k=_[_.length-1],[h,A]=k?k.split(":"):[null,""];a[I]={data:b,flatData:rp(b,t),path:_,parentId:h,zone:A};const N=L(P({},b),{props:P({},b.props)});return D.id==="root"&&(delete N.type,delete N.props.id),N},u=e.data.zones||{},[p,v]=l([],Ve,e.data.content,"root"),g=v,E=Object.keys(i);Object.keys(u||{}).forEach(m=>{const[_]=m.split(":");if(E.includes(m))return;const[x,C]=l([Ve],m,u[m],"dropzone",_);i[m]=C},i);const y=d({type:"root",props:L(P({},(s=e.data.root.props)!=null?s:e.data.root),{id:"root"})},[],-1),S=L(P({},e.data.root),{props:y.props});return L(P({},e),{data:{root:S,content:g,zones:P(P({},e.data.zones),i)},indexes:{nodes:P(P({},e.indexes.nodes),a),zones:P(P({},e.indexes.zones),o)}})}M();M();M();M();M();var _o=(e,t)=>e?Object.keys(e.props||{}).reduce((r,n)=>{const s=e?.props||{},i=t?.props||{};return L(P({},r),{[n]:!bs(i[n],s[n])})},{}):{},Ta={lastChange:{}},ic=(e,t,...r)=>Ce(void 0,[e,t,...r],function*(n,s,i={},o,a,l="replace"){const c="type"in n&&n.type!=="root"?s.components[n.type]:s.root,d=P({},n),u=c?.resolveData&&n.props,p="id"in n.props?n.props.id:"root";if(u){const{item:g=null,resolved:E={}}=Ta.lastChange[p]||{};if(l!=="force"&&n&&bs(n,g))return{node:E,didChange:!1};const y=_o(n,g);o&&o(n);const{props:S,readOnly:m={}}=yield c.resolveData(n,{changed:y,lastData:g,metadata:P(P({},i),c.metadata),trigger:l});d.props=P(P({},n.props),S),Object.keys(m).length&&(d.readOnly=m)}let v=yield On(d,{slot:g=>Ce(void 0,[g],function*({value:E}){const y=E;return yield Promise.all(y.map(S=>Ce(void 0,null,function*(){return(yield ic(S,s,i,o,a,l)).node})))})},s);return u&&a&&a(d),Ta.lastChange[p]={item:n,resolved:v},{node:v,didChange:!bs(n,v)}});M();M();var oc=(e,t)=>{if(t===Ve)return e;const r=L(P({},e),{zones:e.zones?P({},e.zones):{}});return r.zones[t]=r.zones[t]||[],r};M();function ac(e,t,r,n,s){const i=j.useMemo(()=>Object.keys(r).reduce((l,c)=>{const d=c;return L(P({},l),{[d]:u=>{var p=u,{parentId:v}=p,g=Xt(p,["parentId"]);const E=g.propPath.replace(/\[\d+\]/g,"[*]"),y=n?.[g.propPath]||n?.[E]||s||!1,S=r[d];return S?.(L(P({},g),{isReadOnly:y,componentId:v}))}})},{}),[r,n,s]),o=j.useMemo(()=>On(t,i,e).props,[e,t,i]);return j.useMemo(()=>P(P({},t.props),o),[t.props,o])}M();var lc=(e,t=e)=>({slot:({value:r,propName:n,field:s,isReadOnly:i})=>{const o=i?t:e;return l=>o(L(P({allow:s?.type==="slot"?s.allow:[],disallow:s?.type==="slot"?s.disallow:[]},l),{zone:n,content:r}))}});M();function Rs(e,t,r,n=r,s,i){return ac(e,t,lc(r,n),s,i)}M();var wo=e=>f.jsx(cc,P({},e)),sp=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=Rs(e,t,i=>f.jsx(wo,L(P({},i),{config:e,metadata:r})));return f.jsx(n.render,L(P({},s),{puck:L(P({},s.puck),{metadata:r||{}})}))},cc=j.forwardRef(function({className:t,style:r,content:n,config:s,metadata:i},o){return f.jsx("div",{className:t,style:r,ref:o,children:n.map(a=>s.components[a.type]?f.jsx(sp,{config:s,item:a,metadata:i},a.props.id):null)})});let Hn;const ip=new Uint8Array(16);function op(){if(!Hn&&(Hn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hn(ip)}const Le=[];for(let e=0;e<256;++e)Le.push((e+256).toString(16).slice(1));function ap(e,t=0){return Le[e[t+0]]+Le[e[t+1]]+Le[e[t+2]]+Le[e[t+3]]+"-"+Le[e[t+4]]+Le[e[t+5]]+"-"+Le[e[t+6]]+Le[e[t+7]]+"-"+Le[e[t+8]]+Le[e[t+9]]+"-"+Le[e[t+10]]+Le[e[t+11]]+Le[e[t+12]]+Le[e[t+13]]+Le[e[t+14]]+Le[e[t+15]]}const lp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),La={randomUUID:lp};function $a(e,t,r){if(La.randomUUID&&!e)return La.randomUUID();e=e||{};const n=e.random||(e.rng||op)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ap(n)}const za=e=>{let t;const r=new Set,n=(c,d)=>{const u=typeof c=="function"?c(t):c;if(!Object.is(u,t)){const p=t;t=d??(typeof u!="object"||u===null)?u:Object.assign({},t,u),r.forEach(v=>v(t,p))}},s=()=>t,a={setState:n,getState:s,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,s,a);return a},An=(e=>e?za(e):za),cp=e=>e;function So(e,t=cp){const r=Ht.useSyncExternalStore(e.subscribe,Ht.useCallback(()=>t(e.getState()),[e,t]),Ht.useCallback(()=>t(e.getInitialState()),[e,t]));return Ht.useDebugValue(r),r}const Ra=e=>{const t=An(e),r=n=>So(t,n);return Object.assign(r,t),r},dc=(e=>e?Ra(e):Ra),dp=e=>(t,r,n)=>{const s=n.subscribe;return n.subscribe=((o,a,l)=>{let c=o;if(a){const d=l?.equalityFn||Object.is;let u=o(n.getState());c=p=>{const v=o(p);if(!d(u,v)){const g=u;a(u=v,g)}},l?.fireImmediately&&a(u,u)}return s(c)}),e(t,r,n)},uc=dp;var up=Symbol.for("preact-signals");function Fs(){if(qt>1)qt--;else{for(var e,t=!1;pn!==void 0;){var r=pn;for(pn=void 0,ki++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&pc(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=n}}if(ki=0,qt--,t)throw e}}function je(e){if(qt>0)return e();qt++;try{return e()}finally{Fs()}}var de=void 0;function ge(e){var t=de;de=void 0;try{return e()}finally{de=t}}var pn=void 0,qt=0,ki=0,Ss=0;function fc(e){if(de!==void 0){var t=e.n;if(t===void 0||t.t!==de)return t={i:0,S:e,p:de.s,n:void 0,t:de,e:void 0,x:void 0,r:t},de.s!==void 0&&(de.s.n=t),de.s=t,e.n=t,32&de.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=de.s,t.n=void 0,de.s.n=t,de.s=t),t}}function Xe(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Xe.prototype.brand=up;Xe.prototype.h=function(){return!0};Xe.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:ge(function(){var n;(n=t.W)==null||n.call(t)}))};Xe.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,n=e.x;r!==void 0&&(r.x=n,e.e=void 0),n!==void 0&&(n.e=r,e.x=void 0),e===this.t&&(this.t=n,n===void 0&&ge(function(){var s;(s=t.Z)==null||s.call(t)}))}};Xe.prototype.subscribe=function(e){var t=this;return Qe(function(){var r=t.value,n=de;de=void 0;try{e(r)}finally{de=n}},{name:"sub"})};Xe.prototype.valueOf=function(){return this.value};Xe.prototype.toString=function(){return this.value+""};Xe.prototype.toJSON=function(){return this.value};Xe.prototype.peek=function(){var e=de;de=void 0;try{return this.value}finally{de=e}};Object.defineProperty(Xe.prototype,"value",{get:function(){var e=fc(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(ki>100)throw new Error("Cycle detected");this.v=e,this.i++,Ss++,qt++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Fs()}}}});function Mn(e,t){return new Xe(e,t)}function pc(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function hc(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function gc(e){for(var t=e.s,r=void 0;t!==void 0;){var n=t.p;t.i===-1?(t.S.U(t),n!==void 0&&(n.n=t.n),t.n!==void 0&&(t.n.p=n)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=n}e.s=r}function cr(e,t){Xe.call(this,void 0),this.x=e,this.s=void 0,this.g=Ss-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}cr.prototype=new Xe;cr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Ss))return!0;if(this.g=Ss,this.f|=1,this.i>0&&!pc(this))return this.f&=-2,!0;var e=de;try{hc(this),de=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return de=e,gc(this),this.f&=-2,!0};cr.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Xe.prototype.S.call(this,e)};cr.prototype.U=function(e){if(this.t!==void 0&&(Xe.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};cr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(cr.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=fc(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Fa(e,t){return new cr(e,t)}function vc(e){var t=e.u;if(e.u=void 0,typeof t=="function"){qt++;var r=de;de=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,Io(e),n}finally{de=r,Fs()}}}function Io(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,vc(e)}function fp(e){if(de!==this)throw new Error("Out-of-order effect");gc(this),de=e,this.f&=-2,8&this.f&&Io(this),Fs()}function Ar(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}Ar.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Ar.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,vc(this),hc(this),qt++;var e=de;return de=this,fp.bind(this,e)};Ar.prototype.N=function(){2&this.f||(this.f|=2,this.o=pn,pn=this)};Ar.prototype.d=function(){this.f|=8,1&this.f||Io(this)};Ar.prototype.dispose=function(){this.d()};function Qe(e,t){var r=new Ar(e,t);try{r.c()}catch(s){throw r.d(),s}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var pp=Object.create,jo=Object.defineProperty,hp=Object.defineProperties,gp=Object.getOwnPropertyDescriptor,vp=Object.getOwnPropertyDescriptors,Ba=Object.getOwnPropertySymbols,mp=Object.prototype.hasOwnProperty,yp=Object.prototype.propertyIsEnumerable,bp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Mr=e=>{throw TypeError(e)},Ci=(e,t,r)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xp=(e,t)=>{for(var r in t||(t={}))mp.call(t,r)&&Ci(e,r,t[r]);if(Ba)for(var r of Ba(t))yp.call(t,r)&&Ci(e,r,t[r]);return e},_p=(e,t)=>hp(e,vp(t)),Wa=(e,t)=>jo(e,"name",{value:t,configurable:!0}),wp=e=>{var t;return[,,,pp((t=void 0)!=null?t:null)]},mc=["class","method","getter","setter","accessor","field","value","get","set"],Xr=e=>e!==void 0&&typeof e!="function"?Mr("Function expected"):e,Sp=(e,t,r,n,s)=>({kind:mc[e],name:t,metadata:n,addInitializer:i=>r._?Mr("Already initialized"):s.push(Xr(i||null))}),yc=(e,t)=>Ci(t,bp("metadata"),e[3]),Gt=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Nr=(e,t,r,n,s,i)=>{var o,a,l,c,d,u=t&7,p=!!(t&8),v=!!(t&16),g=u>3?e.length+1:u?p?1:2:0,E=mc[u+5],y=u>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=u&&(!v&&!p&&(s=s.prototype),u<5&&(u>3||!v)&&gp(u<4?s:{get[r](){return lt(this,i)},set[r](x){return Bt(this,i,x)}},r));u?v&&u<4&&Wa(i,(u>2?"set ":u>1?"get ":"")+r):Wa(s,r);for(var _=n.length-1;_>=0;_--)c=Sp(u,r,l={},e[3],S),u&&(c.static=p,c.private=v,d=c.access={has:v?x=>Ip(s,x):x=>r in x},u^3&&(d.get=v?x=>(u^1?lt:jp)(x,s,u^4?i:m.get):x=>x[r]),u>2&&(d.set=v?(x,C)=>Bt(x,s,C,u^4?i:m.set):(x,C)=>x[r]=C)),a=(0,n[_])(u?u<4?v?i:m[E]:u>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,u^4||a===void 0?Xr(a)&&(u>4?y.unshift(a):u?v?i=a:m[E]=a:s=a):typeof a!="object"||a===null?Mr("Object expected"):(Xr(o=a.get)&&(m.get=o),Xr(o=a.set)&&(m.set=o),Xr(o=a.init)&&y.unshift(o));return u||yc(e,s),m&&jo(s,r,m),v?u^4?i:m:s},Eo=(e,t,r)=>t.has(e)||Mr("Cannot "+r),Ip=(e,t)=>Object(t)!==t?Mr('Cannot use the "in" operator on this value'):e.has(t),lt=(e,t,r)=>(Eo(e,t,"read from private field"),r?r.call(e):t.get(e)),Kr=(e,t,r)=>t.has(e)?Mr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Bt=(e,t,r,n)=>(Eo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),jp=(e,t,r)=>(Eo(e,t,"access private method"),r);function Is(e,t){if(t){let r;return Fa(()=>{const n=e();return n&&r&&t(r,n)?r:(r=n,n)})}return Fa(e)}function Ot(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e=="function"&&typeof t=="function")return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((n,s)=>!Ot(n,t[s]));if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:!r.some(i=>!Ot(e[i],t[i]))}return!1}function ae({get:e},t){return{init(r){return Mn(r)},get(){return e.call(this).value},set(r){const n=e.call(this);n.peek()!==r&&(n.value=r)}}}function Me(e,t){const r=new WeakMap;return function(){let n=r.get(this);return n||(n=Is(e.bind(this)),r.set(this,n)),n.value}}function ti(e=!0){return function(t,r){r.addInitializer(function(){const n=r.kind==="field"?this:r.static?this:Object.getPrototypeOf(this),s=Object.getOwnPropertyDescriptor(n,r.name);s&&Object.defineProperty(n,r.name,_p(xp({},s),{enumerable:e}))})}}function Nn(...e){const t=e.map(Qe);return()=>t.forEach(r=>r())}var bc,xc,_c,wc,Sc,Ic,qe,ko,ri,Pi,Di,He,Co,ni,jc,Oi,Po,si,Ai,Mi;Ic=[ae],Sc=[ae],wc=[ae],_c=[ti()],xc=[ti()],bc=[ti()];var dr=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,Gt(qe,5,this),Kr(this,He),Kr(this,ko,Gt(qe,8,this)),Gt(qe,11,this),Kr(this,Co,Gt(qe,12,this)),Gt(qe,15,this),Kr(this,Po,Gt(qe,16,this)),Gt(qe,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return lt(this,He,Ai)}get initial(){return lt(this,He,Pi)}get previous(){return lt(this,He,jc)}set current(e){const t=ge(()=>lt(this,He,Ai));e&&t&&this.equals(t,e)||je(()=>{lt(this,He,Pi)||Bt(this,He,e,Di),Bt(this,He,t,Oi),Bt(this,He,e,Mi)})}reset(e=this.defaultValue){je(()=>{Bt(this,He,void 0,Oi),Bt(this,He,e,Di),Bt(this,He,e,Mi)})}};qe=wp();ko=new WeakMap;He=new WeakSet;Co=new WeakMap;Po=new WeakMap;ri=Nr(qe,20,"#initial",Ic,He,ko),Pi=ri.get,Di=ri.set;ni=Nr(qe,20,"#previous",Sc,He,Co),jc=ni.get,Oi=ni.set;si=Nr(qe,20,"#current",wc,He,Po),Ai=si.get,Mi=si.set;Nr(qe,2,"current",_c,dr);Nr(qe,2,"initial",xc,dr);Nr(qe,2,"previous",bc,dr);yc(qe,dr);function ii(e){return ge(()=>{const t={};for(const r in e)t[r]=e[r];return t})}var Jt,Ep=class{constructor(){Kr(this,Jt,new WeakMap)}get(e,t){var r;return e?(r=lt(this,Jt).get(e))==null?void 0:r.get(t):void 0}set(e,t,r){var n;if(e)return lt(this,Jt).has(e)||lt(this,Jt).set(e,new Map),(n=lt(this,Jt).get(e))==null?void 0:n.set(t,r)}clear(e){var t;return e?(t=lt(this,Jt).get(e))==null?void 0:t.clear():void 0}};Jt=new WeakMap;var kp=Object.create,Ec=Object.defineProperty,Cp=Object.getOwnPropertyDescriptor,Ha=Object.getOwnPropertySymbols,Pp=Object.prototype.hasOwnProperty,Dp=Object.prototype.propertyIsEnumerable,kc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Bs=e=>{throw TypeError(e)},Ua=Math.pow,Ni=(e,t,r)=>t in e?Ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Op=(e,t)=>{for(var r in t||(t={}))Pp.call(t,r)&&Ni(e,r,t[r]);if(Ha)for(var r of Ha(t))Dp.call(t,r)&&Ni(e,r,t[r]);return e},Ap=e=>{var t;return[,,,kp((t=e?.[kc("metadata")])!=null?t:null)]},Cc=["class","method","getter","setter","accessor","field","value","get","set"],Pc=e=>e!==void 0&&typeof e!="function"?Bs("Function expected"):e,Mp=(e,t,r,n,s)=>({kind:Cc[e],name:t,metadata:n,addInitializer:i=>r._?Bs("Already initialized"):s.push(Pc(i||null))}),Np=(e,t)=>Ni(t,kc("metadata"),e[3]),Tp=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},Dc=(e,t,r,n,s,i)=>{for(var o,a,l,c,d=t&7,u=!1,p=!1,v=2,g=Cc[d+5],E=e[v]||(e[v]=[]),y=(s=s.prototype,Cp(s,r)),S=n.length-1;S>=0;S--)l=Mp(d,r,a={},e[3],E),l.static=u,l.private=p,c=l.access={has:m=>r in m},c.get=m=>m[r],o=(0,n[S])(y[g],l),a._=1,Pc(o)&&(y[g]=o);return y&&Ec(s,r,y),s},Oc=(e,t,r)=>t.has(e)||Bs("Cannot "+r),Lp=(e,t,r)=>(Oc(e,t,"read from private field"),t.get(e)),$p=(e,t,r)=>t.has(e)?Bs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),zp=(e,t,r,n)=>(Oc(e,t,"write to private field"),t.set(e,r),r),Ze=class Ti{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new Ti(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new Ti(t,r)}},xt=class Qt{constructor(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,r){const{top:n,left:s,width:i,height:o,scale:a}=this,l=new Qt(s+t,n+r,i,o);return l.scale=Op({},a),l}get boundingRectangle(){const{width:t,height:r,left:n,top:s,right:i,bottom:o}=this;return{width:t,height:r,left:n,top:s,right:i,bottom:o}}get center(){const{left:t,top:r,right:n,bottom:s}=this;return new Ze((t+n)/2,(r+s)/2)}get area(){const{width:t,height:r}=this;return t*r}equals(t){if(!(t instanceof Qt))return!1;const{left:r,top:n,width:s,height:i}=this;return r===t.left&&n===t.top&&s===t.width&&i===t.height}containsPoint(t){const{top:r,left:n,bottom:s,right:i}=this;return r<=t.y&&t.y<=s&&n<=t.x&&t.x<=i}intersectionArea(t){return t instanceof Qt?Rp(this,t):0}intersectionRatio(t){const{area:r}=this,n=this.intersectionArea(t);return n/(t.area+r-n)}get bottom(){const{top:t,height:r}=this;return t+r}get right(){const{left:t,width:r}=this;return t+r}get aspectRatio(){const{width:t,height:r}=this;return t/r}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:r,width:n,height:s}){return new Qt(r,t,n,s)}static delta(t,r,n={x:"center",y:"center"}){const s=(i,o)=>{const a=n[o],l=o==="x"?i.left:i.top,c=o==="x"?i.width:i.height;return a=="start"?l:a=="end"?l+c:l+c/2};return Ze.delta({x:s(t,"x"),y:s(t,"y")},{x:s(r,"x"),y:s(r,"y")})}static intersectionRatio(t,r){return Qt.from(t).intersectionRatio(Qt.from(r))}};function Rp(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,a=i-r;return n<s&&r<i?o*a:0}var Ac,Mc,Li,os,Tn,Ws=class extends(Li=dr,Mc=[Me],Ac=[Me],Li){constructor(t){const r=Ze.from(t);super(r,(n,s)=>Ze.equals(n,s)),Tp(Tn,5,this),$p(this,os,0),this.velocity={x:0,y:0}}get delta(){return Ze.delta(this.current,this.initial)}get direction(){const{current:t,previous:r}=this;if(!r)return null;const n={x:t.x-r.x,y:t.y-r.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?"right":"left":n.y>0?"down":"up"}get current(){return super.current}set current(t){const{current:r}=this,n=Ze.from(t),s={x:n.x-r.x,y:n.y-r.y},i=Date.now(),o=i-Lp(this,os),a=l=>Math.round(l/o*100);je(()=>{zp(this,os,i),this.velocity={x:a(s.x),y:a(s.y)},super.current=n})}reset(t=this.defaultValue){super.reset(Ze.from(t)),this.velocity={x:0,y:0}}};Tn=Ap(Li);os=new WeakMap;Dc(Tn,2,"delta",Mc,Ws);Dc(Tn,2,"direction",Ac,Ws);Np(Tn,Ws);function oi({x:e,y:t},r){const n=Math.abs(e),s=Math.abs(t);return typeof r=="number"?Math.sqrt(Ua(n,2)+Ua(s,2))>r:"x"in r&&"y"in r?n>r.x&&s>r.y:"x"in r?n>r.x:"y"in r?s>r.y:!1}var Nc=(e=>(e.Horizontal="x",e.Vertical="y",e))(Nc||{}),Tc=Object.values(Nc),Fp=Object.create,Do=Object.defineProperty,Bp=Object.defineProperties,Wp=Object.getOwnPropertyDescriptor,Hp=Object.getOwnPropertyDescriptors,js=Object.getOwnPropertySymbols,Lc=Object.prototype.hasOwnProperty,$c=Object.prototype.propertyIsEnumerable,zc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Tr=e=>{throw TypeError(e)},$i=(e,t,r)=>t in e?Do(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rc=(e,t)=>{for(var r in t||(t={}))Lc.call(t,r)&&$i(e,r,t[r]);if(js)for(var r of js(t))$c.call(t,r)&&$i(e,r,t[r]);return e},Fc=(e,t)=>Bp(e,Hp(t)),Va=(e,t)=>Do(e,"name",{value:t,configurable:!0}),Bc=(e,t)=>{var r={};for(var n in e)Lc.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&js)for(var n of js(e))t.indexOf(n)<0&&$c.call(e,n)&&(r[n]=e[n]);return r},Lr=e=>{var t;return[,,,Fp((t=e?.[zc("metadata")])!=null?t:null)]},Wc=["class","method","getter","setter","accessor","field","value","get","set"],Gr=e=>e!==void 0&&typeof e!="function"?Tr("Function expected"):e,Up=(e,t,r,n,s)=>({kind:Wc[e],name:t,metadata:n,addInitializer:i=>r._?Tr("Already initialized"):s.push(Gr(i||null))}),ur=(e,t)=>$i(t,zc("metadata"),e[3]),re=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},le=(e,t,r,n,s,i)=>{var o,a,l,c,d,u=t&7,p=!!(t&8),v=!!(t&16),g=u>3?e.length+1:u?p?1:2:0,E=Wc[u+5],y=u>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=u&&(!v&&!p&&(s=s.prototype),u<5&&(u>3||!v)&&Wp(u<4?s:{get[r](){return ze(this,i)},set[r](x){return gt(this,i,x)}},r));u?v&&u<4&&Va(i,(u>2?"set ":u>1?"get ":"")+r):Va(s,r);for(var _=n.length-1;_>=0;_--)c=Up(u,r,l={},e[3],S),u&&(c.static=p,c.private=v,d=c.access={has:v?x=>Vp(s,x):x=>r in x},u^3&&(d.get=v?x=>(u^1?ze:Zp)(x,s,u^4?i:m.get):x=>x[r]),u>2&&(d.set=v?(x,C)=>gt(x,s,C,u^4?i:m.set):(x,C)=>x[r]=C)),a=(0,n[_])(u?u<4?v?i:m[E]:u>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,u^4||a===void 0?Gr(a)&&(u>4?y.unshift(a):u?v?i=a:m[E]=a:s=a):typeof a!="object"||a===null?Tr("Object expected"):(Gr(o=a.get)&&(m.get=o),Gr(o=a.set)&&(m.set=o),Gr(o=a.init)&&y.unshift(o));return u||ur(e,s),m&&Do(s,r,m),v?u^4?i:m:s},Oo=(e,t,r)=>t.has(e)||Tr("Cannot "+r),Vp=(e,t)=>Object(t)!==t?Tr('Cannot use the "in" operator on this value'):e.has(t),ze=(e,t,r)=>(Oo(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?Tr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gt=(e,t,r,n)=>(Oo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Zp=(e,t,r)=>(Oo(e,t,"access private method"),r);function Hc(e,t){return{plugin:e,options:t}}function Ao(e){return t=>Hc(e,t)}function Mo(e){return typeof e=="function"?{plugin:e,options:void 0}:e}var Uc,yn,No,as;Uc=[ae];var We=class{constructor(e,t){this.manager=e,this.options=t,ve(this,No,re(yn,8,this,!1)),re(yn,11,this),ve(this,as,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return ge(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){const t=Qe(e.bind(this));return ze(this,as).add(t),t}destroy(){ze(this,as).forEach(e=>e())}static configure(e){return Hc(this,e)}};yn=Lr(null);No=new WeakMap;as=new WeakMap;le(yn,4,"disabled",Uc,We,No);ur(yn,We);var Hs=class extends We{},ls,ai=class{constructor(e){this.manager=e,this.instances=new Map,ve(this,ls,[])}get values(){return Array.from(this.instances.values())}set values(e){const t=e.map(Mo).reduceRight((n,s)=>n.some(({plugin:i})=>i===s.plugin)?n:[s,...n],[]),r=t.map(({plugin:n})=>n);for(const n of ze(this,ls))if(!r.includes(n)){if(n.prototype instanceof Hs)continue;this.unregister(n)}for(const{plugin:n,options:s}of t)this.register(n,s);gt(this,ls,r)}get(e){return this.instances.get(e)}register(e,t){const r=this.instances.get(e);if(r)return r.options!==t&&(r.options=t),r;const n=new e(this.manager,t);return this.instances.set(e,n),n}unregister(e){const t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(const e of this.instances.values())e.destroy();this.instances.clear()}};ls=new WeakMap;function qp(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var Un=[],mr,yr,Yp=class extends We{constructor(e){super(e),ve(this,mr),ve(this,yr),this.computeCollisions=this.computeCollisions.bind(this),gt(this,yr,Mn(Un)),this.destroy=Nn(()=>{const t=this.computeCollisions(),r=ge(()=>this.manager.dragOperation.position.current);if(t!==Un){const n=ze(this,mr);if(gt(this,mr,r),n&&r.x==n.x&&r.y==n.y)return}else gt(this,mr,void 0);ze(this,yr).value=t},()=>{const{dragOperation:t}=this.manager;t.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){ge(()=>{e?ze(this,yr).value=this.computeCollisions():gt(this,mr,void 0)})}computeCollisions(e,t){const{registry:r,dragOperation:n}=this.manager,{source:s,shape:i,status:o}=n;if(!o.initialized||!i)return Un;const a=[],l=[];for(const c of e??r.droppables){if(c.disabled||s&&!c.accepts(s))continue;const d=t??c.collisionDetector;if(!d)continue;l.push(c),c.shape;const u=ge(()=>d({droppable:c,dragOperation:n}));u&&(c.collisionPriority!=null&&(u.priority=c.collisionPriority),a.push(u))}return l.length===0?Un:(a.sort(qp),a)}get collisions(){return ze(this,yr).value}};mr=new WeakMap;yr=new WeakMap;var Xp=class{constructor(){this.registry=new Map}addEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));return s.add(r),n.set(t,s),()=>this.removeEventListener(t,r)}removeEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));s.delete(r),n.set(t,s)}dispatch(t,...r){const{registry:n}=this,s=n.get(t);if(s)for(const i of s)i(...r)}},Kp=class extends Xp{constructor(e){super(),this.manager=e}dispatch(e,t){const r=[t,this.manager];super.dispatch(e,...r)}};function cs(e,t=!0){let r=!1;return Fc(Rc({},e),{cancelable:t,get defaultPrevented(){return r},preventDefault(){t&&(r=!0)}})}var Gp=class extends Hs{constructor(e){super(e);const t=(n,s)=>n.map(({id:i})=>i).join("")===s.map(({id:i})=>i).join("");let r=[];this.destroy=Nn(()=>{const{dragOperation:n,collisionObserver:s}=e;n.status.initializing&&(r=[],s.enable())},()=>{const{collisionObserver:n,monitor:s}=e,{collisions:i}=n;if(n.isDisabled())return;const o=cs({collisions:i});if(s.dispatch("collision",o),o.defaultPrevented||t(i,r))return;r=i;const[a]=i;ge(()=>{var l;a?.id!==((l=e.dragOperation.target)==null?void 0:l.id)&&(n.disable(),e.actions.setDropTarget(a?.id).then(()=>{n.enable()}))})})}},ct=(e=>(e[e.Lowest=0]="Lowest",e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Highest=4]="Highest",e))(ct||{}),Ct=(e=>(e[e.Collision=0]="Collision",e[e.ShapeIntersection=1]="ShapeIntersection",e[e.PointerIntersection=2]="PointerIntersection",e))(Ct||{}),Vc,Zc,qc,Yc,Xc,Kc,Gc,ut,To;Gc=[ae],Kc=[Me],Xc=[Me],Yc=[Me],qc=[Me],Zc=[Me],Vc=[Me];var At=class{constructor(){re(ut,5,this),ve(this,To,re(ut,8,this,"idle")),re(ut,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:e}=this;return e!=="idle"&&e!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(e){this.value=e}};ut=Lr(null);To=new WeakMap;le(ut,4,"value",Gc,At,To);le(ut,2,"current",Kc,At);le(ut,2,"idle",Xc,At);le(ut,2,"initializing",Yc,At);le(ut,2,"initialized",qc,At);le(ut,2,"dragging",Zc,At);le(ut,2,"dropped",Vc,At);ur(ut,At);var Jp=class{constructor(e){this.manager=e}setDragSource(e){const{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e=="string"||typeof e=="number"?e:e.id}setDropTarget(e){return ge(()=>{const{dragOperation:t}=this.manager,r=e??null;if(t.targetIdentifier===r)return Promise.resolve(!1);t.targetIdentifier=r;const n=cs({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch("dragover",n),this.manager.renderer.rendering.then(()=>n.defaultPrevented)})}start(e){return ge(()=>{const{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw new Error("Cannot start a drag operation without a drag source");if(!t.status.idle)throw new Error("Cannot start a drag operation while another is active");const n=new AbortController,{event:s,coordinates:i}=e;je(()=>{t.status.set("initialization-pending"),t.shape=null,t.canceled=!1,t.activatorEvent=s??null,t.position.reset(i)});const o=cs({operation:t.snapshot()});return this.manager.monitor.dispatch("beforedragstart",o),o.defaultPrevented?(t.reset(),n.abort(),n):(t.status.set("initializing"),t.controller=n,this.manager.renderer.rendering.then(()=>{if(n.signal.aborted)return;const{status:a}=t;a.current==="initializing"&&(t.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:s,operation:t.snapshot(),cancelable:!1}))}),n)})}move(e){return ge(()=>{var t,r;const{dragOperation:n}=this.manager,{status:s,controller:i}=n;if(!s.dragging||!i||i.signal.aborted)return;const o=cs({nativeEvent:e.event,operation:n.snapshot(),by:e.by,to:e.to},(t=e.cancelable)!=null?t:!0);((r=e.propagate)==null||r)&&this.manager.monitor.dispatch("dragmove",o),queueMicrotask(()=>{var a,l,c,d,u;if(o.defaultPrevented)return;const p=(u=e.to)!=null?u:{x:n.position.current.x+((l=(a=e.by)==null?void 0:a.x)!=null?l:0),y:n.position.current.y+((d=(c=e.by)==null?void 0:c.y)!=null?d:0)};n.position.current=p})})}stop(e={}){return ge(()=>{var t,r;const{dragOperation:n}=this.manager,{controller:s}=n;if(!s||s.signal.aborted)return;let i;const o=()=>{const l={resume:()=>{},abort:()=>{}};return i=new Promise((c,d)=>{l.resume=c,l.abort=d}),l};s.abort();const a=()=>{this.manager.renderer.rendering.then(()=>{n.status.set("dropped");const l=ge(()=>{var d;return((d=n.source)==null?void 0:d.status)==="dropping"}),c=()=>{n.controller===s&&(n.controller=void 0),n.reset()};if(l){const{source:d}=n,u=Qe(()=>{d?.status==="idle"&&(u(),c())})}else this.manager.renderer.rendering.then(c)})};n.canceled=(t=e.canceled)!=null?t:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:e.event,operation:n.snapshot(),canceled:(r=e.canceled)!=null?r:!1,suspend:o}),i?i.then(a).catch(()=>n.reset()):a()})}},Jc,Qc,ed,td,Je,Lo,$o,zo,Ro;td=[ae],ed=[ae],Qc=[ae],Jc=[ae];var Kt=class{constructor(e,t){ve(this,Lo,re(Je,8,this)),re(Je,11,this),ve(this,$o,re(Je,12,this)),re(Je,15,this),ve(this,zo,re(Je,16,this)),re(Je,19,this),ve(this,Ro,re(Je,20,this)),re(Je,23,this);const{effects:r,id:n,data:s={},disabled:i=!1,register:o=!0}=e;let a=n;this.manager=t,this.id=n,this.data=s,this.disabled=i,this.effects=()=>{var l;return[()=>{const{id:c,manager:d}=this;if(c!==a)return d?.registry.register(this),()=>d?.registry.unregister(this)},...(l=r?.())!=null?l:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&o&&queueMicrotask(this.register)}register(){var e;return(e=this.manager)==null?void 0:e.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};Je=Lr(null);Lo=new WeakMap;$o=new WeakMap;zo=new WeakMap;Ro=new WeakMap;le(Je,4,"manager",td,Kt,Lo);le(Je,4,"id",ed,Kt,$o);le(Je,4,"data",Qc,Kt,zo);le(Je,4,"disabled",Jc,Kt,Ro);ur(Je,Kt);var Za=class{constructor(){this.map=Mn(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{const r=this.map.peek(),n=r.get(e),s=()=>this.unregister(e,t);if(n===t)return s;if(n){const a=this.cleanupFunctions.get(n);a?.(),this.cleanupFunctions.delete(n)}const i=new Map(r);i.set(e,t),this.map.value=i;const o=Nn(...t.effects());return this.cleanupFunctions.set(t,o),s},this.unregister=(e,t)=>{const r=this.map.peek();if(r.get(e)!==t)return;const n=this.cleanupFunctions.get(t);n?.(),this.cleanupFunctions.delete(t);const s=new Map(r);s.delete(e),this.map.value=s}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(const e of this){const t=this.cleanupFunctions.get(e);t?.(),e.destroy()}this.map.value=new Map}},rd,nd,sd,id,od,ad,zi,Ye,Fo,Bo,Wo,jt=class extends(zi=Kt,ad=[ae],od=[ae],id=[ae],sd=[Me],nd=[Me],rd=[Me],zi){constructor(t,r){var n=t,{modifiers:s,type:i,sensors:o}=n,a=Bc(n,["modifiers","type","sensors"]);super(a,r),re(Ye,5,this),ve(this,Fo,re(Ye,8,this)),re(Ye,11,this),ve(this,Bo,re(Ye,12,this)),re(Ye,15,this),ve(this,Wo,re(Ye,16,this,this.isDragSource?"dragging":"idle")),re(Ye,19,this),this.type=i,this.sensors=o,this.modifiers=s,this.alignment=a.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.source)==null?void 0:r.id)===this.id}};Ye=Lr(zi);Fo=new WeakMap;Bo=new WeakMap;Wo=new WeakMap;le(Ye,4,"type",ad,jt,Fo);le(Ye,4,"modifiers",od,jt,Bo);le(Ye,4,"status",id,jt,Wo);le(Ye,2,"isDropping",sd,jt);le(Ye,2,"isDragging",nd,jt);le(Ye,2,"isDragSource",rd,jt);ur(Ye,jt);var ld,cd,dd,ud,fd,pd,Ri,Pe,Ho,Uo,Vo,Zo,qo,Et=class extends(Ri=Kt,pd=[ae],fd=[ae],ud=[ae],dd=[ae],cd=[ae],ld=[Me],Ri){constructor(t,r){var n=t,{accept:s,collisionDetector:i,collisionPriority:o,type:a}=n,l=Bc(n,["accept","collisionDetector","collisionPriority","type"]);super(l,r),re(Pe,5,this),ve(this,Ho,re(Pe,8,this)),re(Pe,11,this),ve(this,Uo,re(Pe,12,this)),re(Pe,15,this),ve(this,Vo,re(Pe,16,this)),re(Pe,19,this),ve(this,Zo,re(Pe,20,this)),re(Pe,23,this),ve(this,qo,re(Pe,24,this)),re(Pe,27,this),this.accept=s,this.collisionDetector=i,this.collisionPriority=o,this.type=a}accepts(t){const{accept:r}=this;return r?typeof r=="function"?r(t):t.type?Array.isArray(r)?r.includes(t.type):t.type===r:!1:!0}get isDropTarget(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.target)==null?void 0:r.id)===this.id}};Pe=Lr(Ri);Ho=new WeakMap;Uo=new WeakMap;Vo=new WeakMap;Zo=new WeakMap;qo=new WeakMap;le(Pe,4,"accept",pd,Et,Ho);le(Pe,4,"type",fd,Et,Uo);le(Pe,4,"collisionDetector",ud,Et,Vo);le(Pe,4,"collisionPriority",dd,Et,Zo);le(Pe,4,"shape",cd,Et,qo);le(Pe,2,"isDropTarget",ld,Et);ur(Pe,Et);var kr=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}},qa=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},Qp=class{constructor(e){this.draggables=new Za,this.droppables=new Za,this.plugins=new ai(e),this.sensors=new ai(e),this.modifiers=new ai(e)}register(e,t){if(e instanceof jt)return this.draggables.register(e.id,e);if(e instanceof Et)return this.droppables.register(e.id,e);if(e.prototype instanceof qa)return this.modifiers.register(e,t);if(e.prototype instanceof kr)return this.sensors.register(e,t);if(e.prototype instanceof We)return this.plugins.register(e,t);throw new Error("Invalid instance type")}unregister(e){if(e instanceof Kt)return e instanceof jt?this.draggables.unregister(e.id,e):e instanceof Et?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof qa)return this.modifiers.unregister(e);if(e.prototype instanceof kr)return this.sensors.unregister(e);if(e.prototype instanceof We)return this.plugins.unregister(e);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},hd,gd,vd,md,yd,bd,xd,_d,wd,Jr,ds,br,Se,Yo,Xo,Ko,Go,Jo,Qr;wd=[Me],_d=[ae],xd=[ae],bd=[ae],yd=[ae],md=[ae],vd=[Me],gd=[Me],hd=[Me];var wt=class{constructor(e){re(Se,5,this),ve(this,Jr),ve(this,ds),ve(this,br,new dr(void 0,(t,r)=>t&&r?t.equals(r):t===r)),this.status=new At,ve(this,Yo,re(Se,8,this,!1)),re(Se,11,this),ve(this,Xo,re(Se,12,this,null)),re(Se,15,this),ve(this,Ko,re(Se,16,this,null)),re(Se,19,this),ve(this,Go,re(Se,20,this,null)),re(Se,23,this),ve(this,Jo,re(Se,24,this,[])),re(Se,27,this),this.position=new Ws({x:0,y:0}),ve(this,Qr,{x:0,y:0}),gt(this,Jr,e)}get shape(){const{current:e,initial:t,previous:r}=ze(this,br);return!e||!t?null:{current:e,initial:t,previous:r}}set shape(e){e?ze(this,br).current=e:ze(this,br).reset()}get source(){var e;const t=this.sourceIdentifier;if(t==null)return null;const r=ze(this,Jr).registry.draggables.get(t);return r&&gt(this,ds,r),(e=r??ze(this,ds))!=null?e:null}get target(){var e;const t=this.targetIdentifier;return t!=null&&(e=ze(this,Jr).registry.droppables.get(t))!=null?e:null}get transform(){const{x:e,y:t}=this.position.delta;let r={x:e,y:t};for(const n of this.modifiers)r=n.apply(Fc(Rc({},this.snapshot()),{transform:r}));return gt(this,Qr,r),r}snapshot(){return ge(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:ze(this,Qr),shape:this.shape?ii(this.shape):null,position:ii(this.position),status:ii(this.status),canceled:this.canceled}))}reset(){je(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,ze(this,br).reset(),this.position.reset({x:0,y:0}),gt(this,Qr,{x:0,y:0}),this.modifiers=[]})}};Se=Lr(null);Jr=new WeakMap;ds=new WeakMap;br=new WeakMap;Yo=new WeakMap;Xo=new WeakMap;Ko=new WeakMap;Go=new WeakMap;Jo=new WeakMap;Qr=new WeakMap;le(Se,2,"shape",wd,wt);le(Se,4,"canceled",_d,wt,Yo);le(Se,4,"activatorEvent",xd,wt,Xo);le(Se,4,"sourceIdentifier",bd,wt,Ko);le(Se,4,"targetIdentifier",yd,wt,Go);le(Se,4,"modifiers",md,wt,Jo);le(Se,2,"source",vd,wt);le(Se,2,"target",gd,wt);le(Se,2,"transform",hd,wt);ur(Se,wt);var eh={get rendering(){return Promise.resolve()}},th=class{constructor(t){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(d=>d.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:r=[],sensors:n=[],modifiers:s=[],renderer:i=eh}=t??{},o=new Kp(this),a=new Qp(this);this.registry=a,this.monitor=o,this.renderer=i,this.actions=new Jp(this),this.dragOperation=new wt(this),this.collisionObserver=new Yp(this),this.plugins=[Gp,...r],this.modifiers=s,this.sensors=n;const{destroy:l}=this,c=Nn(()=>{var d,u,p;const v=ge(()=>this.dragOperation.modifiers),g=this.modifiers;v!==g&&v.forEach(E=>E.destroy()),this.dragOperation.modifiers=(p=(u=(d=this.dragOperation.source)==null?void 0:d.modifiers)==null?void 0:u.map(E=>{const{plugin:y,options:S}=Mo(E);return new y(this,S)}))!=null?p:g});this.destroy=()=>{c(),l()}}get plugins(){return this.registry.plugins.values}set plugins(t){this.registry.plugins.values=t}get modifiers(){return this.registry.modifiers.values}set modifiers(t){this.registry.modifiers.values=t}get sensors(){return this.registry.sensors.values}set sensors(t){this.registry.sensors.values=t}},Sd=e=>{throw TypeError(e)},Qo=(e,t,r)=>t.has(e)||Sd("Cannot "+r),ne=(e,t,r)=>(Qo(e,t,"read from private field"),t.get(e)),Ge=(e,t,r)=>t.has(e)?Sd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rt=(e,t,r,n)=>(Qo(e,t,"write to private field"),t.set(e,r),r),Id=(e,t,r)=>(Qo(e,t,"access private method"),r);function Us(e){return e?e instanceof KeyframeEffect?!0:"getKeyframes"in e&&typeof e.getKeyframes=="function":!1}function jd(e,t){const r=e.getAnimations();if(r.length>0)for(const n of r){if(n.playState!=="running")continue;const{effect:s}=n,o=(Us(s)?s.getKeyframes():[]).filter(t);if(o.length>0)return[o[o.length-1],n]}return null}function Vs(e){const{width:t,height:r,top:n,left:s,bottom:i,right:o}=e.getBoundingClientRect();return{width:t,height:r,top:n,left:s,bottom:i,right:o}}var Ed=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ea(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ta(e){return"nodeType"in e}function Mt(e){var t,r,n;return e?ea(e)?e:ta(e)?"defaultView"in e?(t=e.defaultView)!=null?t:window:(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window:window}function kd(e){const{Document:t}=Mt(e);return e instanceof t||"nodeType"in e&&e.nodeType===Node.DOCUMENT_NODE}function lr(e){return!e||ea(e)?!1:e instanceof Mt(e).HTMLElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("html")}function Cd(e){return e instanceof Mt(e).SVGElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("svg")}function kt(e){return e?ea(e)?e.document:ta(e)?kd(e)?e:lr(e)||Cd(e)?e.ownerDocument:document:document:document}function rh(e){const{documentElement:t}=kt(e),r=t.clientWidth,n=t.clientHeight;return{top:0,left:0,right:r,bottom:n,width:r,height:n}}function nh(e,t){if(sh(e)&&e.open===!1)return!1;const{overflow:r,overflowX:n,overflowY:s}=getComputedStyle(e);return r==="visible"&&n==="visible"&&s==="visible"}function sh(e){return e.tagName==="DETAILS"}function bn(e,t=e.getBoundingClientRect(),r=0){var n;let s=t;const{ownerDocument:i}=e,o=(n=i.defaultView)!=null?n:window;let a=e.parentElement;for(;a&&a!==i.documentElement;){if(!nh(a)){const p=a.getBoundingClientRect(),v=r*(p.bottom-p.top),g=r*(p.right-p.left),E=r*(p.bottom-p.top),y=r*(p.right-p.left);s={top:Math.max(s.top,p.top-v),right:Math.min(s.right,p.right+g),bottom:Math.min(s.bottom,p.bottom+E),left:Math.max(s.left,p.left-y),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top}a=a.parentElement}const l=o.innerWidth,c=o.innerHeight,d=r*c,u=r*l;return s={top:Math.max(s.top,0-d),right:Math.min(s.right,l+u),bottom:Math.min(s.bottom,c+d),left:Math.max(s.left,0-u),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0&&(s.width=0),s.height<0&&(s.height=0),s}function Pd(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function ih(e){const t="input, textarea, select, canvas, [contenteditable]",r=e.cloneNode(!0),n=Array.from(e.querySelectorAll(t));return Array.from(r.querySelectorAll(t)).forEach((i,o)=>{const a=n[o];if(Ya(i)&&Ya(a)&&(i.type!=="file"&&(i.value=a.value),i.type==="radio"&&i.name&&(i.name=`Cloned__${i.name}`)),Xa(i)&&Xa(a)&&a.width>0&&a.height>0){const l=i.getContext("2d");l?.drawImage(a,0,0)}}),r}function Ya(e){return"value"in e}function Xa(e){return e.tagName==="CANVAS"}function Dd(e,{x:t,y:r}){const n=e.elementFromPoint(t,r);if(oh(n)){const{contentDocument:s}=n;if(s){const{left:i,top:o}=n.getBoundingClientRect();return Dd(s,{x:t-i,y:r-o})}}return n}function oh(e){return e?.tagName==="IFRAME"}var Fi=new WeakMap,Od=class{constructor(){this.entries=new Set,this.clear=()=>{for(const e of this.entries){const[t,{type:r,listener:n,options:s}]=e;t.removeEventListener(r,n,s)}this.entries.clear()}}bind(e,t){const r=Array.isArray(t)?t:[t],n=[];for(const s of r){const{type:i,listener:o,options:a}=s,l=[e,s];e.addEventListener(i,o,a),this.entries.add(l),n.push(l)}return function(){for(const[i,{type:o,listener:a,options:l}]of n)i.removeEventListener(o,a,l)}}};function Cr(e){const t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function ah(e){const t=new Set;let r=Cr(e);for(;r;)t.add(r),r=Cr(r);return t}function lh(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function Ad(e,t){const r=()=>performance.now();let n,s;return function(...i){const o=this;s?(n?.(),n=lh(()=>{e.apply(o,i),s=r()},t-(r()-s))):(e.apply(o,i),s=r())}}function ch(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function dh(e,t=e.getBoundingClientRect()){const{width:r,height:n}=bn(e,t);return r>0&&n>0}var uh=Ed?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},us,fh=class extends uh{constructor(e){super(t=>{if(!ne(this,us)){rt(this,us,!0);return}e(t,this)}),Ge(this,us,!1)}};us=new WeakMap;var Ka=Array.from({length:100},(e,t)=>t/100),Md=75,er,Es,Rt,tr,en,$e,hn,tn,ks,Nd,Td,Ld=class{constructor(e,t,r={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,Ge(this,ks),this.disconnect=()=>{var i,o,a;rt(this,hn,!0),(i=ne(this,Rt))==null||i.disconnect(),(o=ne(this,tr))==null||o.disconnect(),ne(this,en).disconnect(),(a=ne(this,$e))==null||a.remove()},Ge(this,er,!0),Ge(this,Es),Ge(this,Rt),Ge(this,tr),Ge(this,en),Ge(this,$e),Ge(this,hn,!1),Ge(this,tn,Ad(()=>{var i,o,a;const{element:l}=this;if((i=ne(this,tr))==null||i.disconnect(),ne(this,hn)||!ne(this,er)||!l.isConnected)return;const c=(o=l.ownerDocument)!=null?o:document,{innerHeight:d,innerWidth:u}=(a=c.defaultView)!=null?a:window,p=l.getBoundingClientRect(),v=bn(l,p),{top:g,left:E,bottom:y,right:S}=v,m=-Math.floor(g),_=-Math.floor(E),x=-Math.floor(u-S),C=-Math.floor(d-y),I=`${m}px ${x}px ${C}px ${_}px`;this.boundingClientRect=p,rt(this,tr,new IntersectionObserver(D=>{const[b]=D,{intersectionRect:k}=b;(b.intersectionRatio!==1?b.intersectionRatio:xt.intersectionRatio(k,bn(l)))!==1&&ne(this,tn).call(this)},{threshold:Ka,rootMargin:I,root:c})),ne(this,tr).observe(l),Id(this,ks,Nd).call(this)},Md)),this.boundingClientRect=e.getBoundingClientRect(),rt(this,er,dh(e,this.boundingClientRect));let n=!0;this.callback=i=>{n&&(n=!1,r.skipInitial)||t(i)};const s=e.ownerDocument;r?.debug&&(rt(this,$e,document.createElement("div")),ne(this,$e).style.background="rgba(0,0,0,0.15)",ne(this,$e).style.position="fixed",ne(this,$e).style.pointerEvents="none",s.body.appendChild(ne(this,$e))),rt(this,en,new IntersectionObserver(i=>{var o,a;const l=i[i.length-1],{boundingClientRect:c,isIntersecting:d}=l,{width:u,height:p}=c,v=ne(this,er);rt(this,er,d),!(!u&&!p)&&(v&&!d?((o=ne(this,tr))==null||o.disconnect(),this.callback(null),(a=ne(this,Rt))==null||a.disconnect(),rt(this,Rt,void 0),ne(this,$e)&&(ne(this,$e).style.visibility="hidden")):ne(this,tn).call(this),d&&!ne(this,Rt)&&(rt(this,Rt,new fh(ne(this,tn))),ne(this,Rt).observe(e)))},{threshold:Ka,root:s})),ne(this,er)&&!r.skipInitial&&this.callback(this.boundingClientRect),ne(this,en).observe(e)}};er=new WeakMap;Es=new WeakMap;Rt=new WeakMap;tr=new WeakMap;en=new WeakMap;$e=new WeakMap;hn=new WeakMap;tn=new WeakMap;ks=new WeakSet;Nd=function(){ne(this,hn)||(Id(this,ks,Td).call(this),!ch(this.boundingClientRect,ne(this,Es))&&(this.callback(this.boundingClientRect),rt(this,Es,this.boundingClientRect)))};Td=function(){if(ne(this,$e)){const{top:e,left:t,width:r,height:n}=bn(this.element);ne(this,$e).style.overflow="hidden",ne(this,$e).style.visibility="visible",ne(this,$e).style.top=`${Math.floor(e)}px`,ne(this,$e).style.left=`${Math.floor(t)}px`,ne(this,$e).style.width=`${Math.floor(r)}px`,ne(this,$e).style.height=`${Math.floor(n)}px`}};var Vn=new WeakMap,Zn=new WeakMap;function ph(e,t){let r=Vn.get(e);return r||(r={disconnect:new Ld(e,s=>{const i=Vn.get(e);i&&i.callbacks.forEach(o=>o(s))},{skipInitial:!0}).disconnect,callbacks:new Set}),r.callbacks.add(t),Vn.set(e,r),()=>{r.callbacks.delete(t),r.callbacks.size===0&&(Vn.delete(e),r.disconnect())}}function hh(e,t){const r=new Set;for(const n of e){const s=ph(n,t);r.add(s)}return()=>r.forEach(n=>n())}function gh(e,t){var r;const n=e.ownerDocument;if(!Zn.has(n)){const o=new AbortController,a=new Set;document.addEventListener("scroll",l=>a.forEach(c=>c(l)),{capture:!0,passive:!0,signal:o.signal}),Zn.set(n,{disconnect:()=>o.abort(),listeners:a})}const{listeners:s,disconnect:i}=(r=Zn.get(n))!=null?r:{};return!s||!i?()=>{}:(s.add(t),()=>{s.delete(t),s.size===0&&(i(),Zn.delete(n))})}var rn,nn,fs,Bi,vh=class{constructor(e,t,r){this.callback=t,Ge(this,rn),Ge(this,nn,!1),Ge(this,fs),Ge(this,Bi,Ad(o=>{if(!ne(this,nn)&&o.target&&"contains"in o.target&&typeof o.target.contains=="function"){for(const a of ne(this,fs))if(o.target.contains(a)){this.callback(ne(this,rn).boundingClientRect);break}}},Md));const n=ah(e),s=hh(n,t),i=gh(e,ne(this,Bi));rt(this,fs,n),rt(this,rn,new Ld(e,t,r)),this.disconnect=()=>{ne(this,nn)||(rt(this,nn,!0),s(),i(),ne(this,rn).disconnect())}}};rn=new WeakMap;nn=new WeakMap;fs=new WeakMap;Bi=new WeakMap;function Wi(e){return"showPopover"in e&&"hidePopover"in e&&typeof e.showPopover=="function"&&typeof e.hidePopover=="function"}function sn(e){try{Wi(e)&&e.isConnected&&e.hasAttribute("popover")&&!e.matches(":popover-open")&&e.showPopover()}catch{}}function Ga(e){return!Ed||!e?!1:e===kt(e).scrollingElement}function $d(e){const t=Mt(e),r=Ga(e)?rh(e):Vs(e),n=Ga(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-n.width,y:e.scrollHeight-n.height}},i=s.current.y<=0,o=s.current.x<=0,a=s.current.y>=s.max.y,l=s.current.x>=s.max.x;return{rect:r,position:s,isTop:i,isLeft:o,isBottom:a,isRight:l}}function mh(e,t){const{isTop:r,isBottom:n,isLeft:s,isRight:i,position:o}=$d(e),{x:a,y:l}=t??{x:0,y:0},c=!r&&o.current.y+l>0,d=!n&&o.current.y+l<o.max.y,u=!s&&o.current.x+a>0,p=!i&&o.current.x+a<o.max.x;return{top:c,bottom:d,left:u,right:p,x:u||p,y:c||d}}var ra=class{constructor(t){this.scheduler=t,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:r,resolvers:n}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const s of r)s();for(const s of n)s()}}schedule(t){return this.tasks.add(t),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(r=>this.resolvers.add(r))}},Cs=new ra(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),yh=new ra(e=>setTimeout(e,50)),Ps=new Map,bh=Ps.clear.bind(Ps);function _t(e,t=!1){if(!t)return Ja(e);let r=Ps.get(e);return r||(r=Ja(e),Ps.set(e,r),yh.schedule(bh),r)}function Ja(e){return Mt(e).getComputedStyle(e)}function xh(e,t=_t(e,!0)){return t.position==="fixed"||t.position==="sticky"}function _h(e,t=_t(e,!0)){const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}var wh={excludeElement:!0};function Hi(e,t=wh){const{limit:r,excludeElement:n}=t,s=new Set;function i(o){if(r!=null&&s.size>=r||!o)return s;if(kd(o)&&o.scrollingElement!=null&&!s.has(o.scrollingElement))return s.add(o.scrollingElement),s;if(!lr(o))return Cd(o)?i(o.parentElement):s;if(s.has(o))return s;const a=_t(o,!0);if(n&&o===e||_h(o,a)&&s.add(o),xh(o,a)){const{scrollingElement:l}=o.ownerDocument;return l&&s.add(l),s}return i(o.parentNode)}return e?i(e):s}function Sh(e){const[t]=Hi(e,{limit:1});return t??null}function Pr(e,t=window.frameElement){const r={x:0,y:0,scaleX:1,scaleY:1};if(!e)return r;let n=Cr(e);for(;n;){if(n===t)return r;const s=Vs(n),{x:i,y:o}=Ih(n,s);r.x=r.x+s.left,r.y=r.y+s.top,r.scaleX=r.scaleX*i,r.scaleY=r.scaleY*o,n=Cr(n)}return r}function Ih(e,t=Vs(e)){const r=Math.round(t.width),n=Math.round(t.height);if(lr(e))return{x:r/e.offsetWidth,y:n/e.offsetHeight};const s=_t(e,!0);return{x:(parseFloat(s.width)||r)/r,y:(parseFloat(s.height)||n)/n}}function jh(e){if(e==="none")return null;const t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return isNaN(r)&&isNaN(n)?null:{x:isNaN(r)?n:r,y:isNaN(n)?r:n}}function xn(e){if(e==="none")return null;const[t,r,n="0"]=e.split(" "),s={x:parseFloat(t),y:parseFloat(r),z:parseInt(n,10)};return isNaN(s.x)&&isNaN(s.y)?null:{x:isNaN(s.x)?0:s.x,y:isNaN(s.y)?0:s.y,z:isNaN(s.z)?0:s.z}}function na(e){var t,r,n,s,i,o,a,l,c;const{scale:d,transform:u,translate:p}=e,v=jh(d),g=xn(p),E=Eh(u);if(!E&&!v&&!g)return null;const y={x:(t=v?.x)!=null?t:1,y:(r=v?.y)!=null?r:1},S={x:(n=g?.x)!=null?n:0,y:(s=g?.y)!=null?s:0},m={x:(i=E?.x)!=null?i:0,y:(o=E?.y)!=null?o:0,scaleX:(a=E?.scaleX)!=null?a:1,scaleY:(l=E?.scaleY)!=null?l:1};return{x:S.x+m.x,y:S.y+m.y,z:(c=g?.z)!=null?c:0,scaleX:y.x*m.scaleX,scaleY:y.y*m.scaleY}}function Eh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var dt=(e=>(e[e.Idle=0]="Idle",e[e.Forward=1]="Forward",e[e.Reverse=-1]="Reverse",e))(dt||{}),kh={x:.2,y:.2},Ch={x:10,y:10};function Ph(e,t,r,n=25,s=kh,i=Ch){const{x:o,y:a}=t,{rect:l,isTop:c,isBottom:d,isLeft:u,isRight:p}=$d(e),v=Pr(e),g=_t(e,!0),E=na(g),y=E!==null?E?.scaleX<0:!1,S=E!==null?E?.scaleY<0:!1,m=new xt(l.left*v.scaleX+v.x,l.top*v.scaleY+v.y,l.width*v.scaleX,l.height*v.scaleY),_={x:0,y:0},x={x:0,y:0},C={height:m.height*s.y,width:m.width*s.x};return(!c||S&&!d)&&a<=m.top+C.height&&r?.y!==1&&o>=m.left-i.x&&o<=m.right+i.x?(_.y=S?1:-1,x.y=n*Math.abs((m.top+C.height-a)/C.height)):(!d||S&&!c)&&a>=m.bottom-C.height&&r?.y!==-1&&o>=m.left-i.x&&o<=m.right+i.x&&(_.y=S?-1:1,x.y=n*Math.abs((m.bottom-C.height-a)/C.height)),(!p||y&&!u)&&o>=m.right-C.width&&r?.x!==-1&&a>=m.top-i.y&&a<=m.bottom+i.y?(_.x=y?-1:1,x.x=n*Math.abs((m.right-C.width-o)/C.width)):(!u||y&&!p)&&o<=m.left+C.width&&r?.x!==1&&a>=m.top-i.y&&a<=m.bottom+i.y&&(_.x=y?1:-1,x.x=n*Math.abs((m.left+C.width-o)/C.width)),{direction:_,speed:x}}function Dh(e){return"scrollIntoViewIfNeeded"in e&&typeof e.scrollIntoViewIfNeeded=="function"}function zd(e,t=!1){if(Dh(e)){e.scrollIntoViewIfNeeded(t);return}if(!lr(e))return e.scrollIntoView();var r=Sh(e);if(!lr(r))return;const n=_t(r,!0),s=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=e.offsetTop-r.offsetTop<r.scrollTop,a=e.offsetTop-r.offsetTop+e.clientHeight-s>r.scrollTop+r.clientHeight,l=e.offsetLeft-r.offsetLeft<r.scrollLeft,c=e.offsetLeft-r.offsetLeft+e.clientWidth-i>r.scrollLeft+r.clientWidth,d=o&&!a;(o||a)&&t&&(r.scrollTop=e.offsetTop-r.offsetTop-r.clientHeight/2-s+e.clientHeight/2),(l||c)&&t&&(r.scrollLeft=e.offsetLeft-r.offsetLeft-r.clientWidth/2-i+e.clientWidth/2),(o||a||l||c)&&!t&&e.scrollIntoView(d)}function Oh(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left+i+(1-n)*parseFloat(r),l=e.top+o+(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width*n:e.width,d=s?e.height*s:e.height;return{width:c,height:d,top:l,right:a+c,bottom:l+d,left:a}}function Ah(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left-i-(1-n)*parseFloat(r),l=e.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width/n:e.width,d=s?e.height/s:e.height;return{width:c,height:d,top:l,right:a+c,bottom:l+d,left:a}}function Rd({element:e,keyframes:t,options:r}){return e.animate(t,r).finished}function Qa(e,t=_t(e).translate,r=!0){if(r){const n=jd(e,s=>"translate"in s);if(n){const{translate:s=""}=n[0];if(typeof s=="string"){const i=xn(s);if(i)return i}}}if(t){const n=xn(t);if(n)return n}return{x:0,y:0,z:0}}var Mh=new ra(e=>setTimeout(e,0)),gn=new Map,Nh=gn.clear.bind(gn);function Th(e){const t=e.ownerDocument;let r=gn.get(t);if(r)return r;r=t.getAnimations(),gn.set(t,r),Mh.schedule(Nh);const n=r.filter(s=>Us(s.effect)&&s.effect.target===e);return gn.set(e,n),r}function Lh(e,t){const r=Th(e).filter(n=>{var s,i;if(Us(n.effect)){const{target:o}=n.effect;if((i=o&&((s=t.isValidTarget)==null?void 0:s.call(t,o)))!=null?i:!0)return n.effect.getKeyframes().some(l=>{for(const c of t.properties)if(l[c])return!0})}}).map(n=>{const{effect:s,currentTime:i}=n,o=s?.getComputedTiming().duration;if(!(n.pending||n.playState==="finished")&&typeof o=="number"&&typeof i=="number"&&i<o)return n.currentTime=o,()=>{n.currentTime=i}});if(r.length>0)return()=>r.forEach(n=>n?.())}var pt=class extends xt{constructor(e,t={}){var r,n,s,i;const{frameTransform:o=Pr(e),ignoreTransforms:a,getBoundingClientRect:l=Vs}=t,c=Lh(e,{properties:["transform","translate","scale","width","height"],isValidTarget:C=>(C!==e||Pd())&&C.contains(e)}),d=l(e);let{top:u,left:p,width:v,height:g}=d,E;const y=_t(e),S=na(y),m={x:(r=S?.scaleX)!=null?r:1,y:(n=S?.scaleY)!=null?n:1},_=$h(e,y);c?.(),S&&(E=Ah(d,S,y.transformOrigin),(a||_)&&(u=E.top,p=E.left,v=E.width,g=E.height));const x={width:(s=E?.width)!=null?s:v,height:(i=E?.height)!=null?i:g};if(_&&!a&&E){const C=Oh(E,_,y.transformOrigin);u=C.top,p=C.left,v=C.width,g=C.height,m.x=_.scaleX,m.y=_.scaleY}o&&(a||(p*=o.scaleX,v*=o.scaleX,u*=o.scaleY,g*=o.scaleY),p+=o.x,u+=o.y),super(p,u,v,g),this.scale=m,this.intrinsicWidth=x.width,this.intrinsicHeight=x.height}};function $h(e,t){var r;const n=e.getAnimations();let s=null;if(!n.length)return null;for(const i of n){if(i.playState!=="running")continue;const o=Us(i.effect)?i.effect.getKeyframes():[],a=o[o.length-1];if(!a)continue;const{transform:l,translate:c,scale:d}=a;if(l||c||d){const u=na({transform:typeof l=="string"&&l?l:t.transform,translate:typeof c=="string"&&c?c:t.translate,scale:typeof d=="string"&&d?d:t.scale});u&&(s=s?{x:s.x+u.x,y:s.y+u.y,z:(r=s.z)!=null?r:u.z,scaleX:s.scaleX*u.scaleX,scaleY:s.scaleY*u.scaleY}:u)}}return s}function vn(e){return"style"in e&&typeof e.style=="object"&&e.style!==null&&"setProperty"in e.style&&"removeProperty"in e.style&&typeof e.style.setProperty=="function"&&typeof e.style.removeProperty=="function"}var zh=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=""){const{element:r}=this;if(vn(r))for(const[n,s]of Object.entries(e)){const i=`${t}${n}`;this.initial.has(i)||this.initial.set(i,r.style.getPropertyValue(i)),r.style.setProperty(i,typeof s=="string"?s:`${s}px`)}}remove(e,t=""){const{element:r}=this;if(vn(r))for(const n of e){const s=`${t}${n}`;r.style.removeProperty(s)}}reset(){const{element:e}=this;if(vn(e)){for(const[t,r]of this.initial)e.style.setProperty(t,r);e.getAttribute("style")===""&&e.removeAttribute("style")}}};function $r(e){return e?e instanceof Mt(e).Element||ta(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function _n(e){if(!e)return!1;const{KeyboardEvent:t}=Mt(e.target);return e instanceof t}function Rh(e){if(!e)return!1;const{PointerEvent:t}=Mt(e.target);return e instanceof t}function Fh(e){if(!$r(e))return!1;const{tagName:t}=e;return t==="INPUT"||t==="TEXTAREA"||Bh(e)}function Bh(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"}var li={};function Ui(e){const t=li[e]==null?0:li[e]+1;return li[e]=t,`${e}-${t}`}var Wh=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=Ze.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},Hh=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=Ze.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Ct.ShapeIntersection,priority:ct.Normal}}return null},Fd=e=>{var t;return(t=Wh(e))!=null?t:Hh(e)},Uh=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?xt.from(n.current.boundingRectangle).corners:void 0,a=xt.from(r.shape.boundingRectangle).corners.reduce((l,c,d)=>{var u;return l+Ze.distance(Ze.from(c),(u=i?.[d])!=null?u:s.current)},0)/4;return{id:r.id,value:1/a,type:Ct.Collision,priority:ct.Normal}},Vh=Object.create,sa=Object.defineProperty,Zh=Object.defineProperties,qh=Object.getOwnPropertyDescriptor,Yh=Object.getOwnPropertyDescriptors,Ds=Object.getOwnPropertySymbols,Bd=Object.prototype.hasOwnProperty,Wd=Object.prototype.propertyIsEnumerable,Hd=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),zr=e=>{throw TypeError(e)},Vi=(e,t,r)=>t in e?sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wn=(e,t)=>{for(var r in t||(t={}))Bd.call(t,r)&&Vi(e,r,t[r]);if(Ds)for(var r of Ds(t))Wd.call(t,r)&&Vi(e,r,t[r]);return e},ia=(e,t)=>Zh(e,Yh(t)),el=(e,t)=>sa(e,"name",{value:t,configurable:!0}),Ud=(e,t)=>{var r={};for(var n in e)Bd.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ds)for(var n of Ds(e))t.indexOf(n)<0&&Wd.call(e,n)&&(r[n]=e[n]);return r},Ln=e=>{var t;return[,,,Vh((t=e?.[Hd("metadata")])!=null?t:null)]},Vd=["class","method","getter","setter","accessor","field","value","get","set"],on=e=>e!==void 0&&typeof e!="function"?zr("Function expected"):e,Xh=(e,t,r,n,s)=>({kind:Vd[e],name:t,metadata:n,addInitializer:i=>r._?zr("Already initialized"):s.push(on(i||null))}),Rr=(e,t)=>Vi(t,Hd("metadata"),e[3]),Ne=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Nt=(e,t,r,n,s,i)=>{var o,a,l,c,d,u=t&7,p=!!(t&8),v=!!(t&16),g=u>3?e.length+1:u?p?1:2:0,E=Vd[u+5],y=u>3&&(e[g-1]=[]),S=e[g]||(e[g]=[]),m=u&&(!v&&!p&&(s=s.prototype),u<5&&(u>3||!v)&&qh(u<4?s:{get[r](){return Re(this,i)},set[r](x){return mt(this,i,x)}},r));u?v&&u<4&&el(i,(u>2?"set ":u>1?"get ":"")+r):el(s,r);for(var _=n.length-1;_>=0;_--)c=Xh(u,r,l={},e[3],S),u&&(c.static=p,c.private=v,d=c.access={has:v?x=>Kh(s,x):x=>r in x},u^3&&(d.get=v?x=>(u^1?Re:Zi)(x,s,u^4?i:m.get):x=>x[r]),u>2&&(d.set=v?(x,C)=>mt(x,s,C,u^4?i:m.set):(x,C)=>x[r]=C)),a=(0,n[_])(u?u<4?v?i:m[E]:u>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,u^4||a===void 0?on(a)&&(u>4?y.unshift(a):u?v?i=a:m[E]=a:s=a):typeof a!="object"||a===null?zr("Object expected"):(on(o=a.get)&&(m.get=o),on(o=a.set)&&(m.set=o),on(o=a.init)&&y.unshift(o));return u||Rr(e,s),m&&sa(s,r,m),v?u^4?i:m:s},oa=(e,t,r)=>t.has(e)||zr("Cannot "+r),Kh=(e,t)=>Object(t)!==t?zr('Cannot use the "in" operator on this value'):e.has(t),Re=(e,t,r)=>(oa(e,t,"read from private field"),r?r.call(e):t.get(e)),Fe=(e,t,r)=>t.has(e)?zr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,n)=>(oa(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Zi=(e,t,r)=>(oa(e,t,"access private method"),r),tl={role:"button",roleDescription:"draggable"},Gh="dnd-kit-description",Jh="dnd-kit-announcement",Qh={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},eg={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:r}){if(e)return r?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function tg(e){const t=e.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(t)}function rg(e,t){const r=document.createElement("div");return r.id=e,r.style.setProperty("display","none"),r.textContent=t,r}function ng(e){const t=document.createElement("div");return t.id=e,t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.setProperty("position","fixed"),t.style.setProperty("width","1px"),t.style.setProperty("height","1px"),t.style.setProperty("margin","-1px"),t.style.setProperty("border","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("clip","rect(0 0 0 0)"),t.style.setProperty("clip-path","inset(100%)"),t.style.setProperty("white-space","nowrap"),t}var sg=["dragover","dragmove"],ig=class extends We{constructor(e,t){super(e);const{id:r,idPrefix:{description:n=Gh,announcement:s=Jh}={},announcements:i=eg,screenReaderInstructions:o=Qh,debounce:a=500}=t??{},l=r?`${n}-${r}`:Ui(n),c=r?`${s}-${r}`:Ui(s);let d,u,p,v;const g=(C=v)=>{!p||!C||p?.nodeValue!==C&&(p.nodeValue=C)},E=()=>Cs.schedule(g),y=og(E,a),S=Object.entries(i).map(([C,I])=>this.manager.monitor.addEventListener(C,(D,b)=>{const k=p;if(!k)return;const h=I?.(D,b);h&&k.nodeValue!==h&&(v=h,sg.includes(C)?y():(E(),y.cancel()))})),m=()=>{let C=[];d?.isConnected||(d=rg(l,o.draggable),C.push(d)),u?.isConnected||(u=ng(c),p=document.createTextNode(""),u.appendChild(p),C.push(u)),C.length>0&&document.body.append(...C)},_=new Set;function x(){for(const C of _)C()}this.registerEffect(()=>{var C;_.clear();for(const I of this.manager.registry.draggables.value){const D=(C=I.handle)!=null?C:I.element;if(D){(!d||!u)&&_.add(m),(!tg(D)||Pd())&&!D.hasAttribute("tabindex")&&_.add(()=>D.setAttribute("tabindex","0")),!D.hasAttribute("role")&&D.tagName.toLowerCase()!=="button"&&_.add(()=>D.setAttribute("role",tl.role)),D.hasAttribute("aria-roledescription")||_.add(()=>D.setAttribute("aria-roledescription",tl.roleDescription)),D.hasAttribute("aria-describedby")||_.add(()=>D.setAttribute("aria-describedby",l));for(const k of["aria-pressed","aria-grabbed"]){const h=String(I.isDragging);D.getAttribute(k)!==h&&_.add(()=>D.setAttribute(k,h))}const b=String(I.disabled);D.getAttribute("aria-disabled")!==b&&_.add(()=>D.setAttribute("aria-disabled",b))}}_.size>0&&Cs.schedule(x)}),this.destroy=()=>{super.destroy(),d?.remove(),u?.remove(),S.forEach(C=>C())}}};function og(e,t){let r;const n=()=>{clearTimeout(r),r=setTimeout(e,t)};return n.cancel=()=>clearTimeout(r),n}var ag=class extends We{constructor(e,t){super(e,t),this.manager=e;const r=Is(()=>{var n;return kt((n=this.manager.dragOperation.source)==null?void 0:n.element)});this.destroy=Qe(()=>{var n;const{dragOperation:s}=this.manager,{cursor:i="grabbing",nonce:o}=(n=this.options)!=null?n:{};if(s.status.initialized){const a=r.value,l=a.createElement("style");return o&&l.setAttribute("nonce",o),l.textContent=`* { cursor: ${i} !important; }`,a.head.appendChild(l),()=>l.remove()}})}},$n="data-dnd-",qi=`${$n}dropping`,Ue="--dnd-",It=`${$n}dragging`,Os=`${$n}placeholder`,lg=[It,Os,"popover","aria-pressed","aria-grabbing"],cg=["view-transition-name"],dg=`
  :root [${It}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${Ue}top, 0px) !important;
    left: var(${Ue}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${Ue}width, auto);
    max-width: var(${Ue}width, auto);
    height: var(${Ue}height, auto);
    max-height: var(${Ue}height, auto);
    transition: var(${Ue}transition) !important;
  }

  :root [${Os}] {
    transition: none;
  }

  :root [${Os}='hidden'] {
    visibility: hidden;
  }

  [${It}] * {
    pointer-events: none !important;
  }

  [${It}]:not([${qi}]) {
    translate: var(${Ue}translate) !important;
  }

  [${It}][style*='${Ue}scale'] {
    scale: var(${Ue}scale) !important;
    transform-origin: var(${Ue}transform-origin) !important;
  }

  @layer {
    :where([${It}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${It}]::backdrop, [${$n}overlay]:not([${It}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function ug(e,t="hidden"){return ge(()=>{const{element:r,manager:n}=e;if(!r||!n)return;const s=fg(r,n.registry.droppables),i=[],o=ih(r),{remove:a}=o;return pg(s,o,i),hg(o,t),o.remove=()=>{i.forEach(l=>l()),a.call(o)},o})}function fg(e,t){const r=new Map;for(const n of t)if(n.element&&(e===n.element||e.contains(n.element))){const s=`${$n}${Ui("dom-id")}`;n.element.setAttribute(s,""),r.set(n,s)}return r}function pg(e,t,r){for(const[n,s]of e){if(!n.element)continue;const i=`[${s}]`,o=t.matches(i)?t:t.querySelector(i);if(n.element.removeAttribute(s),!o)continue;const a=n.element;n.proxy=o,o.removeAttribute(s),Fi.set(a,o),r.push(()=>{Fi.delete(a),n.proxy=void 0})}}function hg(e,t="hidden"){e.setAttribute("inert","true"),e.setAttribute("tab-index","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute(Os,t)}function rl(e,t){return e===t?!0:Cr(e)===Cr(t)}function nl(e){const{target:t}=e;"newState"in e&&e.newState==="closed"&&$r(t)&&t.hasAttribute("popover")&&requestAnimationFrame(()=>sn(t))}function sl(e){return e.tagName==="TR"}var As=new Map,Zd,Yi,Sn,aa,ps,qd,Yd,In=class extends(Yi=We,Zd=[ae],Yi){constructor(t,r){super(t,r),Fe(this,ps),Fe(this,aa,Ne(Sn,8,this)),Ne(Sn,11,this),this.state={initial:{},current:{}},this.registerEffect(Zi(this,ps,Yd)),this.registerEffect(Zi(this,ps,qd))}destroy(){super.destroy();for(const[t,r]of As.entries())r.instances.has(this)&&(r.instances.delete(this),r.instances.size===0&&(r.cleanup(),As.delete(t)))}};Sn=Ln(Yi);aa=new WeakMap;ps=new WeakSet;qd=function(){var e,t,r;const{state:n,manager:s,options:i}=this,{dragOperation:o}=s,{position:a,source:l,status:c}=o;if(c.idle){n.current={},n.initial={};return}if(!l)return;const{element:d,feedback:u}=l;if(!d||u==="none"||!c.initialized||c.initializing)return;const{initial:p}=n,v=(e=this.overlay)!=null?e:d,g=Pr(v),E=Pr(d),y=!rl(d,v),S=new pt(d,{frameTransform:y?E:null,ignoreTransforms:!y}),m={x:E.scaleX/g.scaleX,y:E.scaleY/g.scaleY};let{width:_,height:x,top:C,left:I}=S;y&&(_=_/m.x,x=x/m.y);let D,b;const k=new zh(v),{transition:h,translate:A,boxSizing:N,paddingBlockStart:z,paddingBlockEnd:$,paddingInlineStart:V,paddingInlineEnd:R,borderInlineStartWidth:K,borderInlineEndWidth:U,borderBlockStartWidth:X,borderBlockEndWidth:G}=_t(d),Y=u==="clone",te=N==="content-box",ce=te?parseInt(V)+parseInt(R)+parseInt(K)+parseInt(U):0,Ie=te?parseInt(z)+parseInt($)+parseInt(X)+parseInt(G):0,se=u!=="move"&&!this.overlay?ug(l,Y?"clone":"hidden"):null,Ee=ge(()=>_n(s.dragOperation.activatorEvent));if(A!=="none"){const oe=xn(A);oe&&!p.translate&&(p.translate=oe)}if(!p.transformOrigin){const oe=ge(()=>a.current);p.transformOrigin={x:(oe.x-I*g.scaleX-g.x)/(_*g.scaleX),y:(oe.y-C*g.scaleY-g.y)/(x*g.scaleY)}}const{transformOrigin:De}=p,Z=C*g.scaleY+g.y,w=I*g.scaleX+g.x;if(!p.coordinates&&(p.coordinates={x:w,y:Z},m.x!==1||m.y!==1)){const{scaleX:oe,scaleY:H}=E,{x:J,y:Q}=De;p.coordinates.x+=(_*oe-_)*J,p.coordinates.y+=(x*H-x)*Q}p.dimensions||(p.dimensions={width:_,height:x}),p.frameTransform||(p.frameTransform=g);const O={x:p.coordinates.x-w,y:p.coordinates.y-Z},T={width:(p.dimensions.width*p.frameTransform.scaleX-_*g.scaleX)*De.x,height:(p.dimensions.height*p.frameTransform.scaleY-x*g.scaleY)*De.y},B={x:O.x/g.scaleX+T.width,y:O.y/g.scaleY+T.height},W={left:I+B.x,top:C+B.y};v.setAttribute(It,"true");const q=ge(()=>o.transform),ee=(t=p.translate)!=null?t:{x:0,y:0},he=q.x*g.scaleX+ee.x,xe=q.y*g.scaleY+ee.y,Oe=`${he}px ${xe}px 0`,Ae=h?`${h}, translate 0ms linear`:"";k.set({width:_-ce,height:x-Ie,top:W.top,left:W.left,translate:Oe,transition:Ae,scale:y?`${m.x} ${m.y}`:"","transform-origin":`${De.x*100}% ${De.y*100}%`},Ue),se&&(d.insertAdjacentElement("afterend",se),i?.rootElement&&(typeof i.rootElement=="function"?i.rootElement(l):i.rootElement).appendChild(d)),Wi(v)&&(v.hasAttribute("popover")||v.setAttribute("popover","manual"),sn(v),v.addEventListener("beforetoggle",nl));const ke=new ResizeObserver(()=>{if(!se)return;const oe=new pt(se,{frameTransform:g,ignoreTransforms:!0}),H=De??{x:1,y:1},J=(_-oe.width)*H.x+B.x,Q=(x-oe.height)*H.y+B.y;if(k.set({width:oe.width-ce,height:oe.height-Ie,top:C+Q,left:I+J},Ue),D?.takeRecords(),sl(d)&&sl(se)){const ue=Array.from(d.cells),ye=Array.from(se.cells);for(const[we,Te]of ue.entries()){const Ke=ye[we];Te.style.width=`${Ke.offsetWidth}px`}}o.shape=new pt(v)}),_e=new pt(v);ge(()=>o.shape=_e);const me=Mt(v),ot=oe=>{this.manager.actions.stop({event:oe})};Ee&&me.addEventListener("resize",ot),ge(()=>l.status)==="idle"&&requestAnimationFrame(()=>l.status="dragging"),se&&(ke.observe(se),D=new MutationObserver(oe=>{let H=!1;for(const J of oe){if(J.target!==d){H=!0;continue}if(J.type!=="attributes")continue;const Q=J.attributeName;if(Q.startsWith("aria-")||lg.includes(Q))continue;const ue=d.getAttribute(Q);if(Q==="style"){if(vn(d)&&vn(se)){const ye=d.style;for(const we of Array.from(se.style))ye.getPropertyValue(we)===""&&se.style.removeProperty(we);for(const we of Array.from(ye)){if(cg.includes(we)||we.startsWith(Ue))continue;const Te=ye.getPropertyValue(we);se.style.setProperty(we,Te)}}}else ue!==null?se.setAttribute(Q,ue):se.removeAttribute(Q)}H&&Y&&(se.innerHTML=d.innerHTML)}),D.observe(d,{attributes:!0,subtree:!0,childList:!0}),b=new MutationObserver(oe=>{for(const H of oe)if(H.addedNodes.length!==0)for(const J of Array.from(H.addedNodes)){if(J.contains(d)&&d.nextElementSibling!==se){d.insertAdjacentElement("afterend",se),sn(v);return}if(J.contains(se)&&se.previousElementSibling!==d){se.insertAdjacentElement("beforebegin",d),sn(v);return}}}),b.observe(d.ownerDocument.body,{childList:!0,subtree:!0}));const Tt=(r=s.dragOperation.source)==null?void 0:r.id,Wn=()=>{var oe;if(!Ee||Tt==null)return;const H=s.registry.draggables.get(Tt),J=(oe=H?.handle)!=null?oe:H?.element;lr(J)&&J.focus()},Ur=()=>{D?.disconnect(),b?.disconnect(),ke.disconnect(),me.removeEventListener("resize",ot),Wi(v)&&(v.removeEventListener("beforetoggle",nl),v.removeAttribute("popover")),v.removeAttribute(It),k.reset(),l.status="idle";const oe=n.current.translate!=null;se&&(oe||se.parentElement!==v.parentElement)&&v.isConnected&&se.replaceWith(v),se?.remove()},Gs=Nn(()=>{var oe;const{transform:H,status:J}=o;if(!(!H.x&&!H.y&&!n.current.translate)&&J.dragging){const Q=(oe=p.translate)!=null?oe:{x:0,y:0},ue={x:H.x/g.scaleX+Q.x,y:H.y/g.scaleY+Q.y},ye=n.current.translate,we=ge(()=>o.modifiers),Te=ge(()=>{var tt;return(tt=o.shape)==null?void 0:tt.current}),Ke=Ee?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(k.set({transition:`${h}, translate ${Ke}`,translate:`${ue.x}px ${ue.y}px 0`},Ue),D?.takeRecords(),Te&&Te!==_e&&ye&&!we.length){const tt=Ze.delta(ue,ye);o.shape=xt.from(Te.boundingRectangle).translate(tt.x*g.scaleX,tt.y*g.scaleY)}else o.shape=new pt(v);n.current.translate=ue}},function(){if(o.status.dropped){this.dispose(),l.status="dropping";let oe=n.current.translate;const H=oe!=null;if(!oe&&d!==v&&(oe={x:0,y:0}),!oe){Ur();return}const J=()=>{var Q,ue;{sn(v);const[,ye]=(Q=jd(v,Cf=>"translate"in Cf))!=null?Q:[];ye?.pause();const we=se??d,Te={frameTransform:rl(v,we)?null:void 0},Ke=new pt(v,Te),tt=(ue=xn(_t(v).translate))!=null?ue:oe,St=new pt(we,Te),Vr=xt.delta(Ke,St,l.alignment),Js={x:tt.x-Vr.x,y:tt.y-Vr.y},Ef=Math.round(Ke.intrinsicHeight)!==Math.round(St.intrinsicHeight)?{minHeight:[`${Ke.intrinsicHeight}px`,`${St.intrinsicHeight}px`],maxHeight:[`${Ke.intrinsicHeight}px`,`${St.intrinsicHeight}px`]}:{},kf=Math.round(Ke.intrinsicWidth)!==Math.round(St.intrinsicWidth)?{minWidth:[`${Ke.intrinsicWidth}px`,`${St.intrinsicWidth}px`],maxWidth:[`${Ke.intrinsicWidth}px`,`${St.intrinsicWidth}px`]}:{};k.set({transition:h},Ue),v.setAttribute(qi,""),D?.takeRecords(),Rd({element:v,keyframes:ia(wn(wn({},Ef),kf),{translate:[`${tt.x}px ${tt.y}px 0`,`${Js.x}px ${Js.y}px 0`]}),options:{duration:H||v!==d?250:0,easing:"ease"}}).then(()=>{v.removeAttribute(qi),ye?.finish(),Ur(),requestAnimationFrame(Wn)})}};s.renderer.rendering.then(J)}});return()=>{Ur(),Gs()}};Yd=function(){var e,t,r;const{status:n,source:s,target:i}=this.manager.dragOperation,{nonce:o}=(e=this.options)!=null?e:{};if(n.initializing){const a=kt((t=s?.element)!=null?t:null),l=kt((r=i?.element)!=null?r:null),c=new Set([a,l]);for(const d of c){let u=As.get(d);if(!u){const p=document.createElement("style");p.textContent=dg,o&&p.setAttribute("nonce",o),d.head.prepend(p);const v=new MutationObserver(g=>{for(const E of g)if(E.type==="childList"){const y=Array.from(E.removedNodes);y.length>0&&y.includes(p)&&d.head.prepend(p)}});v.observe(d.head,{childList:!0}),u={cleanup:()=>{v.disconnect(),p.remove()},instances:new Set},As.set(d,u)}u.instances.add(this)}}};Nt(Sn,4,"overlay",Zd,In,aa);Rr(Sn,In);In.configure=Ao(In);var gg=In,Zr=!0,vg=!1,Xd,Kd,Gd,Jd,Ut,la,ca;Jd=(Gd=[ae],dt.Forward),Kd=(Xd=[ae],dt.Reverse);var jn=class{constructor(){Fe(this,la,Ne(Ut,8,this,Zr)),Ne(Ut,11,this),Fe(this,ca,Ne(Ut,12,this,Zr)),Ne(Ut,15,this)}isLocked(e){return e===dt.Idle?!1:e==null?this[dt.Forward]===Zr&&this[dt.Reverse]===Zr:this[e]===Zr}unlock(e){e!==dt.Idle&&(this[e]=vg)}};Ut=Ln(null);la=new WeakMap;ca=new WeakMap;Nt(Ut,4,Jd,Gd,jn,la);Nt(Ut,4,Kd,Xd,jn,ca);Rr(Ut,jn);var mg=[dt.Forward,dt.Reverse],il=class{constructor(){this.x=new jn,this.y=new jn}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},yg=class extends We{constructor(e){super(e);const t=Mn(new il);let r=null;this.signal=t,Qe(()=>{const{status:n}=e.dragOperation;if(!n.initialized){r=null,t.value=new il;return}const{delta:s}=e.dragOperation.position;if(r){const i={x:ol(s.x,r.x),y:ol(s.y,r.y)},o=t.peek();je(()=>{for(const a of Tc)for(const l of mg)i[a]===l&&o[a].unlock(l);t.value=o})}r=s})}get current(){return this.signal.peek()}};function ol(e,t){return Math.sign(e-t)}var Qd,Xi,En,da,Ft,Ki,zn=class extends(Xi=Hs,Qd=[ae],Xi){constructor(e){super(e),Fe(this,da,Ne(En,8,this,!1)),Ne(En,11,this),Fe(this,Ft),Fe(this,Ki,()=>{if(!Re(this,Ft))return;const{element:i,by:o}=Re(this,Ft);o.y&&(i.scrollTop+=o.y),o.x&&(i.scrollLeft+=o.x)}),this.scroll=i=>{var o;if(this.disabled)return!1;const a=this.getScrollableElements();if(!a)return mt(this,Ft,void 0),!1;const{position:l}=this.manager.dragOperation,c=l?.current;if(c){const{by:d}=i??{},u=d?{x:al(d.x),y:al(d.y)}:void 0,p=u?void 0:this.scrollIntentTracker.current;if(p?.isLocked())return!1;for(const v of a){const g=mh(v,d);if(g.x||g.y){const{speed:E,direction:y}=Ph(v,c,u);if(p)for(const S of Tc)p[S].isLocked(y[S])&&(E[S]=0,y[S]=0);if(y.x||y.y){const{x:S,y:m}=d??y,_=S*E.x,x=m*E.y;if(_||x){const C=(o=Re(this,Ft))==null?void 0:o.by;if(this.autoScrolling&&C&&(C.x&&!_||C.y&&!x))continue;return mt(this,Ft,{element:v,by:{x:_,y:x}}),Cs.schedule(Re(this,Ki)),!0}}}}}return mt(this,Ft,void 0),!1};let t=null,r=null;const n=Is(()=>{const{position:i,source:o}=e.dragOperation;if(!i)return null;const a=Dd(kt(o?.element),i.current);return a&&(t=a),a??t}),s=Is(()=>{const i=n.value,{documentElement:o}=kt(i);if(!i||i===o){const{target:a}=e.dragOperation,l=a?.element;if(l){const c=Hi(l,{excludeElement:!1});return r=c,c}}if(i){const a=Hi(i,{excludeElement:!1});return this.autoScrolling&&r&&a.size<r?.size?r:(r=a,a)}return r=null,null},Ot);this.getScrollableElements=()=>s.value,this.scrollIntentTracker=new yg(e),this.destroy=e.monitor.addEventListener("dragmove",i=>{this.disabled||i.defaultPrevented||!_n(e.dragOperation.activatorEvent)||!i.by||this.scroll({by:i.by})&&i.preventDefault()})}};En=Ln(Xi);da=new WeakMap;Ft=new WeakMap;Ki=new WeakMap;Nt(En,4,"autoScrolling",Qd,zn,da);Rr(En,zn);function al(e){return e>0?dt.Forward:e<0?dt.Reverse:dt.Idle}var bg=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:t,resolvers:r}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const n of t)n();for(const n of r)n()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(t=>this.resolvers.add(t))}},xg=new bg(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),_g=10,ua=class extends We{constructor(e,t){super(e);const r=e.registry.plugins.get(zn);if(!r)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=Qe(()=>{if(this.disabled)return;const{position:n,status:s}=e.dragOperation;if(s.dragging)if(r.scroll()){r.autoScrolling=!0;const o=setInterval(()=>xg.schedule(r.scroll),_g);return()=>{clearInterval(o)}}else r.autoScrolling=!1})}},ll={capture:!0,passive:!0},an,wg=class extends Hs{constructor(e){super(e),Fe(this,an),this.handleScroll=()=>{Re(this,an)==null&&mt(this,an,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),mt(this,an,void 0)},50))};const{dragOperation:t}=this.manager;this.destroy=Qe(()=>{var r,n,s;if(t.status.dragging){const o=(s=(n=(r=t.source)==null?void 0:r.element)==null?void 0:n.ownerDocument)!=null?s:document;return o.addEventListener("scroll",this.handleScroll,ll),()=>{o.removeEventListener("scroll",this.handleScroll,ll)}}})}};an=new WeakMap;var Sg=class extends We{constructor(e,t){super(e,t),this.manager=e,this.destroy=Qe(()=>{var r;const{dragOperation:n}=this.manager,{nonce:s}=(r=this.options)!=null?r:{};if(n.status.initialized){const i=document.createElement("style");return s&&i.setAttribute("nonce",s),i.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild(i),ci(),document.addEventListener("selectionchange",ci,{capture:!0}),()=>{document.removeEventListener("selectionchange",ci,{capture:!0}),i.remove()}}})}};function ci(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var ln=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(e){var t;const{event:r,source:n}=e,s=(t=n.handle)!=null?t:n.element;return r.target===s}}),xr,Ms=class extends kr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,xr,[]),this.listeners=new Od,this.handleSourceKeyDown=(n,s,i)=>{if(this.disabled||n.defaultPrevented||!$r(n.target)||s.disabled)return;const{keyboardCodes:o=ln.keyboardCodes,shouldActivate:a=ln.shouldActivate}=i??{};o.start.includes(n.code)&&this.manager.dragOperation.status.idle&&a({event:n,source:s,manager:this.manager})&&this.handleStart(n,s,i)}}bind(t,r=this.options){return Qe(()=>{var s;const i=(s=t.handle)!=null?s:t.element,o=a=>{_n(a)&&this.handleSourceKeyDown(a,t,r)};if(i)return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}})}handleStart(t,r,n){const{element:s}=r;if(!s)throw new Error("Source draggable does not have an associated element");t.preventDefault(),t.stopImmediatePropagation(),zd(s);const{center:i}=new pt(s);if(this.manager.actions.start({event:t,coordinates:{x:i.x,y:i.y},source:r}).signal.aborted)return this.cleanup();this.sideEffects();const a=kt(s),l=[this.listeners.bind(a,[{type:"keydown",listener:c=>this.handleKeyDown(c,r,n),options:{capture:!0}}])];Re(this,xr).push(...l)}handleKeyDown(t,r,n){const{keyboardCodes:s=ln.keyboardCodes}=n??{};if(pr(t,[...s.end,...s.cancel])){t.preventDefault();const i=pr(t,s.cancel);this.handleEnd(t,i);return}pr(t,s.up)?this.handleMove("up",t):pr(t,s.down)&&this.handleMove("down",t),pr(t,s.left)?this.handleMove("left",t):pr(t,s.right)&&this.handleMove("right",t)}handleEnd(t,r){this.manager.actions.stop({event:t,canceled:r}),this.cleanup()}handleMove(t,r){var n,s;const{shape:i}=this.manager.dragOperation,o=r.shiftKey?5:1;let a={x:0,y:0},l=(s=(n=this.options)==null?void 0:n.offset)!=null?s:ln.offset;if(typeof l=="number"&&(l={x:l,y:l}),!!i){switch(t){case"up":a={x:0,y:-l.y*o};break;case"down":a={x:0,y:l.y*o};break;case"left":a={x:-l.x*o,y:0};break;case"right":a={x:l.x*o,y:0};break}(a.x||a.y)&&(r.preventDefault(),this.manager.actions.move({event:r,by:a}))}}sideEffects(){const t=this.manager.registry.plugins.get(ua);t?.disabled===!1&&(t.disable(),Re(this,xr).push(()=>{t.enable()}))}cleanup(){Re(this,xr).forEach(t=>t()),mt(this,xr,[])}destroy(){this.cleanup(),this.listeners.clear()}};xr=new WeakMap;Ms.configure=Ao(Ms);Ms.defaults=ln;var Ig=Ms;function pr(e,t){return t.includes(e.code)}var eu=Object.freeze({activationConstraints(e,t){var r;const{pointerType:n,target:s}=e;if(!(n==="mouse"&&$r(s)&&(t.handle===s||(r=t.handle)!=null&&r.contains(s))))return n==="touch"?{delay:{value:250,tolerance:5}}:Fh(s)&&!e.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),_r,wr,Ns=class extends kr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,_r,new Set),Fe(this,wr),this.listeners=new Od,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:n,coordinates:s}=this.latest;!n||!s||this.manager.actions.move({event:n,to:s})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(t,r){var n;const{activationConstraints:s=eu.activationConstraints}=(n=this.options)!=null?n:{};return typeof s=="function"?s(t,r):s}bind(t,r=this.options){return Qe(()=>{var s;const i=new AbortController,{signal:o}=i,a=c=>{Rh(c)&&this.handlePointerDown(c,t,r)};let l=[(s=t.handle)!=null?s:t.element];r?.activatorElements&&(Array.isArray(r.activatorElements)?l=r.activatorElements:l=r.activatorElements(t));for(const c of l)c&&(kg(c.ownerDocument.defaultView),c.addEventListener("pointerdown",a,{signal:o}));return()=>i.abort()})}handlePointerDown(t,r,n={}){if(this.disabled||!t.isPrimary||t.button!==0||!$r(t.target)||r.disabled||jg(t)||!this.manager.dragOperation.status.idle)return;const{target:s}=t,i=lr(s)&&s.draggable&&s.getAttribute("draggable")==="true",o=Pr(r.element);this.initialCoordinates={x:t.clientX*o.scaleX+o.x,y:t.clientY*o.scaleY+o.y};const a=this.activationConstraints(t,r);if(t.sensor=this,!a?.delay&&!a?.distance)this.handleStart(r,t);else{const{delay:u}=a;if(u){const p=setTimeout(()=>this.handleStart(r,t),u.value);mt(this,wr,()=>{clearTimeout(p),mt(this,wr,void 0)})}}const l=kt(t.target),c=this.listeners.bind(l,[{type:"pointermove",listener:u=>this.handlePointerMove(u,r)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:i?this.handleCancel:qn,options:{capture:!0}}]),d=()=>{var u;c(),(u=Re(this,wr))==null||u.call(this),this.initialCoordinates=void 0};Re(this,_r).add(d)}handlePointerMove(t,r){const n={x:t.clientX,y:t.clientY},s=Pr(r.element);if(n.x=n.x*s.scaleX+s.x,n.y=n.y*s.scaleY+s.y,this.manager.dragOperation.status.dragging){t.preventDefault(),t.stopPropagation(),this.latest.event=t,this.latest.coordinates=n,Cs.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const i={x:n.x-this.initialCoordinates.x,y:n.y-this.initialCoordinates.y},o=this.activationConstraints(t,r),{distance:a,delay:l}=o??{};if(a){if(a.tolerance!=null&&oi(i,a.tolerance))return this.handleCancel(t);if(oi(i,a.value))return this.handleStart(r,t)}if(l&&oi(i,l.tolerance))return this.handleCancel(t)}handlePointerUp(t){const{status:r}=this.manager.dragOperation;if(!r.idle){t.preventDefault(),t.stopPropagation();const n=!r.initialized;this.manager.actions.stop({event:t,canceled:n})}this.cleanup()}handleKeyDown(t){t.key==="Escape"&&(t.preventDefault(),this.handleCancel(t))}handleStart(t,r){var n;const{manager:s,initialCoordinates:i}=this;if((n=Re(this,wr))==null||n.call(this),!i||!s.dragOperation.status.idle||r.defaultPrevented)return;if(s.actions.start({coordinates:i,event:r,source:t}).signal.aborted)return this.cleanup();r.preventDefault();const a=kt(r.target),l=a.body;l.setPointerCapture(r.pointerId);const c=this.listeners.bind(a,[{type:"touchmove",listener:qn,options:{passive:!1}},{type:"click",listener:qn},{type:"contextmenu",listener:qn},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:d=>{d.target===l&&this.handlePointerUp(d)}}]);Re(this,_r).add(c)}handleCancel(t){const{dragOperation:r}=this.manager;r.status.initialized&&this.manager.actions.stop({event:t,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},Re(this,_r).forEach(t=>t()),Re(this,_r).clear()}destroy(){this.cleanup(),this.listeners.clear()}};_r=new WeakMap;wr=new WeakMap;Ns.configure=Ao(Ns);Ns.defaults=eu;var tu=Ns;function jg(e){return"sensor"in e}function qn(e){e.preventDefault()}function Eg(){}var cl=new WeakSet;function kg(e){!e||cl.has(e)||(e.addEventListener("touchmove",Eg,{capture:!1,passive:!1}),cl.add(e))}var or={modifiers:[],plugins:[ig,ua,ag,gg,Sg],sensors:[tu,Ig]},ru=class extends th{constructor(e={}){const{plugins:t=or.plugins,sensors:r=or.sensors,modifiers:n=[]}=e;super(ia(wn({},e),{plugins:[wg,zn,...t],sensors:r,modifiers:n}))}},nu,su,iu,Gi,ht,fa,pa,ha,Fr=class extends(Gi=jt,iu=[ae],su=[ae],nu=[ae],Gi){constructor(e,t){var r=e,{element:n,effects:s=()=>[],handle:i,feedback:o="default"}=r,a=Ud(r,["element","effects","handle","feedback"]);super(wn({effects:()=>[...s(),()=>{var l,c;const{manager:d}=this;if(!d)return;const p=((c=(l=this.sensors)==null?void 0:l.map(Mo))!=null?c:[...d.sensors]).map(v=>{const g=v instanceof kr?v:d.registry.register(v.plugin),E=v instanceof kr?void 0:v.options;return g.bind(this,E)});return function(){p.forEach(g=>g())}}]},a),t),Fe(this,fa,Ne(ht,8,this)),Ne(ht,11,this),Fe(this,pa,Ne(ht,12,this)),Ne(ht,15,this),Fe(this,ha,Ne(ht,16,this)),Ne(ht,19,this),this.element=n,this.handle=i,this.feedback=o}};ht=Ln(Gi);fa=new WeakMap;pa=new WeakMap;ha=new WeakMap;Nt(ht,4,"handle",iu,Fr,fa);Nt(ht,4,"element",su,Fr,pa);Nt(ht,4,"feedback",nu,Fr,ha);Rr(ht,Fr);var ou,au,Ji,Vt,ga,di,lu,cu,mn,va,Zs=class extends(Ji=Et,au=[ae],ou=[ae],Ji){constructor(e,t){var r=e,{element:n,effects:s=()=>[]}=r,i=Ud(r,["element","effects"]);const{collisionDetector:o=Fd}=i,a=c=>{const{manager:d,element:u}=this;if(!u||c===null){this.shape=void 0;return}if(!d)return;const p=new pt(u),v=ge(()=>this.shape);return p&&v?.equals(p)?v:(this.shape=p,p)},l=Mn(!1);super(ia(wn({},i),{collisionDetector:o,effects:()=>[...s(),()=>{const{element:c,manager:d}=this;if(!d)return;const{dragOperation:u}=d,{source:p}=u;l.value=!!(p&&u.status.initialized&&c&&!this.disabled&&this.accepts(p))},()=>{const{element:c}=this;if(l.value&&c){const d=new vh(c,a);return()=>{d.disconnect(),this.shape=void 0}}},()=>{var c;if((c=this.manager)!=null&&c.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),Fe(this,mn),Fe(this,ga,Ne(Vt,8,this)),Ne(Vt,11,this),Fe(this,va,Ne(Vt,12,this)),Ne(Vt,15,this),this.element=n,this.refreshShape=()=>a()}set element(e){mt(this,mn,e,cu)}get element(){var e;return(e=this.proxy)!=null?e:Re(this,mn,lu)}};Vt=Ln(Ji);ga=new WeakMap;mn=new WeakSet;va=new WeakMap;di=Nt(Vt,20,"#element",au,mn,ga),lu=di.get,cu=di.set;Nt(Vt,4,"proxy",ou,Zs,va);Rr(Vt,Zs);function Cg(e){return e!=null&&typeof e=="object"&&"current"in e}function Yt(e){var t;if(e!=null)return Cg(e)?(t=e.current)!=null?t:void 0:e}var Pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Br=Pg?j.useLayoutEffect:j.useEffect;function Dg(){const e=j.useState(0)[1];return j.useCallback(()=>{e(t=>t+1)},[e])}function ma(e,t){const r=j.useRef(new Map),n=Dg();return Br(()=>{if(!e){r.current.clear();return}return Qe(()=>{var s;let i=!1,o=!1;for(const a of r.current){const[l]=a,c=ge(()=>a[1]),d=e[l];c!==d&&(i=!0,r.current.set(l,d),o=(s=t?.(l,c,d))!=null?s:!1)}i&&(o?zs.flushSync(n):n())})},[e]),j.useMemo(()=>e&&new Proxy(e,{get(s,i){const o=s[i];return r.current.set(i,o),o}}),[e])}function Og(e,t){e()}function hr(e){const t=j.useRef(e);return Br(()=>{t.current=e},[e]),t}function fe(e,t,r=j.useEffect,n=Object.is){const s=j.useRef(e);r(()=>{const i=s.current;n(e,i)||(s.current=e,t(e,i))},[t,e])}function Er(e,t){const r=j.useRef(Yt(e));Br(()=>{const n=Yt(e);n!==r.current&&(r.current=n,t(n))})}var Ag=Object.defineProperty,Mg=Object.defineProperties,Ng=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,uu=Object.prototype.propertyIsEnumerable,dl=(e,t,r)=>t in e?Ag(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fu=(e,t)=>{for(var r in t||(t={}))du.call(t,r)&&dl(e,r,t[r]);if(Ts)for(var r of Ts(t))uu.call(t,r)&&dl(e,r,t[r]);return e},pu=(e,t)=>Mg(e,Ng(t)),Tg=(e,t)=>{var r={};for(var n in e)du.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ts)for(var n of Ts(e))t.indexOf(n)<0&&uu.call(e,n)&&(r[n]=e[n]);return r},Lg=new ru,hu=j.createContext(Lg),$g=j.memo(j.forwardRef(({children:e},t)=>{const[r,n]=j.useState(0),s=j.useRef(null),i=j.useRef(null),o=j.useMemo(()=>({renderer:{get rendering(){var a;return(a=s.current)!=null?a:Promise.resolve()}},trackRendering(a){s.current||(s.current=new Promise(l=>{i.current=l})),j.startTransition(()=>{a(),n(l=>l+1)})}}),[]);return Br(()=>{var a;(a=i.current)==null||a.call(i),s.current=null},[e,r]),j.useImperativeHandle(t,()=>o),null})),ui=[void 0,Ot];function gu(e){var t=e,{children:r,onCollision:n,onBeforeDragStart:s,onDragStart:i,onDragMove:o,onDragOver:a,onDragEnd:l}=t,c=Tg(t,["children","onCollision","onBeforeDragStart","onDragStart","onDragMove","onDragOver","onDragEnd"]),d;const u=j.useRef(null),[p,v]=j.useState((d=c.manager)!=null?d:null),{plugins:g,modifiers:E,sensors:y}=c,S=hr(s),m=hr(i),_=hr(a),x=hr(o),C=hr(l),I=hr(n);return j.useEffect(()=>{var D;if(!u.current)throw new Error("Renderer not found");const{renderer:b,trackRendering:k}=u.current,h=(D=c.manager)!=null?D:new ru(c);return h.renderer=b,h.monitor.addEventListener("beforedragstart",A=>{const N=S.current;N&&k(()=>N(A,h))}),h.monitor.addEventListener("dragstart",A=>{var N;return(N=m.current)==null?void 0:N.call(m,A,h)}),h.monitor.addEventListener("dragover",A=>{const N=_.current;N&&k(()=>N(A,h))}),h.monitor.addEventListener("dragmove",A=>{const N=x.current;N&&k(()=>N(A,h))}),h.monitor.addEventListener("dragend",A=>{const N=C.current;N&&k(()=>N(A,h))}),h.monitor.addEventListener("collision",A=>{var N;return(N=I.current)==null?void 0:N.call(I,A,h)}),j.startTransition(()=>v(h)),h.destroy},[c.manager]),fe(g,()=>p&&(p.plugins=g??or.plugins),...ui),fe(y,()=>p&&(p.sensors=y??or.sensors),...ui),fe(E,()=>p&&(p.modifiers=E??or.modifiers),...ui),f.jsxs(hu.Provider,{value:p,children:[f.jsx($g,{ref:u,children:r}),r]})}function vu(){return j.useContext(hu)}function ya(e){var t;const r=(t=vu())!=null?t:void 0,[n]=j.useState(()=>e(r));return n.manager!==r&&(n.manager=r),Br(n.register,[r,n]),n}function zg(e){const{disabled:t,data:r,element:n,handle:s,id:i,modifiers:o,sensors:a}=e,l=ya(d=>new Fr(pu(fu({},e),{register:!1,handle:Yt(s),element:Yt(n)}),d)),c=ma(l,Rg);return fe(i,()=>l.id=i),Er(s,d=>l.handle=d),Er(n,d=>l.element=d),fe(r,()=>r&&(l.data=r)),fe(t,()=>l.disabled=t===!0),fe(a,()=>l.sensors=a),fe(o,()=>l.modifiers=o,void 0,Ot),fe(e.feedback,()=>{var d;return l.feedback=(d=e.feedback)!=null?d:"default"}),fe(e.alignment,()=>l.alignment=e.alignment),{draggable:c,get isDragging(){return c.isDragging},get isDropping(){return c.isDropping},get isDragSource(){return c.isDragSource},handleRef:j.useCallback(d=>{l.handle=d??void 0},[l]),ref:j.useCallback(d=>{var u,p;!d&&((u=l.element)!=null&&u.isConnected)&&!((p=l.manager)!=null&&p.dragOperation.status.idle)||(l.element=d??void 0)},[l])}}function Rg(e,t,r){return!!(e==="isDragSource"&&!r&&t)}var Fg=Object.create,mu=Object.defineProperty,Bg=Object.getOwnPropertyDescriptor,yu=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),qs=e=>{throw TypeError(e)},Wg=(e,t,r)=>t in e?mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hg=e=>{var t;return[,,,Fg((t=e?.[yu("metadata")])!=null?t:null)]},bu=["class","method","getter","setter","accessor","field","value","get","set"],xu=e=>e!==void 0&&typeof e!="function"?qs("Function expected"):e,Ug=(e,t,r,n,s)=>({kind:bu[e],name:t,metadata:n,addInitializer:i=>r._?qs("Already initialized"):s.push(xu(i||null))}),Vg=(e,t)=>Wg(t,yu("metadata"),e[3]),Zg=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},_u=(e,t,r,n,s,i)=>{for(var o,a,l,c,d=t&7,u=!1,p=!1,v=2,g=bu[d+5],E=e[v]||(e[v]=[]),y=(s=s.prototype,Bg(s,r)),S=n.length-1;S>=0;S--)l=Ug(d,r,a={},e[3],E),l.static=u,l.private=p,c=l.access={has:m=>r in m},c.get=m=>m[r],o=(0,n[S])(y[g],l),a._=1,xu(o)&&(y[g]=o);return y&&mu(s,r,y),s},wu=(e,t,r)=>t.has(e)||qs("Cannot "+r),qg=(e,t,r)=>(wu(e,t,"read from private field"),t.get(e)),Yg=(e,t,r)=>t.has(e)?qs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Xg=(e,t,r,n)=>(wu(e,t,"write to private field"),t.set(e,r),r),sr=class Qi{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new Qi(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new Qi(t,r)}},Su,Iu,eo,hs,Rn,ba=class extends(eo=dr,Iu=[Me],Su=[Me],eo){constructor(e){const t=sr.from(e);super(t,(r,n)=>sr.equals(r,n)),Zg(Rn,5,this),Yg(this,hs,0),this.velocity={x:0,y:0}}get delta(){return sr.delta(this.current,this.initial)}get direction(){const{current:e,previous:t}=this;if(!t)return null;const r={x:e.x-t.x,y:e.y-t.y};return!r.x&&!r.y?null:Math.abs(r.x)>Math.abs(r.y)?r.x>0?"right":"left":r.y>0?"down":"up"}get current(){return super.current}set current(e){const{current:t}=this,r=sr.from(e),n={x:r.x-t.x,y:r.y-t.y},s=Date.now(),i=s-qg(this,hs),o=a=>Math.round(a/i*100);je(()=>{Xg(this,hs,s),this.velocity={x:o(n.x),y:o(n.y)},super.current=r})}reset(e=this.defaultValue){super.reset(sr.from(e)),this.velocity={x:0,y:0}}};Rn=Hg(eo);hs=new WeakMap;_u(Rn,2,"delta",Iu,ba);_u(Rn,2,"direction",Su,ba);Vg(Rn,ba);var ju=(e=>(e.Horizontal="x",e.Vertical="y",e))(ju||{});Object.values(ju);var Kg=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=sr.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},Gg=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=sr.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Ct.ShapeIntersection,priority:ct.Normal}}return null},Jg=e=>{var t;return(t=Kg(e))!=null?t:Gg(e)};function Eu(e){const{collisionDetector:t,data:r,disabled:n,element:s,id:i,accept:o,type:a}=e,l=ya(d=>new Zs(pu(fu({},e),{register:!1,element:Yt(s)}),d)),c=ma(l);return fe(i,()=>l.id=i),Er(s,d=>l.element=d),fe(o,()=>l.accept=o,void 0,Ot),fe(t,()=>l.collisionDetector=t??Jg),fe(r,()=>r&&(l.data=r)),fe(n,()=>l.disabled=n===!0),fe(a,()=>l.type=a),{droppable:c,get isDropTarget(){return c.isDropTarget},ref:j.useCallback(d=>{var u,p;!d&&((u=l.element)!=null&&u.isConnected)&&!((p=l.manager)!=null&&p.dragOperation.status.idle)||(l.element=d??void 0)},[l])}}var Qg=Object.create,ku=Object.defineProperty,ev=Object.defineProperties,tv=Object.getOwnPropertyDescriptor,rv=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,Cu=Object.prototype.hasOwnProperty,Pu=Object.prototype.propertyIsEnumerable,nv=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Fn=e=>{throw TypeError(e)},to=(e,t,r)=>t in e?ku(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sv=(e,t)=>{for(var r in t||(t={}))Cu.call(t,r)&&to(e,r,t[r]);if(Ls)for(var r of Ls(t))Pu.call(t,r)&&to(e,r,t[r]);return e},iv=(e,t)=>ev(e,rv(t)),ov=(e,t)=>{var r={};for(var n in e)Cu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ls)for(var n of Ls(e))t.indexOf(n)<0&&Pu.call(e,n)&&(r[n]=e[n]);return r},av=e=>{var t;return[,,,Qg((t=void 0)!=null?t:null)]},Du=["class","method","getter","setter","accessor","field","value","get","set"],cn=e=>e!==void 0&&typeof e!="function"?Fn("Function expected"):e,lv=(e,t,r,n,s)=>({kind:Du[e],name:t,metadata:n,addInitializer:i=>r._?Fn("Already initialized"):s.push(cn(i||null))}),cv=(e,t)=>to(t,nv("metadata"),e[3]),Yn=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Ou=(e,t,r,n,s,i)=>{for(var o,a,l,c,d,u=t&7,p=!1,v=!1,g=e.length+1,E=Du[u+5],y=e[g-1]=[],S=e[g]||(e[g]=[]),m=(s=s.prototype,tv({get[r](){return dn(this,i)},set[r](x){return rr(this,i,x)}},r)),_=n.length-1;_>=0;_--)c=lv(u,r,l={},e[3],S),c.static=p,c.private=v,d=c.access={has:x=>r in x},d.get=x=>x[r],d.set=(x,C)=>x[r]=C,a=(0,n[_])({get:m.get,set:m.set},c),l._=1,a===void 0?cn(a)&&(m[E]=a):typeof a!="object"||a===null?Fn("Object expected"):(cn(o=a.get)&&(m.get=o),cn(o=a.set)&&(m.set=o),cn(o=a.init)&&y.unshift(o));return m&&ku(s,r,m),s},Au=(e,t,r)=>t.has(e)||Fn("Cannot "+r),dn=(e,t,r)=>(Au(e,t,"read from private field"),t.get(e)),qr=(e,t,r)=>t.has(e)?Fn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rr=(e,t,r,n)=>(Au(e,t,"write to private field"),t.set(e,r),r);function ir(e){return e instanceof wa||e instanceof Lu}var Xn=10,dv=class extends We{constructor(e){super(e);const t=Qe(()=>{const{dragOperation:n}=e;if(_n(n.activatorEvent)&&ir(n.source)&&n.status.initialized){const s=e.registry.plugins.get(zn);if(s)return s.disable(),()=>s.enable()}}),r=e.monitor.addEventListener("dragmove",(n,s)=>{queueMicrotask(()=>{if(this.disabled||n.defaultPrevented||!n.nativeEvent)return;const{dragOperation:i}=s;if(!_n(n.nativeEvent)||!ir(i.source)||!i.shape)return;const{actions:o,collisionObserver:a,registry:l}=s,{by:c}=n;if(!c)return;const d=uv(c),{source:u,target:p}=i,{center:v}=i.shape.current,g=[],E=[];je(()=>{for(const C of l.droppables){const{id:I}=C;if(!C.accepts(u)||I===p?.id&&ir(C)||!C.element)continue;let D=C.shape;const b=new pt(C.element,{getBoundingClientRect:k=>bn(k,void 0,.2)});!b.height||!b.width||(d=="down"&&v.y+Xn<b.center.y||d=="up"&&v.y-Xn>b.center.y||d=="left"&&v.x-Xn>b.center.x||d=="right"&&v.x+Xn<b.center.x)&&(g.push(C),C.shape=b,E.push(()=>C.shape=D))}}),n.preventDefault(),a.disable();const y=a.computeCollisions(g,Uh);je(()=>E.forEach(C=>C()));const[S]=y;if(!S)return;const{id:m}=S,{index:_,group:x}=u.sortable;o.setDropTarget(m).then(()=>{const{source:C,target:I,shape:D}=i;if(!C||!ir(C)||!D)return;const{index:b,group:k,target:h}=C.sortable,A=_!==b||x!==k,N=A?h:I?.element;if(!N)return;zd(N);const z=new pt(N);if(!z)return;const $=xt.delta(z,xt.from(D.current.boundingRectangle),C.alignment);o.move({by:$}),A?o.setDropTarget(C.id).then(()=>a.enable()):a.enable()})})});this.destroy=()=>{r(),t()}}};function uv(e){const{x:t,y:r}=e;if(t>0)return"right";if(t<0)return"left";if(r>0)return"down";if(r<0)return"up"}var fv=Object.defineProperty,pv=Object.defineProperties,hv=Object.getOwnPropertyDescriptors,ul=Object.getOwnPropertySymbols,gv=Object.prototype.hasOwnProperty,vv=Object.prototype.propertyIsEnumerable,fl=(e,t,r)=>t in e?fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pl=(e,t)=>{for(var r in t||(t={}))gv.call(t,r)&&fl(e,r,t[r]);if(ul)for(var r of ul(t))vv.call(t,r)&&fl(e,r,t[r]);return e},hl=(e,t)=>pv(e,hv(t));function mv(e,t,r){if(t===r)return e;const n=e.slice();return n.splice(r,0,n.splice(t,1)[0]),n}function yv(e,t,r){var n,s;const{source:i,target:o,canceled:a}=t.operation;if(!i||!o||a)return"preventDefault"in t&&t.preventDefault(),e;const l=(_,x)=>_===x||typeof _=="object"&&"id"in _&&_.id===x;if(Array.isArray(e)){const _=e.findIndex(C=>l(C,i.id)),x=e.findIndex(C=>l(C,o.id));if(_===-1||x===-1)return e;if(!a&&"index"in i&&typeof i.index=="number"){const C=i.index;if(C!==_)return r(e,_,C)}return r(e,_,x)}const c=Object.entries(e);let d=-1,u,p=-1,v;for(const[_,x]of c)if(d===-1&&(d=x.findIndex(C=>l(C,i.id)),d!==-1&&(u=_)),p===-1&&(p=x.findIndex(C=>l(C,o.id)),p!==-1&&(v=_)),d!==-1&&p!==-1)break;if(!i.manager)return e;const{dragOperation:g}=i.manager,E=(s=(n=g.shape)==null?void 0:n.current.center)!=null?s:g.position.current;if(v==null&&o.id in e){const _=o.shape&&E.y>o.shape.center.y?e[o.id].length:0;v=o.id,p=_}if(u==null||v==null||u===v&&d===p)return"preventDefault"in t&&t.preventDefault(),e;if(u===v)return hl(pl({},e),{[u]:r(e[u],d,p)});const S=o.shape&&Math.round(E.y)>Math.round(o.shape.center.y)?1:0,m=e[u][d];return hl(pl({},e),{[u]:[...e[u].slice(0,d),...e[u].slice(d+1)],[v]:[...e[v].slice(0,p+S),m,...e[v].slice(p+S)]})}function bv(e,t){return yv(e,t,mv)}var gl="__default__",xv=class extends We{constructor(e){super(e);const t=()=>{const n=new Map;for(const s of e.registry.droppables)if(s instanceof wa){const{sortable:i}=s,{group:o}=i;let a=n.get(o);a||(a=new Set,n.set(o,a)),a.add(i)}for(const[s,i]of n)n.set(s,new Set(Kn(i)));return n},r=[e.monitor.addEventListener("dragover",(n,s)=>{if(this.disabled)return;const{dragOperation:i}=s,{source:o,target:a}=i;if(!ir(o)||!ir(a)||o.sortable===a.sortable)return;const l=t(),c=o.sortable.group===a.sortable.group,d=l.get(o.sortable.group),u=c?d:l.get(a.sortable.group);!d||!u||queueMicrotask(()=>{n.defaultPrevented||s.renderer.rendering.then(()=>{var p,v,g;const E=t();for(const[h,A]of l.entries()){const N=Array.from(A).entries();for(const[z,$]of N)if($.index!==z||$.group!==h||!((p=E.get(h))!=null&&p.has($)))return}const y=o.sortable.element,S=a.sortable.element;if(!S||!y||!c&&a.id===o.sortable.group)return;const m=Kn(d),_=c?m:Kn(u),x=(v=o.sortable.group)!=null?v:gl,C=(g=a.sortable.group)!=null?g:gl,I={[x]:m,[C]:_},D=bv(I,n);if(I===D)return;const b=D[C].indexOf(o.sortable),k=D[C].indexOf(a.sortable);s.collisionObserver.disable(),vl(y,b,S,k),je(()=>{for(const[h,A]of D[x].entries())A.index=h;if(!c)for(const[h,A]of D[C].entries())A.group=a.sortable.group,A.index=h}),s.actions.setDropTarget(o.id).then(()=>s.collisionObserver.enable())})})}),e.monitor.addEventListener("dragend",(n,s)=>{if(!n.canceled)return;const{dragOperation:i}=s,{source:o}=i;ir(o)&&(o.sortable.initialIndex===o.sortable.index&&o.sortable.initialGroup===o.sortable.group||queueMicrotask(()=>{const a=t(),l=a.get(o.sortable.initialGroup);l&&s.renderer.rendering.then(()=>{for(const[v,g]of a.entries()){const E=Array.from(g).entries();for(const[y,S]of E)if(S.index!==y||S.group!==v)return}const c=Kn(l),d=o.sortable.element,u=c[o.sortable.initialIndex],p=u?.element;!u||!p||!d||(vl(d,u.index,p,o.index),je(()=>{for(const[v,g]of a.entries()){const E=Array.from(g).values();for(const y of E)y.index=y.initialIndex,y.group=y.initialGroup}}))})}))})];this.destroy=()=>{for(const n of r)n()}}};function vl(e,t,r,n){const s=n<t?"afterend":"beforebegin";r.insertAdjacentElement(s,e)}function _v(e,t){return e.index-t.index}function Kn(e){return Array.from(e).sort(_v)}var wv=[dv,xv],Mu={duration:250,easing:"cubic-bezier(0.25, 1, 0.5, 1)",idle:!1},Gn=new Ep,Nu,Tu,Zt,xa,un,fn,_a,Sr;Tu=[ae],Nu=[ae];var Ys=class{constructor(e,t){qr(this,xa,Yn(Zt,8,this)),Yn(Zt,11,this),qr(this,un),qr(this,fn),qr(this,_a,Yn(Zt,12,this)),Yn(Zt,15,this),qr(this,Sr),this.register=()=>(je(()=>{var u,p;(u=this.manager)==null||u.registry.register(this.droppable),(p=this.manager)==null||p.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{je(()=>{var u,p;(u=this.manager)==null||u.registry.unregister(this.droppable),(p=this.manager)==null||p.registry.unregister(this.draggable)})},this.destroy=()=>{je(()=>{this.droppable.destroy(),this.draggable.destroy()})};var r=e,{effects:n=()=>[],group:s,index:i,sensors:o,type:a,transition:l=Mu,plugins:c=wv}=r,d=ov(r,["effects","group","index","sensors","type","transition","plugins"]);this.droppable=new wa(d,t,this),this.draggable=new Lu(iv(sv({},d),{effects:()=>[()=>{var u,p,v;const g=(u=this.manager)==null?void 0:u.dragOperation.status;g?.initializing&&this.id===((v=(p=this.manager)==null?void 0:p.dragOperation.source)==null?void 0:v.id)&&Gn.clear(this.manager),g?.dragging&&Gn.set(this.manager,this.id,ge(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{const{index:u,group:p,manager:v}=this,g=dn(this,fn),E=dn(this,un);(u!==g||p!==E)&&(rr(this,fn,u),rr(this,un,p),this.animate())},()=>{const{target:u}=this,{feedback:p,isDragSource:v}=this.draggable;p=="move"&&v&&(this.droppable.disabled=!u)},()=>{const{manager:u}=this;for(const p of c)u?.registry.register(p)},...n()],type:a,sensors:o}),t,this),rr(this,Sr,d.element),this.manager=t,this.index=i,rr(this,fn,i),this.group=s,rr(this,un,s),this.type=a,this.transition=l}get initialIndex(){var e,t;return(t=(e=Gn.get(this.manager,this.id))==null?void 0:e.initialIndex)!=null?t:this.index}get initialGroup(){var e,t;return(t=(e=Gn.get(this.manager,this.id))==null?void 0:e.initialGroup)!=null?t:this.group}animate(){ge(()=>{const{manager:e,transition:t}=this,{shape:r}=this.droppable;if(!e)return;const{idle:n}=e.dragOperation.status;!r||!t||n&&!t.idle||e.renderer.rendering.then(()=>{const{element:s}=this;if(!s)return;const i=this.refreshShape();if(!i)return;const o={x:r.boundingRectangle.left-i.boundingRectangle.left,y:r.boundingRectangle.top-i.boundingRectangle.top},{translate:a}=_t(s),l=Qa(s,a,!1),c=Qa(s,a);(o.x||o.y)&&Rd({element:s,keyframes:{translate:[`${l.x+o.x}px ${l.y+o.y}px ${l.z}`,`${c.x}px ${c.y}px ${c.z}`]},options:t}).then(()=>{e.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(e){je(()=>{this.draggable.manager=e,this.droppable.manager=e})}set element(e){je(()=>{const t=dn(this,Sr),r=this.droppable.element,n=this.draggable.element;(!r||r===t)&&(this.droppable.element=e),(!n||n===t)&&(this.draggable.element=e),rr(this,Sr,e)})}get element(){var e,t;const r=dn(this,Sr);if(r)return(t=(e=Fi.get(r))!=null?e:r)!=null?t:this.droppable.element}set target(e){this.droppable.element=e}get target(){return this.droppable.element}set source(e){this.draggable.element=e}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(e){this.draggable.feedback=e}set disabled(e){je(()=>{this.droppable.disabled=e,this.draggable.disabled=e})}set data(e){je(()=>{this.droppable.data=e,this.draggable.data=e})}set handle(e){this.draggable.handle=e}set id(e){je(()=>{this.droppable.id=e,this.draggable.id=e})}get id(){return this.droppable.id}set sensors(e){this.draggable.sensors=e}set modifiers(e){this.draggable.modifiers=e}set collisionPriority(e){this.droppable.collisionPriority=e}set collisionDetector(e){this.droppable.collisionDetector=e??Fd}set alignment(e){this.draggable.alignment=e}get alignment(){return this.draggable.alignment}set type(e){je(()=>{this.droppable.type=e,this.draggable.type=e})}get type(){return this.draggable.type}set accept(e){this.droppable.accept=e}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(e){return this.droppable.accepts(e)}};Zt=av();xa=new WeakMap;un=new WeakMap;fn=new WeakMap;_a=new WeakMap;Sr=new WeakMap;Ou(Zt,4,"index",Tu,Ys,xa);Ou(Zt,4,"group",Nu,Ys,_a);cv(Zt,Ys);var Lu=class extends Fr{constructor(e,t,r){super(e,t),this.sortable=r}get index(){return this.sortable.index}},wa=class extends Zs{constructor(e,t,r){super(e,t),this.sortable=r}},Sv=Object.defineProperty,Iv=Object.defineProperties,jv=Object.getOwnPropertyDescriptors,ml=Object.getOwnPropertySymbols,Ev=Object.prototype.hasOwnProperty,kv=Object.prototype.propertyIsEnumerable,yl=(e,t,r)=>t in e?Sv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fi=(e,t)=>{for(var r in t||(t={}))Ev.call(t,r)&&yl(e,r,t[r]);if(ml)for(var r of ml(t))kv.call(t,r)&&yl(e,r,t[r]);return e},Cv=(e,t)=>Iv(e,jv(t));function $u(e){const{accept:t,collisionDetector:r,collisionPriority:n,id:s,data:i,element:o,handle:a,index:l,group:c,disabled:d,feedback:u,modifiers:p,sensors:v,target:g,type:E}=e,y=fi(fi({},Mu),e.transition),S=ya(_=>new Ys(Cv(fi({},e),{transition:y,register:!1,handle:Yt(a),element:Yt(o),target:Yt(g),feedback:u}),_)),m=ma(S,Pv);return fe(s,()=>S.id=s),Br(()=>{je(()=>{S.group=c,S.index=l})},[S,c,l]),fe(E,()=>S.type=E),fe(t,()=>S.accept=t,void 0,Ot),fe(i,()=>i&&(S.data=i)),fe(l,()=>{var _;(_=S.manager)!=null&&_.dragOperation.status.idle&&y?.idle&&S.refreshShape()},Og),Er(a,_=>S.handle=_),Er(o,_=>S.element=_),Er(g,_=>S.target=_),fe(d,()=>S.disabled=d===!0),fe(v,()=>S.sensors=v),fe(r,()=>S.collisionDetector=r),fe(n,()=>S.collisionPriority=n),fe(u,()=>S.feedback=u??"default"),fe(y,()=>S.transition=y,void 0,Ot),fe(p,()=>S.modifiers=p,void 0,Ot),fe(e.alignment,()=>S.alignment=e.alignment),{sortable:m,get isDragging(){return m.isDragging},get isDropping(){return m.isDropping},get isDragSource(){return m.isDragSource},get isDropTarget(){return m.isDropTarget},handleRef:j.useCallback(_=>{S.handle=_??void 0},[S]),ref:j.useCallback(_=>{var x,C;!_&&((x=S.element)!=null&&x.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.element=_??void 0)},[S]),sourceRef:j.useCallback(_=>{var x,C;!_&&((x=S.source)!=null&&x.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.source=_??void 0)},[S]),targetRef:j.useCallback(_=>{var x,C;!_&&((x=S.target)!=null&&x.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.target=_??void 0)},[S])}}function Pv(e,t,r){return!!(e==="isDragSource"&&!r&&t)}const bl=e=>Symbol.iterator in e,xl=e=>"entries"in e,_l=(e,t)=>{const r=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(r.size!==n.size)return!1;for(const[s,i]of r)if(!n.has(s)||!Object.is(i,n.get(s)))return!1;return!0},Dv=(e,t)=>{const r=e[Symbol.iterator](),n=t[Symbol.iterator]();let s=r.next(),i=n.next();for(;!s.done&&!i.done;){if(!Object.is(s.value,i.value))return!1;s=r.next(),i=n.next()}return!!s.done&&!!i.done};function Ov(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:bl(e)&&bl(t)?xl(e)&&xl(t)?_l(e,t):Dv(e,t):_l({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Be(e){const t=Ht.useRef(void 0);return r=>{const n=e(r);return Ov(t.current,n)?t.current:t.current=n}}function Av(e,t,r){var n=this,s=j.useRef(null),i=j.useRef(0),o=j.useRef(null),a=j.useRef([]),l=j.useRef(),c=j.useRef(),d=j.useRef(e),u=j.useRef(!0);j.useEffect(function(){d.current=e},[e]);var p=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var v=!!(r=r||{}).leading,g=!("trailing"in r)||!!r.trailing,E="maxWait"in r,y=E?Math.max(+r.maxWait||0,t):null;j.useEffect(function(){return u.current=!0,function(){u.current=!1}},[]);var S=j.useMemo(function(){var m=function(b){var k=a.current,h=l.current;return a.current=l.current=null,i.current=b,c.current=d.current.apply(h,k)},_=function(b,k){p&&cancelAnimationFrame(o.current),o.current=p?requestAnimationFrame(b):setTimeout(b,k)},x=function(b){if(!u.current)return!1;var k=b-s.current;return!s.current||k>=t||k<0||E&&b-i.current>=y},C=function(b){return o.current=null,g&&a.current?m(b):(a.current=l.current=null,c.current)},I=function b(){var k=Date.now();if(x(k))return C(k);if(u.current){var h=t-(k-s.current),A=E?Math.min(h,y-(k-i.current)):h;_(b,A)}},D=function(){var b=Date.now(),k=x(b);if(a.current=[].slice.call(arguments),l.current=n,s.current=b,k){if(!o.current&&u.current)return i.current=s.current,_(I,t),v?m(s.current):c.current;if(E)return _(I,t),m(s.current)}return o.current||_(I,t),c.current};return D.cancel=function(){o.current&&(p?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,a.current=s.current=l.current=o.current=null},D.isPending=function(){return!!o.current},D.flush=function(){return o.current?C(Date.now()):c.current},D},[v,E,t,y,g,p]);return S}function Jn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pi={exports:{}},wl;function Mv(){return wl||(wl=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,s,i){function o(c,d){if(!s[c]){if(!n[c]){var u=typeof Jn=="function"&&Jn;if(!d&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}d=s[c]={exports:{}},n[c][0].call(d.exports,function(p){var v=n[c][1][p];return o(v||p)},d,d.exports,r,n,s,i)}return s[c].exports}for(var a=typeof Jn=="function"&&Jn,l=0;l<i.length;l++)o(i[l]);return o})({1:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){var g=r("crypto");function E(I,D){D=m(I,D);var b;return(b=D.algorithm!=="passthrough"?g.createHash(D.algorithm):new C).write===void 0&&(b.write=b.update,b.end=b.update),x(D,b).dispatch(I),b.update||b.end(""),b.digest?b.digest(D.encoding==="buffer"?void 0:D.encoding):(I=b.read(),D.encoding!=="buffer"?I.toString(D.encoding):I)}(s=n.exports=E).sha1=function(I){return E(I)},s.keys=function(I){return E(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(I){return E(I,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(I){return E(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=g.getHashes?g.getHashes().slice():["sha1","md5"],S=(y.push("passthrough"),["buffer","hex","binary","base64"]);function m(I,D){var b={};if(b.algorithm=(D=D||{}).algorithm||"sha1",b.encoding=D.encoding||"hex",b.excludeValues=!!D.excludeValues,b.algorithm=b.algorithm.toLowerCase(),b.encoding=b.encoding.toLowerCase(),b.ignoreUnknown=D.ignoreUnknown===!0,b.respectType=D.respectType!==!1,b.respectFunctionNames=D.respectFunctionNames!==!1,b.respectFunctionProperties=D.respectFunctionProperties!==!1,b.unorderedArrays=D.unorderedArrays===!0,b.unorderedSets=D.unorderedSets!==!1,b.unorderedObjects=D.unorderedObjects!==!1,b.replacer=D.replacer||void 0,b.excludeKeys=D.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var k=0;k<y.length;++k)y[k].toLowerCase()===b.algorithm.toLowerCase()&&(b.algorithm=y[k]);if(y.indexOf(b.algorithm)===-1)throw new Error('Algorithm "'+b.algorithm+'"  not supported. supported values: '+y.join(", "));if(S.indexOf(b.encoding)===-1&&b.algorithm!=="passthrough")throw new Error('Encoding "'+b.encoding+'"  not supported. supported values: '+S.join(", "));return b}function _(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function x(I,D,b){b=b||[];function k(h){return D.update?D.update(h,"utf8"):D.write(h,"utf8")}return{dispatch:function(h){return this["_"+((h=I.replacer?I.replacer(h):h)===null?"null":typeof h)](h)},_object:function(h){var A,N=Object.prototype.toString.call(h),z=/\[object (.*)\]/i.exec(N);if(z=(z=z?z[1]:"unknown:["+N+"]").toLowerCase(),0<=(N=b.indexOf(h)))return this.dispatch("[CIRCULAR:"+N+"]");if(b.push(h),a!==void 0&&a.isBuffer&&a.isBuffer(h))return k("buffer:"),k(h);if(z==="object"||z==="function"||z==="asyncfunction")return N=Object.keys(h),I.unorderedObjects&&(N=N.sort()),I.respectType===!1||_(h)||N.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(N=N.filter(function($){return!I.excludeKeys($)})),k("object:"+N.length+":"),A=this,N.forEach(function($){A.dispatch($),k(":"),I.excludeValues||A.dispatch(h[$]),k(",")});if(!this["_"+z]){if(I.ignoreUnknown)return k("["+z+"]");throw new Error('Unknown object type "'+z+'"')}this["_"+z](h)},_array:function(h,$){$=$!==void 0?$:I.unorderedArrays!==!1;var N=this;if(k("array:"+h.length+":"),!$||h.length<=1)return h.forEach(function(V){return N.dispatch(V)});var z=[],$=h.map(function(V){var R=new C,K=b.slice();return x(I,R,K).dispatch(V),z=z.concat(K.slice(b.length)),R.read().toString()});return b=b.concat(z),$.sort(),this._array($,!1)},_date:function(h){return k("date:"+h.toJSON())},_symbol:function(h){return k("symbol:"+h.toString())},_error:function(h){return k("error:"+h.toString())},_boolean:function(h){return k("bool:"+h.toString())},_string:function(h){k("string:"+h.length+":"),k(h.toString())},_function:function(h){k("fn:"),_(h)?this.dispatch("[native]"):this.dispatch(h.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(h.name)),I.respectFunctionProperties&&this._object(h)},_number:function(h){return k("number:"+h.toString())},_xml:function(h){return k("xml:"+h.toString())},_null:function(){return k("Null")},_undefined:function(){return k("Undefined")},_regexp:function(h){return k("regex:"+h.toString())},_uint8array:function(h){return k("uint8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint8clampedarray:function(h){return k("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(h))},_int8array:function(h){return k("int8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint16array:function(h){return k("uint16array:"),this.dispatch(Array.prototype.slice.call(h))},_int16array:function(h){return k("int16array:"),this.dispatch(Array.prototype.slice.call(h))},_uint32array:function(h){return k("uint32array:"),this.dispatch(Array.prototype.slice.call(h))},_int32array:function(h){return k("int32array:"),this.dispatch(Array.prototype.slice.call(h))},_float32array:function(h){return k("float32array:"),this.dispatch(Array.prototype.slice.call(h))},_float64array:function(h){return k("float64array:"),this.dispatch(Array.prototype.slice.call(h))},_arraybuffer:function(h){return k("arraybuffer:"),this.dispatch(new Uint8Array(h))},_url:function(h){return k("url:"+h.toString())},_map:function(h){return k("map:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_set:function(h){return k("set:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_file:function(h){return k("file:"),this.dispatch([h.name,h.size,h.type,h.lastModfied])},_blob:function(){if(I.ignoreUnknown)return k("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return k("domwindow")},_bigint:function(h){return k("bigint:"+h.toString())},_process:function(){return k("process")},_timer:function(){return k("timer")},_pipe:function(){return k("pipe")},_tcp:function(){return k("tcp")},_udp:function(){return k("udp")},_tty:function(){return k("tty")},_statwatcher:function(){return k("statwatcher")},_securecontext:function(){return k("securecontext")},_connection:function(){return k("connection")},_zlib:function(){return k("zlib")},_context:function(){return k("context")},_nodescript:function(){return k("nodescript")},_httpparser:function(){return k("httpparser")},_dataview:function(){return k("dataview")},_signal:function(){return k("signal")},_fsevent:function(){return k("fsevent")},_tlswrap:function(){return k("tlswrap")}}}function C(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}s.writeToStream=function(I,D,b){return b===void 0&&(b=D,D={}),x(D=m(I,D),b).dispatch(I)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){(function(g){var E=typeof Uint8Array<"u"?Uint8Array:Array,y=43,S=47,m=48,_=97,x=65,C=45,I=95;function D(b){return b=b.charCodeAt(0),b===y||b===C?62:b===S||b===I?63:b<m?-1:b<m+10?b-m+26+26:b<x+26?b-x:b<_+26?b-_+26:void 0}g.toByteArray=function(b){var k,h;if(0<b.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var A=b.length,A=b.charAt(A-2)==="="?2:b.charAt(A-1)==="="?1:0,N=new E(3*b.length/4-A),z=0<A?b.length-4:b.length,$=0;function V(R){N[$++]=R}for(k=0;k<z;k+=4,0)V((16711680&(h=D(b.charAt(k))<<18|D(b.charAt(k+1))<<12|D(b.charAt(k+2))<<6|D(b.charAt(k+3))))>>16),V((65280&h)>>8),V(255&h);return A==2?V(255&(h=D(b.charAt(k))<<2|D(b.charAt(k+1))>>4)):A==1&&(V((h=D(b.charAt(k))<<10|D(b.charAt(k+1))<<4|D(b.charAt(k+2))>>2)>>8&255),V(255&h)),N},g.fromByteArray=function(b){var k,h,A,N,z=b.length%3,$="";function V(R){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(R)}for(k=0,A=b.length-z;k<A;k+=3)h=(b[k]<<16)+(b[k+1]<<8)+b[k+2],$+=V((N=h)>>18&63)+V(N>>12&63)+V(N>>6&63)+V(63&N);switch(z){case 1:$=($+=V((h=b[b.length-1])>>2))+V(h<<4&63)+"==";break;case 2:$=($=($+=V((h=(b[b.length-2]<<8)+b[b.length-1])>>10))+V(h>>4&63))+V(h<<2&63)+"="}return $}})(s===void 0?this.base64js={}:s)}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(r,n,s){(function(i,o,y,l,c,d,u,p,v){var g=r("base64-js"),E=r("ieee754");function y(w,O,T){if(!(this instanceof y))return new y(w,O,T);var B,W,q,ee,he=typeof w;if(O==="base64"&&he=="string")for(w=(ee=w).trim?ee.trim():ee.replace(/^\s+|\s+$/g,"");w.length%4!=0;)w+="=";if(he=="number")B=U(w);else if(he=="string")B=y.byteLength(w,O);else{if(he!="object")throw new Error("First argument needs to be a number, array or string.");B=U(w.length)}if(y._useTypedArrays?W=y._augment(new Uint8Array(B)):((W=this).length=B,W._isBuffer=!0),y._useTypedArrays&&typeof w.byteLength=="number")W._set(w);else if(X(ee=w)||y.isBuffer(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number")for(q=0;q<B;q++)y.isBuffer(w)?W[q]=w.readUInt8(q):W[q]=w[q];else if(he=="string")W.write(w,0,O);else if(he=="number"&&!y._useTypedArrays&&!T)for(q=0;q<B;q++)W[q]=0;return W}function S(w,O,T,B){return y._charsWritten=ce((function(W){for(var q=[],ee=0;ee<W.length;ee++)q.push(255&W.charCodeAt(ee));return q})(O),w,T,B)}function m(w,O,T,B){return y._charsWritten=ce((function(W){for(var q,ee,he=[],xe=0;xe<W.length;xe++)ee=W.charCodeAt(xe),q=ee>>8,ee=ee%256,he.push(ee),he.push(q);return he})(O),w,T,B)}function _(w,O,T){var B="";T=Math.min(w.length,T);for(var W=O;W<T;W++)B+=String.fromCharCode(w[W]);return B}function x(w,O,T,q){q||(Z(typeof T=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return T?(W=w[O],O+1<q&&(W|=w[O+1]<<8)):(W=w[O]<<8,O+1<q&&(W|=w[O+1])),W}function C(w,O,T,q){q||(Z(typeof T=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return T?(O+2<q&&(W=w[O+2]<<16),O+1<q&&(W|=w[O+1]<<8),W|=w[O],O+3<q&&(W+=w[O+3]<<24>>>0)):(O+1<q&&(W=w[O+1]<<16),O+2<q&&(W|=w[O+2]<<8),O+3<q&&(W|=w[O+3]),W+=w[O]<<24>>>0),W}function I(w,O,T,B){if(B||(Z(typeof T=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=x(w,O,T,!0),32768&B?-1*(65535-B+1):B}function D(w,O,T,B){if(B||(Z(typeof T=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=C(w,O,T,!0),2147483648&B?-1*(4294967295-B+1):B}function b(w,O,T,B){return B||(Z(typeof T=="boolean","missing or invalid endian"),Z(O+3<w.length,"Trying to read beyond buffer length")),E.read(w,O,T,23,4)}function k(w,O,T,B){return B||(Z(typeof T=="boolean","missing or invalid endian"),Z(O+7<w.length,"Trying to read beyond buffer length")),E.read(w,O,T,52,8)}function h(w,O,T,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+1<w.length,"trying to write beyond buffer length"),se(O,65535)),W=w.length,!(W<=T))for(var q=0,ee=Math.min(W-T,2);q<ee;q++)w[T+q]=(O&255<<8*(B?q:1-q))>>>8*(B?q:1-q)}function A(w,O,T,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+3<w.length,"trying to write beyond buffer length"),se(O,4294967295)),W=w.length,!(W<=T))for(var q=0,ee=Math.min(W-T,4);q<ee;q++)w[T+q]=O>>>8*(B?q:3-q)&255}function N(w,O,T,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+1<w.length,"Trying to write beyond buffer length"),Ee(O,32767,-32768)),w.length<=T||h(w,0<=O?O:65535+O+1,T,B,W)}function z(w,O,T,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+3<w.length,"Trying to write beyond buffer length"),Ee(O,2147483647,-2147483648)),w.length<=T||A(w,0<=O?O:4294967295+O+1,T,B,W)}function $(w,O,T,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+3<w.length,"Trying to write beyond buffer length"),De(O,34028234663852886e22,-34028234663852886e22)),w.length<=T||E.write(w,O,T,B,23,4)}function V(w,O,T,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(T!=null,"missing offset"),Z(T+7<w.length,"Trying to write beyond buffer length"),De(O,17976931348623157e292,-17976931348623157e292)),w.length<=T||E.write(w,O,T,B,52,8)}s.Buffer=y,s.SlowBuffer=y,s.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=(function(){try{var w=new ArrayBuffer(0),O=new Uint8Array(w);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"}catch{return!1}})(),y.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(w){return!(w==null||!w._isBuffer)},y.byteLength=function(w,O){var T;switch(w+="",O||"utf8"){case"hex":T=w.length/2;break;case"utf8":case"utf-8":T=Y(w).length;break;case"ascii":case"binary":case"raw":T=w.length;break;case"base64":T=te(w).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":T=2*w.length;break;default:throw new Error("Unknown encoding")}return T},y.concat=function(w,O){if(Z(X(w),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),w.length===0)return new y(0);if(w.length===1)return w[0];if(typeof O!="number")for(W=O=0;W<w.length;W++)O+=w[W].length;for(var T=new y(O),B=0,W=0;W<w.length;W++){var q=w[W];q.copy(T,B),B+=q.length}return T},y.prototype.write=function(w,O,T,B){isFinite(O)?isFinite(T)||(B=T,T=void 0):(xe=B,B=O,O=T,T=xe),O=Number(O)||0;var W,q,ee,he,xe=this.length-O;switch((!T||xe<(T=Number(T)))&&(T=xe),B=String(B||"utf8").toLowerCase()){case"hex":W=(function(Oe,Ae,ke,_e){ke=Number(ke)||0;var me=Oe.length-ke;(!_e||me<(_e=Number(_e)))&&(_e=me),Z((me=Ae.length)%2==0,"Invalid hex string"),me/2<_e&&(_e=me/2);for(var ot=0;ot<_e;ot++){var Tt=parseInt(Ae.substr(2*ot,2),16);Z(!isNaN(Tt),"Invalid hex string"),Oe[ke+ot]=Tt}return y._charsWritten=2*ot,ot})(this,w,O,T);break;case"utf8":case"utf-8":q=this,ee=O,he=T,W=y._charsWritten=ce(Y(w),q,ee,he);break;case"ascii":case"binary":W=S(this,w,O,T);break;case"base64":q=this,ee=O,he=T,W=y._charsWritten=ce(te(w),q,ee,he);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=m(this,w,O,T);break;default:throw new Error("Unknown encoding")}return W},y.prototype.toString=function(w,O,T){var B,W,q,ee,he=this;if(w=String(w||"utf8").toLowerCase(),O=Number(O)||0,(T=T!==void 0?Number(T):he.length)===O)return"";switch(w){case"hex":B=(function(xe,Oe,Ae){var ke=xe.length;(!Oe||Oe<0)&&(Oe=0),(!Ae||Ae<0||ke<Ae)&&(Ae=ke);for(var _e="",me=Oe;me<Ae;me++)_e+=G(xe[me]);return _e})(he,O,T);break;case"utf8":case"utf-8":B=(function(xe,Oe,Ae){var ke="",_e="";Ae=Math.min(xe.length,Ae);for(var me=Oe;me<Ae;me++)xe[me]<=127?(ke+=Ie(_e)+String.fromCharCode(xe[me]),_e=""):_e+="%"+xe[me].toString(16);return ke+Ie(_e)})(he,O,T);break;case"ascii":case"binary":B=_(he,O,T);break;case"base64":W=he,ee=T,B=(q=O)===0&&ee===W.length?g.fromByteArray(W):g.fromByteArray(W.slice(q,ee));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":B=(function(xe,Oe,Ae){for(var ke=xe.slice(Oe,Ae),_e="",me=0;me<ke.length;me+=2)_e+=String.fromCharCode(ke[me]+256*ke[me+1]);return _e})(he,O,T);break;default:throw new Error("Unknown encoding")}return B},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(w,O,T,B){if(O=O||0,(B=B||B===0?B:this.length)!==(T=T||0)&&w.length!==0&&this.length!==0){Z(T<=B,"sourceEnd < sourceStart"),Z(0<=O&&O<w.length,"targetStart out of bounds"),Z(0<=T&&T<this.length,"sourceStart out of bounds"),Z(0<=B&&B<=this.length,"sourceEnd out of bounds"),B>this.length&&(B=this.length);var W=(B=w.length-O<B-T?w.length-O+T:B)-T;if(W<100||!y._useTypedArrays)for(var q=0;q<W;q++)w[q+O]=this[q+T];else w._set(this.subarray(T,T+W),O)}},y.prototype.slice=function(w,O){var T=this.length;if(w=K(w,T,0),O=K(O,T,T),y._useTypedArrays)return y._augment(this.subarray(w,O));for(var B=O-w,W=new y(B,void 0,!0),q=0;q<B;q++)W[q]=this[q+w];return W},y.prototype.get=function(w){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(w)},y.prototype.set=function(w,O){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(w,O)},y.prototype.readUInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return this[w]},y.prototype.readUInt16LE=function(w,O){return x(this,w,!0,O)},y.prototype.readUInt16BE=function(w,O){return x(this,w,!1,O)},y.prototype.readUInt32LE=function(w,O){return C(this,w,!0,O)},y.prototype.readUInt32BE=function(w,O){return C(this,w,!1,O)},y.prototype.readInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return 128&this[w]?-1*(255-this[w]+1):this[w]},y.prototype.readInt16LE=function(w,O){return I(this,w,!0,O)},y.prototype.readInt16BE=function(w,O){return I(this,w,!1,O)},y.prototype.readInt32LE=function(w,O){return D(this,w,!0,O)},y.prototype.readInt32BE=function(w,O){return D(this,w,!1,O)},y.prototype.readFloatLE=function(w,O){return b(this,w,!0,O)},y.prototype.readFloatBE=function(w,O){return b(this,w,!1,O)},y.prototype.readDoubleLE=function(w,O){return k(this,w,!0,O)},y.prototype.readDoubleBE=function(w,O){return k(this,w,!1,O)},y.prototype.writeUInt8=function(w,O,T){T||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"trying to write beyond buffer length"),se(w,255)),O>=this.length||(this[O]=w)},y.prototype.writeUInt16LE=function(w,O,T){h(this,w,O,!0,T)},y.prototype.writeUInt16BE=function(w,O,T){h(this,w,O,!1,T)},y.prototype.writeUInt32LE=function(w,O,T){A(this,w,O,!0,T)},y.prototype.writeUInt32BE=function(w,O,T){A(this,w,O,!1,T)},y.prototype.writeInt8=function(w,O,T){T||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"Trying to write beyond buffer length"),Ee(w,127,-128)),O>=this.length||(0<=w?this.writeUInt8(w,O,T):this.writeUInt8(255+w+1,O,T))},y.prototype.writeInt16LE=function(w,O,T){N(this,w,O,!0,T)},y.prototype.writeInt16BE=function(w,O,T){N(this,w,O,!1,T)},y.prototype.writeInt32LE=function(w,O,T){z(this,w,O,!0,T)},y.prototype.writeInt32BE=function(w,O,T){z(this,w,O,!1,T)},y.prototype.writeFloatLE=function(w,O,T){$(this,w,O,!0,T)},y.prototype.writeFloatBE=function(w,O,T){$(this,w,O,!1,T)},y.prototype.writeDoubleLE=function(w,O,T){V(this,w,O,!0,T)},y.prototype.writeDoubleBE=function(w,O,T){V(this,w,O,!1,T)},y.prototype.fill=function(w,O,T){if(O=O||0,T=T||this.length,Z(typeof(w=typeof(w=w||0)=="string"?w.charCodeAt(0):w)=="number"&&!isNaN(w),"value is not a number"),Z(O<=T,"end < start"),T!==O&&this.length!==0){Z(0<=O&&O<this.length,"start out of bounds"),Z(0<=T&&T<=this.length,"end out of bounds");for(var B=O;B<T;B++)this[B]=w}},y.prototype.inspect=function(){for(var w=[],O=this.length,T=0;T<O;T++)if(w[T]=G(this[T]),T===s.INSPECT_MAX_BYTES){w[T+1]="...";break}return"<Buffer "+w.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var w=new Uint8Array(this.length),O=0,T=w.length;O<T;O+=1)w[O]=this[O];return w.buffer};var R=y.prototype;function K(w,O,T){return typeof w!="number"?T:O<=(w=~~w)?O:0<=w||0<=(w+=O)?w:0}function U(w){return(w=~~Math.ceil(+w))<0?0:w}function X(w){return(Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"})(w)}function G(w){return w<16?"0"+w.toString(16):w.toString(16)}function Y(w){for(var O=[],T=0;T<w.length;T++){var B=w.charCodeAt(T);if(B<=127)O.push(w.charCodeAt(T));else for(var W=T,q=(55296<=B&&B<=57343&&T++,encodeURIComponent(w.slice(W,T+1)).substr(1).split("%")),ee=0;ee<q.length;ee++)O.push(parseInt(q[ee],16))}return O}function te(w){return g.toByteArray(w)}function ce(w,O,T,B){for(var W=0;W<B&&!(W+T>=O.length||W>=w.length);W++)O[W+T]=w[W];return W}function Ie(w){try{return decodeURIComponent(w)}catch{return""}}function se(w,O){Z(typeof w=="number","cannot write a non-number as a number"),Z(0<=w,"specified a negative value for writing an unsigned value"),Z(w<=O,"value is larger than maximum value for type"),Z(Math.floor(w)===w,"value has a fractional component")}function Ee(w,O,T){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(T<=w,"value smaller than minimum allowed value"),Z(Math.floor(w)===w,"value has a fractional component")}function De(w,O,T){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(T<=w,"value smaller than minimum allowed value")}function Z(w,O){if(!w)throw new Error(O||"Failed assertion")}y._augment=function(w){return w._isBuffer=!0,w._get=w.get,w._set=w.set,w.get=R.get,w.set=R.set,w.write=R.write,w.toString=R.toString,w.toLocaleString=R.toString,w.toJSON=R.toJSON,w.copy=R.copy,w.slice=R.slice,w.readUInt8=R.readUInt8,w.readUInt16LE=R.readUInt16LE,w.readUInt16BE=R.readUInt16BE,w.readUInt32LE=R.readUInt32LE,w.readUInt32BE=R.readUInt32BE,w.readInt8=R.readInt8,w.readInt16LE=R.readInt16LE,w.readInt16BE=R.readInt16BE,w.readInt32LE=R.readInt32LE,w.readInt32BE=R.readInt32BE,w.readFloatLE=R.readFloatLE,w.readFloatBE=R.readFloatBE,w.readDoubleLE=R.readDoubleLE,w.readDoubleBE=R.readDoubleBE,w.writeUInt8=R.writeUInt8,w.writeUInt16LE=R.writeUInt16LE,w.writeUInt16BE=R.writeUInt16BE,w.writeUInt32LE=R.writeUInt32LE,w.writeUInt32BE=R.writeUInt32BE,w.writeInt8=R.writeInt8,w.writeInt16LE=R.writeInt16LE,w.writeInt16BE=R.writeInt16BE,w.writeInt32LE=R.writeInt32LE,w.writeInt32BE=R.writeInt32BE,w.writeFloatLE=R.writeFloatLE,w.writeFloatBE=R.writeFloatBE,w.writeDoubleLE=R.writeDoubleLE,w.writeDoubleBE=R.writeDoubleBE,w.fill=R.fill,w.inspect=R.inspect,w.toArrayBuffer=R.toArrayBuffer,w}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(r,n,s){(function(i,o,g,l,c,d,u,p,v){var g=r("buffer").Buffer,E=4,y=new g(E);y.fill(0),n.exports={hash:function(S,m,_,x){for(var C=m((function(h,A){h.length%E!=0&&(N=h.length+(E-h.length%E),h=g.concat([h,y],N));for(var N,z=[],$=A?h.readInt32BE:h.readInt32LE,V=0;V<h.length;V+=E)z.push($.call(h,V));return z})(S=g.isBuffer(S)?S:new g(S),x),8*S.length),m=x,I=new g(_),D=m?I.writeInt32BE:I.writeInt32LE,b=0;b<C.length;b++)D.call(I,C[b],4*b,!0);return I}}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(r,n,s){(function(i,o,g,l,c,d,u,p,v){var g=r("buffer").Buffer,E=r("./sha"),y=r("./sha256"),S=r("./rng"),m={sha1:E,sha256:y,md5:r("./md5")},_=64,x=new g(_);function C(h,A){var N=m[h=h||"sha1"],z=[];return N||I("algorithm:",h,"is not yet supported"),{update:function($){return g.isBuffer($)||($=new g($)),z.push($),$.length,this},digest:function($){var V=g.concat(z),V=A?(function(R,K,U){g.isBuffer(K)||(K=new g(K)),g.isBuffer(U)||(U=new g(U)),K.length>_?K=R(K):K.length<_&&(K=g.concat([K,x],_));for(var X=new g(_),G=new g(_),Y=0;Y<_;Y++)X[Y]=54^K[Y],G[Y]=92^K[Y];return U=R(g.concat([X,U])),R(g.concat([G,U]))})(N,A,V):N(V);return z=null,$?V.toString($):V}}}function I(){var h=[].slice.call(arguments).join(" ");throw new Error([h,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}x.fill(0),s.createHash=function(h){return C(h)},s.createHmac=C,s.randomBytes=function(h,A){if(!A||!A.call)return new g(S(h));try{A.call(this,void 0,new g(S(h)))}catch(N){A(N)}};var D,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],k=function(h){s[h]=function(){I("sorry,",h,"is not implemented yet")}};for(D in b)k(b[D])}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){var g=r("./helpers");function E(I,D){I[D>>5]|=128<<D%32,I[14+(D+64>>>9<<4)]=D;for(var b=1732584193,k=-271733879,h=-1732584194,A=271733878,N=0;N<I.length;N+=16){var z=b,$=k,V=h,R=A,b=S(b,k,h,A,I[N+0],7,-680876936),A=S(A,b,k,h,I[N+1],12,-389564586),h=S(h,A,b,k,I[N+2],17,606105819),k=S(k,h,A,b,I[N+3],22,-1044525330);b=S(b,k,h,A,I[N+4],7,-176418897),A=S(A,b,k,h,I[N+5],12,1200080426),h=S(h,A,b,k,I[N+6],17,-1473231341),k=S(k,h,A,b,I[N+7],22,-45705983),b=S(b,k,h,A,I[N+8],7,1770035416),A=S(A,b,k,h,I[N+9],12,-1958414417),h=S(h,A,b,k,I[N+10],17,-42063),k=S(k,h,A,b,I[N+11],22,-1990404162),b=S(b,k,h,A,I[N+12],7,1804603682),A=S(A,b,k,h,I[N+13],12,-40341101),h=S(h,A,b,k,I[N+14],17,-1502002290),b=m(b,k=S(k,h,A,b,I[N+15],22,1236535329),h,A,I[N+1],5,-165796510),A=m(A,b,k,h,I[N+6],9,-1069501632),h=m(h,A,b,k,I[N+11],14,643717713),k=m(k,h,A,b,I[N+0],20,-373897302),b=m(b,k,h,A,I[N+5],5,-701558691),A=m(A,b,k,h,I[N+10],9,38016083),h=m(h,A,b,k,I[N+15],14,-660478335),k=m(k,h,A,b,I[N+4],20,-405537848),b=m(b,k,h,A,I[N+9],5,568446438),A=m(A,b,k,h,I[N+14],9,-1019803690),h=m(h,A,b,k,I[N+3],14,-187363961),k=m(k,h,A,b,I[N+8],20,1163531501),b=m(b,k,h,A,I[N+13],5,-1444681467),A=m(A,b,k,h,I[N+2],9,-51403784),h=m(h,A,b,k,I[N+7],14,1735328473),b=_(b,k=m(k,h,A,b,I[N+12],20,-1926607734),h,A,I[N+5],4,-378558),A=_(A,b,k,h,I[N+8],11,-2022574463),h=_(h,A,b,k,I[N+11],16,1839030562),k=_(k,h,A,b,I[N+14],23,-35309556),b=_(b,k,h,A,I[N+1],4,-1530992060),A=_(A,b,k,h,I[N+4],11,1272893353),h=_(h,A,b,k,I[N+7],16,-155497632),k=_(k,h,A,b,I[N+10],23,-1094730640),b=_(b,k,h,A,I[N+13],4,681279174),A=_(A,b,k,h,I[N+0],11,-358537222),h=_(h,A,b,k,I[N+3],16,-722521979),k=_(k,h,A,b,I[N+6],23,76029189),b=_(b,k,h,A,I[N+9],4,-640364487),A=_(A,b,k,h,I[N+12],11,-421815835),h=_(h,A,b,k,I[N+15],16,530742520),b=x(b,k=_(k,h,A,b,I[N+2],23,-995338651),h,A,I[N+0],6,-198630844),A=x(A,b,k,h,I[N+7],10,1126891415),h=x(h,A,b,k,I[N+14],15,-1416354905),k=x(k,h,A,b,I[N+5],21,-57434055),b=x(b,k,h,A,I[N+12],6,1700485571),A=x(A,b,k,h,I[N+3],10,-1894986606),h=x(h,A,b,k,I[N+10],15,-1051523),k=x(k,h,A,b,I[N+1],21,-2054922799),b=x(b,k,h,A,I[N+8],6,1873313359),A=x(A,b,k,h,I[N+15],10,-30611744),h=x(h,A,b,k,I[N+6],15,-1560198380),k=x(k,h,A,b,I[N+13],21,1309151649),b=x(b,k,h,A,I[N+4],6,-145523070),A=x(A,b,k,h,I[N+11],10,-1120210379),h=x(h,A,b,k,I[N+2],15,718787259),k=x(k,h,A,b,I[N+9],21,-343485551),b=C(b,z),k=C(k,$),h=C(h,V),A=C(A,R)}return Array(b,k,h,A)}function y(I,D,b,k,h,A){return C((D=C(C(D,I),C(k,A)))<<h|D>>>32-h,b)}function S(I,D,b,k,h,A,N){return y(D&b|~D&k,I,D,h,A,N)}function m(I,D,b,k,h,A,N){return y(D&k|b&~k,I,D,h,A,N)}function _(I,D,b,k,h,A,N){return y(D^b^k,I,D,h,A,N)}function x(I,D,b,k,h,A,N){return y(b^(D|~k),I,D,h,A,N)}function C(I,D){var b=(65535&I)+(65535&D);return(I>>16)+(D>>16)+(b>>16)<<16|65535&b}n.exports=function(I){return g.hash(I,E,16)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){n.exports=function(g){for(var E,y=new Array(g),S=0;S<g;S++)(3&S)==0&&(E=4294967296*Math.random()),y[S]=E>>>((3&S)<<3)&255;return y}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){var g=r("./helpers");function E(m,_){m[_>>5]|=128<<24-_%32,m[15+(_+64>>9<<4)]=_;for(var x,C,I,D=Array(80),b=1732584193,k=-271733879,h=-1732584194,A=271733878,N=-1009589776,z=0;z<m.length;z+=16){for(var $=b,V=k,R=h,K=A,U=N,X=0;X<80;X++){D[X]=X<16?m[z+X]:S(D[X-3]^D[X-8]^D[X-14]^D[X-16],1);var G=y(y(S(b,5),(G=k,C=h,I=A,(x=X)<20?G&C|~G&I:!(x<40)&&x<60?G&C|G&I|C&I:G^C^I)),y(y(N,D[X]),(x=X)<20?1518500249:x<40?1859775393:x<60?-1894007588:-899497514)),N=A,A=h,h=S(k,30),k=b,b=G}b=y(b,$),k=y(k,V),h=y(h,R),A=y(A,K),N=y(N,U)}return Array(b,k,h,A,N)}function y(m,_){var x=(65535&m)+(65535&_);return(m>>16)+(_>>16)+(x>>16)<<16|65535&x}function S(m,_){return m<<_|m>>>32-_}n.exports=function(m){return g.hash(m,E,20,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){function g(_,x){var C=(65535&_)+(65535&x);return(_>>16)+(x>>16)+(C>>16)<<16|65535&C}function E(_,x){var C,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),D=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),b=new Array(64);_[x>>5]|=128<<24-x%32,_[15+(x+64>>9<<4)]=x;for(var k,h,A=0;A<_.length;A+=16){for(var N=D[0],z=D[1],$=D[2],V=D[3],R=D[4],K=D[5],U=D[6],X=D[7],G=0;G<64;G++)b[G]=G<16?_[G+A]:g(g(g((h=b[G-2],S(h,17)^S(h,19)^m(h,10)),b[G-7]),(h=b[G-15],S(h,7)^S(h,18)^m(h,3))),b[G-16]),C=g(g(g(g(X,S(h=R,6)^S(h,11)^S(h,25)),R&K^~R&U),I[G]),b[G]),k=g(S(k=N,2)^S(k,13)^S(k,22),N&z^N&$^z&$),X=U,U=K,K=R,R=g(V,C),V=$,$=z,z=N,N=g(C,k);D[0]=g(N,D[0]),D[1]=g(z,D[1]),D[2]=g($,D[2]),D[3]=g(V,D[3]),D[4]=g(R,D[4]),D[5]=g(K,D[5]),D[6]=g(U,D[6]),D[7]=g(X,D[7])}return D}var y=r("./helpers"),S=function(_,x){return _>>>x|_<<32-x},m=function(_,x){return _>>>x};n.exports=function(_){return y.hash(_,E,32,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){s.read=function(g,E,y,S,A){var _,x,C=8*A-S-1,I=(1<<C)-1,D=I>>1,b=-7,k=y?A-1:0,h=y?-1:1,A=g[E+k];for(k+=h,_=A&(1<<-b)-1,A>>=-b,b+=C;0<b;_=256*_+g[E+k],k+=h,b-=8);for(x=_&(1<<-b)-1,_>>=-b,b+=S;0<b;x=256*x+g[E+k],k+=h,b-=8);if(_===0)_=1-D;else{if(_===I)return x?NaN:1/0*(A?-1:1);x+=Math.pow(2,S),_-=D}return(A?-1:1)*x*Math.pow(2,_-S)},s.write=function(g,E,y,S,m,N){var x,C,I=8*N-m-1,D=(1<<I)-1,b=D>>1,k=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=S?0:N-1,A=S?1:-1,N=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(C=isNaN(E)?1:0,x=D):(x=Math.floor(Math.log(E)/Math.LN2),E*(S=Math.pow(2,-x))<1&&(x--,S*=2),2<=(E+=1<=x+b?k/S:k*Math.pow(2,1-b))*S&&(x++,S/=2),D<=x+b?(C=0,x=D):1<=x+b?(C=(E*S-1)*Math.pow(2,m),x+=b):(C=E*Math.pow(2,b-1)*Math.pow(2,m),x=0));8<=m;g[y+h]=255&C,h+=A,C/=256,m-=8);for(x=x<<m|C,I+=m;0<I;g[y+h]=255&x,h+=A,x/=256,I-=8);g[y+h-A]|=128*N}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(r,n,s){(function(i,o,a,l,c,d,u,p,v){var g,E,y;function S(){}(i=n.exports={}).nextTick=(E=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,E?function(m){return window.setImmediate(m)}:y?(g=[],window.addEventListener("message",function(m){var _=m.source;_!==window&&_!==null||m.data!=="process-tick"||(m.stopPropagation(),0<g.length&&g.shift()())},!0),function(m){g.push(m),window.postMessage("process-tick","*")}):function(m){setTimeout(m,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=S,i.addListener=S,i.once=S,i.off=S,i.removeListener=S,i.removeAllListeners=S,i.emit=S,i.binding=function(m){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(m){throw new Error("process.chdir is not supported")}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(pi)),pi.exports}var Nv=Mv();const hi=ho(Nv);var Tv=Yf({"../../node_modules/classnames/index.js"(e,t){M(),(function(){var r={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,s(l)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)r.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}typeof t<"u"&&t.exports?(n.default=n,t.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()}});M();M();M();var Lv=Kf(Tv()),$v=(e,t,r={baseClass:""})=>(n={})=>{if(typeof n=="string"){const s=n;return t[`${e}-${s}`]&&r.baseClass+t[`${e}-${s}`]||""}else if(typeof n=="object"){const s=n,i={};for(let a in s)i[t[`${e}--${a}`]]=s[a];const o=t[e];return r.baseClass+(0,Lv.default)(P({[o]:!!o},i))}else return r.baseClass+t[e]||""},ie=$v;M();var zv={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},kn=ie("ActionBar",zv),vt=({label:e,children:t})=>f.jsxs("div",{className:kn(),onClick:r=>{r.stopPropagation()},children:[e&&f.jsx(vt.Group,{children:f.jsx("div",{className:kn("label"),children:e})}),t]}),Rv=({children:e,label:t,onClick:r})=>f.jsx("button",{type:"button",className:kn("action"),onClick:r,title:t,children:e}),Fv=({children:e})=>f.jsx("div",{className:kn("group"),children:e}),Bv=({label:e})=>f.jsx("div",{className:kn("label"),children:e});vt.Action=Rv;vt.Label=Bv;vt.Group=Fv;M();M();var Wv={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};M();M();M();M();var Sl=(e,t,r)=>{const n=Array.from(e),[s]=n.splice(t,1);return n.splice(r,0,s),n};M();var Hv=(e,t,r)=>{const n=Array.from(e);return n.splice(t,1),n.splice(t,0,r),n};M();M();M();M();var Uv=(e,t,r)=>{if(typeof t.state=="object"){const n=P(P({},e),t.state);return t.state.indexes?n:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),st(n,r.config))}return P(P({},e),t.state(e))};M();M();var Dr=(e,t,r)=>{const n=Array.from(e||[]);return n.splice(t,0,r),n};M();var it=e=>e?`${e}-${$a()}`:$a();M();var Cn=(e,t)=>{const[r]=e.split(":"),n=t.indexes.nodes[r];return(n?.path||[]).map(s=>s.split(":")[0])};M();var zu=(e,t,r=!1)=>{const n=it(e.type);return sc(L(P({},e),{props:r?L(P({},e.props),{id:n}):P({},e.props)}),t,s=>s.map(i=>{const o=it(i.type);return L(P({},i),{props:r?L(P({},i.props),{id:o}):P({id:o},i.props)})}))};function Ru(e,t,r){const n=t.id||it(t.componentType),s=zu({type:t.componentType,props:L(P({},r.config.components[t.componentType].defaultProps||{}),{id:n})},r.config),[i]=t.destinationZone.split(":"),o=Cn(t.destinationZone,e);return st(e,r.config,(a,l)=>l===t.destinationZone?Dr(a||[],t.destinationIndex,s):a,(a,l)=>a.props.id===n||a.props.id===i||o.includes(a.props.id)||l.includes(t.destinationZone)?a:null)}M();var Vv=(e,t,r)=>{const[n]=t.destinationZone.split(":"),s=Cn(t.destinationZone,e),i=e.indexes.zones[t.destinationZone].contentIds[t.destinationIndex];if(i!==t.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const a=[],l=sc(t.data,r.config,(d,u)=>(a.push(`${u.parentId}:${u.propName}`),d.map(p=>{const v=it(p.type);return L(P({},p),{props:P({id:v},p.props)})}))),c=P({},e);return Object.keys(e.indexes.zones).forEach(d=>{d.split(":")[0]===i&&(a.includes(d)||delete c.indexes.zones[d])}),st(c,r.config,(d,u)=>{const p=[...d];return u===t.destinationZone&&(p[t.destinationIndex]=l),p},(d,u)=>{const p=u.map(v=>v.split(":")[0]);return d.props.id===l.props.id?l:d.props.id===n||s.indexOf(d.props.id)>-1||p.indexOf(l.props.id)>-1?d:null})};M();var Zv=(e,t,r)=>st(e,r.config,n=>n,n=>n.props.id==="root"?L(P({},n),{props:P(P({},n.props),t.root.props),readOnly:t.root.readOnly}):n);M();M();function yt(e,t){var r,n;const s=(r=t.indexes.zones)==null?void 0:r[e.zone||Ve];return s?(n=t.indexes.nodes[s.contentIds[e.index]])==null?void 0:n.data:void 0}function qv(e,t,r){const n=yt({index:t.sourceIndex,zone:t.sourceZone},e),s=Cn(t.sourceZone,e),i=L(P({},n),{props:L(P({},n.props),{id:it(n.type)})}),o=st(e,r.config,(a,l)=>l===t.sourceZone?Dr(a,t.sourceIndex+1,n):a,(a,l,c)=>{const d=l[l.length-1];if(l.map(v=>v.split(":")[0]).indexOf(i.props.id)>-1)return L(P({},a),{props:L(P({},a.props),{id:it(a.type)})});if(d===t.sourceZone&&c===t.sourceIndex+1)return i;const[p]=t.sourceZone.split(":");return p===a.props.id||s.indexOf(a.props.id)>-1?a:null});return L(P({},o),{ui:L(P({},o.ui),{itemSelector:{index:t.sourceIndex+1,zone:t.sourceZone}})})}M();M();M();var ro=(e,t)=>{const r=Array.from(e);return r.splice(t,1),r},Fu=(e,t,r)=>{if(t.sourceZone===t.destinationZone&&t.sourceIndex===t.destinationIndex)return e;const n=yt({zone:t.sourceZone,index:t.sourceIndex},e);if(!n)return e;const s=Cn(t.sourceZone,e),i=Cn(t.destinationZone,e);return st(e,r.config,(o,a)=>a===t.sourceZone&&a===t.destinationZone?Dr(ro(o,t.sourceIndex),t.destinationIndex,n):a===t.sourceZone?ro(o,t.sourceIndex):a===t.destinationZone?Dr(o,t.destinationIndex,n):o,(o,a)=>{const[l]=t.sourceZone.split(":"),[c]=t.destinationZone.split(":"),d=o.props.id;return l===d||c===d||n.props.id===d||s.indexOf(d)>-1||i.indexOf(d)>-1||a.includes(t.destinationZone)?o:null})},Yv=(e,t,r)=>Fu(e,{sourceIndex:t.sourceIndex,sourceZone:t.destinationZone,destinationIndex:t.destinationIndex,destinationZone:t.destinationZone},r);M();var Xv=(e,t,r)=>{const n=yt({index:t.index,zone:t.zone},e),s=Object.entries(e.indexes.nodes).reduce((o,[a,l])=>l.path.map(d=>d.split(":")[0]).includes(n.props.id)?[...o,a]:o,[n.props.id]),i=st(e,r.config,(o,a)=>a===t.zone?ro(o,t.index):o);return Object.keys(i.data.zones||{}).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&i.data.zones&&delete i.data.zones[o]}),Object.keys(i.indexes.zones).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&delete i.indexes.zones[o]}),s.forEach(o=>{delete i.indexes.nodes[o]}),i};M();var gs={};function Kv(e,t){return gs[t.zone]?L(P({},e),{data:L(P({},e.data),{zones:L(P({},e.data.zones),{[t.zone]:gs[t.zone]})}),indexes:L(P({},e.indexes),{zones:L(P({},e.indexes.zones),{[t.zone]:L(P({},e.indexes.zones[t.zone]),{contentIds:gs[t.zone].map(r=>r.props.id),type:"dropzone"})})})}):L(P({},e),{data:oc(e.data,t.zone)})}function Gv(e,t){const r=P({},e.data.zones||{}),n=P({},e.indexes.zones||{});return r[t.zone]&&(gs[t.zone]=r[t.zone],delete r[t.zone]),delete n[t.zone],L(P({},e),{data:L(P({},e.data),{zones:r}),indexes:L(P({},e.indexes),{zones:n})})}M();var Jv=(e,t,r)=>typeof t.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),st(L(P({},e),{data:P(P({},e.data),t.data)}),r.config)):st(L(P({},e),{data:P(P({},e.data),t.data(e.data))}),r.config);M();var Qv=(e,t)=>typeof t.ui=="object"?L(P({},e),{ui:P(P({},e.ui),t.ui)}):L(P({},e),{ui:P(P({},e.ui),t.ui(e.ui))});M();var Pn=e=>{const{data:t,ui:r}=e;return{data:t,ui:r}};M();function em(e,t,r){return(n,s)=>{const i=e(n,s),o=!["registerZone","unregisterZone","setData","setUi","set"].includes(s.type);return(typeof s.recordHistory<"u"?s.recordHistory:o)&&t&&t(i),r?.(s,Pn(i),Pn(n)),i}}function Il({record:e,onAction:t,appStore:r}){return em((n,s)=>s.type==="set"?Uv(n,s,r):s.type==="insert"?Ru(n,s,r):s.type==="replace"?Vv(n,s,r):s.type==="replaceRoot"?Zv(n,s,r):s.type==="duplicate"?qv(n,s,r):s.type==="reorder"?Yv(n,s,r):s.type==="move"?Fu(n,s,r):s.type==="remove"?Xv(n,s,r):s.type==="registerZone"?Kv(n,s):s.type==="unregisterZone"?Gv(n,s):s.type==="setData"?Jv(n,s,r):s.type==="setUi"?Qv(n,s):n,e,t)}M();M();var jl={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},nr=dc()(uc(e=>({held:{},hold:t=>e(r=>r.held[t]?r:{held:L(P({},r.held),{[t]:!0})}),release:t=>e(r=>r.held[t]?{held:L(P({},r.held),{[t]:!1})}:r),reset:(t={})=>e(()=>({held:t})),triggers:{}}))),Bu=e=>{const t=s=>{const i=jl[s.code];if(i){nr.getState().hold(i);const{held:o,triggers:a}=nr.getState();Object.values(a).forEach(({combo:l,cb:c})=>{Object.entries(l).every(([u,p])=>p===!!o[u])&&Object.entries(o).every(([u,p])=>p===!!l[u])&&(s.preventDefault(),c())}),i!=="meta"&&i!=="ctrl"&&i!=="shift"&&nr.getState().release(i)}},r=s=>{const i=jl[s.code];i&&(i==="meta"?nr.getState().reset():nr.getState().release(i))},n=s=>{document.visibilityState==="hidden"&&nr.getState().reset()};return e.addEventListener("keydown",t),e.addEventListener("keyup",r),e.addEventListener("visibilitychange",n),()=>{e.removeEventListener("keydown",t),e.removeEventListener("keyup",r),e.removeEventListener("visibilitychange",n)}},tm=()=>{j.useEffect(()=>Bu(document),[])},Wt=(e,t)=>{j.useEffect(()=>nr.setState(r=>({triggers:L(P({},r.triggers),{[`${Object.keys(e).join("+")}`]:{combo:e,cb:t}})})),[])},El=0;function rm(e,t=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}var kl=e=>L(P({},e),{ui:L(P({},e.ui),{field:{focus:null}})}),nm=(e,t)=>{const r=rm(n=>{const{histories:s,index:i}=t().history,o={state:n,id:it("history")},a=[...s.slice(0,i+1),o];e({history:L(P({},t().history),{histories:a,index:a.length-1})})},250);return{initialAppState:{},index:El,histories:[],hasPast:()=>t().history.index>El,hasFuture:()=>t().history.index<t().history.histories.length-1,prevHistory:()=>{const{history:n}=t();return n.hasPast()?n.histories[n.index-1]:null},nextHistory:()=>{const n=t().history;return n.hasFuture()?n.histories[n.index+1]:null},currentHistory:()=>t().history.histories[t().history.index],back:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasPast()){const o=kl(((n=s.prevHistory())==null?void 0:n.state)||s.initialAppState);i({type:"set",state:o}),e({history:L(P({},s),{index:s.index-1})})}},forward:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasFuture()){const o=(n=s.nextHistory())==null?void 0:n.state;i({type:"set",state:o?kl(o):{}}),e({history:L(P({},s),{index:s.index+1})})}},setHistories:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=n[n.length-1])==null?void 0:s.state)||o.initialAppState}),e({history:L(P({},o),{histories:n,index:n.length-1})})},setHistoryIndex:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=o.histories[n])==null?void 0:s.state)||o.initialAppState}),e({history:L(P({},o),{index:n})})},record:r}};function sm(e,{histories:t,index:r,initialAppState:n}){j.useEffect(()=>e.setState({history:L(P({},e.getState().history),{histories:t,index:r,initialAppState:n})}),[t,r,n]);const s=()=>{e.getState().history.back()},i=()=>{e.getState().history.forward()};Wt({meta:!0,z:!0},s),Wt({meta:!0,shift:!0,z:!0},i),Wt({meta:!0,y:!0},i),Wt({ctrl:!0,z:!0},s),Wt({ctrl:!0,shift:!0,z:!0},i),Wt({ctrl:!0,y:!0},i)}M();var im=(e,t)=>({nodes:{},registerNode:(r,n)=>{const s=t().nodes,i={id:r,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},o=s.nodes[r];e({nodes:L(P({},s),{nodes:L(P({},s.nodes),{[r]:L(P(P(P({},i),o),n),{id:r})})})})},unregisterNode:r=>{const n=t().nodes;if(n.nodes[r]){const i=P({},n.nodes);delete i[r],e({nodes:L(P({},n),{nodes:i})})}}});M();M();var Cl=(e,t)=>{const r=[];return st(e,t,n=>n,n=>(r.push(n),null)),r},om=(e,t)=>{const r=(...s)=>Ce(void 0,[...s],function*(i={},o){const{state:a,permissions:l,config:c}=t(),{cache:d,globalPermissions:u}=l,p=(S,m=!1)=>Ce(void 0,null,function*(){var _,x,C;const{config:I,state:D,setComponentLoading:b}=t(),k=S.type==="root"?I.root:I.components[S.type];if(!k)return;const h=P(P({},u),k.permissions);if(k.resolvePermissions){const A=_o(S,(_=d[S.props.id])==null?void 0:_.lastData);if(Object.values(A).some(N=>N===!0)||m){const N=b(S.props.id,!0,50),z=yield k.resolvePermissions(S,{changed:A,lastPermissions:((x=d[S.props.id])==null?void 0:x.lastPermissions)||null,permissions:h,appState:Pn(D),lastData:((C=d[S.props.id])==null?void 0:C.lastData)||null}),$=t().permissions;e({permissions:L(P({},$),{cache:L(P({},$.cache),{[S.props.id]:{lastData:S,lastPermissions:z}}),resolvedPermissions:L(P({},$.resolvedPermissions),{[S.props.id]:z})})}),N()}}}),v=(S=!1)=>{const{state:m}=t();p({type:"root",props:L(P({},m.data.root.props),{id:"root"})},S)},{item:g,type:E,root:y}=i;g?yield p(g,o):E?Cl(a,c).filter(S=>S.type===E).map(S=>Ce(void 0,null,function*(){yield p(S,o)})):y?v(o):Cl(a,c).map(S=>Ce(void 0,null,function*(){yield p(S,o)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:s,type:i,root:o}={})=>{const{config:a,permissions:l}=t(),{globalPermissions:c,resolvedPermissions:d}=l;if(s){const u=a.components[s.type],p=P(P({},c),u?.permissions),v=d[s.props.id];return v?P(P({},c),v):p}else if(i){const u=a.components[i];return P(P({},c),u?.permissions)}else if(o){const u=a.root,p=P(P({},c),u?.permissions),v=d.root;return v?P(P({},c),v):p}return c},resolvePermissions:r,refreshPermissions:s=>r(s,!0)}},am=(e,t)=>{j.useEffect(()=>{const{permissions:r}=e.getState(),{globalPermissions:n}=r;e.setState({permissions:L(P({},r),{globalPermissions:P(P({},n),t)})}),r.resolvePermissions()},[t]),j.useEffect(()=>e.subscribe(r=>r.state.data,()=>{e.getState().permissions.resolvePermissions()}),[]),j.useEffect(()=>e.subscribe(r=>r.config,()=>{e.getState().permissions.resolvePermissions()}),[])};M();var lm=(e,t)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),cm=(e,t)=>{const r=j.useCallback(n=>Ce(void 0,null,function*(){var s,i;const{fields:o,lastResolvedData:a}=e.getState().fields,l=e.getState().state.indexes.nodes,c=l[t||"root"],d=c?.data,u=c?.parentId?l[c.parentId]:null,p=u?.data||null,{getComponentConfig:v,state:g}=e.getState(),E=v(d?.type);if(!d||!E)return;const y=E.fields||{},S=E.resolveFields;let m=o;if(n&&(e.setState(_=>({fields:L(P({},_.fields),{fields:y,id:t})})),m=y),S){const _=setTimeout(()=>{e.setState(D=>({fields:L(P({},D.fields),{loading:!0})}))},50),x=((s=a.props)==null?void 0:s.id)===t?a:null,C=_o(d,x),I=yield S(d,{changed:C,fields:y,lastFields:m,lastData:x,appState:Pn(g),parent:p});if(clearTimeout(_),((i=e.getState().selectedItem)==null?void 0:i.props.id)!==t)return;e.setState({fields:{fields:I,loading:!1,lastResolvedData:d,id:t}})}else e.setState(_=>({fields:L(P({},_.fields),{fields:y,id:t})}))}),[t]);j.useEffect(()=>(r(!0),e.subscribe(n=>n.state.indexes.nodes[t||"root"],()=>r())),[t])};M();var dm=e=>{if("type"in e&&e.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:t}=e;if(e.props){if("id"in e.props){const r=e.props,{id:n}=r;return{props:Xt(r,["id"]),readOnly:t}}return{props:e.props,readOnly:t}}return{props:{},readOnly:t}},um={title:{type:"text"}},Wu=e=>dc()(uc((t,r)=>{var n,s;return L(P({state:ji,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:ws,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{},fieldTransforms:{}},e),{fields:lm(),history:nm(t,r),nodes:im(t,r),permissions:om(t,r),getComponentConfig:i=>{var o;const{config:a,selectedItem:l}=r(),c=((o=a.root)==null?void 0:o.fields)||um;return i&&i!=="root"?a.components[i]:l?a.components[l.type]:L(P({},a.root),{fields:c})},selectedItem:(n=e?.state)!=null&&n.ui.itemSelector?yt((s=e?.state)==null?void 0:s.ui.itemSelector,e.state):null,dispatch:i=>t(o=>{var a,l;const{record:c}=r().history,u=Il({record:c,appStore:o})(o.state,i),p=u.ui.itemSelector?yt(u.ui.itemSelector,u):null;return(l=(a=r()).onAction)==null||l.call(a,i,u,r().state),L(P({},o),{state:u,selectedItem:p})}),setZoomConfig:i=>t({zoomConfig:i}),setStatus:i=>t({status:i}),setComponentState:i=>t({componentState:i}),pendingLoadTimeouts:{},setComponentLoading:(i,o=!0,a=0)=>{const{setComponentState:l,pendingLoadTimeouts:c}=r(),d=it(),u=()=>{var g;const{componentState:E}=r();l(L(P({},E),{[i]:L(P({},E[i]),{loadingCount:(((g=E[i])==null?void 0:g.loadingCount)||0)+1})}))},p=()=>{var g;const{componentState:E}=r();clearTimeout(v),delete c[d],t({pendingLoadTimeouts:c}),l(L(P({},E),{[i]:L(P({},E[i]),{loadingCount:Math.max((((g=E[i])==null?void 0:g.loadingCount)||0)-1,0)})}))},v=setTimeout(()=>{o?u():p(),delete c[d],t({pendingLoadTimeouts:c})},a);return t({pendingLoadTimeouts:L(P({},c),{[i]:v})}),p},unsetComponentLoading:i=>{const{setComponentLoading:o}=r();o(i,!1)},setUi:(i,o)=>t(a=>{const c=Il({record:()=>{},appStore:a})(a.state,{type:"setUi",ui:i,recordHistory:o}),d=c.ui.itemSelector?yt(c.ui.itemSelector,c):null;return L(P({},a),{state:c,selectedItem:d})}),resolveComponentData:(i,o)=>Ce(void 0,null,function*(){const{config:a,metadata:l,setComponentLoading:c,permissions:d}=r(),u={};return yield ic(i,a,l,p=>{const v="id"in p.props?p.props.id:"root";u[v]=c(v,!0,50)},p=>Ce(void 0,null,function*(){const v="id"in p.props?p.props.id:"root";"type"in p?yield d.refreshPermissions({item:p}):yield d.refreshPermissions({root:!0}),u[v]()}),o)}),resolveAndCommitData:()=>Ce(void 0,null,function*(){const{config:i,state:o,dispatch:a,resolveComponentData:l}=r();st(o,i,c=>c,c=>(l(c,"load").then(d=>{const{state:u}=r(),p=u.indexes.nodes[d.node.props.id];if(p&&d.didChange)if(d.node.props.id==="root")a({type:"replaceRoot",root:dm(d.node)});else{const v=`${p.parentId}:${p.zone}`,E=u.indexes.zones[v].contentIds.indexOf(d.node.props.id);a({type:"replace",data:d.node,destinationIndex:E,destinationZone:v})}}),c))})})})),Sa=j.createContext(Wu());function F(e){const t=j.useContext(Sa);return So(t,e)}function et(){return j.useContext(Sa)}M();M();M();var fm="Invariant failed";function pm(e,t){throw new Error(fm)}var Qn=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,l={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return l},hm=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Pl=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},gi={top:0,right:0,bottom:0,left:0},gm=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?gi:n,i=t.border,o=i===void 0?gi:i,a=t.padding,l=a===void 0?gi:a,c=Qn(hm(r,s)),d=Qn(Pl(r,o)),u=Qn(Pl(d,l));return{marginBox:c,borderBox:Qn(r),paddingBox:d,contentBox:u,margin:s,border:o,padding:l}},at=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&pm(),s},vm=function(t,r){var n={top:at(r.marginTop),right:at(r.marginRight),bottom:at(r.marginBottom),left:at(r.marginLeft)},s={top:at(r.paddingTop),right:at(r.paddingRight),bottom:at(r.paddingBottom),left:at(r.paddingLeft)},i={top:at(r.borderTopWidth),right:at(r.borderRightWidth),bottom:at(r.borderBottomWidth),left:at(r.borderLeftWidth)};return gm({borderBox:t,margin:n,padding:s,border:i})},Hu=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return vm(r,n)},mm=(e,t,r)=>{const n=Hu(t),{width:s,height:i}=n.contentBox,o=e.height==="auto"?i:e.height;let a=0,l=1;if(e.width>s||o>i){const c=Math.min(s/e.width,1),d=Math.min(i/o,1);r=c,c<d?a=o/r:(a=o,r=d),l=r}else l=1,r=1,a=o;return{autoZoom:l,rootHeight:a,zoom:r}},Uu=e=>{const t=et();return n=>{const{state:s,zoomConfig:i,setZoomConfig:o}=t.getState(),{viewports:a}=s.ui,l=n?.viewports||a;e.current&&o(mm(l?.current,e.current,i.zoom))}};M();var ym={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},bm=ie("Loader",ym),fr=e=>{var t=e,{color:r,size:n=16}=t,s=Xt(t,["color","size"]);return f.jsx("span",P({className:bm(),style:{width:n,height:n,color:r},"aria-label":"loading"},s))},Dl=ie("IconButton",Wv),bt=({children:e,href:t,onClick:r,variant:n="primary",type:s,disabled:i,tabIndex:o,newTab:a,fullWidth:l,title:c})=>{const[d,u]=j.useState(!1),p=t?"a":"button";return f.jsxs(p,{className:Dl({primary:n==="primary",secondary:n==="secondary",disabled:i,fullWidth:l}),onClick:g=>{r&&(u(!0),Promise.resolve(r(g)).then(()=>{u(!1)}))},type:s,disabled:i||d,tabIndex:o,target:a?"_blank":void 0,rel:a?"noreferrer":void 0,href:t,title:c,children:[f.jsx("span",{className:Dl("title"),children:c}),e,d&&f.jsxs(f.Fragment,{children:["",f.jsx(fr,{size:14})]})]})};M();M();var xm={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};M();var _m=/^(data-.*)$/,wm=e=>{let t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&_m.test(r)&&(t[r]=e[r]);return t},vi=ie("Button",xm),no=e=>{var t=e,{children:r,href:n,onClick:s,variant:i="primary",type:o,disabled:a,tabIndex:l,newTab:c,fullWidth:d,icon:u,size:p="medium",loading:v=!1}=t,g=Xt(t,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[E,y]=j.useState(v);j.useEffect(()=>y(v),[v]);const S=n?"a":o?"button":"span",m=wm(g);return f.jsxs(S,L(P({className:vi({primary:i==="primary",secondary:i==="secondary",disabled:a,fullWidth:d,[p]:!0}),onClick:x=>{s&&(y(!0),Promise.resolve(s(x)).then(()=>{y(!1)}))},type:o,disabled:a||E,tabIndex:l,target:c?"_blank":void 0,rel:c?"noreferrer":void 0,href:n},m),{children:[u&&f.jsx("div",{className:vi("icon"),children:u}),r,E&&f.jsx("div",{className:vi("spinner"),children:f.jsx(fr,{size:14})})]}))};M();M();var Wr={InputWrapper:"_InputWrapper_bsxfo_1","Input-label":"_Input-label_bsxfo_5","Input-labelIcon":"_Input-labelIcon_bsxfo_14","Input-disabledIcon":"_Input-disabledIcon_bsxfo_21","Input-input":"_Input-input_bsxfo_26",Input:"_Input_bsxfo_1","Input--readOnly":"_Input--readOnly_bsxfo_82","Input-radioGroupItems":"_Input-radioGroupItems_bsxfo_93","Input-radio":"_Input-radio_bsxfo_93","Input-radioInner":"_Input-radioInner_bsxfo_110","Input-radioInput":"_Input-radioInput_bsxfo_155"};M();M();M();var Vu={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};M();M();M();var Sm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zu=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();M();M();var Im={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},jm=j.forwardRef((e,t)=>{var r=e,{color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c}=r,d=Xt(r,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return j.createElement("svg",P(L(P({ref:t},Im),{width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:Zu("lucide",a)}),d),[...c.map(([u,p])=>j.createElement(u,p)),...Array.isArray(l)?l:[l]])}),pe=(e,t)=>{const r=j.forwardRef((n,s)=>{var i=n,{className:o}=i,a=Xt(i,["className"]);return j.createElement(jm,P({ref:s,iconNode:t,className:Zu(`lucide-${Sm(e)}`,o)},a))});return r.displayName=`${e}`,r};M();var Xs=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);M();var Em=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);M();var qu=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);M();var km=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);M();var Yu=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);M();var Cm=pe("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);M();var Pm=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);M();var Ol=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);M();var Dm=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);M();var Om=pe("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);M();var Am=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);M();var Xu=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);M();var Mm=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);M();var Nm=pe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);M();var Tm=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);M();var Lm=pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);M();var $m=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);M();var zm=pe("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);M();var Rm=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);M();var Fm=pe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);M();var Bm=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);M();var Wm=pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);M();var Hm=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);M();var Um=pe("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);M();var Ku=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);M();var Ia=pe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);M();var Vm=pe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);M();var Zm=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();var qm=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();M();M();var Ym={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},Xm=ie("DragIcon",Ym),Gu=({isDragDisabled:e})=>f.jsx("div",{className:Xm({disabled:e}),children:f.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:f.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});M();M();var Al={delay:{value:200,tolerance:10}},Ml={delay:{value:200,tolerance:10},distance:{value:5}},Ju=({other:e=Ml,mouse:t,touch:r=Al}={touch:Al,other:Ml})=>{const[n]=j.useState(()=>[tu.configure({activationConstraints(s,i){var o;const{pointerType:a,target:l}=s;return a==="mouse"&&$r(l)&&(i.handle===l||(o=i.handle)!=null&&o.contains(l))?t:a==="touch"?r:e}})]);return n};M();M();M();var Ir=(e,t,r,n,s)=>{},mi="increasing",Km=(e,t)=>{var r;const{dragOperation:n,droppable:s}=e,{shape:i}=s,{position:o}=n,a=(r=n.shape)==null?void 0:r.current;if(!a||!i)return null;const l=i.center,c=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),d=Math.sqrt(Math.pow(l.x-o.current.x,2)+Math.pow(l.y-o.current.y,2));return mi=d===c?mi:d<c?"decreasing":"increasing",Ir(a.center,l,s.id.toString()),mi==="decreasing"?{id:s.id,value:1,type:Ct.Collision}:null};M();var Qu=(e,t)=>e==="dynamic"?Math.abs(t.y)>Math.abs(t.x)?t.y===0?null:t.y>0?"down":"up":t.x===0?null:t.x>0?"right":"left":e==="x"?t.x===0?null:t.x>0?"right":"left":t.y===0?null:t.y>0?"down":"up";M();var Gm=(e,t,r,n=0)=>{const s=e.boundingRectangle,i=t.center;if(r==="down"){const a=n*t.boundingRectangle.height;return s.bottom>=i.y+a}else if(r==="up"){const a=n*t.boundingRectangle.height;return s.top<i.y-a}else if(r==="left"){const a=n*t.boundingRectangle.width;return i.x-a>=s.left}const o=n*t.boundingRectangle.width;return s.right-o>=i.x};M();var Nl=10,ft={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},Jm=(e,t="dynamic")=>(ft.current=e,ft.delta={x:e.x-ft.previous.x,y:e.y-ft.previous.y},ft.direction=Qu(t,ft.delta)||ft.direction,(Math.abs(ft.delta.x)>Nl||Math.abs(ft.delta.y)>Nl)&&(ft.previous=Ze.from(e)),ft);M();var Qm=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=Ze.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},ey=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?xt.from(n.current.boundingRectangle).corners:void 0,a=xt.from(r.shape.boundingRectangle).corners.reduce((l,c,d)=>{var u;return l+Ze.distance(Ze.from(c),(u=i?.[d])!=null?u:s.current)},0)/4;return{id:r.id,value:1/a,type:Ct.Collision,priority:ct.Normal}};M();var so=An(()=>({fallbackEnabled:!1})),yi="",ef=(e,t=.05)=>r=>{var n,s,i,o,a;const{dragOperation:l,droppable:c}=r,{position:d}=l,u=(n=l.shape)==null?void 0:n.current,{shape:p}=c;if(!u||!p)return null;const{center:v}=u,{fallbackEnabled:g}=so.getState(),E=Jm(d.current,e),y={direction:E.direction},{center:S}=p,m=Gm(u,p,E.direction,t);if(((s=l.source)==null?void 0:s.id)===c.id){const C=Km(r,E.previous);if(Ir(v,S,c.id.toString()),C)return L(P({},C),{priority:ct.Highest,data:y})}const _=u.intersectionArea(p),x=_/p.area;if(_&&m){Ir(v,S,c.id.toString());const C={id:c.id,value:x,priority:ct.High,type:Ct.Collision},I=yi===c.id;return yi="",L(P({},C),{id:I?"flush":C.id,data:y})}if(g&&((i=l.source)==null?void 0:i.id)!==c.id){const C=p.boundingRectangle.right>u.boundingRectangle.left&&p.boundingRectangle.left<u.boundingRectangle.right,I=p.boundingRectangle.bottom>u.boundingRectangle.top&&p.boundingRectangle.top<u.boundingRectangle.bottom;if(e==="y"&&C||I){const D=ey(r);if(D){const b=Qu(e,{x:u.center.x-(((o=c.shape)==null?void 0:o.center.x)||0),y:u.center.y-(((a=c.shape)==null?void 0:a.center.y)||0)});return y.direction=b,_?(Ir(v,S,c.id.toString()),yi=c.id,L(P({},D),{priority:ct.Low,data:y})):(Ir(v,S,c.id.toString()),L(P({},D),{priority:ct.Lowest,data:y}))}}}return Ir(v,S,c.id.toString()),null},ty=({children:e,onDragStart:t,onDragEnd:r,onMove:n})=>{const s=Ju({mouse:{distance:{value:5}}});return f.jsx(gu,{sensors:s,onDragStart:i=>{var o,a;return t((a=(o=i.operation.source)==null?void 0:o.id.toString())!=null?a:"")},onDragOver:(i,o)=>{var a;i.preventDefault();const{operation:l}=i,{source:c,target:d}=l;if(!c||!d)return;let u=c.data.index,p=d.data.index;const v=(a=o.collisionObserver.collisions[0])==null?void 0:a.data;if(u!==p&&c.id!==d.id){const g=v?.direction==="up"?"before":"after";p>=u&&(p=p-1),g==="after"&&(p=p+1),n({source:u,target:p})}},onDragEnd:()=>{setTimeout(()=>{r()},250)},children:e})},ry=({id:e,index:t,disabled:r,children:n,type:s="item"})=>{const{ref:i,isDragging:o,isDropping:a,handleRef:l}=$u({id:e,type:s,index:t,disabled:r,data:{index:t},collisionDetector:ef("y")});return n({isDragging:o,isDropping:a,ref:i,handleRef:l})};M();var $s=j.createContext({}),tf=()=>{const e=j.useContext($s);return L(P({},e),{readOnlyFields:e.readOnlyFields||{}})},rf=({children:e,name:t,subName:r,wildcardName:n=t,readOnlyFields:s})=>{const i=`${t}.${r}`,o=`${n}.${r}`,a=j.useMemo(()=>Object.keys(s).reduce((l,c)=>{if(c.indexOf(i)>-1||c.indexOf(o)>-1){const u=new RegExp(`^(${t}|${n}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),p=c.replace(u,"");return L(P({},l),{[p]:s[c]})}return l},{}),[t,r,n,s]);return f.jsx($s.Provider,{value:{readOnlyFields:a,localName:r},children:e})},bi=ie("ArrayField",Vu),Lt=ie("ArrayFieldItem",Vu),ny=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,readOnly:o,id:a,Label:l=c=>f.jsx("div",P({},c))})=>{const c=F(z=>z.state.ui.arrayState[a]),d=F(z=>z.setUi),{readOnlyFields:u,localName:p=n}=tf(),v=r,g=c||{items:Array.from(v||[]).map((z,$)=>({_originalIndex:$,_arrayId:`${a}-${$}`})),openId:""},[E,y]=j.useState({arrayState:g,value:v});j.useEffect(()=>{var z;const $=(z=S.getState().state.ui.arrayState[a])!=null?z:g;y({arrayState:$,value:v})},[v]);const S=et(),m=j.useCallback(z=>{const $=S.getState().state;return{arrayState:L(P({},$.ui.arrayState),{[a]:P(P({},g),z)})}},[g,S]),_=j.useCallback(()=>g.items.reduce((z,$)=>$._originalIndex>z?$._originalIndex:z,-1),[g]),x=j.useCallback(z=>{let $=_();const V=Array.from(z||[]).map((R,K)=>{var U;const X=g.items[K],G={_originalIndex:typeof X?._originalIndex<"u"?X._originalIndex:$+1,_arrayId:((U=g.items[K])==null?void 0:U._arrayId)||`${a}-${$+1}`};return G._originalIndex>$&&($=G._originalIndex),G});return L(P({},g),{items:V})},[g]);j.useEffect(()=>{g.items.length>0&&d(m(g))},[]);const[C,I]=j.useState(""),D=!!C,k=!F(z=>z.permissions.getPermissions({item:z.selectedItem}).edit),h=j.useRef(v),A=j.useCallback(z=>{if(e.type!=="array"||!e.arrayFields)return;const $=S.getState().config;return _s({value:z,fields:e.arrayFields,mappers:{slot:({value:V})=>V.map(K=>zu(K,$,!0))},config:$})},[S,e]);if(e.type!=="array"||!e.arrayFields)return null;const N=e.max!==void 0&&E.arrayState.items.length>=e.max||o;return f.jsx(l,{label:s||n,icon:i||f.jsx(Mm,{size:16}),el:"div",readOnly:o,children:f.jsx(ty,{onDragStart:z=>I(z),onDragEnd:()=>{I(""),t(h.current)},onMove:z=>{if(g.items[z.source]._arrayId!==C)return;const $=Sl(E.value,z.source,z.target),V=Sl(g.items,z.source,z.target),R=S.getState().state,K={arrayState:L(P({},R.ui.arrayState),{[a]:L(P({},g),{items:V})})};d(K,!1),y({value:$,arrayState:L(P({},g),{items:V})}),h.current=$},children:f.jsxs("div",{className:bi({hasItems:Array.isArray(v)&&v.length>0,addDisabled:N}),children:[E.arrayState.items.length>0&&f.jsx("div",{className:bi("inner"),"data-dnd-container":!0,children:E.arrayState.items.map((z,$)=>{const{_arrayId:V=`${a}-${$}`,_originalIndex:R=$}=z,K=Array.from(E.value||[])[$]||{};return f.jsx(ry,{id:V,index:$,disabled:o,children:({isDragging:U,ref:X,handleRef:G})=>f.jsxs("div",{ref:X,className:Lt({isExpanded:g.openId===V,isDragging:U,readOnly:o}),children:[f.jsxs("div",{ref:G,onClick:Y=>{U||(Y.preventDefault(),Y.stopPropagation(),g.openId===V?d(m({openId:""})):d(m({openId:V})))},className:Lt("summary"),children:[e.getItemSummary?e.getItemSummary(K,$):`Item #${R}`,f.jsxs("div",{className:Lt("rhs"),children:[!o&&f.jsxs("div",{className:Lt("actions"),children:[f.jsx("div",{className:Lt("action"),children:f.jsx(bt,{type:"button",disabled:!!N,onClick:Y=>{Y.stopPropagation();const te=[...v||[]],ce=A(te[$]);te.splice($,0,ce);const Ie=m(x(te));d(Ie,!1),t(te)},title:"Duplicate",children:f.jsx(Yu,{size:16})})}),f.jsx("div",{className:Lt("action"),children:f.jsx(bt,{type:"button",disabled:e.min!==void 0&&e.min>=E.arrayState.items.length,onClick:Y=>{Y.stopPropagation();const te=[...v||[]],ce=[...g.items||[]];te.splice($,1),ce.splice($,1),d(m({items:ce}),!1),t(te)},title:"Delete",children:f.jsx(Ku,{size:16})})})]}),f.jsx("div",{children:f.jsx(Gu,{})})]})]}),f.jsx("div",{className:Lt("body"),children:g.openId===V&&f.jsx("fieldset",{className:Lt("fieldset"),children:Object.keys(e.arrayFields).map(Y=>{const te=e.arrayFields[Y],Ie=`${`${n}[${$}]`}.${Y}`,se=`${p}[${$}]`,Ee=`${p}[*]`,De=`${se}.${Y}`,Z=`${Ee}.${Y}`,w=k||(typeof u[Ie]<"u"?u[De]:u[Z]),O=te.label||Y;return f.jsx(rf,{name:se,wildcardName:Ee,subName:Y,readOnlyFields:u,children:f.jsx(Ks,{name:Ie,label:O,id:`${V}_${Y}`,readOnly:w,field:L(P({},te),{label:O}),value:K[Y],onChange:(T,B)=>{t(Hv(v,$,L(P({},K),{[Y]:T})),B)}})},Ie)})})})]})},V)})}),!N&&f.jsx("button",{type:"button",className:bi("addButton"),onClick:()=>{var z;if(D)return;const $=v||[],V=yo(A((z=e.defaultItemProps)!=null?z:{}),e.arrayFields),R=[...$,V],K=x(R);d(m(K),!1),t(R)},children:f.jsx(Rm,{size:21})})]})})})};M();var sy=ie("Input",Wr),Tl=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:l})=>{const c=n;return f.jsx(a,{label:i||s,icon:o||f.jsxs(f.Fragment,{children:[e.type==="text"&&f.jsx(Ia,{size:16}),e.type==="number"&&f.jsx(Dm,{size:16})]}),readOnly:r,children:f.jsx("input",{className:sy("input"),autoComplete:"off",type:e.type,title:i||s,name:s,value:c?.toString?c.toString():"",onChange:d=>{if(e.type==="number"){const u=Number(d.currentTarget.value);if(typeof e.min<"u"&&u<e.min||typeof e.max<"u"&&u>e.max)return;t(u)}else t(d.currentTarget.value)},readOnly:r,tabIndex:r?-1:void 0,id:l,min:e.type==="number"?e.min:void 0,max:e.type==="number"?e.max:void 0,placeholder:e.type==="text"||e.type==="number"?e.placeholder:void 0,step:e.type==="number"?e.step:void 0})})};M();M();M();var nf={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};M();M();var iy={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},Ll=ie("Modal",iy),oy=({children:e,onClose:t,isOpen:r})=>{const[n,s]=j.useState(null);return j.useEffect(()=>{s(document.getElementById("puck-portal-root"))},[]),n?zs.createPortal(f.jsx("div",{className:Ll({isOpen:r}),onClick:t,children:f.jsx("div",{className:Ll("inner"),onClick:i=>i.stopPropagation(),children:e})}),n):f.jsx("div",{})};M();M();var ay={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},ly=ie("Heading",ay),ja=({children:e,rank:t,size:r="m"})=>{const n=t?`h${t}`:"span";return f.jsx(n,{className:ly({[r]:!0}),children:e})};M();var es=ie("ExternalInput",nf),be=ie("ExternalInputModal",nf),$l={},cy=({field:e,onChange:t,value:r=null,name:n,id:s,readOnly:i})=>{const{mapProp:o=h=>h,mapRow:a=h=>h,filterFields:l}=e||{},[c,d]=j.useState([]),[u,p]=j.useState(!1),[v,g]=j.useState(!0),E=!!l,[y,S]=j.useState(e.initialFilters||{}),[m,_]=j.useState(E),x=j.useMemo(()=>c.map(a),[c]),C=j.useMemo(()=>{const h=new Set;for(const A of x)for(const N of Object.keys(A))(typeof A[N]=="string"||typeof A[N]=="number"||j.isValidElement(A[N]))&&h.add(N);return Array.from(h)},[x]),[I,D]=j.useState(e.initialQuery||""),b=j.useCallback((h,A)=>Ce(void 0,null,function*(){g(!0);const N=`${s}-${h}-${JSON.stringify(A)}`,z=$l[N]||(yield e.fetchList({query:h,filters:A}));z&&(d(z),g(!1),$l[N]=z)}),[s,e]),k=j.useCallback(h=>e.renderFooter?e.renderFooter(h):f.jsxs("span",{className:be("footer"),children:[h.items.length," result",h.items.length===1?"":"s"]}),[e.renderFooter]);return j.useEffect(()=>{b(I,y)},[]),f.jsxs("div",{className:es({dataSelected:!!r,modalVisible:u,readOnly:i}),id:s,children:[f.jsxs("div",{className:es("actions"),children:[f.jsx("button",{type:"button",onClick:()=>p(!0),className:es("button"),disabled:i,children:r?e.getItemSummary?e.getItemSummary(r):"External item":f.jsxs(f.Fragment,{children:[f.jsx(Xu,{size:"16"}),f.jsx("span",{children:e.placeholder})]})}),r&&f.jsx("button",{type:"button",className:es("detachButton"),onClick:()=>{t(null)},disabled:i,children:f.jsx(Nm,{size:16})})]}),f.jsx(oy,{onClose:()=>p(!1),isOpen:u,children:f.jsxs("form",{className:be({isLoading:v,loaded:!v,hasData:x.length>0,filtersToggled:m}),onSubmit:h=>{h.preventDefault(),b(I,y)},children:[f.jsx("div",{className:be("masthead"),children:e.showSearch?f.jsxs("div",{className:be("searchForm"),children:[f.jsxs("label",{className:be("search"),children:[f.jsx("span",{className:be("searchIconText"),children:"Search"}),f.jsx("div",{className:be("searchIcon"),children:f.jsx(Bm,{size:"18"})}),f.jsx("input",{className:be("searchInput"),name:"q",type:"search",placeholder:e.placeholder,onChange:h=>{D(h.currentTarget.value)},autoComplete:"off",value:I})]}),f.jsxs("div",{className:be("searchActions"),children:[f.jsx(no,{type:"submit",loading:v,fullWidth:!0,children:"Search"}),E&&f.jsx("div",{className:be("searchActionIcon"),children:f.jsx(bt,{type:"button",title:"Toggle filters",onClick:h=>{h.preventDefault(),h.stopPropagation(),_(!m)},children:f.jsx(Wm,{size:20})})})]})]}):f.jsx(ja,{rank:"2",size:"xs",children:e.placeholder||"Select data"})}),f.jsxs("div",{className:be("grid"),children:[E&&f.jsx("div",{className:be("filters"),children:E&&Object.keys(l).map(h=>{const A=l[h];return f.jsx("div",{className:be("field"),children:f.jsx(Ks,{field:A,name:h,id:`external_field_${h}_filter`,label:A.label||h,value:y[h],onChange:N=>{const z=L(P({},y),{[h]:N});S(z),b(I,z)}})},h)})}),f.jsxs("div",{className:be("tableWrapper"),children:[f.jsxs("table",{className:be("table"),children:[f.jsx("thead",{className:be("thead"),children:f.jsx("tr",{className:be("tr"),children:C.map(h=>f.jsx("th",{className:be("th"),style:{textAlign:"left"},children:h},h))})}),f.jsx("tbody",{className:be("tbody"),children:x.map((h,A)=>f.jsx("tr",{style:{whiteSpace:"nowrap"},className:be("tr"),onClick:()=>{t(o(c[A])),p(!1)},children:C.map(N=>f.jsx("td",{className:be("td"),children:h[N]},N))},A))})]}),f.jsx("div",{className:be("loadingBanner"),children:f.jsx(fr,{size:24})})]})]}),f.jsx("div",{className:be("footerContainer"),children:f.jsx(k,{items:x})})]})})]})},dy=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,id:a,readOnly:l})=>{var c,d,u;const p=e,v=e;return j.useEffect(()=>{v.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),e.type!=="external"?null:f.jsx(o,{label:s||n,icon:i||f.jsx(Xu,{size:16}),el:"div",children:f.jsx(cy,{name:n,field:L(P({},p),{placeholder:(c=v.adaptor)!=null&&c.name?`Select from ${v.adaptor.name}`:p.placeholder||"Select data",mapProp:((d=v.adaptor)==null?void 0:d.mapProp)||p.mapProp,mapRow:p.mapRow,fetchList:(u=v.adaptor)!=null&&u.fetchList?()=>Ce(void 0,null,function*(){return yield v.adaptor.fetchList(v.adaptorParams)}):p.fetchList}),onChange:t,value:r,id:a,readOnly:l})})};M();var ts=ie("Input",Wr),uy=({field:e,onChange:t,readOnly:r,value:n,name:s,id:i,label:o,labelIcon:a,Label:l})=>e.type!=="radio"||!e.options?null:f.jsx(l,{icon:a||f.jsx(km,{size:16}),label:o||s,readOnly:r,el:"div",children:f.jsx("div",{className:ts("radioGroupItems"),id:i,children:e.options.map(c=>{var d;return f.jsxs("label",{className:ts("radio"),children:[f.jsx("input",{type:"radio",className:ts("radioInput"),value:JSON.stringify({value:c.value}),name:s,onChange:u=>{t(JSON.parse(u.target.value).value)},disabled:r,checked:n===c.value}),f.jsx("div",{className:ts("radioInner"),children:c.label||((d=c.value)==null?void 0:d.toString())})]},c.label+c.value)})})});M();var fy=ie("Input",Wr),py=({field:e,onChange:t,label:r,labelIcon:n,Label:s,value:i,name:o,readOnly:a,id:l})=>e.type!=="select"||!e.options?null:f.jsx(s,{label:r||o,icon:n||f.jsx(Xs,{size:16}),readOnly:a,children:f.jsx("select",{id:l,title:r||o,className:fy("input"),disabled:a,onChange:c=>{t(JSON.parse(c.target.value).value)},value:JSON.stringify({value:i}),children:e.options.map(c=>f.jsx("option",{label:c.label,value:JSON.stringify({value:c.value})},c.label+JSON.stringify(c.value)))})});M();var hy=ie("Input",Wr),gy=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:l})=>f.jsx(a,{label:i||s,icon:o||f.jsx(Ia,{size:16}),readOnly:r,children:f.jsx("textarea",{id:l,className:hy("input"),autoComplete:"off",name:s,value:typeof n>"u"?"":n,onChange:c=>t(c.currentTarget.value),readOnly:r,tabIndex:r?-1:void 0,rows:5,placeholder:e.type==="textarea"?e.placeholder:void 0})});M();M();var vy={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},zl=ie("ObjectField",vy),my=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,readOnly:a,id:l})=>{const{readOnlyFields:c,localName:d=n}=tf();if(e.type!=="object"||!e.objectFields)return null;const u=r||{};return f.jsx(o,{label:s||n,icon:i||f.jsx(Pm,{size:16}),el:"div",readOnly:a,children:f.jsx("div",{className:zl(),children:f.jsx("fieldset",{className:zl("fieldset"),children:Object.keys(e.objectFields).map(p=>{const v=e.objectFields[p],g=`${d}.${p}`,E=a||c[g],y=v.label||p;return f.jsx(rf,{name:d||l,subName:p,readOnlyFields:c,children:f.jsx(Ks,{name:g,label:g,id:`${l}_${p}`,readOnly:E,field:L(P({},v),{label:y}),value:u[p],onChange:(S,m)=>{t(L(P({},u),{[p]:S}),m)}})},g)})})})})};M();var Ea=()=>{if(typeof Ht.useId<"u")return Ht.useId();const[e]=j.useState(it());return e},vs=ie("Input",Wr),yy=ie("InputWrapper",Wr),by=({children:e,icon:t,label:r,el:n="label",readOnly:s,className:i})=>{const o=n;return f.jsxs(o,{className:i,children:[f.jsxs("div",{className:vs("label"),children:[t?f.jsx("div",{className:vs("labelIcon"),children:t}):f.jsx(f.Fragment,{}),r,s&&f.jsx("div",{className:vs("disabledIcon"),title:"Read-only",children:f.jsx(Tm,{size:"12"})})]}),e]})},xy=({children:e,icon:t,label:r,el:n="label",readOnly:s})=>{const i=F(a=>a.overrides),o=j.useMemo(()=>i.fieldLabel||by,[i]);return r?f.jsx(o,{label:r,icon:t,className:vs({readOnly:s}),readOnly:s,el:n,children:e}):f.jsx(f.Fragment,{children:e})},Pt={array:ny,external:dy,object:my,select:py,textarea:gy,radio:uy,text:Tl,number:Tl};function _y(e){var t;const r=F(x=>x.dispatch),n=F(x=>x.overrides),s=F(x=>{var C;return(C=x.selectedItem)==null?void 0:C.readOnly}),i=j.useContext($s),{id:o,Label:a=xy}=e,l=e.field,c=l.label,d=l.labelIcon,u=Ea(),p=o||u,v=j.useMemo(()=>{var x,C,I,D,b,k,h,A;return L(P({},n.fieldTypes),{array:((x=n.fieldTypes)==null?void 0:x.array)||Pt.array,external:((C=n.fieldTypes)==null?void 0:C.external)||Pt.external,object:((I=n.fieldTypes)==null?void 0:I.object)||Pt.object,select:((D=n.fieldTypes)==null?void 0:D.select)||Pt.select,textarea:((b=n.fieldTypes)==null?void 0:b.textarea)||Pt.textarea,radio:((k=n.fieldTypes)==null?void 0:k.radio)||Pt.radio,text:((h=n.fieldTypes)==null?void 0:h.text)||Pt.text,number:((A=n.fieldTypes)==null?void 0:A.number)||Pt.number})},[n]),g=j.useMemo(()=>L(P({},e),{field:l,label:c,labelIcon:d,Label:a,id:p}),[e,l,c,d,a,p]),E=j.useCallback(x=>{g.name&&(x.target.nodeName==="INPUT"||x.target.nodeName==="TEXTAREA")&&(x.stopPropagation(),r({type:"setUi",ui:{field:{focus:g.name}}}))},[g.name]),y=j.useCallback(x=>{"name"in x.target&&r({type:"setUi",ui:{field:{focus:null}}})},[]);let S=j.useMemo(()=>l.type!=="custom"&&l.type!=="slot"?Pt[l.type]:x=>null,[l.type]),m=j.useMemo(()=>{if(l.type==="custom")return l.render?l.render:null;if(l.type!=="slot")return v[l.type]},[l.type,v]);const{visible:_=!0}=e.field;if(!_||l.type==="slot")return null;if(!m)throw new Error(`Field type for ${l.type} did not exist.`);return f.jsx($s.Provider,{value:{readOnlyFields:i.readOnlyFields||s||{},localName:(t=i.localName)!=null?t:g.name},children:f.jsx("div",{className:yy(),onFocus:E,onBlur:y,onClick:x=>{x.stopPropagation()},children:f.jsx(m,L(P({},g),{children:f.jsx(S,P({},g))}))})})}function Ks(e){const t=F(l=>l.state.ui.field.focus===e.name),{value:r,onChange:n}=e,[s,i]=j.useState(r),o=j.useCallback((l,c)=>{i(l),n(l,c)},[n]);j.useEffect(()=>{t||i(r)},[r]),j.useEffect(()=>{t||r!==s&&i(r)},[t,r,s]);const a={value:s,onChange:o};return f.jsx(_y,P(P({},e),a))}M();M();M();M();var wy={DraggableComponent:"_DraggableComponent_1vaqy_1","DraggableComponent-overlayWrapper":"_DraggableComponent-overlayWrapper_1vaqy_12","DraggableComponent-overlay":"_DraggableComponent-overlay_1vaqy_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_1vaqy_34","DraggableComponent--hover":"_DraggableComponent--hover_1vaqy_50","DraggableComponent--isSelected":"_DraggableComponent--isSelected_1vaqy_57","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_1vaqy_71","DraggableComponent-actions":"_DraggableComponent-actions_1vaqy_71"};M();function Rl(e){let t={x:0,y:0},r=e;for(;r&&r!==document.documentElement;){const n=r.parentElement;n&&(t.x+=n.scrollLeft,t.y+=n.scrollTop),r=n}return t}M();var Hr=j.createContext(null),nt=j.createContext(An(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),Sy=({children:e,store:t})=>f.jsx(nt.Provider,{value:t,children:e}),Dn=({children:e,value:t})=>{const r=F(i=>i.dispatch),n=j.useCallback(i=>{r({type:"registerZone",zone:i})},[r]),s=j.useMemo(()=>P({registerZone:n},t),[t]);return f.jsx(f.Fragment,{children:s&&f.jsx(Hr.Provider,{value:s,children:e})})};M();function Iy(e){let t=new DOMMatrixReadOnly,r=e.parentElement;for(;r&&r!==document.documentElement;){const n=getComputedStyle(r).transform;n&&n!=="none"&&(t=new DOMMatrixReadOnly(n).multiply(t)),r=r.parentElement}return{scaleX:t.a,scaleY:t.d}}M();function ar(e,t){const r=j.useContext(e);if(!r)throw new Error("useContextStore must be used inside context");return So(r,Be(t))}M();var sf=(e,t=[])=>{const r=et();return j.useCallback(()=>{let n=()=>{};const s=o=>{o?e(!1):(setTimeout(()=>{e(!0)},0),n&&n())},i=r.getState().state.ui.isDragging;return s(i),i&&(n=r.subscribe(o=>o.state.ui.isDragging,o=>{s(o)})),n},[r,...t])},gr=ie("DraggableComponent",wy),of=8,jy=of*6.5,Ey=-44,Fl=of,ky=({label:e,children:t,parentAction:r})=>f.jsxs(vt,{children:[f.jsxs(vt.Group,{children:[r,e&&f.jsx(vt.Label,{label:e})]}),f.jsx(vt.Group,{children:t})]}),Cy=({children:e})=>f.jsx(f.Fragment,{children:e}),Py=({children:e,depth:t,componentType:r,id:n,index:s,zoneCompound:i,isLoading:o=!1,isSelected:a=!1,debug:l,label:c,autoDragAxis:d,userDragAxis:u,inDroppableZone:p=!0})=>{const v=F(H=>{var J;return((J=H.selectedItem)==null?void 0:J.props.id)===n?H.zoomConfig.zoom:1}),g=F(H=>H.overrides),E=F(H=>H.dispatch),y=F(H=>H.iframe),S=j.useContext(Hr),[m,_]=j.useState({}),x=j.useCallback((H,J)=>{var Q;(Q=S?.registerLocalZone)==null||Q.call(S,H,J),_(ue=>L(P({},ue),{[H]:J}))},[_]),C=j.useCallback(H=>{var J;(J=S?.unregisterLocalZone)==null||J.call(S,H),_(Q=>{const ue=P({},Q);return delete ue[H],ue})},[_]),I=Object.values(m).filter(Boolean).length>0,D=F(Be(H=>{var J;return(J=H.state.indexes.nodes[n])==null?void 0:J.path})),b=F(Be(H=>{const J=yt({index:s,zone:i},H.state);return H.permissions.getPermissions({item:J})})),k=j.useContext(nt),[h,A]=j.useState(u||d),N=j.useMemo(()=>ef(h),[h]),{ref:z,isDragging:$,sortable:V}=$u({id:n,index:s,group:i,type:"component",data:{areaId:S?.areaId,zone:i,index:s,componentType:r,containsActiveZone:I,depth:t,path:D||[],inDroppableZone:p},collisionPriority:t,collisionDetector:N,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});j.useEffect(()=>{const H=k.getState().enabledIndex[i];V.droppable.disabled=!H,V.draggable.disabled=!b.drag;const J=k.subscribe(Q=>{V.droppable.disabled=!Q.enabledIndex[i]});return R.current&&!b.drag?(R.current.setAttribute("data-puck-disabled",""),()=>{var Q;(Q=R.current)==null||Q.removeAttribute("data-puck-disabled"),J()}):J},[b.drag,i]);const R=j.useRef(null),K=j.useCallback(H=>{z(H),H&&(R.current=H)},[z]),[U,X]=j.useState();j.useEffect(()=>{var H,J,Q;X(y.enabled?(H=R.current)==null?void 0:H.ownerDocument.body:(Q=(J=R.current)==null?void 0:J.closest("[data-puck-preview]"))!=null?Q:document.body)},[y.enabled,R.current]);const G=j.useCallback(()=>{var H,J,Q;if(!R.current)return;const ue=R.current.getBoundingClientRect(),ye=Rl(R.current),we=y.enabled?null:(H=R.current)==null?void 0:H.closest("[data-puck-preview]"),Te=we?.getBoundingClientRect(),Ke=we?Rl(we):{x:0,y:0},tt={x:ye.x-Ke.x-((J=Te?.left)!=null?J:0),y:ye.y-Ke.y-((Q=Te?.top)!=null?Q:0)},St={height:R.current.offsetHeight,width:R.current.offsetWidth},Vr=Iy(R.current);return{left:`${(ue.left+tt.x)/Vr.scaleX}px`,top:`${(ue.top+tt.y)/Vr.scaleY}px`,height:`${St.height}px`,width:`${St.width}px`}},[R.current]),[Y,te]=j.useState(),ce=j.useCallback(()=>{te(G())},[R.current,y]);j.useEffect(()=>{if(R.current){const H=new ResizeObserver(ce);return H.observe(R.current),()=>{H.disconnect()}}},[R.current]);const Ie=F(H=>H.nodes.registerNode),se=j.useCallback(()=>{Oe(!1)},[]),Ee=j.useCallback(()=>{Oe(!0)},[]);j.useEffect(()=>{var H;return Ie(n,{methods:{sync:ce,showOverlay:Ee,hideOverlay:se},element:(H=R.current)!=null?H:null}),()=>{Ie(n,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[n,i,s,r,ce]);const De=j.useMemo(()=>g.actionBar||ky,[g.actionBar]),Z=j.useMemo(()=>g.componentOverlay||Cy,[g.componentOverlay]),w=j.useCallback(H=>{H.target.closest("[data-puck-overlay-portal]")||H.stopPropagation(),E({type:"setUi",ui:{itemSelector:{index:s,zone:i}}})},[s,i,n]),O=et(),T=j.useCallback(()=>{const{nodes:H,zones:J}=O.getState().state.indexes,Q=H[n],ue=Q?.parentId?H[Q?.parentId]:null;if(!ue||!Q.parentId)return;const ye=`${ue.parentId}:${ue.zone}`,we=J[ye].contentIds.indexOf(Q.parentId);E({type:"setUi",ui:{itemSelector:{zone:ye,index:we}}})},[S,D]),B=j.useCallback(()=>{E({type:"duplicate",sourceIndex:s,sourceZone:i})},[s,i]),W=j.useCallback(()=>{E({type:"remove",index:s,zone:i})},[s,i]),[q,ee]=j.useState(!1),he=ar(nt,H=>H.hoveringComponent===n);j.useEffect(()=>{if(!R.current)return;const H=R.current,J=ue=>{const ye=!!k.getState().draggedItem;ee(ye?!!$:!0),ue.stopPropagation()},Q=ue=>{ue.stopPropagation(),ee(!1)};return H.setAttribute("data-puck-component",n),H.setAttribute("data-puck-dnd",n),H.style.position="relative",H.addEventListener("click",w),H.addEventListener("mouseover",J),H.addEventListener("mouseout",Q),()=>{H.removeAttribute("data-puck-component"),H.removeAttribute("data-puck-dnd"),H.removeEventListener("click",w),H.removeEventListener("mouseover",J),H.removeEventListener("mouseout",Q)}},[R.current,w,I,i,n,$,p]);const[xe,Oe]=j.useState(!1),[Ae,ke]=j.useState(!0),[_e,me]=j.useTransition();j.useEffect(()=>{me(()=>{q||he||a?(ce(),Oe(!0),Tt(!1)):Oe(!1)})},[q,he,a,y]);const[ot,Tt]=j.useState(!1),Wn=sf(H=>{H?me(()=>{ce(),ke(!0)}):ke(!1)});j.useEffect(()=>{$&&Tt(!0)},[$]),j.useEffect(()=>{if(ot)return Wn()},[ot,Wn]);const Ur=j.useCallback(H=>{if(H&&H.ownerDocument.defaultView){const Q=H.getBoundingClientRect(),ye=Q.x<0,Te=Q.y<0;ye&&(H.style.transformOrigin="left top",H.style.left="0px"),Te&&(H.style.top="12px",ye||(H.style.transformOrigin="right top"))}},[v]);j.useEffect(()=>{if(u){A(u);return}if(R.current){const H=window.getComputedStyle(R.current);if(H.display==="inline"||H.display==="inline-block"){A("x");return}}A(d)},[R,u,d]);const Gs=j.useMemo(()=>S?.areaId&&S?.areaId!=="root"&&f.jsx(vt.Action,{onClick:T,label:"Select parent",children:f.jsx(Cm,{size:16})}),[S?.areaId]),oe=j.useMemo(()=>L(P({},S),{areaId:n,zoneCompound:i,index:s,depth:t+1,registerLocalZone:x,unregisterLocalZone:C}),[S,n,i,s,t,x,C]);return f.jsxs(Dn,{value:oe,children:[Ae&&xe&&zs.createPortal(f.jsxs("div",{className:gr({isSelected:a,isDragging:$,hover:q||he}),style:P({},Y),"data-puck-overlay":!0,children:[l,o&&f.jsx("div",{className:gr("loadingOverlay"),children:f.jsx(fr,{})}),f.jsx("div",{className:gr("actionsOverlay"),style:{top:jy/v},children:f.jsx("div",{className:gr("actions"),style:{transform:`scale(${1/v}`,top:Ey/v,right:0,paddingLeft:Fl,paddingRight:Fl},ref:Ur,children:f.jsxs(De,{parentAction:Gs,label:c,children:[b.duplicate&&f.jsx(vt.Action,{onClick:B,label:"Duplicate",children:f.jsx(Yu,{size:16})}),b.delete&&f.jsx(vt.Action,{onClick:W,label:"Delete",children:f.jsx(Ku,{size:16})})]})})}),f.jsx("div",{className:gr("overlayWrapper"),children:f.jsx(Z,{componentId:n,componentType:r,hover:q,isSelected:a,children:f.jsx("div",{className:gr("overlay")})})})]}),U||document.body),e(K)]})};M();var Dy={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};M();M();var af={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};M();M();M();function Oy(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function Ay(e,t){const r=()=>performance.now();let n,s=0;return function(...i){const o=r(),a=this;o-s>=t?(e.apply(a,i),s=o):(n?.(),n=Oy(()=>{e.apply(a,i),s=r()},t-(o-s)))}}M();var Or=()=>{if(typeof window>"u")return;let e=document.querySelector("#preview-frame");return e?.tagName==="IFRAME"?e.contentDocument||document:e?.ownerDocument||document};M();var My=class{constructor(e,t){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var r;this.target=e,this.original=t,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/(((r=this.frameEl.contentWindow)==null?void 0:r.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};M();var Ny=typeof PointerEvent<"u"?PointerEvent:Event,lf=class extends Ny{constructor(e,t){super(e,t),this._originalTarget=null,this.originalTarget=t.originalTarget}set originalTarget(e){this._originalTarget=e}get originalTarget(){return this._originalTarget}},Ty=e=>e.sort((t,r)=>{const n=t.data,s=r.data;return n.depth>s.depth?1:s.depth>n.depth?-1:0}),Ly=e=>{let t=e?.id;if(!e)return null;if(e.type==="component"){const r=e.data;r.containsActiveZone?t=null:t=r.zone}else if(e.type==="void")return"void";return t},rs=6,$y=(e,t)=>{const r=[];let n=e.target.ownerDocument.elementsFromPoint(e.x,e.y);const s=n.find(o=>o.getAttribute("data-puck-preview")),i=n.find(o=>o.getAttribute("data-puck-drawer"));if(i&&(n=[i]),s){const o=Or();o&&(n=o.elementsFromPoint(e.frame.x,e.frame.y))}if(n)for(let o=0;o<n.length;o++){const a=n[o],l=a.getAttribute("data-puck-dropzone"),c=a.getAttribute("data-puck-dnd"),d=a.hasAttribute("data-puck-dnd-void");if((l||c)&&!d){const u=a.getBoundingClientRect(),p={left:u.left+rs,right:u.right-rs,top:u.top+rs,bottom:u.bottom-rs};if(e.frame.x<p.left||e.frame.x>p.right||e.frame.y>p.bottom||e.frame.y<p.top)continue}if(l){const u=t.registry.droppables.get(l);u&&r.push(u)}if(c){const u=t.registry.droppables.get(c);u&&r.push(u)}}return r},zy=(e,t)=>{var r;const n=$y(e,t);if(n.length>0){const s=Ty(n),i=t.dragOperation.source,o=s.findIndex(g=>g.id===i?.id),a=i?.id;let l=[...s];a&&o>-1&&l.splice(o,1),l=l.filter(g=>{const E=g.data;if(a&&o>-1&&E.path.indexOf(a)>-1)return!1;if(g.type==="dropzone"){const y=g.data;if(!y.isDroppableTarget||y.areaId===a)return!1}else if(g.type==="component"&&!g.data.inDroppableZone)return!1;return!0}),l.reverse();const c=l[0];if(!c)return{zone:null,area:null};const d=c.data,u="containsActiveZone"in d,p=Ly(c),v=u&&d.containsActiveZone?l[0].id:(r=l[0])==null?void 0:r.data.areaId;return{zone:p,area:v}}return{zone:Ve,area:xo}},Ry=({onChange:e},t)=>class extends We{constructor(n,s){super(n),!(typeof window>"u")&&this.registerEffect(()=>{const o=Ay(c=>{const d=c instanceof lf&&c.originalTarget||c.target,u=new My(d,{x:c.clientX,y:c.clientY});document.elementsFromPoint(u.global.x,u.global.y).some(g=>g.id===t)&&e(zy(u,n),n)},50),a=c=>{o(c)};return document.body.addEventListener("pointermove",a,{capture:!0}),()=>{document.body.removeEventListener("pointermove",a,{capture:!0})}})}};M();var Fy=(e,t,r,n)=>Ce(void 0,null,function*(){const s=it(e),i={type:"insert",componentType:e,destinationIndex:r,destinationZone:t,id:s},{state:o,dispatch:a,resolveComponentData:l}=n,c=Ru(o,i,n);a(L(P({},i),{recordHistory:!0}));const d={index:r,zone:t};a({type:"setUi",ui:{itemSelector:d}});const u=yt(d,c);if(u){const p=yield l(u,"insert");p.didChange&&a({type:"replace",destinationZone:d.zone,destinationIndex:d.index,data:p.node})}});M();function By(e){function t(r){return r?r.getAttribute("dir")||t(r.parentElement):"ltr"}return e?t(e):"ltr"}var cf=j.createContext({dragListeners:{}});function Wy(e,t,r=[]){const{setDragListeners:n}=j.useContext(cf);j.useEffect(()=>{n&&n(s=>L(P({},s),{[e]:[...s[e]||[],t]}))},r)}var Hy=100,Uy=e=>{const t=j.useRef(null);return j.useCallback(r=>{so.setState({fallbackEnabled:!1});const n=it();t.current=n,setTimeout(()=>{t.current===n&&(so.setState({fallbackEnabled:!0}),r.collisionObserver.forceUpdate(!0))},e)},[])},Vy=({children:e,disableAutoScroll:t})=>{const r=F(_=>_.dispatch),n=et(),s=Ea(),i=j.useRef(null),o=Uy(100),[a]=j.useState(()=>An(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),l=j.useCallback((_,x)=>{const{zoneDepthIndex:C={},areaDepthIndex:I={}}=a.getState()||{},D=Object.keys(C).length>0,b=Object.keys(I).length>0;let k=!1,h=!1;return(_.zone&&!C[_.zone]||!_.zone&&D)&&(k=!0),(_.area&&!I[_.area]||!_.area&&b)&&(h=!0),{zoneChanged:k,areaChanged:h}},[a]),c=j.useCallback((_,x)=>{const{zoneChanged:C,areaChanged:I}=l(_,s);!C&&!I||(a.setState({zoneDepthIndex:_.zone?{[_.zone]:!0}:{},areaDepthIndex:_.area?{[_.area]:!0}:{}}),o(x),setTimeout(()=>{x.collisionObserver.forceUpdate(!0)},50),i.current=null)},[a]),d=Av(c,Hy),u=()=>{d.cancel(),i.current=null};j.useEffect(()=>{},[]);const[p]=j.useState(()=>[...t?or.plugins.filter(_=>_!==ua):or.plugins,Ry({onChange:(_,x)=>{const C=a.getState(),{zoneChanged:I,areaChanged:D}=l(_,s),b=x.dragOperation.status.dragging;if(D||I){let k={},h={};_.zone&&(k={[_.zone]:!0}),_.area&&(h={[_.area]:!0}),a.setState({nextZoneDepthIndex:k,nextAreaDepthIndex:h})}if(_.zone!=="void"&&C?.zoneDepthIndex.void){c(_,x);return}if(D){if(b){const k=i.current;k&&k.area===_.area&&k.zone===_.zone||(u(),d(_,x),i.current=_)}else u(),c(_,x);return}I&&c(_,x),u()}},s)]),v=Ju(),[g,E]=j.useState({}),y=j.useRef(null),S=j.useRef(void 0),m=j.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return f.jsx("div",{id:s,children:f.jsx(cf.Provider,{value:{dragListeners:g,setDragListeners:E},children:f.jsx(gu,{plugins:p,sensors:v,onDragEnd:(_,x)=>{var C,I;const D=(C=Or())==null?void 0:C.querySelector("[data-puck-entry]");D?.removeAttribute("data-puck-dragging");const{source:b,target:k}=_.operation;if(!b){a.setState({draggedItem:null});return}const{zone:h,index:A}=b.data,{previewIndex:N={}}=a.getState()||{},z=((I=N[h])==null?void 0:I.props.id)===b.id?N[h]:null,$=()=>{var R,K;if(a.setState({draggedItem:null}),_.canceled||k?.type==="void"){a.setState({previewIndex:{}}),(R=g.dragend)==null||R.forEach(U=>{U(_,x)}),r({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}z&&(a.setState({previewIndex:{}}),z.type==="insert"?Fy(z.componentType,z.zone,z.index,n.getState()):S.current&&r({type:"move",sourceIndex:S.current.index,sourceZone:S.current.zone,destinationIndex:z.index,destinationZone:z.zone,recordHistory:!1})),r({type:"setUi",ui:{itemSelector:{index:A,zone:h},isDragging:!1},recordHistory:!0}),(K=g.dragend)==null||K.forEach(U=>{U(_,x)})};let V;V=Qe(()=>{b.status==="idle"&&($(),V?.())})},onDragOver:(_,x)=>{var C,I,D,b;if(_.preventDefault(),!((C=a.getState())==null?void 0:C.draggedItem))return;u();const{source:h,target:A}=_.operation;if(!A||!h||A.type==="void")return;const[N]=h.id.split(":"),[z]=A.id.split(":"),$=h.data;let V=$.zone,R=$.index,K="",U=0;if(A.type==="component"){const G=A.data;K=G.zone,U=G.index;const Y=(I=x.collisionObserver.collisions[0])==null?void 0:I.data,te=By(A.element),ce=Y?.direction==="up"||te==="ltr"&&Y?.direction==="left"||te==="rtl"&&Y?.direction==="right"?"before":"after";U>=R&&V===K&&(U=U-1),ce==="after"&&(U=U+1)}else K=A.id.toString(),U=0;const X=((D=n.getState().state.indexes.nodes[A.id])==null?void 0:D.path)||[];if(!(z===N||X.find(G=>{const[Y]=G.split(":");return Y===N}))){if(y.current==="new")a.setState({previewIndex:{[K]:{componentType:$.componentType,type:"insert",index:U,zone:K,element:h.element,props:{id:h.id.toString()}}}});else{S.current||(S.current={zone:$.zone,index:$.index});const G=yt(S.current,n.getState().state);G&&a.setState({previewIndex:{[K]:{componentType:$.componentType,type:"move",index:U,zone:K,props:G.props,element:h.element}}})}(b=g.dragover)==null||b.forEach(G=>{G(_,x)})}},onDragStart:(_,x)=>{var C;const{source:I}=_.operation;if(I&&I.type!=="void"){const D=I.data,b=yt({zone:D.zone,index:D.index},n.getState().state);b&&a.setState({previewIndex:{[D.zone]:{componentType:D.componentType,type:"move",index:D.index,zone:D.zone,props:b.props,element:I.element}}})}(C=g.dragstart)==null||C.forEach(D=>{D(_,x)})},onBeforeDragStart:_=>{var x,C,I,D;const b=((x=_.operation.source)==null?void 0:x.type)==="drawer";y.current=b?"new":"existing",S.current=void 0,a.setState({draggedItem:_.operation.source}),((C=n.getState().selectedItem)==null?void 0:C.props.id)!==((I=_.operation.source)==null?void 0:I.id)?r({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):r({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const k=(D=Or())==null?void 0:D.querySelector("[data-puck-entry]");k?.setAttribute("data-puck-dragging","true")},children:f.jsx(Sy,{store:a,children:f.jsx(Dn,{value:m,children:e})})})})})},Zy=({children:e,disableAutoScroll:t})=>F(n=>n.status)==="LOADING"?e:f.jsx(Vy,{disableAutoScroll:t,children:e}),ms=ie("Drawer",af),vr=ie("DrawerItem",af),io=({children:e,name:t,label:r,dragRef:n,isDragDisabled:s})=>{const i=j.useMemo(()=>e||(({children:o})=>f.jsx("div",{className:vr("default"),children:o})),[e]);return f.jsx("div",{className:vr({disabled:s}),ref:n,onMouseDown:o=>o.preventDefault(),"data-testid":n?`drawer-item:${t}`:"","data-puck-drawer-item":!0,children:f.jsx(i,{name:t,children:f.jsx("div",{className:vr("draggableWrapper"),children:f.jsxs("div",{className:vr("draggable"),children:[f.jsx("div",{className:vr("name"),children:r??t}),f.jsx("div",{className:vr("icon"),children:f.jsx(Gu,{})})]})})})})},qy=({children:e,name:t,label:r,id:n,isDragDisabled:s})=>{const{ref:i}=zg({id:n,data:{componentType:t},disabled:s,type:"drawer"});return f.jsxs("div",{className:ms("draggable"),children:[f.jsx("div",{className:ms("draggableBg"),children:f.jsx(io,{name:t,label:r,children:e})}),f.jsx("div",{className:ms("draggableFg"),children:f.jsx(io,{name:t,label:r,dragRef:i,isDragDisabled:s,children:e})})]})},Yy=({name:e,children:t,id:r,label:n,index:s,isDragDisabled:i})=>{const o=r||e,[a,l]=j.useState(it(o));return typeof s<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),Wy("dragend",()=>{l(it(o))},[o]),f.jsx("div",{children:f.jsx(qy,{name:e,label:n,id:a,isDragDisabled:i,children:t})},a)},ka=({children:e,droppableId:t,direction:r})=>{t&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),r&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const n=Ea(),{ref:s}=Eu({id:n,type:"void",collisionPriority:0});return f.jsx("div",{className:ms(),ref:s,"data-puck-dnd":n,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:e})};ka.Item=Yy;M();var Bl=(e,t)=>e.getState().state.indexes.zones[t].contentIds.length,Xy=({zoneCompound:e,userMinEmptyHeight:t,ref:r})=>{const n=et(),[s,i]=j.useState(0),[o,a]=j.useState(!1),{draggedItem:l,isZone:c}=ar(nt,p=>{var v,g;return{draggedItem:((v=p.draggedItem)==null?void 0:v.data.zone)===e?p.draggedItem:null,isZone:((g=p.draggedItem)==null?void 0:g.data.zone)===e}}),d=j.useRef(0),u=sf(p=>{var v;if(p){const g=Bl(n,e);if(i(0),g||d.current===0){a(!1);return}const E=n.getState().selectedItem,y=n.getState().state.indexes.zones,S=n.getState().nodes;(v=S.nodes[E?.props.id])==null||v.methods.hideOverlay(),setTimeout(()=>{var m;(((m=y[e])==null?void 0:m.contentIds)||[]).forEach(x=>{const C=S.nodes[x];C?.methods.sync()}),E&&setTimeout(()=>{var x,C;(x=S.nodes[E.props.id])==null||x.methods.sync(),(C=S.nodes[E.props.id])==null||C.methods.showOverlay()},200),a(!1)},100)}},[n,s,e]);return j.useEffect(()=>{if(l&&r.current&&c){const p=r.current.getBoundingClientRect();return d.current=Bl(n,e),i(p.height),a(!0),u()}},[r.current,l,u]),[s||t,o]};M();function Ky(e,t){typeof e=="function"?e(t):e&&typeof e=="object"&&"current"in e&&(e.current=t)}function Gy(e,t){e.forEach(r=>{Ky(r,t)})}M();M();function Jy(e,t){const r=vu();return j.useCallback((...n)=>Ce(this,null,function*(){return yield r?.renderer.rendering,e(...n)}),[...t,r])}var Qy=(e,t)=>{const r=j.useContext(nt),n=ar(nt,d=>d.previewIndex[t]),s=F(d=>d.state.ui.isDragging),[i,o]=j.useState(e),[a,l]=j.useState(n),c=Jy((d,u,p,v,g)=>{p&&!g||(u?u.type==="insert"?o(Dr(d.filter(E=>E!==u.props.id),u.index,u.props.id)):o(Dr(d.filter(E=>E!==u.props.id),u.index,u.props.id)):o(g?d.filter(E=>E!==v):d),l(u))},[]);return j.useEffect(()=>{var d;const u=r.getState(),p=(d=u.draggedItem)==null?void 0:d.id,v=Object.keys(u.previewIndex||{}).length>0;c(e,n,s,p,v)},[e,n,s]),[i,a]};M();var eb="dynamic",tb="x",Wl="y",rb=(e,t)=>{const r=F(o=>o.status),[n,s]=j.useState(t||Wl),i=j.useCallback(()=>{if(e.current){const o=window.getComputedStyle(e.current);o.display==="grid"?s(eb):o.display==="flex"&&o.flexDirection==="row"?s(tb):s(Wl)}},[e.current]);return j.useEffect(()=>{const o=()=>{i()};return window.addEventListener("viewportchange",o),()=>{window.removeEventListener("viewportchange",o)}},[]),j.useEffect(i,[r,t]),[n,i]};M();var nb=({componentId:e,zone:t})=>{const r=F(i=>i.config),n=F(i=>i.metadata),s=F(Be(i=>{var o,a;const l=i.state.indexes;return((a=(o=l.zones[`${e}:${t}`])==null?void 0:o.contentIds)!=null?a:[]).map(d=>l.nodes[d].flatData)}));return f.jsx(wo,{content:s,zone:t,config:r,metadata:n})};M();M();M();var sb=(e,t={})=>{if(!e)return;const{disableDrag:r=!1,disableDragOnFocus:n=!0}=t,s=a=>{a.stopPropagation()};e.addEventListener("mouseover",s,{capture:!0});const i=()=>{setTimeout(()=>{e.addEventListener("pointerdown",s,{capture:!0})},200)},o=()=>{e.removeEventListener("pointerdown",s,{capture:!0})};return n?(e.addEventListener("focus",i,{capture:!0}),e.addEventListener("blur",o,{capture:!0})):r&&e.addEventListener("pointerdown",s,{capture:!0}),e.setAttribute("data-puck-overlay-portal","true"),()=>{e.removeEventListener("mouseover",s,{capture:!0}),n?(e.removeEventListener("focus",i,{capture:!0}),e.removeEventListener("blur",i,{capture:!0})):r&&e.removeEventListener("pointerdown",s,{capture:!0}),e.removeAttribute("data-puck-overlay-portal")}};M();var ib={InlineTextField:"_InlineTextField_1xph6_1"};M();function ob(e,t,r){const n=t.split("."),s=P({},e);let i=s;for(let o=0;o<n.length;o++){const[a,l]=n[o].replace("]","").split("["),c=o===n.length-1;if(l!==void 0){Array.isArray(i[a])||(i[a]=[]);const d=Number(l);if(c){i[a][d]=r;continue}i[a][d]===void 0&&(i[a][d]={}),i=i[a][d];continue}if(c){i[a]=r;continue}i[a]===void 0&&(i[a]={}),i=i[a]}return P(P({},e),s)}M();var df=(e,t)=>{const r=e.indexes.nodes[t];if(!r)return;const n=`${r.parentId}:${r.zone}`,s=e.indexes.zones[n].contentIds.indexOf(t);return{zone:n,index:s}},ab=ie("InlineTextField",ib),lb=({propPath:e,componentId:t,value:r,isReadOnly:n,opts:s={}})=>{var i;const o=j.useRef(null),a=et(),l=(i=s.disableLineBreaks)!=null?i:!1;j.useEffect(()=>{const v=a.getState(),g=v.state.indexes.nodes[t].data;if(!v.getComponentConfig(g.type))throw new Error(`InlineTextField Error: No config defined for ${g.type}`);if(o.current){r!==o.current.innerText&&o.current.replaceChildren(r);const y=sb(o.current),S=m=>Ce(void 0,null,function*(){var _;const x=a.getState(),C=x.state.indexes.nodes[t],I=`${C.parentId}:${C.zone}`,D=(_=x.state.indexes.zones[I])==null?void 0:_.contentIds.indexOf(t);let b=m.target.innerText;l&&(b=b.replaceAll(/\n/gm,""));const k=ob(C.data.props,e,b),h=yield x.resolveComponentData(L(P({},C.data),{props:k}),"replace");x.dispatch({type:"replace",data:h.node,destinationIndex:D,destinationZone:I})});return o.current.addEventListener("input",S),()=>{var m;(m=o.current)==null||m.removeEventListener("input",S),y?.()}}},[a,o.current,r,l]);const[c,d]=j.useState(!1),[u,p]=j.useState(!1);return f.jsx("span",{className:ab(),ref:o,contentEditable:c||u?"plaintext-only":"false",onClick:v=>{v.preventDefault(),v.stopPropagation()},onClickCapture:v=>{v.preventDefault(),v.stopPropagation();const g=df(a.getState().state,t);a.getState().setUi({itemSelector:g})},onKeyDown:v=>{v.stopPropagation(),(l&&v.key==="Enter"||n)&&v.preventDefault()},onKeyUp:v=>{v.stopPropagation(),v.preventDefault()},onMouseOverCapture:()=>d(!0),onMouseOutCapture:()=>d(!1),onFocus:()=>p(!0),onBlur:()=>p(!1)})},xi=j.memo(lb),cb=()=>({text:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(xi,{propPath:n,componentId:t,value:e,opts:{disableLineBreaks:!0},isReadOnly:s}):e,textarea:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(xi,{propPath:n,componentId:t,value:e,isReadOnly:s}):e,custom:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable&&typeof e=="string"?f.jsx(xi,{propPath:n,componentId:t,value:e,isReadOnly:s}):e}),db=ie("DropZone",Dy),oo=e=>f.jsx(uf,P({},e)),ub=({zoneCompound:e,componentId:t,index:r,dragAxis:n,collisionAxis:s,inDroppableZone:i})=>{var o,a;const l=F(U=>U.metadata),c=j.useContext(Hr),{depth:d=1}=c??{},u=j.useContext(nt),p=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.flatData.props})),v=F(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.type}),g=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.readOnly})),E=et(),y=j.useMemo(()=>{if(p)return np({type:v,props:p});const U=u.getState().previewIndex[e];return t===U?.props.id?{type:U.componentType,props:U.props,previewType:U.type,element:U.element}:null},[E,t,e,v,p]),S=F(U=>y?.type?U.config.components[y.type]:null),m=j.useMemo(()=>({renderDropZone:oo,isEditing:!0,dragRef:null,metadata:P(P({},l),S?.metadata)}),[l,S?.metadata]),_=F(U=>U.overrides),x=F(U=>{var X;return((X=U.componentState[t])==null?void 0:X.loadingCount)>0}),C=F(U=>{var X;return((X=U.selectedItem)==null?void 0:X.props.id)===t||!1});let I=(a=(o=S?.label)!=null?o:y?.type.toString())!=null?a:"Component";const D=j.useMemo(()=>function(){var X;return y&&"element"in y&&y.element?f.jsx("div",{dangerouslySetInnerHTML:{__html:y.element.outerHTML}}):f.jsx(io,{name:I,children:(X=_.componentItem)!=null?X:_.drawerItem})},[t,I,_]),b=j.useMemo(()=>L(P(P({},S?.defaultProps),y?.props),{puck:m,editMode:!0}),[S?.defaultProps,y?.props,m]),k=j.useMemo(()=>{var U;return{type:(U=y?.type)!=null?U:v,props:b}},[y?.type,v,b]),h=F(U=>U.config),A=F(U=>U.plugins),N=F(U=>U.fieldTransforms),z=j.useMemo(()=>P(P(P(P({},lc(oo,U=>f.jsx(nb,{componentId:t,zone:U.zone}))),cb()),A.reduce((U,X)=>P(P({},U),X.fieldTransforms),{})),N),[A,N]),$=ac(h,k,z,g,x);if(!y)return;let V=S?S.render:()=>f.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",y.type]}),R=y.type;const K="previewType"in y?y.previewType==="insert":!1;return K&&(V=D),f.jsx(Py,{id:t,componentType:R,zoneCompound:e,depth:d+1,index:r,isLoading:x,isSelected:C,label:I,autoDragAxis:n,userDragAxis:s,inDroppableZone:i,children:U=>S?.inline&&!K?f.jsx(f.Fragment,{children:f.jsx(V,L(P({},$),{puck:L(P({},$.puck),{dragRef:U})}))}):f.jsx("div",{ref:U,children:f.jsx(V,P({},$))})})},fb=j.memo(ub),uf=j.forwardRef(function({zone:t,allow:r,disallow:n,style:s,className:i,minEmptyHeight:o=128,collisionAxis:a},l){const c=j.useContext(Hr),d=et(),{areaId:u,depth:p=0,registerLocalZone:v,unregisterLocalZone:g}=c??{},E=F(Be(Y=>{var te;return u?(te=Y.state.indexes.nodes[u])==null?void 0:te.path:null}));let y=Ve;u&&t!==Ve&&(y=`${u}:${t}`);const S=y===Ve||t===Ve||u==="root",m=ar(nt,Y=>Y.nextAreaDepthIndex[u||""]),_=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.contentIds})),x=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.type}));j.useEffect(()=>{(!x||x==="dropzone")&&c?.registerZone&&c?.registerZone(y)},[x,d]),j.useEffect(()=>{x==="dropzone"&&y!==Ve&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[x]);const C=j.useMemo(()=>_||[],[_]),I=j.useRef(null),D=j.useCallback(Y=>{if(!Y)return!0;if(n){const te=r||[];if((n||[]).filter(Ie=>te.indexOf(Ie)===-1).indexOf(Y)!==-1)return!1}else if(r&&r.indexOf(Y)===-1)return!1;return!0},[r,n]),b=ar(nt,Y=>{var te;const ce=(te=Y.draggedItem)==null?void 0:te.data.componentType;return D(ce)}),k=m||S,h=ar(nt,Y=>{var te;let ce=!0;return ce=(te=Y.zoneDepthIndex[y])!=null?te:!1,ce&&(ce=b),ce});j.useEffect(()=>(v&&v(y,b||h),()=>{g&&g(y)}),[b,h,y]);const[A,N]=Qy(C,y),z=h&&(N?A.length===1:A.length===0),$=j.useContext(nt);j.useEffect(()=>{const{enabledIndex:Y}=$.getState();$.setState({enabledIndex:L(P({},Y),{[y]:h})})},[h,$,y]);const V={id:y,collisionPriority:h?p:0,disabled:!z,collisionDetector:Qm,type:"dropzone",data:{areaId:u,depth:p,isDroppableTarget:b,path:E||[]}},{ref:R}=Eu(V),K=F(Y=>Y?.selectedItem&&u===Y?.selectedItem.props.id),[U]=rb(I,a),[X,G]=Xy({zoneCompound:y,userMinEmptyHeight:o,ref:I});return f.jsx("div",{className:`${db({isRootZone:S,hoveringOverArea:k,isEnabled:h,isAreaSelected:K,hasChildren:C.length>0,isAnimating:G})}${i?` ${i}`:""}`,ref:Y=>{Gy([I,R,l],Y)},"data-testid":`dropzone:${y}`,"data-puck-dropzone":y,style:L(P({},s),{"--min-empty-height":`${X}px`,backgroundColor:s?.backgroundColor}),children:A.map((Y,te)=>f.jsx(fb,{zoneCompound:y,componentId:Y,dragAxis:U,index:te,collisionAxis:a,inDroppableZone:b},Y))})}),pb=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=Rs(e,t,o=>f.jsx(wo,L(P({},o),{config:e,metadata:r}))),i=j.useMemo(()=>({areaId:s.id,depth:1}),[s]);return f.jsx(Dn,{value:i,children:f.jsx(n.render,L(P({},s),{puck:L(P({},s.puck),{renderDropZone:ao,metadata:P(P({},r),n.metadata)})}))},s.id)},ao=e=>f.jsx(ff,P({},e)),ff=j.forwardRef(function({className:t,style:r,zone:n},s){const i=j.useContext(Hr),{areaId:o="root"}=i||{},{config:a,data:l,metadata:c}=j.useContext(co);let d=`${o}:${n}`,u=l?.content||[];return j.useEffect(()=>{u||i?.registerZone&&i?.registerZone(d)},[u]),!l||!a?null:(d!==Ve&&(u=oc(l,d).zones[d]),f.jsx("div",{className:t,style:r,ref:s,children:u.map(p=>a.components[p.type]?f.jsx(pb,{config:a,item:p,metadata:c},p.props.id):null)}))}),lo=e=>f.jsx(hb,P({},e)),hb=j.forwardRef(function(t,r){const n=j.useContext(Hr);return n?.mode==="edit"?f.jsx(f.Fragment,{children:f.jsx(uf,L(P({},t),{ref:r}))}):f.jsx(f.Fragment,{children:f.jsx(ff,L(P({},t),{ref:r}))})}),co=Ht.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function gb({config:e,data:t,metadata:r={}}){var n;const s=L(P({},t),{root:t.root||{},content:t.content||[]}),i="props"in s.root?s.root.props:s.root,o=i?.title||"",a=L(P({},i),{puck:{renderDropZone:lo,isEditing:!1,dragRef:null,metadata:r},title:o,editMode:!1,id:"puck-root"}),l=Rs(e,{type:"root",props:a},d=>f.jsx(cc,L(P({},d),{config:e,metadata:r}))),c=j.useMemo(()=>({mode:"render",depth:0}),[]);return(n=e.root)!=null&&n.render?f.jsx(co.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(Dn,{value:c,children:f.jsx(e.root.render,L(P({},l),{children:f.jsx(ao,{zone:Ei})}))})}):f.jsx(co.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(Dn,{value:c,children:f.jsx(ao,{zone:Ei})})})}M();var Hl=e=>{const t={back:e.history.back,forward:e.history.forward,setHistories:e.history.setHistories,setHistoryIndex:e.history.setHistoryIndex,hasPast:e.history.hasPast(),hasFuture:e.history.hasFuture(),histories:e.history.histories,index:e.history.index};return{appState:Pn(e.state),config:e.config,dispatch:e.dispatch,getPermissions:e.permissions.getPermissions,refreshPermissions:e.permissions.refreshPermissions,history:t,selectedItem:e.selectedItem||null,getItemBySelector:n=>yt(n,e.state),getItemById:n=>e.state.indexes.nodes[n].data,getSelectorForId:n=>df(e.state,n)}},vb=j.createContext(null),Ul=e=>({state:e.state,config:e.config,dispatch:e.dispatch,permissions:e.permissions,history:e.history,selectedItem:e.selectedItem}),mb=e=>{const[t]=j.useState(()=>An(()=>Hl(Ul(e.getState()))));return j.useEffect(()=>e.subscribe(r=>Ul(r),r=>{t.setState(Hl(r))}),[]),t};M();M();M();var yb={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};M();var bb=e=>{const t=F(i=>{var o;return(o=i.selectedItem)==null?void 0:o.props.id}),r=F(i=>i.config),n=F(i=>{var o;return(o=i.state.indexes.nodes[t])==null?void 0:o.path}),s=et();return j.useMemo(()=>{const i=n?.map(o=>{var a,l,c;const[d]=o.split(":");if(d==="root")return{label:"Page",selector:null};const u=s.getState().state.indexes.nodes[d],p=u.path[u.path.length-1],g=(((a=s.getState().state.indexes.zones[p])==null?void 0:a.contentIds)||[]).indexOf(d);return{label:u?(c=(l=r.components[u.data.type])==null?void 0:l.label)!=null?c:u.data.type:"Component",selector:u?{index:g,zone:u.path[u.path.length-1]}:null}})||[];return i.slice(i.length-e)},[n,e])},$t=ie("SidebarSection",yb),uo=({children:e,title:t,background:r,showBreadcrumbs:n,noBorderTop:s,noPadding:i,isLoading:o})=>{const a=F(c=>c.setUi),l=bb(1);return f.jsxs("div",{className:$t({noBorderTop:s,noPadding:i}),style:{background:r},children:[f.jsx("div",{className:$t("title"),children:f.jsxs("div",{className:$t("breadcrumbs"),children:[n?l.map((c,d)=>f.jsxs("div",{className:$t("breadcrumb"),children:[f.jsx("button",{type:"button",className:$t("breadcrumbLabel"),onClick:()=>a({itemSelector:c.selector}),children:c.label}),f.jsx(Em,{size:16})]},d)):null,f.jsx("div",{className:$t("heading"),children:f.jsx(ja,{rank:"2",size:"xs",children:t})})]})}),f.jsx("div",{className:$t("content"),children:e}),o&&f.jsx("div",{className:$t("loadingOverlay"),children:f.jsx(fr,{size:32})})]})};M();var pf={Puck:"_Puck_1yxlw_19","Puck-portal":"_Puck-portal_1yxlw_31","PuckLayout-inner":"_PuckLayout-inner_1yxlw_38","PuckLayout--mounted":"_PuckLayout--mounted_1yxlw_59","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_1yxlw_63","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_1yxlw_69","PuckLayout-mounted":"_PuckLayout-mounted_1yxlw_83",PuckLayout:"_PuckLayout_1yxlw_38"};M();M();var xb={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},ys=ie("PuckFields",xb),_b=({children:e})=>f.jsx(f.Fragment,{children:e}),wb=(e,t)=>(r,n)=>Ce(void 0,null,function*(){let s;const{dispatch:i,state:o,selectedItem:a,resolveComponentData:l}=t.getState(),{data:c,ui:d}=o,{itemSelector:u}=d,p=c.root.props||c.root;a?s=a.props:s=p;const v=L(P({},s),{[e]:r});a&&u?i({type:"replace",destinationIndex:u.index,destinationZone:u.zone||Ve,data:(yield l(L(P({},a),{props:v}),"replace")).node,ui:n}):c.root.props?i({type:"replaceRoot",root:(yield l(L(P({},c.root),{props:v}),"replace")).node,ui:P(P({},d),n),recordHistory:!0}):i({type:"setData",data:{root:v}})}),Sb=({fieldName:e})=>{const t=F(c=>c.fields.fields[e]),r=F(c=>((c.selectedItem?c.selectedItem.readOnly:c.state.data.root.readOnly)||{})[e]),n=F(c=>{const d=c.state.data.root.props||c.state.data.root;return c.selectedItem?c.selectedItem.props[e]:d[e]}),s=F(c=>t?c.selectedItem?`${c.selectedItem.props.id}_${t.type}_${e}`:`root_${t.type}_${e}`:null),i=F(Be(c=>{const{selectedItem:d,permissions:u}=c;return d?u.getPermissions({item:d}):u.getPermissions({root:!0})})),o=et(),a=j.useCallback(wb(e,o),[e]),{visible:l=!0}=t??{};return!t||!s||!l||t.type==="slot"?null:f.jsx("div",{className:ys("field"),children:f.jsx(Ks,{field:t,name:e,id:s,readOnly:!i.edit||r,value:n,onChange:a})},s)},Ib=j.memo(Sb),jb=({wrapFields:e=!0})=>{const t=F(d=>d.overrides),r=F(d=>{var u,p;const v=d.selectedItem?(u=d.componentState[d.selectedItem.props.id])==null?void 0:u.loadingCount:(p=d.componentState.root)==null?void 0:p.loadingCount;return(v??0)>0}),n=F(Be(d=>d.state.ui.itemSelector)),s=F(d=>{var u;return(u=d.selectedItem)==null?void 0:u.props.id}),i=et();cm(i,s);const o=F(d=>d.fields.loading),a=F(Be(d=>d.fields.id===s?Object.keys(d.fields.fields):[])),l=o||r,c=j.useMemo(()=>t.fields||_b,[t]);return f.jsxs("form",{className:ys({wrapFields:e}),onSubmit:d=>{d.preventDefault()},children:[f.jsx(c,{isLoading:l,itemSelector:n,children:a.map(d=>f.jsx(Ib,{fieldName:d},d))}),l&&f.jsx("div",{className:ys("loadingOverlay"),children:f.jsx("div",{className:ys("loadingOverlayInner"),children:f.jsx(fr,{size:16})})})]})},hf=j.memo(jb);M();M();M();M();var Eb={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},ns=ie("ComponentList",Eb),gf=({name:e,label:t})=>{var r;const n=F(i=>i.overrides),s=F(i=>i.permissions.getPermissions({type:e}).insert);return j.useEffect(()=>{n.componentItem&&console.warn("The `componentItem` override has been deprecated and renamed to `drawerItem`")},[n]),f.jsx(ka.Item,{label:t,name:e,isDragDisabled:!s,children:(r=n.componentItem)!=null?r:n.drawerItem})},jr=({children:e,title:t,id:r})=>{const n=F(a=>a.config),s=F(a=>a.setUi),i=F(a=>a.state.ui.componentList),{expanded:o=!0}=i[r]||{};return f.jsxs("div",{className:ns({isExpanded:o}),children:[t&&f.jsxs("button",{type:"button",className:ns("title"),onClick:()=>s({componentList:L(P({},i),{[r]:L(P({},i[r]),{expanded:!o})})}),title:o?`Collapse${t?` ${t}`:""}`:`Expand${t?` ${t}`:""}`,children:[f.jsx("div",{children:t}),f.jsx("div",{className:ns("titleIcon"),children:o?f.jsx(qu,{size:12}):f.jsx(Xs,{size:12})})]}),f.jsx("div",{className:ns("content"),children:f.jsx(ka,{children:e||Object.keys(n.components).map(a=>{var l;return f.jsx(gf,{label:(l=n.components[a].label)!=null?l:a,name:a},a)})})})]})};jr.Item=gf;var kb=()=>{const[e,t]=j.useState(),r=F(s=>s.config),n=F(s=>s.state.ui.componentList);return j.useEffect(()=>{var s,i,o;if(Object.keys(n).length>0){const a=[];let l;l=Object.entries(n).map(([d,u])=>!u.components||(u.components.forEach(p=>{a.push(p)}),u.visible===!1)?null:f.jsx(jr,{id:d,title:u.title||d,children:u.components.map((p,v)=>{var g;const E=r.components[p]||{};return f.jsx(jr.Item,{label:(g=E.label)!=null?g:p,name:p,index:v},p)})},d));const c=Object.keys(r.components).filter(d=>a.indexOf(d)===-1);c.length>0&&!((s=n.other)!=null&&s.components)&&((i=n.other)==null?void 0:i.visible)!==!1&&l.push(f.jsx(jr,{id:"other",title:((o=n.other)==null?void 0:o.title)||"Other",children:c.map((d,u)=>{var p;const v=r.components[d]||{};return f.jsx(jr.Item,{name:d,label:(p=v.label)!=null?p:d,index:u},d)})},"other")),t(l)}},[r.categories,r.components,n]),e},vf=()=>{const e=F(n=>n.overrides),t=kb(),r=j.useMemo(()=>(e.components&&console.warn("The `components` override has been deprecated and renamed to `drawer`"),e.components||e.drawer||"div"),[e]);return f.jsx(r,{children:t||f.jsx(jr,{id:"all"})})};M();M();var fo='style, link[rel="stylesheet"]',Cb=e=>{const t=[];return e.querySelectorAll(fo).forEach(r=>{r.tagName==="STYLE"?r.innerHTML.trim()&&t.push(r):t.push(r)}),t},Vl=e=>Array.from(document.styleSheets).find(t=>t.ownerNode.href===e.href),Pb=e=>{if(e)try{return[...Array.from(e.cssRules)].map(t=>t.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",e.href)}return""},Zl=(e,t)=>{const r=e.attributes;r?.length>0&&Array.from(r).forEach(n=>{t.setAttribute(n.name,n.value)})},ql=e=>setTimeout(e,0),Db=({children:e,debug:t=!1,onStylesLoaded:r=()=>null})=>{const{document:n,window:s}=Ob();return j.useEffect(()=>{if(!s||!n)return()=>{};let i=[];const o={},a=m=>i.findIndex(_=>_.original===m),l=(m,_=!1)=>Ce(void 0,null,function*(){let x;if(m.nodeName==="LINK"&&_){x=document.createElement("style"),x.type="text/css";let C=Vl(m);C||(yield new Promise(D=>{const b=()=>{D(),m.removeEventListener("load",b)};m.addEventListener("load",b)}),C=Vl(m));const I=Pb(C);if(!I){t&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}x.innerHTML=I,x.setAttribute("data-href",m.getAttribute("href"))}else x=m.cloneNode(!0);return x}),c=m=>Ce(void 0,null,function*(){const _=a(m);if(_>-1){t&&console.log("Tried to add an element that was already mirrored. Updating instead..."),i[_].mirror.innerText=m.innerText;return}const x=yield l(m);if(!x)return;const C=hi(x.outerHTML);if(o[C]){t&&console.log("iframe already contains element that is being mirrored. Skipping...");return}o[C]=!0,n.head.append(x),i.push({original:m,mirror:x}),t&&console.log(`Added style node ${m.outerHTML}`)}),d=m=>{var _,x;const C=a(m);if(C===-1){t&&console.log("Tried to remove an element that did not exist. Skipping...");return}const I=hi(m.outerHTML);(x=(_=i[C])==null?void 0:_.mirror)==null||x.remove(),delete o[I],t&&console.log(`Removed style node ${m.outerHTML}`)},u=new MutationObserver(m=>{m.forEach(_=>{_.type==="childList"&&(_.addedNodes.forEach(x=>{if(x.nodeType===Node.TEXT_NODE||x.nodeType===Node.ELEMENT_NODE){const C=x.nodeType===Node.TEXT_NODE?x.parentElement:x;C&&C.matches(fo)&&ql(()=>c(C))}}),_.removedNodes.forEach(x=>{if(x.nodeType===Node.TEXT_NODE||x.nodeType===Node.ELEMENT_NODE){const C=x.nodeType===Node.TEXT_NODE?x.parentElement:x;C&&C.matches(fo)&&ql(()=>d(C))}}))})}),p=s.parent.document,v=Cb(p),g=[];let E=0;const y=p.getElementsByTagName("html")[0];Zl(y,n.documentElement);const S=p.getElementsByTagName("body")[0];return Zl(S,n.body),Promise.all(v.map((m,_)=>Ce(void 0,null,function*(){if(m.nodeName==="LINK"){const C=m.href;if(g.indexOf(C)>-1)return;g.push(C)}const x=yield l(m);if(x)return i.push({original:m,mirror:x}),x}))).then(m=>{const _=m.filter(x=>typeof x<"u");_.forEach(x=>{x.onload=()=>{E=E+1,E>=i.length&&r()},x.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),E=E+1,E>=i.length&&r()}}),n.head.innerHTML="",n.head.append(..._),u.observe(p.head,{childList:!0,subtree:!0}),_.forEach(x=>{const C=hi(x.outerHTML);o[C]=!0})}),()=>{u.disconnect()}},[]),f.jsx(f.Fragment,{children:e})},Ca=j.createContext({}),Ob=()=>j.useContext(Ca);function mf(e){var t=e,{children:r,className:n,debug:s,id:i,onReady:o=()=>{},onNotReady:a=()=>{},frameRef:l}=t,c=Xt(t,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[d,u]=j.useState(!1),[p,v]=j.useState({}),[g,E]=j.useState(),[y,S]=j.useState(!1);return j.useEffect(()=>{var m;if(l.current){const _=l.current.contentDocument,x=l.current.contentWindow;v({document:_||void 0,window:x||void 0}),E((m=l.current.contentDocument)==null?void 0:m.getElementById("frame-root")),_&&x&&y?o():a()}},[l,d,y]),f.jsx("iframe",L(P({},c),{className:n,id:i,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:l,onLoad:()=>{u(!0)},children:f.jsx(Ca.Provider,{value:p,children:d&&g&&f.jsx(Db,{debug:s,onStylesLoaded:()=>S(!0),children:zs.createPortal(r,g)})})}))}mf.displayName="AutoFrame";var Ab=mf;M();var Mb={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},_i=ie("PuckPreview",Mb),Nb=e=>{const t=F(r=>r.status);j.useEffect(()=>{if(e.current&&t==="READY"){const r=e.current,n=o=>{const a=new lf("pointermove",L(P({},o),{bubbles:!0,cancelable:!1,clientX:o.clientX,clientY:o.clientY,originalTarget:o.target}));r.dispatchEvent(a)},s=()=>{var o;i(),(o=r.contentDocument)==null||o.addEventListener("pointermove",n,{capture:!0})},i=()=>{var o;(o=r.contentDocument)==null||o.removeEventListener("pointermove",n)};return s(),()=>{i()}}},[t])},yf=({id:e="puck-preview"})=>{const t=F(g=>g.dispatch),r=F(g=>g.state.data.root),n=F(g=>g.config),s=F(g=>g.setStatus),i=F(g=>g.iframe),o=F(g=>g.overrides),a=F(g=>g.metadata),l=F(g=>g.state.ui.previewMode==="edit"?null:g.state.data),c=j.useCallback(g=>{var E,y;const S=Rs(n,{type:"root",props:g},oo);return(E=n.root)!=null&&E.render?(y=n.root)==null?void 0:y.render(P({id:"puck-root"},S)):f.jsx(f.Fragment,{children:S.children})},[n]),d=j.useMemo(()=>o.iframe,[o]),u=r.props||r,p=j.useRef(null);Nb(p);const v=l?f.jsx(gb,{data:l,config:n,metadata:a}):f.jsx(c,L(P({},u),{puck:{renderDropZone:lo,isEditing:!0,dragRef:null,metadata:a},editMode:!0,children:f.jsx(lo,{zone:Ve})}));return j.useEffect(()=>{i.enabled||s("READY")},[i.enabled]),f.jsx("div",{className:_i(),id:e,"data-puck-preview":!0,onClick:g=>{const E=g.target;!E.hasAttribute("data-puck-component")&&!E.hasAttribute("data-puck-dropzone")&&t({type:"setUi",ui:{itemSelector:null}})},children:i.enabled?f.jsx(Ab,{id:"preview-frame",className:_i("frame"),"data-rfd-iframe":!0,onReady:()=>{s("READY")},onNotReady:()=>{s("MOUNTED")},frameRef:p,children:f.jsx(Ca.Consumer,{children:({document:g})=>d?f.jsx(d,{document:g,children:v}):v})}):f.jsx("div",{id:"preview-frame",className:_i("frame"),ref:p,"data-puck-entry":!0,children:v})})};M();M();M();var bf={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};M();var Tb=e=>{const t=P({},e.style);e.style.scrollMargin="256px",e&&(e?.scrollIntoView({behavior:"smooth"}),e.style.scrollMargin=t.scrollMargin||"")};M();var Lb=(e,t)=>{let r;const n=function(){clearTimeout(r),r=setTimeout(function(){t(),e?.removeEventListener("scroll",n)},50)};e?.addEventListener("scroll",n),setTimeout(()=>{r||t()},50)},ss=ie("LayerTree",bf),zt=ie("Layer",bf),$b=({index:e,itemId:t,zoneCompound:r})=>{var n;const s=F(m=>m.config),i=F(m=>m.state.ui.itemSelector),o=F(m=>m.dispatch),a=j.useCallback(m=>{o({type:"setUi",ui:{itemSelector:m}})},[o]),c=F(m=>{var _;return(_=m.selectedItem)==null?void 0:_.props.id})===t||i&&i.zone===Ve&&!r,d=F(m=>m.state.indexes.nodes[t]),u=F(Be(m=>Object.keys(m.state.indexes.zones).filter(_=>_.split(":")[0]===t))),p=u.length>0,v=j.useContext(nt),g=ar(nt,m=>m.hoveringComponent===t),E=F(m=>{var _,x;const C=m.state.indexes.nodes[(_=m.selectedItem)==null?void 0:_.props.id];return(x=C?.path.some(I=>{const[D]=I.split(":");return D===t}))!=null?x:!1}),y=s.components[d.data.type],S=(n=y?.label)!=null?n:d.data.type.toString();return f.jsxs("li",{className:zt({isSelected:c,isHovering:g,containsZone:p,childIsSelected:E}),children:[f.jsx("div",{className:zt("inner"),children:f.jsxs("button",{type:"button",className:zt("clickable"),onClick:()=>{if(c){a(null);return}const m=Or(),_=m?.querySelector(`[data-puck-component="${t}"]`);if(!_){a({index:e,zone:r});return}Tb(_),Lb(m,()=>{a({index:e,zone:r})})},onMouseEnter:m=>{m.stopPropagation(),v.setState({hoveringComponent:t})},onMouseLeave:m=>{m.stopPropagation(),v.setState({hoveringComponent:null})},children:[p&&f.jsx("div",{className:zt("chevron"),title:c?"Collapse":"Expand",children:f.jsx(Xs,{size:"12"})}),f.jsxs("div",{className:zt("title"),children:[f.jsx("div",{className:zt("icon"),children:d.data.type==="Text"||d.data.type==="Heading"?f.jsx(Ia,{size:"16"}):f.jsx(Am,{size:"16"})}),f.jsx("div",{className:zt("name"),children:S})]})]})}),p&&u.map(m=>f.jsx("div",{className:zt("zones"),children:f.jsx(xf,{zoneCompound:m})},m))]})},xf=({label:e,zoneCompound:t})=>{const r=F(s=>{var i,o,a,l;if(e)return e;if(t===Ve)return;const[c,d]=t.split(":"),u=(i=s.state.indexes.nodes[c])==null?void 0:i.data.type,p=u&&u!==xo?s.config.components[u]:s.config.root;return(l=(a=(o=p?.fields)==null?void 0:o[d])==null?void 0:a.label)!=null?l:d}),n=F(Be(s=>{var i,o;return t?(o=(i=s.state.indexes.zones[t])==null?void 0:i.contentIds)!=null?o:[]:[]}));return f.jsxs(f.Fragment,{children:[r&&f.jsxs("div",{className:ss("zoneTitle"),children:[f.jsx("div",{className:ss("zoneIcon"),children:f.jsx(Om,{size:"16"})}),r]}),f.jsxs("ul",{className:ss(),children:[n.length===0&&f.jsx("div",{className:ss("helper"),children:"No items"}),n.map((s,i)=>f.jsx($b,{index:i,itemId:s,zoneCompound:t},s))]})]})};M();var zb=(e,t)=>Object.keys(e.indexes.zones).filter(r=>r.split(":")[0]===t),_f=()=>{const e=F(n=>n.overrides.outline),t=F(Be(n=>zb(n.state,"root"))),r=j.useMemo(()=>e||"div",[e]);return f.jsx(r,{children:t.map(n=>f.jsx(xf,{label:t.length===1?"":n.split(":")[1],zoneCompound:n},n))})};M();M();M();var wf={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},Yl={Smartphone:f.jsx(Hm,{size:16}),Tablet:f.jsx(Um,{size:16}),Monitor:f.jsx(Lm,{size:16})},is=ie("ViewportControls",wf),Xl=ie("ViewportButton",wf),Rb=({children:e,height:t="auto",title:r,width:n,onClick:s})=>{const i=F(l=>l.state.ui.viewports),[o,a]=j.useState(!1);return j.useEffect(()=>{a(n===i.current.width)},[n,i.current.width]),f.jsx("span",{className:Xl({isActive:o}),children:f.jsx(bt,{type:"button",title:r,disabled:o,onClick:l=>{l.stopPropagation(),s({width:n,height:t})},children:f.jsx("span",{className:Xl("inner"),children:e})})})},Kl=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],Fb=({autoZoom:e,zoom:t,onViewportChange:r,onZoom:n})=>{var s,i;const o=F(c=>c.viewports),a=Kl.find(c=>c.value===e),l=j.useMemo(()=>[...Kl,...a?[]:[{value:e,label:`${(e*100).toFixed(0)}% (Auto)`}]].filter(c=>c.value<=e).sort((c,d)=>c.value>d.value?1:-1),[e]);return f.jsxs("div",{className:is(),children:[o.map((c,d)=>f.jsx(Rb,{height:c.height,width:c.width,title:c.label?`Switch to ${c.label} viewport`:"Switch viewport",onClick:r,children:typeof c.icon=="string"?Yl[c.icon]||c.icon:c.icon||Yl.Smartphone},d)),f.jsx("div",{className:is("divider")}),f.jsx(bt,{type:"button",title:"Zoom viewport out",disabled:t<=((s=l[0])==null?void 0:s.value),onClick:c=>{c.stopPropagation(),n(l[Math.max(l.findIndex(d=>d.value===t)-1,0)].value)},children:f.jsx(qm,{size:16})}),f.jsx(bt,{type:"button",title:"Zoom viewport in",disabled:t>=((i=l[l.length-1])==null?void 0:i.value),onClick:c=>{c.stopPropagation(),n(l[Math.min(l.findIndex(d=>d.value===t)+1,l.length-1)].value)},children:f.jsx(Zm,{size:16})}),f.jsx("div",{className:is("divider")}),f.jsx("select",{className:is("zoomSelect"),value:t.toString(),onClick:c=>{c.stopPropagation()},onChange:c=>{n(parseFloat(c.currentTarget.value))},children:l.map(c=>f.jsx("option",{value:c.value,label:c.label},c.label))})]})};M();var Bb={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};M();var Sf=j.createContext(null),Wb=({children:e})=>{const t=j.useRef(null),r=j.useMemo(()=>({frameRef:t}),[]);return f.jsx(Sf.Provider,{value:r,children:e})},If=()=>{const e=j.useContext(Sf);if(e===null)throw new Error("useCanvasFrame must be used within a FrameProvider");return e},Yr=ie("PuckCanvas",Bb),wi=150,Hb=()=>{const{frameRef:e}=If(),t=Uu(e),{dispatch:r,overrides:n,setUi:s,zoomConfig:i,setZoomConfig:o,status:a,iframe:l}=F(Be(I=>({dispatch:I.dispatch,overrides:I.overrides,setUi:I.setUi,zoomConfig:I.zoomConfig,setZoomConfig:I.setZoomConfig,status:I.status,iframe:I.iframe}))),{leftSideBarVisible:c,rightSideBarVisible:d,leftSideBarWidth:u,rightSideBarWidth:p,viewports:v}=F(Be(I=>({leftSideBarVisible:I.state.ui.leftSideBarVisible,rightSideBarVisible:I.state.ui.rightSideBarVisible,leftSideBarWidth:I.state.ui.leftSideBarWidth,rightSideBarWidth:I.state.ui.rightSideBarWidth,viewports:I.state.ui.viewports}))),[g,E]=j.useState(!1),y=j.useRef(!1),S=j.useMemo(()=>({children:D})=>f.jsx(f.Fragment,{children:D}),[]),m=j.useMemo(()=>n.preview||S,[n]),_=j.useCallback(()=>{if(e.current){const I=e.current,D=Hu(I);return{width:D.contentBox.width,height:D.contentBox.height}}return{width:0,height:0}},[e]);j.useEffect(()=>{t()},[e,c,d,u,p,v]),j.useEffect(()=>{const{height:I}=_();v.current.height==="auto"&&o(L(P({},i),{rootHeight:I/i.zoom}))},[i.zoom,_,o]),j.useEffect(()=>{t()},[v.current.width,v]),j.useEffect(()=>{if(!e.current)return;const I=new ResizeObserver(()=>{y.current||t()});return I.observe(e.current),()=>{I.disconnect()}},[e.current]);const[x,C]=j.useState(!1);return j.useEffect(()=>{setTimeout(()=>{C(!0)},500)},[]),f.jsxs("div",{className:Yr({ready:a==="READY"||!l.enabled||!l.waitForStyles,showLoader:x}),onClick:I=>{const D=I.target;!D.hasAttribute("data-puck-component")&&!D.hasAttribute("data-puck-dropzone")&&r({type:"setUi",ui:{itemSelector:null},recordHistory:!0})},children:[v.controlsVisible&&l.enabled&&f.jsx("div",{className:Yr("controls"),children:f.jsx(Fb,{autoZoom:i.autoZoom,zoom:i.zoom,onViewportChange:I=>{E(!0),y.current=!0;const D=L(P({},I),{height:I.height||"auto",zoom:i.zoom}),b={viewports:L(P({},v),{current:D})};s(b),t({viewports:L(P({},v),{current:D})})},onZoom:I=>{E(!0),y.current=!0,o(L(P({},i),{zoom:I}))}})}),f.jsxs("div",{className:Yr("inner"),ref:e,children:[f.jsx("div",{className:Yr("root"),style:{width:l.enabled?v.current.width:"100%",height:i.rootHeight,transform:l.enabled?`scale(${i.zoom})`:void 0,transition:g?`width ${wi}ms ease-out, height ${wi}ms ease-out, transform ${wi}ms ease-out`:"",overflow:l.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{E(!1),y.current=!1},children:f.jsx(m,{children:f.jsx(yf,{})})}),f.jsx("div",{className:Yr("loader"),children:f.jsx(fr,{size:24})})]})]})};M();M();var Ub=({overrides:e,plugins:t})=>{const r=P({},e);return t?.forEach(n=>{n.overrides&&Object.keys(n.overrides).forEach(s=>{var i;const o=s;if(!((i=n.overrides)!=null&&i[o]))return;if(o==="fieldTypes"){const c=n.overrides.fieldTypes;Object.keys(c).forEach(d=>{r.fieldTypes=r.fieldTypes||{};const u=r.fieldTypes[d],p=v=>c[d](L(P({},v),{children:u?u(v):v.children}));r.fieldTypes[d]=p});return}const a=r[o],l=c=>n.overrides[o](L(P({},c),{children:a?a(c):c.children}));r[o]=l})}),r},Vb=({overrides:e,plugins:t})=>j.useMemo(()=>Ub({overrides:e,plugins:t}),[t,e]);M();var po=({children:e})=>f.jsx(f.Fragment,{children:e});M();var Zb="",qb=(e,t)=>{const[r,n]=j.useState();return j.useEffect(()=>{n(document.createElement("style"))},[]),j.useEffect(()=>{var s;if(!(!r||typeof window>"u")){if(r.innerHTML=e,t){const i=Or();(s=i?.head)==null||s.appendChild(r)}document.head.appendChild(r)}},[t,r]),r},Yb=e=>qb(Zb,e);M();var Xb=()=>{const e=et(),t=j.useCallback(()=>{const r=e.getState().dispatch;r({type:"setUi",ui:n=>({previewMode:n.previewMode==="edit"?"interactive":"edit"})})},[e]);Wt({meta:!0,i:!0},t),Wt({ctrl:!0,i:!0},t)};M();M();M();var Kb={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},Si=ie("MenuBar",Kb);function Gb({menuOpen:e=!1,renderHeaderActions:t,setMenuOpen:r}){const n=F(a=>a.history.back),s=F(a=>a.history.forward),i=F(a=>a.history.hasFuture()),o=F(a=>a.history.hasPast());return f.jsx("div",{className:Si({menuOpen:e}),onClick:a=>{var l;const c=a.target;window.matchMedia("(min-width: 638px)").matches||c.tagName==="A"&&((l=c.getAttribute("href"))!=null&&l.startsWith("#"))&&r(!1)},children:f.jsxs("div",{className:Si("inner"),children:[f.jsxs("div",{className:Si("history"),children:[f.jsx(bt,{type:"button",title:"undo",disabled:!o,onClick:n,children:f.jsx(Vm,{size:21})}),f.jsx(bt,{type:"button",title:"redo",disabled:!i,onClick:s,children:f.jsx(Fm,{size:21})})]}),f.jsx(f.Fragment,{children:t&&t()})]})})}M();var Jb={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},Dt=ie("PuckHeader",Jb),Qb=()=>{const{onPublish:e,renderHeader:t,renderHeaderActions:r,headerTitle:n,headerPath:s,iframe:i}=Pa(),o=F(m=>m.dispatch),a=et(),l=j.useMemo(()=>t?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),_=>{var x=_,{actions:C}=x,I=Xt(x,["actions"]);const D=t,b=F(k=>k.state);return f.jsx(D,L(P({},I),{dispatch:o,state:b,children:C}))}):po,[t]),c=j.useMemo(()=>r?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),_=>{const x=r,C=F(I=>I.state);return f.jsx(x,L(P({},_),{dispatch:o,state:C}))}):po,[r]),d=F(m=>m.overrides.header||l),u=F(m=>m.overrides.headerActions||c),[p,v]=j.useState(!1),g=F(m=>{var _,x;return(x=((_=m.state.indexes.nodes.root)==null?void 0:_.data).props.title)!=null?x:""}),E=F(m=>m.state.ui.leftSideBarVisible),y=F(m=>m.state.ui.rightSideBarVisible),S=j.useCallback(m=>{const _=window.matchMedia("(min-width: 638px)").matches,x=m==="left"?E:y,C=m==="left"?"rightSideBarVisible":"leftSideBarVisible";o({type:"setUi",ui:P({[`${m}SideBarVisible`]:!x},_?{}:{[C]:!1})})},[o,E,y]);return f.jsx(d,{actions:f.jsx(f.Fragment,{children:f.jsx(u,{children:f.jsx(no,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Ol,{size:"14px"}),children:"Publish"})})}),children:f.jsx("header",{className:Dt({leftSideBarVisible:E,rightSideBarVisible:y}),children:f.jsxs("div",{className:Dt("inner"),children:[f.jsxs("div",{className:Dt("toggle"),children:[f.jsx("div",{className:Dt("leftSideBarToggle"),children:f.jsx(bt,{type:"button",onClick:()=>{S("left")},title:"Toggle left sidebar",children:f.jsx($m,{focusable:"false"})})}),f.jsx("div",{className:Dt("rightSideBarToggle"),children:f.jsx(bt,{type:"button",onClick:()=>{S("right")},title:"Toggle right sidebar",children:f.jsx(zm,{focusable:"false"})})})]}),f.jsx("div",{className:Dt("title"),children:f.jsxs(ja,{rank:"2",size:"xs",children:[n||g||"Page",s&&f.jsxs(f.Fragment,{children:[" ",f.jsx("code",{className:Dt("path"),children:s})]})]})}),f.jsxs("div",{className:Dt("tools"),children:[f.jsx("div",{className:Dt("menuButton"),children:f.jsx(bt,{type:"button",onClick:()=>v(!p),title:"Toggle menu bar",children:p?f.jsx(qu,{focusable:"false"}):f.jsx(Xs,{focusable:"false"})})}),f.jsx(Gb,{dispatch:o,onPublish:e,menuOpen:p,renderHeaderActions:()=>f.jsx(u,{children:f.jsx(no,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Ol,{size:"14px"}),children:"Publish"})}),setMenuOpen:v})]})]})})})},ex=j.memo(Qb);M();M();M();var tx={ResizeHandle:"_ResizeHandle_144bf_2","ResizeHandle--left":"_ResizeHandle--left_144bf_16","ResizeHandle--right":"_ResizeHandle--right_144bf_20"},rx=ie("ResizeHandle",tx),nx=({position:e,sidebarRef:t,onResize:r,onResizeEnd:n})=>{const{frameRef:s}=If(),i=Uu(s),o=j.useRef(null),a=j.useRef(!1),l=j.useRef(0),c=j.useRef(0),d=j.useCallback(v=>{if(!a.current)return;const g=v.clientX-l.current,E=e==="left"?c.current+g:c.current-g,y=Math.max(192,E);r(y),v.preventDefault()},[r,e]),u=j.useCallback(()=>{var v;if(!a.current)return;a.current=!1,document.body.style.cursor="",document.body.style.userSelect="";const g=document.getElementById("resize-overlay");g&&document.body.removeChild(g),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u);const E=((v=t.current)==null?void 0:v.getBoundingClientRect().width)||0;n(E),i()},[n]),p=j.useCallback(v=>{var g;a.current=!0,l.current=v.clientX,c.current=((g=t.current)==null?void 0:g.getBoundingClientRect().width)||0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const E=document.createElement("div");E.id="resize-overlay",E.setAttribute("data-resize-overlay",""),document.body.appendChild(E),document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),v.preventDefault()},[e,d,u]);return f.jsx("div",{ref:o,className:rx({[e]:!0}),onMouseDown:p})};M();var sx={Sidebar:"_Sidebar_1xksb_1","Sidebar--left":"_Sidebar--left_1xksb_8","Sidebar--right":"_Sidebar--right_1xksb_14","Sidebar-resizeHandle":"_Sidebar-resizeHandle_1xksb_20"},Gl=ie("Sidebar",sx),Jl=({position:e,sidebarRef:t,isVisible:r,onResize:n,onResizeEnd:s,children:i})=>r?f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:t,className:Gl({[e]:!0}),children:i}),f.jsx("div",{className:`${Gl("resizeHandle")}`,children:f.jsx(nx,{position:e,sidebarRef:t,onResize:n,onResizeEnd:s})})]}):null;M();function Ql(e,t){const[r,n]=j.useState(null),s=j.useRef(null),i=F(a=>e==="left"?a.state.ui.leftSideBarWidth:a.state.ui.rightSideBarWidth);j.useEffect(()=>{if(typeof window<"u"&&!i)try{const a=localStorage.getItem("puck-sidebar-widths");if(a){const c=JSON.parse(a)[e];c&&t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:c}})}}catch(a){console.error(`Failed to load ${e} sidebar width from localStorage`,a)}},[t,e,i]),j.useEffect(()=>{i!==void 0&&n(i)},[i]);const o=j.useCallback(a=>{t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:a}});let l={};try{const c=localStorage.getItem("puck-sidebar-widths");l=c?JSON.parse(c):{}}catch(c){console.error(`Failed to save ${e} sidebar width to localStorage`,c)}finally{localStorage.setItem("puck-sidebar-widths",JSON.stringify(L(P({},l),{[e]:a})))}window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},[t,e]);return{width:r,setWidth:n,sidebarRef:s,handleResizeEnd:o}}var ec=ie("Puck",pf),tc=ie("PuckLayout",pf),ix=()=>{const e=F(t=>{var r,n;return t.selectedItem?(n=(r=t.config.components[t.selectedItem.type])==null?void 0:r.label)!=null?n:t.selectedItem.type.toString():"Page"});return f.jsx(uo,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:e,children:f.jsx(hf,{})})},jf=j.createContext({});function ox(e){return f.jsx(jf.Provider,{value:e,children:e.children})}var Pa=()=>j.useContext(jf);function ax({children:e}){const{config:t,data:r,ui:n,onChange:s,permissions:i={},plugins:o,overrides:a,viewports:l=ws,iframe:c,initialHistory:d,metadata:u,onAction:p,fieldTransforms:v}=Pa(),g=j.useMemo(()=>P({enabled:!0,waitForStyles:!0},c),[c]),[E]=j.useState(()=>{var h,A,N,z,$,V,R,K,U;const X=P(P({},ji.ui),n);let G={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(G=L(P({},G),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const Ie=window.innerWidth,Ee=Object.entries(l).map(([De,Z])=>({key:De,diff:Math.abs(Ie-Z.width)})).sort((De,Z)=>De.diff>Z.diff?1:-1)[0].key;g.enabled&&(G=L(P({},G),{viewports:L(P({},X.viewports),{current:L(P({},X.viewports.current),{height:((A=(h=n?.viewports)==null?void 0:h.current)==null?void 0:A.height)||((N=l[Ee])==null?void 0:N.height)||"auto",width:(($=(z=n?.viewports)==null?void 0:z.current)==null?void 0:$.width)||((V=l[Ee])==null?void 0:V.width)})})}))}Object.keys(r?.root||{}).length>0&&!((R=r?.root)!=null&&R.props)&&console.warn("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const Y=((K=r?.root)==null?void 0:K.props)||r?.root||{},te=P(P({},(U=t.root)==null?void 0:U.defaultProps),Y),ce=L(P({},ji),{data:L(P({},r),{root:L(P({},r?.root),{props:te}),content:r.content||[]}),ui:L(P(P({},X),G),{componentList:t.categories?Object.entries(t.categories).reduce((Ie,[se,Ee])=>L(P({},Ie),{[se]:{title:Ee.title,components:Ee.components,expanded:Ee.defaultExpanded,visible:Ee.visible}}),{}):{}})});return st(ce,t)}),{appendData:y=!0}=d||{},[S]=j.useState([...d?.histories||[],...y?[{state:E}]:[]].map(h=>{let A=P(P({},E),h.state);return h.state.indexes||(A=st(A,t)),L(P({},h),{state:A})})),m=d?.index||S.length-1,_=S[m].state,x=Vb({overrides:a,plugins:o}),C=j.useMemo(()=>{const A=(o||[]).reduce((N,z)=>P(P({},N),z.fieldTransforms),{});return P(P({},A),v)},[v,o]),I=j.useCallback(h=>({state:h,config:t,plugins:o||[],overrides:x,viewports:l,iframe:g,onAction:p,metadata:u,fieldTransforms:C}),[_,t,o,x,l,g,p,u,C]),[D]=j.useState(()=>Wu(I(_)));j.useEffect(()=>{},[D]),j.useEffect(()=>{const h=D.getState().state;D.setState(P({},I(h)))},[t,o,x,l,g,p,u]),sm(D,{histories:S,index:m,initialAppState:_});const b=j.useRef(null);j.useEffect(()=>{D.subscribe(h=>h.state.data,h=>{if(s){if(bs(h,b.current))return;s(h),b.current=h}})},[]),am(D,i);const k=mb(D);return j.useEffect(()=>{const{resolveAndCommitData:h}=D.getState();h()},[]),f.jsx(Sa.Provider,{value:D,children:f.jsx(vb.Provider,{value:k,children:e})})}function lx({children:e}){const{iframe:t,dnd:r,initialHistory:n}=Pa(),s=j.useMemo(()=>P({enabled:!0,waitForStyles:!0},t),[t]);Yb(s.enabled);const i=F(I=>I.dispatch),o=F(I=>I.state.ui.leftSideBarVisible),a=F(I=>I.state.ui.rightSideBarVisible),{width:l,setWidth:c,sidebarRef:d,handleResizeEnd:u}=Ql("left",i),{width:p,setWidth:v,sidebarRef:g,handleResizeEnd:E}=Ql("right",i);j.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const I=()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:D=>P(P({},D),D.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]);const y=F(I=>I.overrides),S=j.useMemo(()=>y.puck||po,[y]),[m,_]=j.useState(!1);j.useEffect(()=>{_(!0)},[]);const x=F(I=>I.status==="READY");tm(),j.useEffect(()=>{if(x&&s.enabled){const I=Or();if(I)return Bu(I)}},[x,s.enabled]),Xb();const C={};return l&&(C["--puck-user-left-side-bar-width"]=`${l}px`),p&&(C["--puck-user-right-side-bar-width"]=`${p}px`),f.jsxs("div",{className:`Puck ${ec()}`,children:[f.jsx(Zy,{disableAutoScroll:r?.disableAutoScroll,children:f.jsx(S,{children:e||f.jsx(Wb,{children:f.jsx("div",{className:tc({leftSideBarVisible:o,mounted:m,rightSideBarVisible:a}),children:f.jsxs("div",{className:tc("inner"),style:C,children:[f.jsx(ex,{}),f.jsxs(Jl,{position:"left",sidebarRef:d,isVisible:o,onResize:c,onResizeEnd:u,children:[f.jsx(uo,{title:"Components",noBorderTop:!0,children:f.jsx(vf,{})}),f.jsx(uo,{title:"Outline",children:f.jsx(_f,{})})]}),f.jsx(Hb,{}),f.jsx(Jl,{position:"right",sidebarRef:g,isVisible:a,onResize:v,onResizeEnd:E,children:f.jsx(ix,{})})]})})})})}),f.jsx("div",{id:"puck-portal-root",className:ec("portal")})]})}function Bn(e){return f.jsx(ox,L(P({},e),{children:f.jsx(ax,L(P({},e),{children:f.jsx(lx,P({},e))}))}))}Bn.Components=vf;Bn.Fields=hf;Bn.Outline=_f;Bn.Preview=yf;M();M();M();M();M();M();M();M();M();M();M();M();M();const cx=({title:e,subtitle:t,ctaText:r,ctaLink:n,backgroundImage:s})=>f.jsx("section",{className:"relative py-20 px-8 text-center bg-gradient-to-br from-blue-600 to-purple-700 text-white",style:s?{backgroundImage:`url(${s})`,backgroundSize:"cover"}:{},children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:e||"Welcome to Our Studio"}),f.jsx("p",{className:"text-xl md:text-2xl opacity-90 mb-8",children:t||"Your journey starts here"}),r&&f.jsx("a",{href:n||"#",className:"inline-block bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-blue-50 transition",children:r})]})}),dx=({content:e,alignment:t})=>f.jsx("section",{className:"py-12 px-8",children:f.jsx("div",{className:`max-w-3xl mx-auto prose prose-lg ${t==="center"?"text-center":""}`,children:f.jsx("div",{dangerouslySetInnerHTML:{__html:e||"<p>Add your content here...</p>"}})})}),ux=({features:e})=>f.jsx("section",{className:"py-16 px-8 bg-zinc-50",children:f.jsx("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8",children:(e||[{icon:"",title:"Feature 1",description:"Description here"}]).map((t,r)=>f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm text-center",children:[f.jsx("div",{className:"text-4xl mb-4",children:t.icon}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),f.jsx("p",{className:"text-zinc-600",children:t.description})]},r))})}),fx=({title:e,showDays:t,tenantSlug:r})=>f.jsx("section",{className:"py-16 px-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:e||"Our Schedule"}),f.jsxs("div",{className:"bg-zinc-100 rounded-xl p-8 text-center",children:[f.jsx("p",{className:"text-zinc-600",children:"Schedule will be dynamically loaded from your studio data."}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-2",children:["Showing next ",t||7," days"]})]})]})}),px=({title:e})=>f.jsx("section",{className:"py-16 px-8 bg-zinc-50",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:e||"Meet Our Instructors"}),f.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:[1,2,3,4].map(t=>f.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:[f.jsx("div",{className:"aspect-square bg-zinc-200"}),f.jsxs("div",{className:"p-4 text-center",children:[f.jsx("h4",{className:"font-semibold",children:"Instructor Name"}),f.jsx("p",{className:"text-sm text-zinc-600",children:"Specialty"})]})]},t))}),f.jsx("p",{className:"text-center text-sm text-zinc-400 mt-4",children:"Instructor data loaded from your studio."})]})}),hx=({testimonials:e})=>f.jsx("section",{className:"py-16 px-8",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"What Our Students Say"}),f.jsx("div",{className:"space-y-8",children:(e||[{quote:"Amazing experience!",author:"Happy Student"}]).map((t,r)=>f.jsxs("blockquote",{className:"bg-zinc-50 p-8 rounded-xl",children:[f.jsxs("p",{className:"text-xl italic text-zinc-700 mb-4",children:['"',t.quote,'"']}),f.jsxs("footer",{className:"text-zinc-600 font-medium",children:[" ",t.author]})]},r))})]})}),gx=({title:e,email:t})=>f.jsx("section",{className:"py-16 px-8 bg-zinc-900 text-white",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:e||"Get in Touch"}),f.jsx("p",{className:"text-zinc-400 mb-8",children:"We'd love to hear from you!"}),f.jsxs("form",{className:"space-y-4",children:[f.jsx("input",{type:"text",placeholder:"Your Name",className:"w-full px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white"}),f.jsx("input",{type:"email",placeholder:"Your Email",className:"w-full px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white"}),f.jsx("textarea",{placeholder:"Your Message",rows:4,className:"w-full px-4 py-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white"}),f.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Send Message"})]})]})}),vx=({title:e,address:t})=>f.jsx("section",{className:"py-16 px-8",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:e||"Find Us"}),f.jsx("div",{className:"aspect-video bg-zinc-200 rounded-xl flex items-center justify-center",children:f.jsx("p",{className:"text-zinc-500",children:"Map embed will appear here"})}),t&&f.jsx("p",{className:"text-center mt-4 text-zinc-600",children:t})]})}),mx={components:{Hero:{label:"Hero Section",fields:{title:{type:"text"},subtitle:{type:"text"},ctaText:{type:"text",label:"Button Text"},ctaLink:{type:"text",label:"Button Link"},backgroundImage:{type:"text",label:"Background Image URL"}},defaultProps:{title:"Welcome to Our Studio",subtitle:"Your wellness journey starts here",ctaText:"Book a Class",ctaLink:"/schedule"},render:cx},TextBlock:{label:"Text Block",fields:{content:{type:"textarea"},alignment:{type:"select",options:[{label:"Left",value:"left"},{label:"Center",value:"center"}]}},defaultProps:{content:"<p>Add your content here...</p>",alignment:"left"},render:dx},FeatureGrid:{label:"Feature Grid",fields:{features:{type:"array",arrayFields:{icon:{type:"text"},title:{type:"text"},description:{type:"textarea"}}}},defaultProps:{features:[{icon:"",title:"Expert Instructors",description:"Learn from certified professionals"},{icon:"",title:"Flexible Schedule",description:"Classes available 7 days a week"},{icon:"",title:"Results Driven",description:"Achieve your wellness goals"}]},render:ux},ClassSchedule:{label:"Class Schedule",fields:{title:{type:"text"},showDays:{type:"number",label:"Days to Show"}},defaultProps:{title:"Upcoming Classes",showDays:7},render:fx},InstructorGrid:{label:"Instructor Grid",fields:{title:{type:"text"}},defaultProps:{title:"Meet Our Team"},render:px},Testimonials:{label:"Testimonials",fields:{testimonials:{type:"array",arrayFields:{quote:{type:"textarea"},author:{type:"text"}}}},defaultProps:{testimonials:[{quote:"This studio changed my life!",author:"Happy Student"}]},render:hx},ContactForm:{label:"Contact Form",fields:{title:{type:"text"},email:{type:"text",label:"Recipient Email"}},defaultProps:{title:"Get in Touch"},render:gx},MapSection:{label:"Map/Location",fields:{title:{type:"text"},address:{type:"text"}},defaultProps:{title:"Visit Us",address:"123 Studio Street, City, State"},render:vx}}},Ux=Pf(function(){const{page:t,error:r,slug:n}=Df(),{getToken:s}=Nf(),i=Of(),o=Af(),[a,l]=j.useState(!1),[c,d]=j.useState(null),[u,p]=j.useState(t?.content||{root:{props:{}},content:[]}),v=async g=>{l(!0);try{const E=await s();await Mf(`/website/pages/${o.pageId}`,E,{method:"PUT",headers:{"X-Tenant-Slug":n},body:JSON.stringify({content:g})}),d(new Date)}catch(E){alert("Failed to save: "+E.message)}finally{l(!1)}};return r?f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:["Error: ",r]}),f.jsxs("button",{onClick:()=>i(`/studio/${n}/website/pages`),className:"mt-4 text-blue-600 hover:underline flex items-center gap-2",children:[f.jsx(Da,{size:16})," Back to Pages"]})]}):f.jsxs("div",{className:"h-screen flex flex-col",children:[f.jsxs("div",{className:"bg-white border-b border-zinc-200 px-4 py-3 flex items-center justify-between z-50",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:()=>i(`/studio/${n}/website/pages`),className:"flex items-center gap-2 text-zinc-600 hover:text-zinc-900",children:[f.jsx(Da,{size:18}),f.jsx("span",{className:"text-sm",children:"Back"})]}),f.jsx("div",{className:"h-6 w-px bg-zinc-200"}),f.jsxs("div",{children:[f.jsx("h1",{className:"font-medium text-zinc-900",children:t?.title}),f.jsxs("p",{className:"text-xs text-zinc-500",children:["/",t?.slug]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[c&&f.jsxs("span",{className:"text-xs text-zinc-400",children:["Saved ",c.toLocaleTimeString()]}),f.jsxs("button",{onClick:()=>window.open(`/site/${n}/${t?.slug}`,"_blank"),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-600 hover:bg-zinc-100 rounded-lg",children:[f.jsx(Tf,{size:16}),"Preview"]}),f.jsxs("button",{onClick:()=>v(u),disabled:a,className:"flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[f.jsx(Lf,{size:16}),a?"Saving...":"Save"]})]})]}),f.jsx("div",{className:"flex-1 overflow-hidden",children:f.jsx(Bn,{config:mx,data:u,onPublish:v,onChange:p})})]})});export{Ux as default};
