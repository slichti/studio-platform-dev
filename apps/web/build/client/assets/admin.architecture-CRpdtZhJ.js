import{w as h,u as g,g as z}from"./chunk-JZWAC4HX-Cg_gv2PJ.js";import{j as e}from"./vendor-puck-D_CB0wXL.js";import{a as u}from"./vendor-sentry-DugYw-Ne.js";import{R as j}from"./refresh-cw-DnP96nUp.js";import{G as d}from"./globe-B06hed9d.js";import{S as l}from"./smartphone-Dzgf_AGk.js";import{P as b}from"./panels-top-left-BexpiXz0.js";import{L as f}from"./layers-B6QOmK5S.js";import{S as v}from"./shield-RaNuRJix.js";import{C as p}from"./credit-card-DLBXRPDY.js";import{C as N}from"./calendar-DJnC92HA.js";import{D as k}from"./database-C9RQw6YN.js";import{B as w}from"./box-D3_xzMk2.js";import"./createLucideIcon-BOpDDQ2B.js";const o=({title:x,sub:r,icon:a,color:i,status:n="online",items:t})=>e.jsxs("div",{className:`relative overflow-hidden rounded-xl border border-zinc-200 dark:border-zinc-800 bg-white/50 dark:bg-zinc-900/80 p-5 backdrop-blur-sm transition-all hover:bg-white hover:dark:bg-zinc-900 hover:border-${i}-500/30 group z-10 shadow-sm`,children:[e.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-50",children:e.jsx("div",{className:`w-24 h-24 rounded-full bg-${i}-500/10 blur-2xl -mr-10 -mt-10 transition-all group-hover:bg-${i}-500/20`})}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-${i}-500 dark:text-${i}-400`,children:e.jsx(a,{size:18})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-zinc-900 dark:text-zinc-100 text-sm",children:x}),e.jsx("p",{className:"text-[10px] text-zinc-500 font-mono text-zinc-500 dark:text-zinc-500",children:r})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/20",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] font-medium text-emerald-500 uppercase tracking-wide",children:"ON LINE"})]})]}),t&&e.jsx("div",{className:"space-y-1.5",children:t.map((c,s)=>e.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-zinc-500 dark:text-zinc-400",children:[e.jsx("div",{className:`w-1 h-1 rounded-full bg-${i}-500/50`}),c]},s))})]}),y=()=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto px-4 h-8 mb-[-1px]",children:[e.jsxs("div",{className:"relative h-full",children:[e.jsx("div",{className:"absolute top-0 right-0 h-1/2 w-1/2 border-b border-l border-zinc-300 dark:border-zinc-700 rounded-bl-xl opacity-30"}),e.jsx("div",{className:"absolute top-[50%] left-1/2 h-1/2 w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})]}),e.jsx("div",{className:"relative h-full flex justify-center",children:e.jsx("div",{className:"h-full w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})}),e.jsxs("div",{className:"relative h-full",children:[e.jsx("div",{className:"absolute top-0 left-0 h-1/2 w-1/2 border-b border-r border-zinc-300 dark:border-zinc-700 rounded-br-xl opacity-30"}),e.jsx("div",{className:"absolute top-[50%] left-1/2 h-1/2 w-px bg-zinc-300 dark:bg-zinc-700 opacity-30"})]})]}),F=()=>e.jsx("div",{className:"absolute inset-0 z-0 opacity-20 pointer-events-none",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"32px 32px"}}),U=h(function(){const{stats:r,error:a}=g(),i=z(),[n,t]=u.useState(!1),c=()=>{t(!0),i.revalidate(),setTimeout(()=>t(!1),1e3)};return a?e.jsxs("div",{className:"p-8 text-red-600",children:["Error: ",a]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-zinc-900",children:"System Architecture"}),e.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 text-[10px] font-bold uppercase tracking-wider",children:"Live View"})]}),e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Microservices overview and communication status"})]}),e.jsxs("button",{onClick:c,disabled:n,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-zinc-200 text-zinc-600 text-sm font-medium rounded-lg hover:bg-zinc-50 transition-colors shadow-sm",children:[e.jsx(j,{size:14,className:n?"animate-spin":""}),"Refresh"]})]}),e.jsxs("div",{className:"rounded-2xl bg-white dark:bg-zinc-950 p-8 pb-12 relative overflow-hidden shadow-xl shadow-zinc-200/50 dark:shadow-zinc-900/10 border border-zinc-200 dark:border-zinc-900/50 transition-colors",children:[e.jsx(F,{}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"flex justify-center gap-4 mb-4",children:[{icon:d,label:"Web App"},{icon:l,label:"Mobile App"},{icon:b,label:"Admin Portal"},{icon:d,label:"Public API"}].map((s,m)=>e.jsxs("div",{className:"px-3 py-1.5 rounded-full border border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-900/80 text-zinc-600 dark:text-zinc-400 text-xs flex items-center gap-2 backdrop-blur-sm shadow-sm",children:[e.jsx(s.icon,{size:12})," ",s.label]},m))}),e.jsx("div",{className:"flex justify-center h-8 mb-4",children:e.jsx("div",{className:"w-px border-l border-dashed border-zinc-300 dark:border-zinc-800"})}),e.jsxs("div",{className:"max-w-xl mx-auto mb-4 relative",children:[e.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 px-2 py-0.5 rounded-[4px] text-[9px] font-bold bg-indigo-600 text-white uppercase tracking-wider shadow-lg shadow-indigo-500/20 z-10",children:"Entrance"}),e.jsxs("div",{className:"rounded-xl border border-indigo-200 dark:border-indigo-500/20 bg-white/80 dark:bg-zinc-900/80 p-6 text-center relative overflow-hidden backdrop-blur-xl shadow-2xl shadow-indigo-500/10 dark:shadow-indigo-900/10 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"flex flex-col items-center gap-1.5 relative z-10",children:[e.jsx(f,{className:"text-indigo-400 mb-1",size:24}),e.jsx("h2",{className:"text-lg font-bold text-zinc-900 dark:text-white",children:"API Gateway"}),e.jsx("span",{className:"font-mono text-zinc-500 dark:text-zinc-600 text-xs",children:"`packages/api`"}),e.jsx("div",{className:"flex gap-1 mt-3 justify-center flex-wrap",children:["Routing","Rate Limiting","Auth Context","Observability"].map(s=>e.jsx("span",{className:"px-1.5 py-0.5 rounded bg-indigo-50 dark:bg-indigo-500/5 border border-indigo-100 dark:border-indigo-500/10 text-indigo-600 dark:text-indigo-300/[0.7] text-[10px] font-medium",children:s},s))})]})]})]}),e.jsx(y,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto mb-12 px-4",children:[e.jsx(o,{title:"Core API",sub:"apps/core-api",icon:v,color:"emerald",items:["Identity","Tenants","Onboarding","Platform Admin"]}),e.jsx(o,{title:"Commerce API",sub:"apps/commerce-api",icon:p,color:"blue",items:["Billing","Subscriptions","Products","POS","Webhooks"]}),e.jsx(o,{title:"Studio API",sub:"apps/studio-api",icon:N,color:"orange",items:["Classes","Bookings","Members","Waivers","Payroll"]})]}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-8 relative",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-white dark:bg-zinc-950 px-2 text-[10px] uppercase font-bold text-zinc-400 dark:text-zinc-600 tracking-widest z-10 transition-colors",children:"External Integration"}),e.jsxs("div",{className:"border border-zinc-200 dark:border-zinc-800 rounded-xl p-4 bg-zinc-50/50 dark:bg-zinc-900/20 border-dashed flex justify-around items-center gap-4 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#635BFF]/10 border border-[#635BFF]/20 flex items-center justify-center text-[#635BFF] transition-all group-hover:bg-[#635BFF]/20",children:e.jsx(p,{size:18})}),e.jsx("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Stripe"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#2D8CFF]/10 border border-[#2D8CFF]/20 flex items-center justify-center text-[#2D8CFF] transition-all group-hover:bg-[#2D8CFF]/20",children:e.jsx(d,{size:18})}),e.jsx("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Zoom"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-zinc-900/5 dark:bg-white/10 border border-zinc-900/10 dark:border-white/20 flex items-center justify-center text-zinc-900 dark:text-white transition-all group-hover:bg-zinc-900/10 dark:group-hover:bg-white/20",children:e.jsx(l,{size:18})}),e.jsx("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Resend"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#F22F46]/10 border border-[#F22F46]/20 flex items-center justify-center text-[#F22F46] transition-all group-hover:bg-[#F22F46]/20",children:e.jsx(l,{size:18})}),e.jsx("span",{className:"text-[10px] font-semibold text-zinc-500 dark:text-zinc-400",children:"Twilio"})]})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto flex gap-4 opacity-80 pt-8 border-t border-zinc-200 dark:border-zinc-900",children:[e.jsxs("div",{className:"flex-1 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/30 p-3 flex items-center gap-3 hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-zinc-900 rounded text-zinc-500 border border-zinc-200 dark:border-zinc-800",children:e.jsx(k,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-zinc-700 dark:text-zinc-300",children:"Database"}),e.jsx("p",{className:"text-[10px] text-zinc-600",children:"Cloudflare D1"})]})]}),e.jsxs("div",{className:"flex-1 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-800 bg-zinc-50/50 dark:bg-zinc-900/30 p-3 flex items-center gap-3 hover:border-zinc-400 dark:hover:border-zinc-700 transition-colors",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-zinc-900 rounded text-zinc-500 border border-zinc-200 dark:border-zinc-800",children:e.jsx(w,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-zinc-700 dark:text-zinc-300",children:"Shared Lib"}),e.jsx("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-600",children:"Utils, Types"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 pt-8 border-t border-zinc-200",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Platform Activity"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-5 shadow-sm transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10 text-indigo-400",children:e.jsx(d,{size:18})}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:"Live"})]}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-1",children:r?.connectedUsers||0}),e.jsx("div",{className:"text-xs text-zinc-400 font-medium",children:"Active Users"})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-5 shadow-sm transition-colors",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10 text-orange-400",children:e.jsx(b,{size:18})})}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-1",children:r?.tenantCount||0}),e.jsx("div",{className:"text-xs text-zinc-400 font-medium",children:"Total Tenants"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl p-4 border border-zinc-200 dark:border-zinc-800 shadow-sm transition-colors",children:[e.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-wider mb-1",children:"DB Latency"}),e.jsxs("div",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:[r?.latency?.database_ms||0,e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-normal ml-1",children:"ms"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl p-4 border border-zinc-200 dark:border-zinc-800 shadow-sm transition-colors",children:[e.jsx("div",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-wider mb-1",children:"Edge Latency"}),e.jsxs("div",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:[r?.latency?.edge_ms||0,e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-normal ml-1",children:"ms"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl border border-zinc-200 dark:border-zinc-800 p-6 shadow-sm transition-colors",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest mb-6",children:"User Geography"}),e.jsx("div",{className:"space-y-4",children:r?.userRegions?.map((s,m)=>e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex justify-between items-end mb-1",children:[e.jsxs("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-400 dark:text-zinc-500 font-mono w-6",children:s.code}),s.name]}),e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 font-mono",children:s.count})]}),e.jsx("div",{className:"h-1.5 w-full bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-indigo-500",style:{width:`${s.count/(r?.userRegions[0]?.count||1)*100}%`}})})]},s.code))})]})]})]})});export{U as default};
