import{w as j,u as g,a as v}from"./chunk-EPOLDU6W-QEwcj8It.js";import{j as e}from"./vendor-puck-d5q8lBvG.js";import{C as f}from"./chart-column-CDVad_0h.js";import{D as N}from"./download-SQDIG1Ii.js";import{D as z}from"./dollar-sign-D46f-LED.js";import{A as y}from"./activity-Ck9KrIjl.js";import{C as x}from"./calendar-UsqAXFSj.js";import{T as w}from"./target-D0pHV0MH.js";import{T as C}from"./trending-up-CKyXCbrP.js";import"./vendor-charts-C-svo-KU.js";import"./createLucideIcon-Ccni2AnG.js";const O=j(function(){const{revenue:a,attendance:t,days:c}=g(),[o,m]=v(),r=s=>`$${(s/100).toLocaleString("en-US",{minimumFractionDigits:2})}`,h=s=>s.toLocaleString(),p=s=>{m({days:s.toString()})},u=Math.max(...a?.chartData?.map(s=>s.value)||[1]);return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50",children:[e.jsx("header",{className:"bg-white border-b border-zinc-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded-lg text-white",children:e.jsx(f,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900",children:"Advanced Reports"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Analytics & insights"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:c,onChange:s=>p(parseInt(s.target.value)),className:"px-3 py-2 border border-zinc-200 rounded-lg text-sm",children:[e.jsx("option",{value:"7",children:"Last 7 days"}),e.jsx("option",{value:"30",children:"Last 30 days"}),e.jsx("option",{value:"90",children:"Last 90 days"}),e.jsx("option",{value:"365",children:"Last year"})]}),e.jsx("button",{className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(N,{size:18})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(i,{icon:z,label:"Gross Revenue",value:r(a?.grossVolume||0),color:"emerald"}),e.jsx(i,{icon:y,label:"MRR",value:r(a?.mrr||0),color:"blue"}),e.jsx(i,{icon:x,label:"Total Bookings",value:h(t?.totalBookings||0),color:"purple"}),e.jsx(i,{icon:w,label:"Check-in Rate",value:t?.totalBookings?`${Math.round((t?.totalCheckins||0)/t.totalBookings*100)}%`:"0%",color:"orange"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e.jsxs("h2",{className:"font-bold text-zinc-900 mb-4 flex items-center gap-2",children:[e.jsx(C,{size:18,className:"text-emerald-500"})," Revenue Over Time"]}),e.jsx("div",{className:"h-48 flex items-end gap-1",children:a?.chartData?.slice(-30).map((s,l)=>e.jsx("div",{className:"flex-1 bg-emerald-500 rounded-t hover:bg-emerald-600 transition relative group",style:{height:`${Math.max(2,s.value/u*100)}%`},children:e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-zinc-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 whitespace-nowrap",children:[s.name,": ",r(s.value)]})},l))||e.jsx("div",{className:"flex-1 text-center text-zinc-400",children:"No data"})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-zinc-500",children:[e.jsx("span",{children:a?.chartData?.[0]?.name||""}),e.jsx("span",{children:a?.chartData?.[a?.chartData?.length-1]?.name||""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e.jsx("h2",{className:"font-bold text-zinc-900 mb-4",children:"Revenue Sources"}),e.jsx("div",{className:"space-y-3",children:a?.breakdown&&Object.entries(a.breakdown).map(([s,l],n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:["#10b981","#3b82f6","#8b5cf6","#f59e0b"][n%4]}}),e.jsx("span",{className:"text-sm text-zinc-700 capitalize",children:s})]}),e.jsx("span",{className:"font-medium",children:r(l)})]},n))||e.jsx("p",{className:"text-zinc-400 text-sm",children:"No breakdown available"})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e.jsx("h2",{className:"font-bold text-zinc-900 mb-4",children:"Top Classes"}),e.jsx("div",{className:"space-y-3",children:t?.topClasses?.slice(0,5).map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-zinc-100 rounded-full flex items-center justify-center text-xs font-medium",children:l+1}),e.jsx("span",{className:"text-sm text-zinc-700 truncate max-w-[200px]",children:s.title})]}),e.jsxs("span",{className:"text-sm text-zinc-500",children:[s.attendees," attendees"]})]},l))||e.jsx("p",{className:"text-zinc-400 text-sm",children:"No classes data"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e.jsxs("h2",{className:"font-bold text-zinc-900 mb-4 flex items-center gap-2",children:[e.jsx(x,{size:18,className:"text-purple-500"})," Attendance Over Time"]}),e.jsx("div",{className:"h-32 flex items-end gap-1",children:t?.chartData?.slice(-30).map((s,l)=>{const n=Math.max(...t?.chartData?.map(b=>b.value)||[1]);return e.jsx("div",{className:"flex-1 bg-purple-500 rounded-t hover:bg-purple-600 transition",style:{height:`${Math.max(2,s.value/n*100)}%`}},l)})||e.jsx("div",{className:"flex-1 text-center text-zinc-400",children:"No data"})})]})]})]})});function i({icon:d,label:a,value:t,color:c}){const o={emerald:"bg-emerald-100 text-emerald-600",blue:"bg-blue-100 text-blue-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600"};return e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${o[c]}`,children:e.jsx(d,{size:16})}),e.jsx("span",{className:"text-xs font-medium text-zinc-500",children:a})]}),e.jsx("div",{className:"text-2xl font-bold text-zinc-900",children:t})]})}export{O as default};
