import{r as o,w as _e,e as Te}from"./chunk-JMJ3UQ3L-CxfiyNnI.js";import{j as n}from"./jsx-runtime-u17CrQMm.js";import{c as ge}from"./createLucideIcon-CglF3LvP.js";import{T as Be}from"./trash-2-BtJ_Sc8n.js";import{S as We}from"./save-DZgVrOXA.js";import{U as be}from"./users-MOa6N0NW.js";import{T as V}from"./trending-up-BWBndZKx.js";import{D as X}from"./dollar-sign-CCA5Rx4C.js";import{C as Ke}from"./calendar-BDQM7_JL.js";import{A as Ve}from"./arrow-right-CbS2mYks.js";import{C as Y,I as ye,$ as Ge,am as He,an as Ue,G as je,ao as Je,ap as qe,aq as Ye,ar as Ze,as as Xe,at as Qe,P as et,y as ke,au as tt,av as oe,aw as at,c as ae,n as ze,ax as we,ay as Pe,az as nt,aA as rt,aB as it,aC as le,aD as st,E as ot,aE as Ne,R as lt,aF as ct,aG as dt,w as Se,J as ut,aH as mt,aI as pt,aJ as ht,aK as xt,aL as ft,Z as vt,L as gt,aM as bt,aN as yt,h as Ee,aO as ce,aP as de,K as jt,M as kt,O as F,a1 as zt,aQ as wt,aR as Pt,a0 as Nt,D as St,aS as Et,aT as Ct,ad as At,ae as Q,ah as H,ai as T,ag as U,aj as J,af as ee,ak as B,al as It}from"./AreaChart-CD7JLoe6.js";import{r as Ot}from"./index-BaSvTNfs.js";import{a as ue}from"./api-D1U4i9fn.js";import{P as Z}from"./PrivacyBlur-DCeFAFUq.js";import{L as Dt}from"./loader-circle-D-DnruHh.js";import{C as Lt}from"./circle-check-PN7IF-NB.js";import"./string-0bvjYUJm.js";import"./with-selector-p_UOaqtl.js";import"./with-selector-CIbivNYy.js";import"./index-DxEZQSMD.js";import"./band-CquvqAHh.js";import"./init-Dmth1JHB.js";import"./ordinal-DILIJJjt.js";import"./linear-B73P1QuO.js";import"./defaultLocale-C4B-KCzX.js";import"./time-BOCF2igb.js";const Rt=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],$t=ge("calculator",Rt);const Mt=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ft=ge("folder-open",Mt);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},q.apply(null,arguments)}function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?me(Object(a),!0).forEach(function(r){Tt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Tt(e,t,a){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Bt(e){var t=Wt(e,"string");return typeof t=="symbol"?t:t+""}function Wt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S=32,Kt={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Vt(e){var{data:t,iconType:a,inactiveColor:r}=e,l=S/2,c=S/6,d=S/3,p=t.inactive?r:t.color,i=a??t.type;if(i==="none")return null;if(i==="plainline"){var h;return o.createElement("line",{strokeWidth:4,fill:"none",stroke:p,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:l,x2:S,y2:l,className:"recharts-legend-icon"})}if(i==="line")return o.createElement("path",{strokeWidth:4,fill:"none",stroke:p,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(S,"M").concat(2*d,",").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(i==="rect")return o.createElement("path",{stroke:"none",fill:p,d:"M0,".concat(S/8,"h").concat(S,"v").concat(S*3/4,"h").concat(-S,"z"),className:"recharts-legend-icon"});if(o.isValidElement(t.legendIcon)){var m=_t({},t);return delete m.legendIcon,o.cloneElement(t.legendIcon,m)}return o.createElement(Ue,{fill:p,cx:l,cy:l,size:S,sizeType:"diameter",type:i})}function Gt(e){var{payload:t,iconSize:a,layout:r,formatter:l,inactiveColor:c,iconType:d}=e,p={x:0,y:0,width:S,height:S},i={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,x)=>{var f=m.formatter||l,v=ye({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:m.inactive});if(m.type==="none")return null;var j=m.inactive?c:m.color,y=f?f(m.value,m,x):m.value;return o.createElement("li",q({className:v,style:i,key:"legend-item-".concat(x)},Ge(e,m,x)),o.createElement(He,{width:a,height:a,viewBox:p,style:h,"aria-label":"".concat(y," legend icon")},o.createElement(Vt,{data:m,iconType:d,inactiveColor:c})),o.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},y))})}var Ht=e=>{var t=Y(e,Kt),{payload:a,layout:r,align:l}=t;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:r==="horizontal"?l:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:c},o.createElement(Gt,q({},t,{payload:a})))};function Ut(){return je(Je)}var Jt=["contextPayload"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},te.apply(null,arguments)}function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(a),!0).forEach(function(r){qt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qt(e,t,a){return(t=Yt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yt(e){var t=Zt(e,"string");return typeof t=="symbol"?t:t+""}function Zt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t){if(e==null)return{};var a,r,l=Qt(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}function Qt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ea(e){return e.value}function ta(e){var{contextPayload:t}=e,a=Xt(e,Jt),r=at(t,e.payloadUniqBy,ea),l=R(R({},a),{},{payload:r});return o.isValidElement(e.content)?o.cloneElement(e.content,l):typeof e.content=="function"?o.createElement(e.content,l):o.createElement(Ht,l)}function aa(e,t,a,r,l,c){var{layout:d,align:p,verticalAlign:i}=t,h,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(p==="center"&&d==="vertical"?h={left:((r||0)-c.width)/2}:h=p==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(i==="middle"?m={top:((l||0)-c.height)/2}:m=i==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),R(R({},h),m)}function na(e){var t=ke();return o.useEffect(()=>{t(tt(e))},[t,e]),null}function ra(e){var t=ke();return o.useEffect(()=>(t(oe(e)),()=>{t(oe({width:0,height:0}))}),[t,e]),null}function ia(e,t,a,r){return e==="vertical"&&et(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var sa={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ce(e){var t=Y(e,sa),a=Ut(),r=qe(),l=Ye(),{width:c,height:d,wrapperStyle:p,portal:i}=t,[h,m]=Ze([a]),x=Xe(),f=Qe();if(x==null||f==null)return null;var v=x-(l?.left||0)-(l?.right||0),j=ia(t.layout,d,c,v),y=i?p:R(R({position:"absolute",width:j?.width||c||"auto",height:j?.height||d||"auto"},aa(p,t,l,x,f,h)),p),z=i??r;if(z==null||a==null)return null;var s=o.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:m},o.createElement(na,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!i&&o.createElement(ra,{width:h.width,height:h.height}),o.createElement(ta,te({},t,j,{margin:l,chartWidth:x,chartHeight:f,contextPayload:a})));return Ot.createPortal(s,z)}Ce.displayName="Legend";var oa=["children"];function la(e,t){if(e==null)return{};var a,r,l=ca(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}function ca(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var da={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ua=o.createContext(da);function ma(e){var{children:t}=e,a=la(e,oa);return o.createElement(ua.Provider,{value:a},t)}var Ae=(e,t,a,r)=>we(e,"xAxis",t,r),Ie=(e,t,a,r)=>Pe(e,"xAxis",t,r),Oe=(e,t,a,r)=>we(e,"yAxis",a,r),De=(e,t,a,r)=>Pe(e,"yAxis",a,r),pa=ae([ze,Ae,Oe,Ie,De],(e,t,a,r,l)=>it(e,"xAxis")?le(t,r,!1):le(a,l,!1)),ha=(e,t,a,r,l)=>l;function xa(e){return e.type==="line"}var fa=ae([rt,ha],(e,t)=>e.filter(xa).find(a=>a.id===t)),va=ae([ze,Ae,Oe,Ie,De,fa,pa,nt],(e,t,a,r,l,c,d,p)=>{var{chartData:i,dataStartIndex:h,dataEndIndex:m}=p;if(!(c==null||t==null||a==null||r==null||l==null||r.length===0||l.length===0||d==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:x,data:f}=c,v;if(f!=null&&f.length>0?v=f:v=i?.slice(h,m+1),v!=null)return Ma({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:l,dataKey:x,bandSize:d,displayedData:v})}}),ga=["id"],ba=["type","layout","connectNulls","needClip","shape"],ya=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W.apply(null,arguments)}function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?he(Object(a),!0).forEach(function(r){ja(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ja(e,t,a){return(t=ka(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ka(e){var t=za(e,"string");return typeof t=="symbol"?t:t+""}function za(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ne(e,t){if(e==null)return{};var a,r,l=wa(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}function wa(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Pa=e=>{var{dataKey:t,name:a,stroke:r,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:r,value:Se(a,t),payload:e}]},Na=o.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:l,fill:c,name:d,hide:p,unit:i,tooltipType:h,id:m}=e,x={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:Se(d,t),hide:p,type:h,color:r,unit:i,graphicalItemId:m}};return o.createElement(ut,{tooltipEntrySettings:x})}),Le=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Sa(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],l=0;l<t;++l)r=[...r,...a];return r}var Ea=(e,t,a)=>{var r=a.reduce((x,f)=>x+f);if(!r)return Le(t,e);for(var l=Math.floor(e/r),c=e%r,d=t-e,p=[],i=0,h=0;i<a.length;h+=a[i],++i)if(h+a[i]>c){p=[...a.slice(0,i),c-h];break}var m=p.length%2===0?[0,d]:[d];return[...Sa(a,l),...p,...m].map(x=>"".concat(x,"px")).join(", ")};function Ca(e){var{clipPathId:t,points:a,props:r}=e,{dot:l,dataKey:c,needClip:d}=r,{id:p}=r,i=ne(r,ga),h=St(i);return o.createElement(Et,{points:a,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:c,baseProps:h,needClip:d,clipPathId:t})}function Aa(e){var{showLabels:t,children:a,points:r}=e,l=o.useMemo(()=>r?.map(c=>{var d,p,i={x:(d=c.x)!==null&&d!==void 0?d:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:0,lowerWidth:0,upperWidth:0,height:0};return A(A({},i),{},{value:c.value,payload:c.payload,viewBox:i,parentViewBox:void 0,fill:void 0})}),[r]);return o.createElement(wt,{value:t?l:void 0},a)}function xe(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:l,props:c}=e,{type:d,layout:p,connectNulls:i,needClip:h,shape:m}=c,x=ne(c,ba),f=A(A({},Pt(x)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:p,connectNulls:i,strokeDasharray:l??c.strokeDasharray});return o.createElement(o.Fragment,null,r?.length>1&&o.createElement(Nt,W({shapeType:"curve",option:m},f,{pathRef:a})),o.createElement(Ca,{points:r,clipPathId:t,props:c}))}function Ia(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Oa(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:l,longestAnimatedLengthRef:c}=e,{points:d,strokeDasharray:p,isAnimationActive:i,animationBegin:h,animationDuration:m,animationEasing:x,animateNewValues:f,width:v,height:j,onAnimationEnd:y,onAnimationStart:z}=a,s=l.current,u=jt(d,"recharts-line-"),g=o.useRef(u),[b,k]=o.useState(!1),P=!b,N=o.useCallback(()=>{typeof y=="function"&&y(),k(!1)},[y]),E=o.useCallback(()=>{typeof z=="function"&&z(),k(!0)},[z]),w=Ia(r.current),L=o.useRef(0);g.current!==u&&(L.current=c.current,g.current=u);var $=L.current;return o.createElement(Aa,{points:d,showLabels:P},a.children,o.createElement(kt,{animationId:u,begin:h,duration:m,isActive:i,easing:x,onAnimationEnd:N,onAnimationStart:E,key:u},I=>{var K=F($,w+$,I),M=Math.min(K,w),D;if(i)if(p){var $e="".concat(p).split(/[,\s]+/gim).map(C=>parseFloat(C));D=Ea(M,w,$e)}else D=Le(w,M);else D=p==null?void 0:String(p);if(I>0&&w>0&&(l.current=d,c.current=Math.max(c.current,M)),s){var Me=s.length/d.length,re=I===1?d:d.map((C,Fe)=>{var ie=Math.floor(Fe*Me);if(s[ie]){var se=s[ie];return A(A({},C),{},{x:F(se.x,C.x,I),y:F(se.y,C.y,I)})}return f?A(A({},C),{},{x:F(v*2,C.x,I),y:F(j/2,C.y,I)}):A(A({},C),{},{x:C.x,y:C.y})});return l.current=re,o.createElement(xe,{props:a,points:re,clipPathId:t,pathRef:r,strokeDasharray:D})}return o.createElement(xe,{props:a,points:d,clipPathId:t,pathRef:r,strokeDasharray:D})}),o.createElement(zt,{label:a.label}))}function Da(e){var{clipPathId:t,props:a}=e,r=o.useRef(null),l=o.useRef(0),c=o.useRef(null);return o.createElement(Oa,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:l,pathRef:c})}var La=(e,t)=>{var a,r;return{x:(a=e.x)!==null&&a!==void 0?a:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ee(e.payload,t)}};class Ra extends o.Component{render(){var{hide:t,dot:a,points:r,className:l,xAxisId:c,yAxisId:d,top:p,left:i,width:h,height:m,id:x,needClip:f,zIndex:v}=this.props;if(t)return null;var j=ye("recharts-line",l),y=x,{r:z,strokeWidth:s}=xt(a),u=ft(a),g=z*2+s,b=f?"url(#clipPath-".concat(u?"":"dots-").concat(y,")"):void 0;return o.createElement(vt,{zIndex:v},o.createElement(gt,{className:j},f&&o.createElement("defs",null,o.createElement(bt,{clipPathId:y,xAxisId:c,yAxisId:d}),!u&&o.createElement("clipPath",{id:"clipPath-dots-".concat(y)},o.createElement("rect",{x:i-g/2,y:p-g/2,width:h+g,height:m+g}))),o.createElement(ma,{xAxisId:c,yAxisId:d,data:r,dataPointFormatter:La,errorBarOffset:0},o.createElement(Da,{props:this.props,clipPathId:y}))),o.createElement(yt,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var Re={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ot.line,type:"linear"};function $a(e){var t=Y(e,Re),{activeDot:a,animateNewValues:r,animationBegin:l,animationDuration:c,animationEasing:d,connectNulls:p,dot:i,hide:h,isAnimationActive:m,label:x,legendType:f,xAxisId:v,yAxisId:j,id:y}=t,z=ne(t,ya),{needClip:s}=mt(v,j),u=pt(),g=ht(),b=Ne(),k=je(L=>va(L,v,j,b,y));if(g!=="horizontal"&&g!=="vertical"||k==null||u==null)return null;var{height:P,width:N,x:E,y:w}=u;return o.createElement(Ra,W({},z,{id:y,connectNulls:p,dot:i,activeDot:a,animateNewValues:r,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:m,hide:h,label:x,legendType:f,xAxisId:v,yAxisId:j,points:k,layout:g,height:P,width:N,left:E,top:w,needClip:s}))}function Ma(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:l,yAxisTicks:c,dataKey:d,bandSize:p,displayedData:i}=e;return i.map((h,m)=>{var x=Ee(h,d);if(t==="horizontal"){var f=ce({axis:a,ticks:l,bandSize:p,entry:h,index:m}),v=de(x)?null:r.scale(x);return{x:f,y:v,value:x,payload:h}}var j=de(x)?null:a.scale(x),y=ce({axis:r,ticks:c,bandSize:p,entry:h,index:m});return j==null||y==null?null:{x:j,y,value:x,payload:h}}).filter(Boolean)}function Fa(e){var t=Y(e,Re),a=Ne();return o.createElement(lt,{id:t.id,type:"line"},r=>o.createElement(o.Fragment,null,o.createElement(ct,{legendPayload:Pa(t)}),o.createElement(Na,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),o.createElement(dt,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),o.createElement($a,W({},t,{id:r}))))}var G=o.memo(Fa,st);G.displayName="Line";var _a=["axis"],Ta=o.forwardRef((e,t)=>o.createElement(Ct,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_a,tooltipPayloadSearcher:At,categoricalChartProps:e,ref:t}));function Ba(){const[e,t]=o.useState("growth"),[a,r]=o.useState([]),[l,c]=o.useState(""),[d,p]=o.useState(!1);o.useEffect(()=>{const s=localStorage.getItem("studio_projection_scenarios");if(s)try{r(JSON.parse(s))}catch(u){console.error("Failed to load scenarios",u)}},[]);const[i,h]=o.useState({studentCount:50,avgMembershipPrice:120,avgDropInPrice:25,membershipSplit:60,classesPerDropIn:4.5,rent:2e3,payrollPerClass:40,classesPerMonth:60,otherExpenses:500,churnRate:5,growthRate:8,seasonalityResult:15,seasonalityEnabled:!1}),m=o.useMemo(()=>{const s=Math.round(i.studentCount*(i.membershipSplit/100)),u=i.studentCount-s,g=s*i.avgMembershipPrice,b=u*i.classesPerDropIn*i.avgDropInPrice,k=g+b,P=i.classesPerMonth*i.payrollPerClass,N=i.rent+P+i.otherExpenses,E=k-N,w=k>0?E/k*100:0;return{totalRevenue:k,totalExpenses:N,profit:E,margin:w,breakdown:{membershipRevenue:g,dropInRevenue:b}}},[i]),x=o.useMemo(()=>{const s=[],u=Math.max(i.studentCount*3,200),g=Math.ceil(u/20);for(let b=0;b<=u;b+=g){const k=Math.round(b*(i.membershipSplit/100)),P=b-k,N=k*i.avgMembershipPrice+P*i.classesPerDropIn*i.avgDropInPrice,E=i.classesPerMonth*i.payrollPerClass,w=i.rent+E+i.otherExpenses;s.push({students:b,revenue:N,expenses:w,profit:N-w})}return s},[i]),f=o.useMemo(()=>{const s=[];let u=i.studentCount;const g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=new Date().getMonth();for(let k=0;k<24;k++){const P=(b+k)%12,N=g[P];let E=1;i.seasonalityEnabled&&(P===5||P===6||P===7)&&(E=1-i.seasonalityResult/100);const w=u*(i.churnRate/100),L=i.growthRate*E;u=Math.max(0,u-w+L);const $=Math.round(u*(i.membershipSplit/100)),I=u-$,K=$*i.avgMembershipPrice+I*i.classesPerDropIn*i.avgDropInPrice,M=i.classesPerMonth*i.payrollPerClass,D=i.rent+M+i.otherExpenses;s.push({month:k===0?"Now":k<=11?N:`${N} '25`,students:Math.round(u),revenue:K,expenses:D,profit:K-D})}return s},[i]),v=(s,u)=>{if(typeof u=="boolean"){h(b=>({...b,[s]:u}));return}const g=typeof u=="string"?parseFloat(u)||0:u;h(b=>({...b,[s]:g}))},j=()=>{if(!l)return;const s=[...a,{name:l,data:i}];r(s),localStorage.setItem("studio_projection_scenarios",JSON.stringify(s)),c(""),p(!1)},y=s=>{h(a[s].data)},z=s=>{const u=a.filter((g,b)=>b!==s);r(u),localStorage.setItem("studio_projection_scenarios",JSON.stringify(u))};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in slide-in-from-bottom-4",children:[n.jsx("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-fit space-y-8",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-zinc-900 dark:text-zinc-100 font-bold text-lg",children:[n.jsx($t,{className:"text-blue-600"}),n.jsx("h3",{children:"Simulator Inputs"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("button",{className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-500",children:n.jsx(Ft,{size:18})}),n.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-xl p-2 hidden group-hover:block z-50",children:[n.jsx("div",{className:"text-xs font-semibold text-zinc-400 px-2 py-1 mb-1",children:"LOAD SCENARIO"}),a.length===0&&n.jsx("div",{className:"px-2 py-1 text-xs text-zinc-500 italic",children:"No saved scenarios"}),a.map((s,u)=>n.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 hover:bg-zinc-50 dark:hover:bg-zinc-800 rounded cursor-pointer group/item",children:[n.jsx("span",{onClick:()=>y(u),className:"text-sm truncate flex-1",children:s.name}),n.jsx(Be,{size:12,className:"text-red-400 opacity-0 group-hover/item:opacity-100 hover:text-red-600",onClick:g=>{g.stopPropagation(),z(u)}})]},u))]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>p(!d),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-blue-600",children:n.jsx(We,{size:18})}),d&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg shadow-xl p-3 z-50",children:[n.jsx("div",{className:"text-xs font-semibold text-zinc-400 mb-2",children:"SAVE CURRENT SCENARIO"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{className:"flex-1 min-w-0 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded px-2 py-1 text-sm",placeholder:"Scenario Name...",value:l,onChange:s=>c(s.target.value)}),n.jsx("button",{onClick:j,disabled:!l,className:"bg-blue-600 text-white px-3 py-1 rounded text-xs font-bold disabled:opacity-50",children:"Save"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h4",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(be,{size:14})," Current Status"]}),n.jsx(O,{label:"Total Active Students",value:i.studentCount,onChange:s=>v("studentCount",s)}),n.jsx(O,{label:"Avg. Membership Price ($)",value:i.avgMembershipPrice,onChange:s=>v("avgMembershipPrice",s)}),n.jsx(O,{label:"Avg. Drop-In Price ($)",value:i.avgDropInPrice,onChange:s=>v("avgDropInPrice",s)}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 flex justify-between",children:[n.jsx("span",{children:"Membership Split"}),n.jsxs("span",{className:"text-zinc-500",children:[i.membershipSplit,"% Members"]})]}),n.jsx("input",{type:"range",min:"0",max:"100",value:i.membershipSplit,onChange:s=>v("membershipSplit",s.target.value),className:"w-full accent-blue-600"})]})]}),n.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800 space-y-4",children:[n.jsxs("h4",{className:"text-xs font-bold text-purple-500 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(V,{size:14})," Growth & Churn"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(O,{label:"New Students / Mo",value:i.growthRate,onChange:s=>v("growthRate",s)}),n.jsx(O,{label:"Churn Rate (%)",value:i.churnRate,onChange:s=>v("churnRate",s)})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-100 dark:border-zinc-700",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("label",{className:"text-sm font-medium text-zinc-900 dark:text-zinc-100",children:"Seasonality"}),n.jsx("div",{className:"text-xs text-zinc-500",children:"Summer slump simulation"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[i.seasonalityEnabled&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full border border-amber-100",children:["-",i.seasonalityResult,"%"]}),n.jsx("button",{onClick:()=>v("seasonalityEnabled",!i.seasonalityEnabled),className:`w-10 h-6 rounded-full transition-colors relative ${i.seasonalityEnabled?"bg-blue-600":"bg-zinc-200 dark:bg-zinc-700"}`,children:n.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-transform ${i.seasonalityEnabled?"left-5":"left-1"}`})})]})]})]}),n.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-800 space-y-4",children:[n.jsxs("h4",{className:"text-xs font-bold text-red-400 uppercase tracking-widest flex items-center gap-2",children:[n.jsx(X,{size:14})," Expenses (Monthly)"]}),n.jsx(O,{label:"Rent & Utilities",value:i.rent,onChange:s=>v("rent",s)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(O,{label:"Pay / Class",value:i.payrollPerClass,onChange:s=>v("payrollPerClass",s)}),n.jsx(O,{label:"Classes / Mo",value:i.classesPerMonth,onChange:s=>v("classesPerMonth",s)})]}),n.jsx(O,{label:"Other Expenses",value:i.otherExpenses,onChange:s=>v("otherExpenses",s)})]})]})]})}),n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg w-fit",children:[n.jsxs("button",{onClick:()=>t("growth"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all flex items-center gap-2 ${e==="growth"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:[n.jsx(Ke,{size:16}),"24-Month Forecast"]}),n.jsxs("button",{onClick:()=>t("static"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all flex items-center gap-2 ${e==="static"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:[n.jsx(V,{size:16}),"Profitability Curve"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"Current Revenue"}),n.jsxs("div",{className:"text-3xl font-black text-zinc-900 dark:text-zinc-100",children:["$",m.totalRevenue.toLocaleString(void 0,{maximumFractionDigits:0}),n.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]}),n.jsxs("div",{className:"text-xs text-zinc-500 mt-2 flex gap-2",children:["Margins: ",n.jsxs("span",{className:m.margin>20?"text-green-600":"text-zinc-600",children:[m.margin.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"12-Month Outlook"}),n.jsxs("div",{className:"text-3xl font-black text-blue-600 flex items-center gap-2",children:["$",f[11].revenue.toLocaleString(void 0,{maximumFractionDigits:0}),f[11].revenue>m.totalRevenue?n.jsx(V,{size:20}):n.jsx(Ve,{size:20})]}),n.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:[f[11].students," Active Students (+",f[11].students-i.studentCount,")"]})]}),n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:"Net Income (12mo)"}),n.jsxs("div",{className:`text-3xl font-black ${f[11].profit>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[f[11].profit>=0?"+":"","$",f[11].profit.toLocaleString(void 0,{maximumFractionDigits:0})]}),n.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:["Projected for ",f[11].month]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[450px]",children:[n.jsx("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:e==="growth"?"24-Month Growth Forecast":"Profitability Analysis"}),n.jsx(Q,{width:"100%",height:"100%",minHeight:300,children:e==="growth"?n.jsxs(Ta,{data:f,margin:{top:10,right:30,left:10,bottom:0},children:[n.jsx(H,{dataKey:"month",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"}}),n.jsx(T,{yAxisId:"left",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},tickFormatter:s=>`$${s/1e3}k`}),n.jsx(T,{yAxisId:"right",orientation:"right",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"}}),n.jsx(U,{vertical:!1,strokeDasharray:"3 3",stroke:"#E4E4E7"}),n.jsx(J,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(s,u)=>[u==="Students"?s:`$${Number(s).toLocaleString()}`,u]}),n.jsx(Ce,{}),n.jsx(G,{yAxisId:"left",type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#3B82F6",strokeWidth:3,dot:!1}),n.jsx(G,{yAxisId:"left",type:"monotone",dataKey:"expenses",name:"Expenses",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),n.jsx(G,{yAxisId:"right",type:"monotone",dataKey:"students",name:"Students",stroke:"#8B5CF6",strokeWidth:2,dot:!1})]}):n.jsxs(ee,{data:x,margin:{top:10,right:30,left:10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),n.jsx(H,{dataKey:"students",tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},label:{value:"Number of Students",position:"insideBottomRight",offset:-10,fontSize:12,fill:"#71717A"}}),n.jsx(T,{tickLine:!1,axisLine:!1,tick:{fontSize:12,fill:"#71717A"},tickFormatter:s=>`$${s/1e3}k`}),n.jsx(U,{vertical:!1,strokeDasharray:"3 3",stroke:"#E4E4E7"}),n.jsx(J,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:s=>[`$${Number(s).toLocaleString()}`,""]}),n.jsx(B,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2}),n.jsx(B,{type:"monotone",dataKey:"expenses",name:"Expenses",stroke:"#EF4444",fill:"none",strokeWidth:2,strokeDasharray:"5 5"}),n.jsx(B,{type:"monotone",dataKey:"profit",name:"Net Profit",stroke:"#10B981",fillOpacity:1,fill:"url(#colorProfit)",strokeWidth:2}),n.jsx(It,{x:i.studentCount,stroke:"#F59E0B",strokeDasharray:"3 3",label:{position:"top",value:"Current",fill:"#F59E0B",fontSize:12}})]})})]})]})]})}function O({label:e,value:t,onChange:a}){return n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:e}),n.jsx("input",{type:"number",value:t,onChange:r=>a(r.target.value),className:"w-full px-3 py-2 bg-zinc-50 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]})}function Wa(e=!1){const[t,a]=o.useState(!1);return o.useEffect(()=>{if(typeof window<"u"){const r=localStorage.getItem("admin_show_financials")==="true";a(!r)}},[]),{isPrivacyMode:t}}const fn=_e(function(){const{tenant:t}=Te(),[a,r]=o.useState("financials"),[l,c]=o.useState(!0),[d,p]=o.useState(null),[i,h]=o.useState(null),[m,x]=o.useState("30d"),[f,v]=o.useState(!1);o.useEffect(()=>{v(!!localStorage.getItem("impersonation_token"))},[]);const{isPrivacyMode:j}=Wa(),y=f&&j;o.useEffect(()=>{z()},[a,m]);const z=async()=>{c(!0);const s=new Date,u=new Date;m==="30d"&&u.setDate(s.getDate()-30),m==="90d"&&u.setDate(s.getDate()-90),m==="1y"&&u.setFullYear(s.getFullYear()-1);const g=await window.Clerk?.session?.getToken();try{if(a==="financials"){const b=await ue(`/reports/revenue?startDate=${u.toISOString()}&endDate=${s.toISOString()}`,g);p(b)}else{const b=await ue(`/reports/attendance?startDate=${u.toISOString()}&endDate=${s.toISOString()}`,g);h(b)}}catch(b){console.error("Failed to fetch report data",b)}finally{c(!1)}};return l&&!d&&!i?n.jsx("div",{className:"p-8 flex justify-center",children:n.jsx(Dt,{className:"animate-spin text-zinc-400"})}):n.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:"Analytics"}),n.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Performance metrics and insights."})]}),n.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 p-1 rounded-lg",children:[n.jsx("button",{onClick:()=>r("financials"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="financials"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:"Financials"}),n.jsx("button",{onClick:()=>r("attendance"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="attendance"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:"Attendance"}),n.jsx("button",{onClick:()=>r("projections"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${a==="projections"?"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-zinc-100":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700"}`,children:"Projections"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a==="financials"&&d&&n.jsxs(n.Fragment,{children:[n.jsx(_,{title:"Gross Volume (Period)",value:n.jsx(Z,{revealed:!y,placeholder:"***",children:`$${(d.grossVolume/100).toFixed(2)}`}),icon:n.jsx(X,{size:20,className:"text-green-500"})}),n.jsx(_,{title:"Monthly Recurring Revenue",value:n.jsx(Z,{revealed:!y,placeholder:"***",children:`$${(d.mrr/100).toFixed(2)}`}),subtext:"Active subscriptions snapshot",icon:n.jsx(V,{size:20,className:"text-blue-500"})}),n.jsx(_,{title:"Sales Breakdown",value:n.jsx(Z,{revealed:!y,placeholder:"***",children:`${(d.breakdown.retail/(d.grossVolume||1)*100).toFixed(0)}% Retail`}),subtext:`$${(d.breakdown.packs/100).toFixed(0)} Packs`,icon:n.jsx(X,{size:20,className:"text-purple-500"})})]}),a==="attendance"&&i&&n.jsxs(n.Fragment,{children:[n.jsx(_,{title:"Total Bookings",value:i.totalBookings,icon:n.jsx(be,{size:20,className:"text-blue-500"})}),n.jsx(_,{title:"Check-in Rate",value:`${(i.totalCheckins/(i.totalBookings||1)*100).toFixed(0)}%`,subtext:`${i.totalCheckins} Checked-in`,icon:n.jsx(Lt,{size:20,className:"text-green-500"})})]})]}),a==="projections"?n.jsx(Ba,{}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative",children:[n.jsx("h3",{className:"text-lg font-semibold mb-6",children:a==="financials"?"Revenue Trends":"Attendance Trends"}),y&&a==="financials"&&n.jsx("div",{className:"absolute inset-0 z-10 backdrop-blur-md bg-white/30 dark:bg-black/30 flex items-center justify-center rounded-xl",children:n.jsx("div",{className:"bg-white dark:bg-zinc-800 px-4 py-2 rounded-lg shadow lg text-sm font-medium",children:"Privacy Mode Enabled"})}),n.jsxs("div",{className:"h-80 w-full flex items-center justify-center text-zinc-400 text-sm",children:[a==="financials"&&d?.chartData?fe(d.chartData)?n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mb-2",children:"No revenue data for this period"}),n.jsx("div",{className:"text-xs text-zinc-500",children:"Record sales in POS to see trends"})]}):n.jsx(Q,{width:"100%",height:"100%",children:n.jsxs(ee,{data:d.chartData,children:[n.jsx(U,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),n.jsx(H,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12},dy:10,tickFormatter:s=>ve(s)}),n.jsx(T,{axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12}}),n.jsx(J,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:s=>[`$${Number(s).toFixed(2)}`,"Revenue"],labelFormatter:s=>new Date(s).toLocaleDateString()}),n.jsx(B,{type:"monotone",dataKey:"value",stroke:"#3B82F6",fill:"#EFF6FF",strokeWidth:2})]})}):null,a==="attendance"&&i?.chartData?fe(i.chartData)?n.jsx("div",{className:"text-center",children:n.jsx("div",{className:"mb-2",children:"No attendance data for this period"})}):n.jsx(Q,{width:"100%",height:"100%",children:n.jsxs(ee,{data:i.chartData,children:[n.jsx(U,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),n.jsx(H,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12},dy:10,tickFormatter:s=>ve(s)}),n.jsx(T,{axisLine:!1,tickLine:!1,tick:{fill:"#71717A",fontSize:12}}),n.jsx(J,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:s=>[s,"Attendees"],labelFormatter:s=>new Date(s).toLocaleDateString()}),n.jsx(B,{type:"monotone",dataKey:"value",stroke:"#10B981",fill:"#ECFDF5",strokeWidth:2})]})}):null]})]}),n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm relative",children:[n.jsx("h3",{className:"text-lg font-semibold mb-6",children:a==="financials"?"Top Selling":"Top Classes"}),y&&a==="financials"&&n.jsx("div",{className:"absolute inset-0 z-10 backdrop-blur-md bg-white/30 dark:bg-black/30 flex items-center justify-center rounded-xl"}),a==="attendance"&&i?.topClasses&&n.jsxs("div",{className:"space-y-4",children:[i.topClasses.map((s,u)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium truncate max-w-[180px]",children:s.title}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-24 h-2 bg-zinc-100 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(s.attendees/50*100,100)}%`}})}),n.jsx("span",{className:"text-xs text-zinc-500 w-6 text-right",children:s.attendees})]})]},u)),i.topClasses.length===0&&n.jsx("div",{className:"text-center text-sm text-zinc-500 py-8",children:"No data available"})]}),a==="financials"&&d?.breakdown&&n.jsxs("div",{className:"space-y-4",children:[Object.entries(d.breakdown).map(([s,u])=>{const g=Number(u);if(g===0)return null;const b=d.grossVolume||1,k=g/b*100;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium capitalize text-zinc-700 dark:text-zinc-300",children:s}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-24 h-2 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${k}%`}})}),n.jsxs("span",{className:"text-xs font-mono text-zinc-500 w-16 text-right",children:["$",(g/100).toFixed(2)]})]})]},s)}),Object.values(d.breakdown).every(s=>s===0)&&n.jsx("div",{className:"text-center text-sm text-zinc-500 py-8",children:"No specific sales data recorded."})]})]})]})]})});function _({title:e,value:t,subtext:a,icon:r}){return n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsx("div",{className:"flex justify-between items-start mb-4",children:n.jsx("div",{className:"p-2 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:r})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 font-medium mb-1",children:e}),n.jsx("div",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:t}),a&&n.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:a})]})]})}function fe(e){return!e||e.length===0?!0:e.every(t=>t.value===0)}function ve(e){const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}`}export{fn as default};
