import{w as x,c as m,g as u,r as d,F as b}from"./chunk-JMJ3UQ3L-Cjm2z498.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{A as l}from"./award-DCq1zmje.js";import{P as p}from"./plus-DEHhyUAe.js";import{T as n}from"./target-DwvSmQ-X.js";import{G as c}from"./gift-BiBfjBQ_.js";import{C as z}from"./calendar-Dw0bVI2s.js";import{T as h}from"./trash-2-CLVdSG4D.js";import"./createLucideIcon-DkPcMMCg.js";const T=x(function(){const{challenges:i,error:a}=m(),s=u(),[o,r]=d.useState(!1);return d.useEffect(()=>{s&&s.success&&r(!1)},[s]),e.jsxs("div",{className:"p-8 max-w-6xl mx-auto animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(l,{className:"text-yellow-500"}),"Loyalty Challenges"]}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"Gamify attendance with challenges and rewards."})]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 rounded-lg hover:opacity-90 transition-opacity font-medium shadow-sm",children:[e.jsx(p,{size:16}),"Create Challenge"]})]}),a&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 border border-red-100",children:a}),s&&s.error&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 border border-red-100",children:s.error}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(t=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg text-yellow-600 dark:text-yellow-400",children:e.jsx(n,{size:24})}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${t.active?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-zinc-100 text-zinc-500"}`,children:t.active?"Active":"Inactive"})]}),e.jsx("h3",{className:"text-lg font-bold text-zinc-900 dark:text-zinc-100 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mb-4 line-clamp-2 min-h-[40px]",children:t.description}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-zinc-100 dark:border-zinc-800 text-sm text-zinc-600 dark:text-zinc-300",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:14,className:"text-zinc-400"}),e.jsxs("span",{children:["Goal: ",e.jsx("strong",{children:t.targetValue})," ",t.type==="count"?"Classes":t.type==="minutes"?"Minutes":"Streak Days"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{size:14,className:"text-zinc-400"}),e.jsxs("span",{className:"capitalize",children:["Reward: ",e.jsx("strong",{children:t.rewardType.replace("_"," ")})]})]}),t.endDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{size:14,className:"text-zinc-400"}),e.jsxs("span",{children:["Ends: ",new Date(t.endDate).toLocaleDateString()]})]})]})]},t.id)),i.length===0&&e.jsxs("div",{className:"col-span-full py-16 text-center border-2 border-dashed border-zinc-200 dark:border-zinc-800 rounded-xl bg-zinc-50/50 dark:bg-zinc-900/20",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 text-zinc-400",children:e.jsx(l,{size:32})}),e.jsx("h3",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-100",children:"No active challenges"}),e.jsx("p",{className:"text-zinc-500 max-w-sm mx-auto mt-2 text-sm",children:"Create your first challenge to start engaging students and building loyalty."})]})]}),o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-100 dark:border-zinc-800 flex justify-between items-center bg-zinc-50 dark:bg-zinc-900/50",children:[e.jsx("h2",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"New Challenge"}),e.jsx("button",{onClick:()=>r(!1),className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 transition-colors",children:e.jsx(h,{size:20,className:"rotate-45"})})]}),e.jsxs(b,{method:"post",className:"p-6 space-y-4",children:[e.jsx("input",{type:"hidden",name:"intent",value:"create"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"Title"}),e.jsx("input",{name:"title",required:!0,className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"e.g. Summer Warrior"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none",placeholder:"Attend 10 classes in June..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"Goal Type"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"type",className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 appearance-none focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",children:[e.jsx("option",{value:"count",children:"Total Classes"}),e.jsx("option",{value:"minutes",children:"Total Minutes"}),e.jsx("option",{value:"streak",children:"Streak (Days)"})]}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-zinc-500",children:e.jsx(n,{size:14})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"Target Value"}),e.jsx("input",{name:"targetValue",type:"number",required:!0,defaultValue:"10",min:"1",className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"Reward Type"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"rewardType",className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 appearance-none focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",children:[e.jsx("option",{value:"badge",children:"Digital Badge"}),e.jsx("option",{value:"coupon",children:"Discount Coupon"}),e.jsx("option",{value:"retail_credit",children:"Retail Credit"})]}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-zinc-500",children:e.jsx(c,{size:14})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1.5 text-zinc-700 dark:text-zinc-300",children:"End Date"}),e.jsx("input",{name:"endDate",type:"date",className:"w-full px-3 py-2 border border-zinc-200 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"})]})]}),e.jsxs("div",{className:"pt-6 flex justify-end gap-3 border-t border-zinc-100 dark:border-zinc-800 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg transition-colors font-medium text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm shadow-sm shadow-blue-200 dark:shadow-none",children:"Create Challenge"})]})]})]})})]})});export{T as default};
