import{w as c,h as o,d,i as x,j as m,L as h}from"./chunk-JMJ3UQ3L-CD8Ifjmd.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{M as p}from"./mail-LYFDCYXF.js";import{M as u}from"./message-square-B2rvOhvo.js";import{Z as j}from"./zap-DTVkEBm_.js";import{T as b}from"./triangle-alert-DfPD4EV0.js";import"./createLucideIcon-B1hucShu.js";const E=c(function(){const{data:s}=d(),{totals:i,tenants:n}=s;return e.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-zinc-900 mb-2",children:"Communications"}),e.jsx("p",{className:"text-zinc-500",children:"System-wide Email & SMS usage and automation tracking."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-zinc-200 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-full",children:e.jsx(p,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-zinc-500",children:"Total Emails"}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900",children:i.email.toLocaleString()})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-zinc-200 shadow-sm flex items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-full",children:e.jsx(u,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-zinc-500",children:"Total SMS"}),e.jsx("div",{className:"text-3xl font-bold text-zinc-900",children:i.sms.toLocaleString()})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-zinc-200 bg-zinc-50",children:e.jsx("h3",{className:"font-semibold text-zinc-900",children:"Tenant Usage & Automations"})}),e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Tenant"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"Emails"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase text-right",children:"SMS"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase",children:"Active Automations"})]})}),e.jsxs("tbody",{className:"divide-y divide-zinc-100",children:[n.map(t=>e.jsxs("tr",{className:"hover:bg-zinc-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-zinc-900",children:t.name}),e.jsx("div",{className:"text-xs text-zinc-500 font-mono",children:t.slug})]}),e.jsx("td",{className:"px-6 py-4 text-right font-mono text-zinc-700",children:t.emailCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-right font-mono text-zinc-700",children:t.smsCount.toLocaleString()}),e.jsx("td",{className:"px-6 py-4",children:t.automations.length===0?e.jsx("span",{className:"text-xs text-zinc-400 italic",children:"None active"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.automations.map((r,l)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-zinc-100 text-zinc-700 text-xs border border-zinc-200",children:[e.jsx(j,{size:10,className:"mr-1 text-amber-500"}),N(r.type)]},l))})})]},t.id)),n.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-zinc-500",children:"No data available"})})]})]})]})]})});function N(a){return a.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())}const T=o(function(){const s=x();return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-red-600 p-4",children:[e.jsx(b,{size:48,className:"mb-4"}),e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Failed to load Communications Dashboard"}),e.jsx("p",{className:"text-sm text-zinc-600 mb-4",children:m(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:"Unknown Error"}),e.jsx(h,{to:"/admin",className:"text-blue-600 hover:underline",children:"Return to Admin Dashboard"})]})});export{T as ErrorBoundary,E as default};
