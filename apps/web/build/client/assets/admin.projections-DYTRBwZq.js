import{p as _e,a as s,j as e,bf as Ge,aG as Be,am as Oe,be as $e}from"./vendor-react-D59Q0YKK.js";import{R as K,A as J,C as ee,X as te,Y as se,T as D,a as U,b as Fe,P as Ie,d as Ve,e as We}from"./vendor-charts-Dp-zC2wb.js";import"./vendor-puck-RN2Ey-av.js";const Ye=_e(function(){const[a,l]=s.useState(50),[c,z]=s.useState(5),[h,A]=s.useState(29),[d,ae]=s.useState(79),[k,ne]=s.useState(149),[f,re]=s.useState(60),[g,oe]=s.useState(30),[p,ie]=s.useState(5e3),[T,le]=s.useState(1),[P,ce]=s.useState(60),[_,de]=s.useState(40),[G,xe]=s.useState(30),[B,me]=s.useState(5e5),[O,ue]=s.useState(10),[v,he]=s.useState(100),[$,pe]=s.useState(3),[F,je]=s.useState(2500),[I,be]=s.useState(200),[S,fe]=s.useState(!0),[j,ge]=s.useState(!0),[N,ve]=s.useState(!0),[b,Se]=s.useState(!0),[x,Ne]=s.useState(!1),m={WORKERS_REQ_PRICE:.3/1e6,WORKERS_BASE:5,R2_STORAGE_GB:.015,STREAM_STORAGE_MIN:.005,STREAM_DELIVERY_MIN:.001,EMAIL_COST:6e-4,SMS_COST:.0079},L=Math.max(0,100-f-g),V=(h*f+d*g+k*L)/100,y=s.useMemo(()=>{const t=[];let r=a;const we=x?20:c;for(let W=0;W<12;W++){const Ce=r*V,Re=r*p*(T/100),C=Ce+Re,Y=N?Math.max(m.WORKERS_BASE,r*B*m.WORKERS_REQ_PRICE):0,q=S?r*O*m.R2_STORAGE_GB:0,H=j?r*(v*m.STREAM_STORAGE_MIN+v*$*m.STREAM_DELIVERY_MIN):0,Q=b?r*(F*m.EMAIL_COST+I*m.SMS_COST):0,X=Y+q+H+Q,Z=C-X,Me=C>0?Z/C*100:0,Ee=p,ze=p*.029,Ae=V,ke=P*((100-_)/100)*G,Te=ze+Ae+ke,Pe=Ee-Te;t.push({name:`Month ${W+1}`,tenants:Math.round(r),revenue:C,infraCost:X,profit:Z,workerCost:Y,r2Cost:q,streamCost:H,commsCost:Q,margin:Me,tenantNet:Pe}),r=r*(1+we/100)}return t},[a,p,T,c,h,d,k,f,g,O,v,$,B,F,I,S,j,N,b,x,P,_,G]),o=y[11],ye=o.revenue*12;y.find(t=>t.profit>0)?.name;const w=[{name:"Workers",value:o.workerCost,color:"#F59E0B"},{name:"R2 Storage",value:o.r2Cost,color:"#3B82F6"},{name:"Stream",value:o.streamCost,color:"#EF4444"},{name:"Comms",value:o.commsCost,color:"#10B981"}].filter(t=>t.value>0),u=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t);return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 tracking-tight flex items-center gap-2",children:[e.jsx(Ge,{className:"text-indigo-600"}),"Platform Projections"]}),e.jsx("p",{className:"text-zinc-500 mt-1",children:"SaaS margins and Unit Economics simulator."})]}),e.jsxs("button",{onClick:()=>Ne(!x),className:`px-4 py-2 rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2
                        ${x?"bg-purple-600 text-white shadow-purple-500/50 scale-105 animate-pulse":"bg-white text-zinc-700 border border-zinc-200 hover:bg-zinc-50"}`,children:[e.jsx(Be,{size:16,className:x?"fill-current":""}),x?"VIRAL MODE ACTIVE":"Activate Viral Mode"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{label:"Proj. Annual Revenue (ARR)",value:u(ye),sub:`End of Year 1 (${Math.round(o.tenants)} Tenants)`,color:"text-emerald-600"}),e.jsx(R,{label:"Monthly Profit (Month 12)",value:u(o.profit),sub:`${o.margin.toFixed(1)}% Margin`,color:o.profit>0?"text-indigo-600":"text-red-600"}),e.jsx(R,{label:"Avg Revenue Per Tenant",value:u(V),sub:"Weighted Avg (Mix)",color:"text-zinc-900"}),e.jsx(R,{label:"Avg Tenant Net (Monthly)",value:u(o.tenantNet),sub:"After Fees & Expenses",color:"text-amber-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{title:"Growth & Revenue",children:[e.jsx(n,{label:"Starting Tenants",val:a,set:l,min:0,max:1e3,step:10}),e.jsx(n,{label:"Growth Rate (%)",val:c,set:z,min:0,max:100,disabled:x}),e.jsx(n,{label:"Avg Monthly GMV ($)",val:p,set:ie,min:0,max:5e4,step:500}),e.jsx(n,{label:"Platform Fee (%)",val:T,set:le,min:0,max:10,step:.1})]}),e.jsxs(M,{title:"Pricing Strategy",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-xs font-medium text-zinc-500",children:[e.jsx("div",{children:"Basic"}),e.jsx("div",{children:"Growth"}),e.jsx("div",{children:"Scale"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[e.jsx("input",{type:"number",value:h,onChange:t=>A(Number(t.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"}),e.jsx("input",{type:"number",value:d,onChange:t=>ae(Number(t.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"}),e.jsx("input",{type:"number",value:k,onChange:t=>ne(Number(t.target.value)),className:"w-full text-center border rounded py-1","data-lpignore":"true"})]}),e.jsx("label",{className:"text-xs font-bold text-zinc-900 uppercase",children:"Tier Mix"}),e.jsx(n,{label:"Basic %",val:f,set:re,min:0,max:100}),e.jsx(n,{label:"Growth %",val:g,set:oe,min:0,max:100}),e.jsxs("div",{className:"flex justify-between items-center text-sm py-2 px-3 bg-zinc-50 rounded border border-zinc-100 mt-2",children:[e.jsx("span",{className:"text-zinc-500",children:"Scale % (Remainder)"}),e.jsxs("span",{className:"font-mono font-bold",children:[L,"%"]})]})]}),e.jsxs(M,{title:"Tenant Economics",children:[e.jsx(n,{label:"Classes / Month",val:P,set:ce,min:0,max:300}),e.jsx(n,{label:"Instructor Hourly ($)",val:G,set:xe,min:15,max:100}),e.jsx(n,{label:"Owner Taught %",val:_,set:de,min:0,max:100})]}),e.jsxs(M,{title:"Infrastructure Costs",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[e.jsx(E,{label:"Workers",checked:N,set:ve}),e.jsx(E,{label:"R2 Storage",checked:S,set:fe}),e.jsx(E,{label:"Stream VOD",checked:j,set:ge}),e.jsx(E,{label:"Email/SMS",checked:b,set:Se})]}),e.jsx(n,{label:"Requests (M)",val:B/1e6,set:t=>me(t*1e6),step:.1,min:0,max:50,disabled:!N}),e.jsx(n,{label:"Storage (GB)",val:O,set:ue,min:0,max:1e3,disabled:!S}),e.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide mb-2",children:"Streaming"}),e.jsx(n,{label:"Mins Stored",val:v,set:he,min:0,max:5e3,disabled:!j}),e.jsx(n,{label:"Viewers/Min",val:$,set:pe,min:1,max:50,disabled:!j})]}),e.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-900 uppercase tracking-wide mb-2",children:"Communications"}),e.jsx(n,{label:"Emails / Mo",val:F,set:je,min:0,max:5e4,step:100,disabled:!b}),e.jsx(n,{label:"SMS / Mo",val:I,set:be,min:0,max:5e3,step:50,disabled:!b})]})]}),e.jsxs("div",{className:"bg-blue-50 text-blue-800 p-4 rounded-xl text-sm opacity-80",children:[e.jsxs("p",{className:"flex items-center gap-2 font-bold mb-1",children:[e.jsx(Oe,{size:14})," Unit Costs:"]}),e.jsxs("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs list-disc list-inside",children:[e.jsx("li",{children:"Request: $0.30 / M"}),e.jsx("li",{children:"R2: $0.015 / GB"}),e.jsx("li",{children:"Stream Store: $0.005"}),e.jsx("li",{children:"Stream View: $0.001"}),e.jsx("li",{children:"Email: $0.60 / k"}),e.jsx("li",{children:"SMS: $0.0079 / msg"})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[400px]",children:[e.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Projected Profit vs. Cost"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(J,{data:y,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),e.jsx(ee,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),e.jsx(te,{dataKey:"name",fontSize:12,stroke:"#71717A"}),e.jsx(se,{fontSize:12,stroke:"#71717A",tickFormatter:t=>`$${t/1e3}k`}),e.jsx(D,{formatter:t=>u(Number(t)||0),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(U,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e.jsx(U,{type:"monotone",dataKey:"infraCost",stroke:"#EF4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorCost)",name:"Infra Cost"}),e.jsx(Fe,{y:0,stroke:"#000"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[300px] flex flex-col",children:[e.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Infra Cost Breakdown"}),w.length>0?e.jsxs("div",{className:"flex-1 flex text-xs",children:[e.jsx(K,{width:"60%",children:e.jsxs(Ie,{children:[e.jsx(Ve,{data:w,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:w.map((t,r)=>e.jsx(We,{fill:t.color},`cell-${r}`))}),e.jsx(D,{formatter:t=>u(Number(t)||0)})]})}),e.jsx("div",{className:"flex flex-col justify-center space-y-2",children:w.map(t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{children:t.name})]},t.name))})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-400",children:"No Costs Selected"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm h-[300px]",children:[e.jsx("h3",{className:"font-bold text-zinc-900 mb-4",children:"Avg Tenant Profit History"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(J,{data:y,children:[e.jsx(ee,{strokeDasharray:"3 3",vertical:!1}),e.jsx(te,{dataKey:"name",hide:!0}),e.jsx(se,{hide:!0}),e.jsx(D,{formatter:t=>u(Number(t)||0)}),e.jsx(U,{type:"monotone",dataKey:"tenantNet",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:3})]})}),e.jsx("p",{className:"text-xs text-zinc-400 text-center mt-2",children:"* Simulates single studio profit after fees & payroll"})]})]})]})]})]})});function R({label:i,value:a,sub:l,color:c}){return e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-zinc-500 mb-1",children:i}),e.jsx("div",{className:`text-3xl font-bold tracking-tight ${c}`,children:a}),e.jsx("div",{className:"text-xs text-zinc-400 mt-2",children:l})]})}function M({title:i,children:a}){return e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-zinc-200 shadow-sm",children:[e.jsxs("h3",{className:"font-bold text-zinc-900 mb-6 flex items-center gap-2",children:[e.jsx($e,{size:18,className:"text-zinc-400"}),i]}),e.jsx("div",{className:"space-y-4",children:a})]})}function n({label:i,val:a,set:l,step:c=1,min:z=0,max:h=100,disabled:A}){return e.jsxs("div",{className:`space-y-2 ${A?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-zinc-700",children:i}),e.jsx("input",{type:"number",step:c,value:a,onChange:d=>l(parseFloat(d.target.value)||0),className:"w-24 text-right px-2 py-1 border border-zinc-300 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-mono","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",autoComplete:"off",name:`field_stat_${Math.floor(Math.random()*1e4)}`,id:`field_stat_${Math.floor(Math.random()*1e4)}`})]}),e.jsx("input",{type:"range",min:z,max:h,step:c,value:a,onChange:d=>l(parseFloat(d.target.value)||0),className:"w-full accent-indigo-600 h-1.5 bg-zinc-200 rounded-lg appearance-none cursor-pointer"})]})}function E({label:i,checked:a,set:l}){return e.jsxs("button",{onClick:()=>l(!a),className:`flex items-center justify-between p-2 rounded-lg border transition-all w-full text-xs ${a?"bg-indigo-50 border-indigo-200 text-indigo-900":"bg-white border-zinc-200 text-zinc-500"}`,children:[e.jsx("span",{className:"font-medium",children:i}),e.jsx("div",{className:`w-6 h-3 rounded-full relative transition-colors ${a?"bg-indigo-500":"bg-zinc-300"}`,children:e.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-transform ${a?"left-3.5":"left-0.5"}`})})]})}export{Ye as default};
