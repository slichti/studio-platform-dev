import{w as x,e as m,r as b}from"./chunk-EPOLDU6W-mFdHVWdG.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{A as u}from"./api-LAgipKeK.js";import{D as p}from"./download-B14abjIH.js";import{C as h}from"./chart-column-Bc-i-6PE.js";import{C as f}from"./credit-card-BrEDGTo6.js";import{S as g}from"./shopping-bag-DXgZnfRt.js";import"./createLucideIcon-DI_cxpme.js";const S=x(function(){const{tenant:a}=m(),[r,i]=b.useState(null),s=async n=>{i(n);try{const o=await window.Clerk?.session?.getToken(),l=await fetch(`${u}/tenant/settings/export?type=${n}`,{headers:{Authorization:`Bearer ${o}`,"X-Tenant-Slug":a.slug}});if(!l.ok)throw new Error("Export failed");const c=await l.blob(),d=window.URL.createObjectURL(c),t=document.createElement("a");t.href=d,t.download=`export_${n}_${a.slug}.csv`,document.body.appendChild(t),t.click(),t.remove()}catch{alert("Export failed. Please try again.")}finally{i(null)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 flex items-center gap-2",children:[e.jsx(p,{size:20,className:"text-blue-500"}),"Export Data"]}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:"Download your studio data in CSV format for analysis or backup."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>s("subscribers"),disabled:!!r,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-blue-200 dark:hover:border-blue-800 transition-all text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(h,{size:24})}),e.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Subscribers"}),e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:r==="subscribers"?"Generating CSV...":"Active members & history"})]}),e.jsxs("button",{onClick:()=>s("financials"),disabled:!!r,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-emerald-200 dark:hover:border-emerald-800 transition-all text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(f,{size:24})}),e.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Financials"}),e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:r==="financials"?"Generating CSV...":"Invoices & Transactions"})]}),e.jsxs("button",{onClick:()=>s("products"),disabled:!!r,className:"group flex flex-col items-center justify-center p-6 border border-zinc-200 dark:border-zinc-700 rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800/50 hover:border-purple-200 dark:hover:border-purple-800 transition-all text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:e.jsx(g,{size:24})}),e.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:"Products"}),e.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-2",children:r==="products"?"Generating CSV...":"Memberships & Items"})]})]})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900/50 rounded-lg p-4 text-xs text-zinc-500 dark:text-zinc-400",children:[e.jsx("strong",{children:"Note:"})," Exports include sensitive data. Please handle these files securely."]})]})});export{S as default};
