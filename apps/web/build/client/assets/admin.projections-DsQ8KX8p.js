import{w as jt}from"./chunk-EPOLDU6W-BNyyBaiR.js";import{j as n}from"./vendor-puck-aUaaDwmz.js";import{a as i}from"./vendor-livekit-D3VpklN2.js";import{T as Pt}from"./trending-up---Y4qxta.js";import{Z as At}from"./zap-CjqpxUSp.js";import{I as St}from"./info-C37kSVMz.js";import{q as A,t as J,v as kt,w as Et,x as G,y as Ot,z as wt,A as Ue,B as Nt,C as Ct,D as K,E as Rt,F as zt,G as It,H as Mt,I as qe,J as Tt,K as Dt,L as _t,M as Lt,N as Kt,O as $t,P as Ze,Q as Gt,r as je,R as Ye,T as Bt,U as Ft,V as He,W as Qe,e as Q,X as Vt,c as Pe,Y as q,Z as Xe,_ as Wt,$ as Ut,a0 as qt,a1 as Zt,a2 as Ie,l as Me,a3 as le,a4 as he,a5 as Yt,a6 as Ht,a7 as Qt,a8 as Xt,a9 as Jt,aa as ea,b as ta,ab as aa,ac as ra,ad as na,ae as X,af as Te,ag as sa,ah as ia,u as oa,ai as la,aj as ca,ak as da,al as ua,am as ma,an as pa,ao as fa,ap as xe,aq as De,ar as _e,as as Le,at as ge}from"./CartesianChart-BT5Lt7fl.js";import{A as Ke,a as be,R as va}from"./AreaChart-BwH-uzUr.js";import{C as Ae,u as xa,a as ga,b as ba}from"./tooltipContext-Dwmp2MMm.js";import{A as ha}from"./activity-B34Sbu5n.js";import"./createLucideIcon-CcD9UNCP.js";import"./string-0bvjYUJm.js";import"./with-selector-BB0my2KF.js";import"./with-selector-BEill6Gq.js";import"./index-7UaQKl4K.js";import"./band-CquvqAHh.js";import"./init-Dmth1JHB.js";import"./ordinal-DILIJJjt.js";import"./linear-B73P1QuO.js";import"./defaultLocale-C4B-KCzX.js";import"./time-BOCF2igb.js";var Je=e=>e.graphicalItems.polarItems,ya=A([J,kt],Et),ce=A([Je,G,ya],Ot),ja=A([ce],wt),de=A([ja,Ue],Nt),Pa=A([de,G,ce],Ct);A([de,G,ce],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var o,c=K(r,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:K(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var $e=()=>{},Aa=A([de,G,ce,Rt,J],zt),Sa=A([G,It,Mt,$e,Aa,$e,qe,J],Tt),et=A([G,qe,de,Pa,Dt,J,Sa],_t),ka=A([et,G,Lt],Kt);A([G,et,ka,J],$t);function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(a),!0).forEach(function(r){Ea(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ea(e,t,a){return(t=Oa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oa(e){var t=wa(e,"string");return typeof t=="symbol"?t:t+""}function wa(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=(e,t)=>t,Se=A([Je,Na],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Ca=[],ke=(e,t,a)=>a?.length===0?Ca:a,tt=A([Ue,Se,ke],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(o=>Be(Be({},t.presentationProps),o.props))),s!=null)return s}}),Ra=A([tt,Se,ke],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var o,c=K(r,t.nameKey,t.name),l;return a!=null&&(o=a[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?l=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:Ze(c,t.dataKey),color:l,payload:r,type:t.legendType}})}),za=A([tt,Se,ke,Gt],(e,t,a,r)=>{if(!(t==null||e==null))return Ja({offset:r,pieSettings:t,displayedData:e,cells:a})}),Ia=["key"],Ma=["onMouseEnter","onClick","onMouseLeave"],Ta=["id"],Da=["id"];function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(a),!0).forEach(function(r){_a(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function _a(e,t,a){return(t=La(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function La(e){var t=Ka(e,"string");return typeof t=="symbol"?t:t+""}function Ka(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$.apply(null,arguments)}function ue(e,t){if(e==null)return{};var a,r,s=$a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function $a(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Ga(e){var t=i.useMemo(()=>Qe(e.children,Ae),[e.children]),a=Q(r=>Ra(r,e.id,t));return a==null?null:i.createElement(Vt,{legendPayload:a})}var Ba=i.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:o,fill:c,name:l,hide:x,tooltipType:p,id:j}=e,v={dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:c,dataKey:t,nameKey:a,name:Ze(l,t),hide:x,type:p,color:c,unit:"",graphicalItemId:j}};return i.createElement(Wt,{tooltipEntrySettings:v})}),Fa=(e,t)=>e>t?"start":e<t?"end":"middle",Va=(e,t,a)=>typeof t=="function"?X(t(e),a,a*.8):X(t,a,a*.8),Wa=(e,t,a)=>{var{top:r,left:s,width:o,height:c}=t,l=na(o,c),x=s+X(e.cx,o,o/2),p=r+X(e.cy,c,c/2),j=X(e.innerRadius,l,0),v=Va(a,e.outerRadius,l),d=e.maxRadius||Math.sqrt(o*o+c*c)/2;return{cx:x,cy:p,innerRadius:j,outerRadius:v,maxRadius:d}},Ua=(e,t)=>{var a=le(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function qa(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Za=(e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Pe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,s=ue(t,Ia);return i.createElement(sa,$({},s,{type:"linear",className:a}))},Ya=(e,t,a)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),i.isValidElement(r)))return r;var s=Pe("recharts-pie-label-text",qa(e));return i.createElement(ia,$({},t,{alignmentBaseline:"middle",className:s}),r)};function Ha(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:o,dataKey:c}=a;if(!r||!s||!t)return null;var l=Ye(a),x=Te(s),p=Te(o),j=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,v=t.map((d,h)=>{var O=(d.startAngle+d.endAngle)/2,y=he(d.cx,d.cy,d.outerRadius+j,O),w=f(f(f(f({},l),d),{},{stroke:"none"},x),{},{index:h,textAnchor:Fa(y.x,d.cx)},y),m=f(f(f(f({},l),d),{},{fill:"none",stroke:d.fill},p),{},{index:h,points:[he(d.cx,d.cy,d.outerRadius,O),y],key:"line"});return i.createElement(Xe,{zIndex:He.label,key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(h)},i.createElement(q,null,o&&Za(o,m),Ya(s,w,K(d,c))))});return i.createElement(q,{className:"recharts-pie-labels"},v)}function Qa(e){var{sectors:t,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?i.createElement(ra,{label:s}):i.createElement(Ha,{sectors:t,props:a,showLabels:r})}function Xa(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:o,id:c}=e,l=Q(Ht),x=Q(Qt),p=Q(Xt),{onMouseEnter:j,onClick:v,onMouseLeave:d}=s,h=ue(s,Ma),O=xa(j,s.dataKey,c),y=ga(d),w=ba(v,s.dataKey,c);return t==null||t.length===0?null:i.createElement(i.Fragment,null,t.map((m,S)=>{if(m?.startAngle===0&&m?.endAngle===0&&t.length!==1)return null;var R=p==null||p===c,N=String(S)===l&&(x==null||s.dataKey===x)&&R,E=l?r:null,g=a&&N?a:E,b=f(f({},m),{},{stroke:m.stroke,tabIndex:-1,[ea]:S,[Jt]:c});return i.createElement(q,$({key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},ta(h,m,S),{onMouseEnter:O(m,S),onMouseLeave:y(m,S),onClick:w(m,S)}),i.createElement(aa,$({option:o??g,index:S,shapeType:"sector",isActive:N},b)))}))}function Ja(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:o}=e,{cornerRadius:c,startAngle:l,endAngle:x,dataKey:p,nameKey:j,tooltipType:v}=a,d=Math.abs(a.minAngle),h=Ua(l,x),O=Math.abs(h),y=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,w=r.filter(g=>K(g,p,0)!==0).length,m=(O>=360?w:w-1)*y,S=O-w*d-m,R=r.reduce((g,b)=>{var k=K(b,p,0);return g+(Me(k)?k:0)},0),N;if(R>0){var E;N=r.map((g,b)=>{var k=K(g,p,0),I=K(g,j,b),C=Wa(a,o,g),_=(Me(k)?k:0)/R,M,T=f(f({},g),s&&s[b]&&s[b].props);b?M=E.endAngle+le(h)*y*(k!==0?1:0):M=l;var U=M+le(h)*((k!==0?d:0)+_*S),L=(M+U)/2,B=(C.innerRadius+C.outerRadius)/2,Z=[{name:I,value:k,payload:T,dataKey:p,type:v,graphicalItemId:a.id}],me=he(C.cx,C.cy,B,L);return E=f(f(f(f({},a.presentationProps),{},{percent:_,cornerRadius:typeof c=="string"?parseFloat(c):c,name:I,tooltipPayload:Z,midAngle:L,middleRadius:B,tooltipPosition:me},T),C),{},{value:k,dataKey:p,startAngle:M,endAngle:U,payload:T,paddingAngle:le(h)*y}),E})}return N}function er(e){var{showLabels:t,sectors:a,children:r}=e,s=i.useMemo(()=>!t||!a?[]:a.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[a,t]);return i.createElement(Yt,{value:t?s:void 0},r)}function tr(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:o,animationBegin:c,animationDuration:l,animationEasing:x,activeShape:p,inactiveShape:j,onAnimationStart:v,onAnimationEnd:d}=t,h=Ut(t,"recharts-pie-"),O=a.current,[y,w]=i.useState(!1),m=i.useCallback(()=>{typeof d=="function"&&d(),w(!1)},[d]),S=i.useCallback(()=>{typeof v=="function"&&v(),w(!0)},[v]);return i.createElement(er,{showLabels:!y,sectors:s},i.createElement(qt,{animationId:h,begin:c,duration:l,isActive:o,easing:x,onAnimationStart:S,onAnimationEnd:m,key:h},R=>{var N=[],E=s&&s[0],g=E?.startAngle;return s?.forEach((b,k)=>{var I=O&&O[k],C=k>0?Zt(b,"paddingAngle",0):0;if(I){var _=Ie(I.endAngle-I.startAngle,b.endAngle-b.startAngle,R),M=f(f({},b),{},{startAngle:g+C,endAngle:g+_+C});N.push(M),g=M.endAngle}else{var{endAngle:T,startAngle:U}=b,L=Ie(0,T-U,R),B=f(f({},b),{},{startAngle:g+C,endAngle:g+L+C});N.push(B),g=B.endAngle}}),a.current=N,i.createElement(q,null,i.createElement(Xa,{sectors:N,activeShape:p,inactiveShape:j,allOtherPieProps:t,shape:t.shape,id:r}))}),i.createElement(Qa,{showLabels:!y,sectors:s,props:t}),t.children)}var ar={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:He.area};function rr(e){var{id:t}=e,a=ue(e,Ta),{hide:r,className:s,rootTabIndex:o}=e,c=i.useMemo(()=>Qe(e.children,Ae),[e.children]),l=Q(j=>za(j,t,c)),x=i.useRef(null),p=Pe("recharts-pie",s);return r||l==null?(x.current=null,i.createElement(q,{tabIndex:o,className:p})):i.createElement(Xe,{zIndex:e.zIndex},i.createElement(Ba,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),i.createElement(q,{tabIndex:o,className:p},i.createElement(tr,{props:f(f({},a),{},{sectors:l}),previousSectorsRef:x,id:t})))}function at(e){var t=je(e,ar),{id:a}=t,r=ue(t,Da),s=Ye(r);return i.createElement(Bt,{id:a,type:"pie"},o=>i.createElement(i.Fragment,null,i.createElement(Ft,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),i.createElement(Ga,$({},r,{id:o})),i.createElement(rr,$({},r,{id:o}))))}at.displayName="Pie";function nr(e){var t=oa();return i.useEffect(()=>{t(la(e))},[t,e]),null}var sr=["layout"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ye.apply(null,arguments)}function ir(e,t){if(e==null)return{};var a,r,s=or(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function or(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var lr={top:5,right:5,bottom:5,left:5},rt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lr,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cr=i.forwardRef(function(t,a){var r,s=je(t.categoricalChartProps,rt),{layout:o}=s,c=ir(s,sr),{chartName:l,defaultTooltipEventType:x,validateTooltipEventTypes:p,tooltipPayloadSearcher:j}=t,v={chartName:l,defaultTooltipEventType:x,validateTooltipEventTypes:p,tooltipPayloadSearcher:j,eventEmitter:void 0};return i.createElement(ca,{preloadedState:{options:v},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:l},i.createElement(da,{chartData:s.data}),i.createElement(ua,{layout:o,margin:s.margin}),i.createElement(ma,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),i.createElement(nr,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),i.createElement(pa,ye({},c,{ref:a})))});function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ve(Object(a),!0).forEach(function(r){dr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dr(e,t,a){return(t=ur(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ur(e){var t=mr(e,"string");return typeof t=="symbol"?t:t+""}function mr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pr=["item"],fr=We(We({},rt),{},{layout:"centric",startAngle:0,endAngle:360}),vr=i.forwardRef((e,t)=>{var a=je(e,fr);return i.createElement(cr,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pr,tooltipPayloadSearcher:fa,categoricalChartProps:a,ref:t})});const Lr=jt(function(){const[t,a]=i.useState(50),[r,s]=i.useState(5),[o,c]=i.useState(29),[l,x]=i.useState(79),[p,j]=i.useState(149),[v,d]=i.useState(60),[h,O]=i.useState(30),[y,w]=i.useState(5e3),[m,S]=i.useState(1),[R,N]=i.useState(60),[E,g]=i.useState(40),[b,k]=i.useState(30),[I,C]=i.useState(5e5),[_,M]=i.useState(10),[T,U]=i.useState(100),[L,B]=i.useState(3),[Z,me]=i.useState(2500),[pe,nt]=i.useState(200),[ee,st]=i.useState(!0),[Y,it]=i.useState(!0),[te,ot]=i.useState(!0),[H,lt]=i.useState(!0),[F,ct]=i.useState(!1),V={WORKERS_REQ_PRICE:.3/1e6,WORKERS_BASE:5,R2_STORAGE_GB:.015,STREAM_STORAGE_MIN:.005,STREAM_DELIVERY_MIN:.001,EMAIL_COST:6e-4,SMS_COST:.0079},Ee=Math.max(0,100-v-h),fe=(o*v+l*h+p*Ee)/100,ae=i.useMemo(()=>{const u=[];let z=t;const ut=F?20:r;for(let ve=0;ve<12;ve++){const mt=z*fe,pt=z*y*(m/100),ne=mt+pt,Oe=te?Math.max(V.WORKERS_BASE,z*I*V.WORKERS_REQ_PRICE):0,we=ee?z*_*V.R2_STORAGE_GB:0,Ne=Y?z*(T*V.STREAM_STORAGE_MIN+T*L*V.STREAM_DELIVERY_MIN):0,Ce=H?z*(Z*V.EMAIL_COST+pe*V.SMS_COST):0,Re=Oe+we+Ne+Ce,ze=ne-Re,ft=ne>0?ze/ne*100:0,vt=y,xt=y*.029,gt=fe,bt=R*((100-E)/100)*b,ht=xt+gt+bt,yt=vt-ht;u.push({name:`Month ${ve+1}`,tenants:Math.round(z),revenue:ne,infraCost:Re,profit:ze,workerCost:Oe,r2Cost:we,streamCost:Ne,commsCost:Ce,margin:ft,tenantNet:yt}),z=z*(1+ut/100)}return u},[t,y,m,r,o,l,p,v,h,_,T,L,I,Z,pe,ee,Y,te,H,F,R,E,b]),D=ae[11],dt=D.revenue*12;ae.find(u=>u.profit>0)?.name;const re=[{name:"Workers",value:D.workerCost,color:"#F59E0B"},{name:"R2 Storage",value:D.r2Cost,color:"#3B82F6"},{name:"Stream",value:D.streamCost,color:"#EF4444"},{name:"Comms",value:D.commsCost,color:"#10B981"}].filter(u=>u.value>0),W=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(u);return n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight flex items-center gap-2",children:[n.jsx(Pt,{className:"text-indigo-600"}),"Platform Projections"]}),n.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"SaaS margins and Unit Economics simulator."})]}),n.jsxs("button",{onClick:()=>ct(!F),className:`px-4 py-2 rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2
                        ${F?"bg-purple-600 text-white shadow-purple-500/50 scale-105 animate-pulse":"bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700"}`,children:[n.jsx(At,{size:16,className:F?"fill-current":""}),F?"VIRAL MODE ACTIVE":"Activate Viral Mode"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(se,{label:"Proj. Annual Revenue (ARR)",value:W(dt),sub:`End of Year 1 (${Math.round(D.tenants)} Tenants)`,color:"text-emerald-600 dark:text-emerald-400"}),n.jsx(se,{label:"Monthly Profit (Month 12)",value:W(D.profit),sub:`${D.margin.toFixed(1)}% Margin`,color:D.profit>0?"text-indigo-600 dark:text-indigo-400":"text-red-600 dark:text-red-400"}),n.jsx(se,{label:"Avg Revenue Per Tenant",value:W(fe),sub:"Weighted Avg (Mix)",color:"text-zinc-900 dark:text-zinc-100"}),n.jsx(se,{label:"Avg Tenant Net (Monthly)",value:W(D.tenantNet),sub:"After Fees & Expenses",color:"text-amber-600 dark:text-amber-400"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ie,{title:"Growth & Revenue",children:[n.jsx(P,{label:"Starting Tenants",val:t,set:a,min:0,max:1e3,step:10}),n.jsx(P,{label:"Growth Rate (%)",val:r,set:s,min:0,max:100,disabled:F}),n.jsx(P,{label:"Avg Monthly GMV ($)",val:y,set:w,min:0,max:5e4,step:500}),n.jsx(P,{label:"Platform Fee (%)",val:m,set:S,min:0,max:10,step:.1})]}),n.jsxs(ie,{title:"Pricing Strategy",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-xs font-medium text-zinc-500 dark:text-zinc-400",children:[n.jsx("div",{children:"Basic"}),n.jsx("div",{children:"Growth"}),n.jsx("div",{children:"Scale"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[n.jsx("input",{type:"number",value:o,onChange:u=>c(Number(u.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),n.jsx("input",{type:"number",value:l,onChange:u=>x(Number(u.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),n.jsx("input",{type:"number",value:p,onChange:u=>j(Number(u.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"})]}),n.jsx("label",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase",children:"Tier Mix"}),n.jsx(P,{label:"Basic %",val:v,set:d,min:0,max:100}),n.jsx(P,{label:"Growth %",val:h,set:O,min:0,max:100}),n.jsxs("div",{className:"flex justify-between items-center text-sm py-2 px-3 bg-zinc-50 dark:bg-zinc-900 rounded border border-zinc-100 dark:border-zinc-700 mt-2",children:[n.jsx("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Scale % (Remainder)"}),n.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[Ee,"%"]})]})]}),n.jsxs(ie,{title:"Tenant Economics",children:[n.jsx(P,{label:"Classes / Month",val:R,set:N,min:0,max:300}),n.jsx(P,{label:"Instructor Hourly ($)",val:b,set:k,min:15,max:100}),n.jsx(P,{label:"Owner Taught %",val:E,set:g,min:0,max:100})]}),n.jsxs(ie,{title:"Infrastructure Costs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[n.jsx(oe,{label:"Workers",checked:te,set:ot}),n.jsx(oe,{label:"R2 Storage",checked:ee,set:st}),n.jsx(oe,{label:"Stream VOD",checked:Y,set:it}),n.jsx(oe,{label:"Email/SMS",checked:H,set:lt})]}),n.jsx(P,{label:"Requests (M)",val:I/1e6,set:u=>C(u*1e6),step:.1,min:0,max:50,disabled:!te}),n.jsx(P,{label:"Storage (GB)",val:_,set:M,min:0,max:1e3,disabled:!ee}),n.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[n.jsx("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Streaming"}),n.jsx(P,{label:"Mins Stored",val:T,set:U,min:0,max:5e3,disabled:!Y}),n.jsx(P,{label:"Viewers/Min",val:L,set:B,min:1,max:50,disabled:!Y})]}),n.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[n.jsx("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Communications"}),n.jsx(P,{label:"Emails / Mo",val:Z,set:me,min:0,max:5e4,step:100,disabled:!H}),n.jsx(P,{label:"SMS / Mo",val:pe,set:nt,min:0,max:5e3,step:50,disabled:!H})]})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 p-4 rounded-xl text-sm opacity-80",children:[n.jsxs("p",{className:"flex items-center gap-2 font-bold mb-1",children:[n.jsx(St,{size:14})," Unit Costs:"]}),n.jsxs("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs list-disc list-inside",children:[n.jsx("li",{children:"Request: $0.30 / M"}),n.jsx("li",{children:"R2: $0.015 / GB"}),n.jsx("li",{children:"Stream Store: $0.005"}),n.jsx("li",{children:"Stream View: $0.001"}),n.jsx("li",{children:"Email: $0.60 / k"}),n.jsx("li",{children:"SMS: $0.0079 / msg"})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[400px]",children:[n.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Projected Profit vs. Cost"}),n.jsx(xe,{width:"100%",height:"100%",children:n.jsxs(Ke,{data:ae,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),n.jsx(De,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),n.jsx(_e,{dataKey:"name",fontSize:12,stroke:"#71717A"}),n.jsx(Le,{fontSize:12,stroke:"#71717A",tickFormatter:u=>`$${u/1e3}k`}),n.jsx(ge,{formatter:u=>W(Number(u)||0),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:"#18181b",color:"#fff"}}),n.jsx(be,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),n.jsx(be,{type:"monotone",dataKey:"infraCost",stroke:"#EF4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorCost)",name:"Infra Cost"}),n.jsx(va,{y:0,stroke:"#000"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px] flex flex-col",children:[n.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Infra Cost Breakdown"}),re.length>0?n.jsxs("div",{className:"flex-1 flex text-xs",children:[n.jsx(xe,{width:"60%",children:n.jsxs(vr,{children:[n.jsx(at,{data:re,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:re.map((u,z)=>n.jsx(Ae,{fill:u.color},`cell-${z}`))}),n.jsx(ge,{formatter:u=>W(Number(u)||0)})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-2",children:re.map(u=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),n.jsx("span",{children:u.name})]},u.name))})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-400",children:"No Costs Selected"})]}),n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px]",children:[n.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Avg Tenant Profit History"}),n.jsx(xe,{width:"100%",height:"100%",children:n.jsxs(Ke,{data:ae,children:[n.jsx(De,{strokeDasharray:"3 3",vertical:!1}),n.jsx(_e,{dataKey:"name",hide:!0}),n.jsx(Le,{hide:!0}),n.jsx(ge,{formatter:u=>W(Number(u)||0)}),n.jsx(be,{type:"monotone",dataKey:"tenantNet",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:3})]})}),n.jsx("p",{className:"text-xs text-zinc-400 text-center mt-2",children:"* Simulates single studio profit after fees & payroll"})]})]})]})]})]})});function se({label:e,value:t,sub:a,color:r}){return n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsx("h4",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:e}),n.jsx("div",{className:`text-3xl font-bold tracking-tight ${r}`,children:t}),n.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-2",children:a})]})}function ie({title:e,children:t}){return n.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[n.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-2",children:[n.jsx(ha,{size:18,className:"text-zinc-400"}),e]}),n.jsx("div",{className:"space-y-4",children:t})]})}function P({label:e,val:t,set:a,step:r=1,min:s=0,max:o=100,disabled:c}){return n.jsxs("div",{className:`space-y-2 ${c?"opacity-50 pointer-events-none":""}`,children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:e}),n.jsx("input",{type:"number",step:r,value:t,onChange:l=>a(parseFloat(l.target.value)||0),className:"w-24 text-right px-2 py-1 border border-zinc-300 dark:border-zinc-700 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-mono bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",autoComplete:"off",name:`field_stat_${Math.floor(Math.random()*1e4)}`,id:`field_stat_${Math.floor(Math.random()*1e4)}`})]}),n.jsx("input",{type:"range",min:s,max:o,step:r,value:t,onChange:l=>a(parseFloat(l.target.value)||0),className:"w-full accent-indigo-600 h-1.5 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer"})]})}function oe({label:e,checked:t,set:a}){return n.jsxs("button",{onClick:()=>a(!t),className:`flex items-center justify-between p-2 rounded-lg border transition-all w-full text-xs ${t?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-200 dark:border-indigo-800 text-indigo-900 dark:text-indigo-200":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400"}`,children:[n.jsx("span",{className:"font-medium",children:e}),n.jsx("div",{className:`w-6 h-3 rounded-full relative transition-colors ${t?"bg-indigo-500":"bg-zinc-300"}`,children:n.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-transform ${t?"left-3.5":"left-0.5"}`})})]})}export{Lr as default};
