import{w as b,c as N,f as v,r as y,F as w}from"./chunk-JMJ3UQ3L-ksN8Xei4.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{G as o}from"./gift-ila_VUrs.js";import{S as z}from"./sparkles-DkBmEPeB.js";import{C as k}from"./check-DfUdlD6u.js";import{C as x}from"./copy-Dg_PLDQ_.js";import{c as C}from"./createLucideIcon-mmuW3u_I.js";import{U as i}from"./users-DqwPLSlq.js";import{C as S}from"./clock--Hx6KV9H.js";import{A as m}from"./award-uE9WoT9s.js";import{C as R}from"./chevron-right-Ctm3A6U7.js";const L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],p=C("share-2",L),E=b(function(){const{myCode:a,referrals:n,stats:t,slug:h}=N();v();const[u,d]=y.useState(!1),l=`${typeof window<"u"?window.location.origin:""}/studio/${h}/join?ref=${a}`,r=async()=>{await navigator.clipboard.writeText(l),d(!0),setTimeout(()=>d(!1),2e3)},f=async()=>{navigator.share?await navigator.share({title:"Join me at the studio!",text:"Use my referral code to get started",url:l}):r()},j=s=>new Date(s*1e3).toLocaleDateString(),g={pending:"bg-yellow-100 text-yellow-700",completed:"bg-blue-100 text-blue-700",rewarded:"bg-green-100 text-green-700",expired:"bg-zinc-100 text-zinc-500"};return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50",children:[e.jsx("header",{className:"bg-white border-b border-zinc-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg text-white",children:e.jsx(o,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900",children:"Referral Program"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Invite friends and earn rewards"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(z,{size:20}),e.jsx("span",{className:"font-medium",children:"Your Referral Code"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-2xl font-mono font-bold tracking-wider",children:a}),e.jsx("button",{onClick:r,className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition",children:u?e.jsx(k,{size:20}):e.jsx(x,{size:20})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:r,className:"flex-1 py-2.5 bg-white text-purple-600 rounded-lg font-medium hover:bg-purple-50 flex items-center justify-center gap-2",children:[e.jsx(x,{size:16})," Copy Link"]}),e.jsxs("button",{onClick:f,className:"flex-1 py-2.5 bg-white/20 rounded-lg font-medium hover:bg-white/30 flex items-center justify-center gap-2",children:[e.jsx(p,{size:16})," Share"]})]})]}),t&&e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e.jsx("div",{className:"text-2xl font-bold text-zinc-900",children:t.total}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Total Referrals"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.pending}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Pending"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.completed}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Completed"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-zinc-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.rewarded}),e.jsx("div",{className:"text-xs text-zinc-500",children:"Rewarded"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200",children:[e.jsx("div",{className:"p-4 border-b border-zinc-100",children:e.jsxs("h2",{className:"font-bold text-zinc-900 flex items-center gap-2",children:[e.jsx(i,{size:18})," Your Referrals"]})}),n.length===0?e.jsxs("div",{className:"p-8 text-center text-zinc-500",children:[e.jsx(o,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No referrals yet. Share your code to get started!"})]}):e.jsx("div",{className:"divide-y divide-zinc-100",children:n.map(s=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-zinc-100 rounded-full flex items-center justify-center",children:e.jsx(i,{size:18,className:"text-zinc-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-zinc-900",children:s.referrer?.user?.profile?.firstName||s.referrer?.user?.email||"Member"}),e.jsxs("div",{className:"text-xs text-zinc-500 flex items-center gap-2",children:[e.jsx(S,{size:12})," ",j(s.createdAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g[s.status]}`,children:s.status}),s.status==="completed"&&t&&e.jsxs(w,{method:"post",className:"flex items-center gap-2",children:[e.jsx("input",{type:"hidden",name:"intent",value:"reward"}),e.jsx("input",{type:"hidden",name:"id",value:s.id}),e.jsxs("select",{name:"rewardType",className:"text-xs border rounded px-2 py-1",children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"discount",children:"Discount"}),e.jsx("option",{value:"free_class",children:"Free Class"})]}),e.jsx("input",{type:"number",name:"rewardValue",defaultValue:"500",className:"w-16 text-xs border rounded px-2 py-1"}),e.jsx("button",{type:"submit",className:"p-1 bg-green-100 text-green-700 rounded hover:bg-green-200",children:e.jsx(m,{size:14})})]})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 p-6",children:[e.jsx("h2",{className:"font-bold text-zinc-900 mb-4",children:"How It Works"}),e.jsx("div",{className:"space-y-4",children:[{icon:p,title:"Share Your Code",desc:"Send your unique referral code to friends"},{icon:i,title:"Friend Signs Up",desc:"They join using your referral link"},{icon:m,title:"Both Get Rewarded",desc:"You and your friend receive special perks"}].map((s,c)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600",children:e.jsx(s.icon,{size:18})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-zinc-900",children:s.title}),e.jsx("div",{className:"text-sm text-zinc-500",children:s.desc})]}),c<2&&e.jsx(R,{size:16,className:"text-zinc-300"})]},c))})]})]})]})});export{E as default};
