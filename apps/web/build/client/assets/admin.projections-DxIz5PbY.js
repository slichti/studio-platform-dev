import{w as _e}from"./chunk-JMJ3UQ3L-DsmOvVYk.js";import{j as e}from"./vendor-puck-Ox9nZAW8.js";import{a as s}from"./vendor-sentry-JepEA2vj.js";import{T as Ge}from"./trending-up-i3FuM3q7.js";import{Z as Be}from"./zap-4XO_A8Yl.js";import{I as Oe}from"./info-BVrNVXTL.js";import{R as K,A as J,C as ee,X as te,Y as se,T as D,c as U,d as Ie,P as $e,a as Fe,e as Ve}from"./vendor-charts-CBCVHb7z.js";import{A as We}from"./activity-DBJWIPBn.js";import"./createLucideIcon-CZ3UnH4h.js";const Je=_e(function(){const[a,l]=s.useState(50),[c,M]=s.useState(5),[h,E]=s.useState(29),[d,ae]=s.useState(79),[A,re]=s.useState(149),[j,ne]=s.useState(60),[f,ie]=s.useState(30),[b,oe]=s.useState(5e3),[T,le]=s.useState(1),[P,ce]=s.useState(60),[_,de]=s.useState(40),[G,xe]=s.useState(30),[B,me]=s.useState(5e5),[O,ue]=s.useState(10),[v,he]=s.useState(100),[I,be]=s.useState(3),[$,pe]=s.useState(2500),[F,ge]=s.useState(200),[z,je]=s.useState(!0),[p,fe]=s.useState(!0),[k,ve]=s.useState(!0),[g,ze]=s.useState(!0),[x,ke]=s.useState(!1),m={WORKERS_REQ_PRICE:.3/1e6,WORKERS_BASE:5,R2_STORAGE_GB:.015,STREAM_STORAGE_MIN:.005,STREAM_DELIVERY_MIN:.001,EMAIL_COST:6e-4,SMS_COST:.0079},L=Math.max(0,100-j-f),V=(h*j+d*f+A*L)/100,S=s.useMemo(()=>{const t=[];let n=a;const Ne=x?20:c;for(let W=0;W<12;W++){const ye=n*V,we=n*b*(T/100),y=ye+we,Y=k?Math.max(m.WORKERS_BASE,n*B*m.WORKERS_REQ_PRICE):0,q=z?n*O*m.R2_STORAGE_GB:0,H=p?n*(v*m.STREAM_STORAGE_MIN+v*I*m.STREAM_DELIVERY_MIN):0,Q=g?n*($*m.EMAIL_COST+F*m.SMS_COST):0,X=Y+q+H+Q,Z=y-X,Ce=y>0?Z/y*100:0,Re=b,Me=b*.029,Ee=V,Ae=P*((100-_)/100)*G,Te=Me+Ee+Ae,Pe=Re-Te;t.push({name:`Month ${W+1}`,tenants:Math.round(n),revenue:y,infraCost:X,profit:Z,workerCost:Y,r2Cost:q,streamCost:H,commsCost:Q,margin:Ce,tenantNet:Pe}),n=n*(1+Ne/100)}return t},[a,b,T,c,h,d,A,j,f,O,v,I,B,$,F,z,p,k,g,x,P,_,G]),i=S[11],Se=i.revenue*12;S.find(t=>t.profit>0)?.name;const N=[{name:"Workers",value:i.workerCost,color:"#F59E0B"},{name:"R2 Storage",value:i.r2Cost,color:"#3B82F6"},{name:"Stream",value:i.streamCost,color:"#EF4444"},{name:"Comms",value:i.commsCost,color:"#10B981"}].filter(t=>t.value>0),u=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t);return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in duration-500 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight flex items-center gap-2",children:[e.jsx(Ge,{className:"text-indigo-600"}),"Platform Projections"]}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-1",children:"SaaS margins and Unit Economics simulator."})]}),e.jsxs("button",{onClick:()=>ke(!x),className:`px-4 py-2 rounded-lg font-bold text-sm shadow-sm transition-all flex items-center gap-2
                        ${x?"bg-purple-600 text-white shadow-purple-500/50 scale-105 animate-pulse":"bg-white dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300 border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700"}`,children:[e.jsx(Be,{size:16,className:x?"fill-current":""}),x?"VIRAL MODE ACTIVE":"Activate Viral Mode"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{label:"Proj. Annual Revenue (ARR)",value:u(Se),sub:`End of Year 1 (${Math.round(i.tenants)} Tenants)`,color:"text-emerald-600 dark:text-emerald-400"}),e.jsx(w,{label:"Monthly Profit (Month 12)",value:u(i.profit),sub:`${i.margin.toFixed(1)}% Margin`,color:i.profit>0?"text-indigo-600 dark:text-indigo-400":"text-red-600 dark:text-red-400"}),e.jsx(w,{label:"Avg Revenue Per Tenant",value:u(V),sub:"Weighted Avg (Mix)",color:"text-zinc-900 dark:text-zinc-100"}),e.jsx(w,{label:"Avg Tenant Net (Monthly)",value:u(i.tenantNet),sub:"After Fees & Expenses",color:"text-amber-600 dark:text-amber-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{title:"Growth & Revenue",children:[e.jsx(r,{label:"Starting Tenants",val:a,set:l,min:0,max:1e3,step:10}),e.jsx(r,{label:"Growth Rate (%)",val:c,set:M,min:0,max:100,disabled:x}),e.jsx(r,{label:"Avg Monthly GMV ($)",val:b,set:oe,min:0,max:5e4,step:500}),e.jsx(r,{label:"Platform Fee (%)",val:T,set:le,min:0,max:10,step:.1})]}),e.jsxs(C,{title:"Pricing Strategy",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 text-center text-xs font-medium text-zinc-500 dark:text-zinc-400",children:[e.jsx("div",{children:"Basic"}),e.jsx("div",{children:"Growth"}),e.jsx("div",{children:"Scale"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6",children:[e.jsx("input",{type:"number",value:h,onChange:t=>E(Number(t.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),e.jsx("input",{type:"number",value:d,onChange:t=>ae(Number(t.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"}),e.jsx("input",{type:"number",value:A,onChange:t=>re(Number(t.target.value)),className:"w-full text-center border rounded py-1 dark:bg-zinc-800 dark:border-zinc-700 dark:text-zinc-100","data-lpignore":"true"})]}),e.jsx("label",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase",children:"Tier Mix"}),e.jsx(r,{label:"Basic %",val:j,set:ne,min:0,max:100}),e.jsx(r,{label:"Growth %",val:f,set:ie,min:0,max:100}),e.jsxs("div",{className:"flex justify-between items-center text-sm py-2 px-3 bg-zinc-50 dark:bg-zinc-900 rounded border border-zinc-100 dark:border-zinc-700 mt-2",children:[e.jsx("span",{className:"text-zinc-500 dark:text-zinc-400",children:"Scale % (Remainder)"}),e.jsxs("span",{className:"font-mono font-bold text-zinc-900 dark:text-zinc-100",children:[L,"%"]})]})]}),e.jsxs(C,{title:"Tenant Economics",children:[e.jsx(r,{label:"Classes / Month",val:P,set:ce,min:0,max:300}),e.jsx(r,{label:"Instructor Hourly ($)",val:G,set:xe,min:15,max:100}),e.jsx(r,{label:"Owner Taught %",val:_,set:de,min:0,max:100})]}),e.jsxs(C,{title:"Infrastructure Costs",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[e.jsx(R,{label:"Workers",checked:k,set:ve}),e.jsx(R,{label:"R2 Storage",checked:z,set:je}),e.jsx(R,{label:"Stream VOD",checked:p,set:fe}),e.jsx(R,{label:"Email/SMS",checked:g,set:ze})]}),e.jsx(r,{label:"Requests (M)",val:B/1e6,set:t=>me(t*1e6),step:.1,min:0,max:50,disabled:!k}),e.jsx(r,{label:"Storage (GB)",val:O,set:ue,min:0,max:1e3,disabled:!z}),e.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Streaming"}),e.jsx(r,{label:"Mins Stored",val:v,set:he,min:0,max:5e3,disabled:!p}),e.jsx(r,{label:"Viewers/Min",val:I,set:be,min:1,max:50,disabled:!p})]}),e.jsxs("div",{className:"my-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold text-zinc-900 dark:text-zinc-100 uppercase tracking-wide mb-2",children:"Communications"}),e.jsx(r,{label:"Emails / Mo",val:$,set:pe,min:0,max:5e4,step:100,disabled:!g}),e.jsx(r,{label:"SMS / Mo",val:F,set:ge,min:0,max:5e3,step:50,disabled:!g})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 p-4 rounded-xl text-sm opacity-80",children:[e.jsxs("p",{className:"flex items-center gap-2 font-bold mb-1",children:[e.jsx(Oe,{size:14})," Unit Costs:"]}),e.jsxs("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs list-disc list-inside",children:[e.jsx("li",{children:"Request: $0.30 / M"}),e.jsx("li",{children:"R2: $0.015 / GB"}),e.jsx("li",{children:"Stream Store: $0.005"}),e.jsx("li",{children:"Stream View: $0.001"}),e.jsx("li",{children:"Email: $0.60 / k"}),e.jsx("li",{children:"SMS: $0.0079 / msg"})]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[400px]",children:[e.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Projected Profit vs. Cost"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(J,{data:S,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),e.jsx(ee,{strokeDasharray:"3 3",vertical:!1,stroke:"#E4E4E7"}),e.jsx(te,{dataKey:"name",fontSize:12,stroke:"#71717A"}),e.jsx(se,{fontSize:12,stroke:"#71717A",tickFormatter:t=>`$${t/1e3}k`}),e.jsx(D,{formatter:t=>u(Number(t)||0),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",backgroundColor:"#18181b",color:"#fff"}}),e.jsx(U,{type:"monotone",dataKey:"revenue",stroke:"#10B981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e.jsx(U,{type:"monotone",dataKey:"infraCost",stroke:"#EF4444",strokeWidth:2,fillOpacity:1,fill:"url(#colorCost)",name:"Infra Cost"}),e.jsx(Ie,{y:0,stroke:"#000"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px] flex flex-col",children:[e.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Infra Cost Breakdown"}),N.length>0?e.jsxs("div",{className:"flex-1 flex text-xs",children:[e.jsx(K,{width:"60%",children:e.jsxs($e,{children:[e.jsx(Fe,{data:N,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:N.map((t,n)=>e.jsx(Ve,{fill:t.color},`cell-${n}`))}),e.jsx(D,{formatter:t=>u(Number(t)||0)})]})}),e.jsx("div",{className:"flex flex-col justify-center space-y-2",children:N.map(t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{children:t.name})]},t.name))})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-400",children:"No Costs Selected"})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm h-[300px]",children:[e.jsx("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-4",children:"Avg Tenant Profit History"}),e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(J,{data:S,children:[e.jsx(ee,{strokeDasharray:"3 3",vertical:!1}),e.jsx(te,{dataKey:"name",hide:!0}),e.jsx(se,{hide:!0}),e.jsx(D,{formatter:t=>u(Number(t)||0)}),e.jsx(U,{type:"monotone",dataKey:"tenantNet",stroke:"#F59E0B",fill:"#FEF3C7",strokeWidth:3})]})}),e.jsx("p",{className:"text-xs text-zinc-400 text-center mt-2",children:"* Simulates single studio profit after fees & payroll"})]})]})]})]})]})});function w({label:o,value:a,sub:l,color:c}){return e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400 mb-1",children:o}),e.jsx("div",{className:`text-3xl font-bold tracking-tight ${c}`,children:a}),e.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-2",children:l})]})}function C({title:o,children:a}){return e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl border border-zinc-200 dark:border-zinc-800 shadow-sm",children:[e.jsxs("h3",{className:"font-bold text-zinc-900 dark:text-zinc-100 mb-6 flex items-center gap-2",children:[e.jsx(We,{size:18,className:"text-zinc-400"}),o]}),e.jsx("div",{className:"space-y-4",children:a})]})}function r({label:o,val:a,set:l,step:c=1,min:M=0,max:h=100,disabled:E}){return e.jsxs("div",{className:`space-y-2 ${E?"opacity-50 pointer-events-none":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:o}),e.jsx("input",{type:"number",step:c,value:a,onChange:d=>l(parseFloat(d.target.value)||0),className:"w-24 text-right px-2 py-1 border border-zinc-300 dark:border-zinc-700 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none font-mono bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",autoComplete:"off",name:`field_stat_${Math.floor(Math.random()*1e4)}`,id:`field_stat_${Math.floor(Math.random()*1e4)}`})]}),e.jsx("input",{type:"range",min:M,max:h,step:c,value:a,onChange:d=>l(parseFloat(d.target.value)||0),className:"w-full accent-indigo-600 h-1.5 bg-zinc-200 dark:bg-zinc-700 rounded-lg appearance-none cursor-pointer"})]})}function R({label:o,checked:a,set:l}){return e.jsxs("button",{onClick:()=>l(!a),className:`flex items-center justify-between p-2 rounded-lg border transition-all w-full text-xs ${a?"bg-indigo-50 dark:bg-indigo-900/30 border-indigo-200 dark:border-indigo-800 text-indigo-900 dark:text-indigo-200":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400"}`,children:[e.jsx("span",{className:"font-medium",children:o}),e.jsx("div",{className:`w-6 h-3 rounded-full relative transition-colors ${a?"bg-indigo-500":"bg-zinc-300"}`,children:e.jsx("div",{className:`absolute top-0.5 w-2 h-2 rounded-full bg-white transition-transform ${a?"left-3.5":"left-0.5"}`})})]})}export{Je as default};
