import{w as p,d as u,r as g}from"./chunk-JMJ3UQ3L-CSq87dux.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{C as h}from"./calendar-ChqeGSdO.js";import{C as f}from"./chevron-left-Bic8tkBj.js";import{C as j}from"./chevron-right-C7AA_GFH.js";import{C as v}from"./clock-zZjniR5E.js";import{U as D}from"./users-Dm4m26s8.js";import{V as w}from"./video-C3gfdgWo.js";import"./createLucideIcon-pjmwgCcP.js";const O=p(function(){const{classes:d,weekStart:c}=u(),a=g.useMemo(()=>{const t=new Date(c),s=t.getDay(),r=new Date(t);return r.setDate(t.getDate()-(s===0?6:s-1)),Array.from({length:7},(n,i)=>{const o=new Date(r);return o.setDate(r.getDate()+i),{date:o.toISOString().split("T")[0],day:o}})},[c]),m=t=>d.filter(s=>new Date(s.startTime).toISOString().split("T")[0]===t).sort((s,r)=>new Date(s.startTime).getTime()-new Date(r.startTime).getTime()),x=t=>new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),l=t=>{const s=new Date(a[0].date);s.setDate(s.getDate()+t*7),window.location.search=`?week=${s.toISOString().split("T")[0]}`};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-xl font-bold text-zinc-900 flex items-center gap-2",children:[e.jsx(h,{size:20})," My Schedule"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(f,{size:18})}),e.jsxs("span",{className:"text-sm font-medium",children:[a[0].day.toLocaleDateString(void 0,{month:"short",day:"numeric"})," - ",a[6].day.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),e.jsx("button",{onClick:()=>l(1),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(j,{size:18})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-4",children:a.map(({date:t,day:s})=>{const r=m(t),n=t===new Date().toISOString().split("T")[0];return e.jsxs("div",{className:`bg-white rounded-xl border ${n?"border-purple-300 ring-2 ring-purple-100":"border-zinc-200"} overflow-hidden`,children:[e.jsxs("div",{className:`p-3 text-center ${n?"bg-purple-50":"bg-zinc-50"} border-b border-zinc-100`,children:[e.jsx("div",{className:"text-xs font-medium text-zinc-500",children:s.toLocaleDateString(void 0,{weekday:"short"})}),e.jsx("div",{className:`text-lg font-bold ${n?"text-purple-700":"text-zinc-900"}`,children:s.getDate()})]}),e.jsx("div",{className:"p-2 space-y-2 min-h-[200px]",children:r.length===0?e.jsx("p",{className:"text-xs text-zinc-400 text-center py-4",children:"No classes"}):r.map(i=>e.jsxs("div",{className:"p-2 bg-purple-50 rounded-lg text-xs",children:[e.jsx("div",{className:"font-medium text-purple-800 truncate",children:i.title}),e.jsxs("div",{className:"text-purple-600 flex items-center gap-1 mt-1",children:[e.jsx(v,{size:10})," ",x(i.startTime)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-zinc-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{size:10})," ",i.confirmedCount||0]}),i.videoProvider==="livekit"&&e.jsx(w,{size:10})]})]},i.id))})]},t)})})]})});export{O as default};
