import{g as go,r as E,R as Ht,a as Ns}from"./vendor-charts-C-svo-KU.js";var ei={exports:{}},Zr={};var Aa;function Af(){if(Aa)return Zr;Aa=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:o,ref:s!==void 0?s:null,props:i}}return Zr.Fragment=t,Zr.jsx=r,Zr.jsxs=r,Zr}var Ma;function Mf(){return Ma||(Ma=1,ei.exports=Af()),ei.exports}var f=Mf(),ti,Ta;function Tf(){if(Ta)return ti;Ta=1,ti=r,r.flatten=r,r.unflatten=n;function e(s){return s&&s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function t(s){return s}function r(s,i){i=i||{};const o=i.delimiter||".",a=i.maxDepth,l=i.transformKey||t,c={};function u(d,p,g){g=g||1,Object.keys(d).forEach(function(v){const k=d[v],y=i.safe&&Array.isArray(k),S=Object.prototype.toString.call(k),m=e(k),x=S==="[object Object]"||S==="[object Array]",b=p?p+o+l(v):l(v);if(!y&&!m&&x&&Object.keys(k).length&&(!i.maxDepth||g<a))return u(k,b,g+1);c[b]=k})}return u(s),c}function n(s,i){i=i||{};const o=i.delimiter||".",a=i.overwrite||!1,l=i.transformKey||t,c={};if(e(s)||Object.prototype.toString.call(s)!=="[object Object]")return s;function d(v){const k=Number(v);return isNaN(k)||v.indexOf(".")!==-1||i.object?v:k}function p(v,k,y){return Object.keys(y).reduce(function(S,m){return S[v+o+m]=y[m],S},k)}function g(v){const k=Object.prototype.toString.call(v),y=k==="[object Array]",S=k==="[object Object]";if(v){if(y)return!v.length;if(S)return!Object.keys(v).length}else return!0}return s=Object.keys(s).reduce(function(v,k){const y=Object.prototype.toString.call(s[k]);return!(y==="[object Object]"||y==="[object Array]")||g(s[k])?(v[k]=s[k],v):p(k,v,r(s[k],i))},{}),Object.keys(s).forEach(function(v){const k=v.split(o).map(l);let y=d(k.shift()),S=d(k[0]),m=c;for(;S!==void 0;){if(y==="__proto__")return;const x=Object.prototype.toString.call(m[y]),b=x==="[object Object]"||x==="[object Array]";if(!a&&!b&&typeof m[y]<"u")return;(a&&!b||!a&&m[y]==null)&&(m[y]=typeof S=="number"&&!i.object?[]:{}),m=m[y],k.length>0&&(y=d(k.shift()),S=d(k[0]))}m[y]=n(s[v],i)}),c}return ti}var Lf=Tf();const $f=go(Lf);var ri,La;function Rf(){return La||(La=1,ri=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),ri}var Nf=Rf();const _s=go(Nf);var zf=Object.create,mo=Object.defineProperty,Ff=Object.defineProperties,Bf=Object.getOwnPropertyDescriptor,Wf=Object.getOwnPropertyDescriptors,yo=Object.getOwnPropertyNames,bs=Object.getOwnPropertySymbols,Hf=Object.getPrototypeOf,_o=Object.prototype.hasOwnProperty,ic=Object.prototype.propertyIsEnumerable,$a=(e,t,r)=>t in e?mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))_o.call(t,r)&&$a(e,r,t[r]);if(bs)for(var r of bs(t))ic.call(t,r)&&$a(e,r,t[r]);return e},$=(e,t)=>Ff(e,Wf(t)),Xt=(e,t)=>{var r={};for(var n in e)_o.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&bs)for(var n of bs(e))t.indexOf(n)<0&&ic.call(e,n)&&(r[n]=e[n]);return r},Uf=(e,t)=>function(){return e&&(t=(0,e[yo(e)[0]])(e=0)),t},Vf=(e,t)=>function(){return t||(0,e[yo(e)[0]])((t={exports:{}}).exports,t),t.exports},Zf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of yo(t))!_o.call(e,s)&&s!==r&&mo(e,s,{get:()=>t[s],enumerable:!(n=Bf(t,s))||n.enumerable});return e},qf=(e,t,r)=>(r=e!=null?zf(Hf(e)):{},Zf(!e||!e.__esModule?mo(r,"default",{value:e,enumerable:!0}):r,e)),Ce=(e,t,r)=>new Promise((n,s)=>{var i=l=>{try{a(r.next(l))}catch(c){s(c)}},o=l=>{try{a(r.throw(l))}catch(c){s(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,o);a((r=r.apply(e,t)).next())}),M=Uf({"../tsup-config/react-import.js"(){}});M();M();M();var bo=(e,t)=>Object.keys(t).reduce((r,n)=>t[n].type==="slot"?P({[n]:[]},r):r,e),xo=e=>!!e&&typeof e.then=="function",Ra=e=>e.reduce((t,r)=>P(P({},t),r),{}),ki=e=>e.some(xo),xs=({value:e,fields:t,mappers:r,propKey:n="",propPath:s="",id:i="",config:o,recurseSlots:a=!1})=>{var l,c,u;const d=(l=t[n])==null?void 0:l.type,p=r[d];if(p&&d==="slot"){const g=e||[],v=a?g.map(k=>{var y;const S=o.components[k.type];if(!S)throw new Error(`Could not find component config for ${k.type}`);const m=(y=S.fields)!=null?y:{};return xs({value:$(P({},k),{props:bo(k.props,m)}),fields:m,mappers:r,id:k.props.id,config:o,recurseSlots:a})}):g;return ki(v)?Promise.all(v):p({value:v,parentId:i,propName:s,field:t[n],propPath:s})}else if(p&&t[n])return p({value:e,parentId:i,propName:n,field:t[n],propPath:s});if(e&&typeof e=="object")if(Array.isArray(e)){const g=((c=t[n])==null?void 0:c.type)==="array"?t[n].arrayFields:null;if(!g)return e;const v=e.map((k,y)=>xs({value:k,fields:g,mappers:r,propKey:n,propPath:`${s}[${y}]`,id:i,config:o,recurseSlots:a}));return ki(v)?Promise.all(v):v}else{if("$$typeof"in e)return e;{const g=((u=t[n])==null?void 0:u.type)==="object"?t[n].objectFields:t;return oc({value:e,fields:g,mappers:r,id:i,getPropPath:v=>`${s}.${v}`,config:o,recurseSlots:a})}}return e},oc=({value:e,fields:t,mappers:r,id:n,getPropPath:s,config:i,recurseSlots:o})=>{const a=Object.entries(e).map(([l,c])=>{const u={value:c,fields:t,mappers:r,propKey:l,propPath:s(l),id:n,config:i,recurseSlots:o},d=xs(u);return xo(d)?d.then(p=>({[l]:p})):{[l]:d}},{});return ki(a)?Promise.all(a).then(Ra):Ra(a)};function An(e,t,r,n=!1){var s,i,o,a,l;const c="type"in e?e.type:"root",u=c==="root"?r.root:(s=r.components)==null?void 0:s[c],d=oc({value:bo((i=e.props)!=null?i:{},(o=u?.fields)!=null?o:{}),fields:(a=u?.fields)!=null?a:{},mappers:t,id:e.props&&(l=e.props.id)!=null?l:"root",getPropPath:p=>p,config:r,recurseSlots:n});return xo(d)?d.then(p=>$(P({},e),{props:p})):$(P({},e),{props:d})}function ac(e,t,r){var n,s;const i=c=>An(c,{slot:({value:u,parentId:d,propName:p})=>{var g;const v=u;return(g=r(v,{parentId:d,propName:p}))!=null?g:v}},t,!0);if("props"in e)return i(e);const o=e,a=(n=o.zones)!=null?n:{},l=o.content.map(i);return{root:i(o.root),content:(s=r(l,{parentId:"root",propName:"default-zone"}))!=null?s:l,zones:Object.keys(a).reduce((c,u)=>$(P({},c),{[u]:a[u].map(i)}),{})}}M();M();M();var ws=[{width:360,height:"auto",icon:"Smartphone",label:"Small"},{width:768,height:"auto",icon:"Tablet",label:"Medium"},{width:1280,height:"auto",icon:"Monitor",label:"Large"}],ji={data:{content:[],root:{},zones:{}},ui:{leftSideBarVisible:!0,rightSideBarVisible:!0,arrayState:{},itemSelector:null,componentList:{},isDragging:!1,previewMode:"edit",viewports:{current:{width:ws[0].width,height:ws[0].height||"auto"},options:[],controlsVisible:!0},field:{focus:null}},indexes:{nodes:{},zones:{}}};M();M();M();M();var wo="root",Ci="default-zone",Ve=`${wo}:${Ci}`,Yf=e=>e?e&&e.indexOf(":")>-1?e.split(":"):[Ve,e]:[];function Xf(e,t,r,n=[]){Object.entries(t.zones||{}).forEach(([s,i])=>{const[o]=Yf(s);o===e.props.id&&r(n,s,i)})}M();M();var Kf=(e,t)=>An(e,{slot:()=>null},t),{flatten:Gf,unflatten:Jf}=$f,Qf=(e,t)=>$(P({},e),{props:Gf(Kf(e,t).props)}),ep=e=>{const t=Jf(e.props);return $(P({},e),{props:t})};function st(e,t,r=s=>s,n=s=>s){var s;let i={};const o={},a={},l=(m,x,b,C,I)=>{var D;const[_]=x.split(":"),j=((D=r(b,x,C))!=null?D:b)||[],[h,A]=x.split(":"),T=`${I||_}:${A}`,N=j.map((R,V)=>u(R,[...m,T],V));return o[T]={contentIds:N.map(R=>R.props.id),type:C},[T,N]},c=(m,x,b)=>{Xf(m,e.data,(C,I,D)=>{const[_,j]=l(C,I,D,"dropzone",x);i[_]=j},b)},u=(m,x,b)=>{const C=n(m,x,b);if(!C)return m;const I=C.props.id,D=$(P({},An(C,{slot:({value:N,parentId:R,propPath:V})=>{const z=N,K=`${R}:${V}`,[U,X]=l(x,K,z,"slot",R);return X}},t).props),{id:I});c(m,I,x);const _=$(P({},m),{props:D}),j=x[x.length-1],[h,A]=j?j.split(":"):[null,""];a[I]={data:_,flatData:Qf(_,t),path:x,parentId:h,zone:A};const T=$(P({},_),{props:P({},_.props)});return D.id==="root"&&(delete T.type,delete T.props.id),T},d=e.data.zones||{},[p,g]=l([],Ve,e.data.content,"root"),v=g,k=Object.keys(i);Object.keys(d||{}).forEach(m=>{const[x]=m.split(":");if(k.includes(m))return;const[b,C]=l([Ve],m,d[m],"dropzone",x);i[m]=C},i);const y=u({type:"root",props:$(P({},(s=e.data.root.props)!=null?s:e.data.root),{id:"root"})},[],-1),S=$(P({},e.data.root),{props:y.props});return $(P({},e),{data:{root:S,content:v,zones:P(P({},e.data.zones),i)},indexes:{nodes:P(P({},e.indexes.nodes),a),zones:P(P({},e.indexes.zones),o)}})}M();M();M();M();M();var So=(e,t)=>e?Object.keys(e.props||{}).reduce((r,n)=>{const s=e?.props||{},i=t?.props||{};return $(P({},r),{[n]:!_s(i[n],s[n])})},{}):{},Na={lastChange:{}},lc=(e,t,...r)=>Ce(void 0,[e,t,...r],function*(n,s,i={},o,a,l="replace"){const c="type"in n&&n.type!=="root"?s.components[n.type]:s.root,u=P({},n),d=c?.resolveData&&n.props,p="id"in n.props?n.props.id:"root";if(d){const{item:v=null,resolved:k={}}=Na.lastChange[p]||{};if(l!=="force"&&n&&_s(n,v))return{node:k,didChange:!1};const y=So(n,v);o&&o(n);const{props:S,readOnly:m={}}=yield c.resolveData(n,{changed:y,lastData:v,metadata:P(P({},i),c.metadata),trigger:l});u.props=P(P({},n.props),S),Object.keys(m).length&&(u.readOnly=m)}let g=yield An(u,{slot:v=>Ce(void 0,[v],function*({value:k}){const y=k;return yield Promise.all(y.map(S=>Ce(void 0,null,function*(){return(yield lc(S,s,i,o,a,l)).node})))})},s);return d&&a&&a(u),Na.lastChange[p]={item:n,resolved:g},{node:g,didChange:!_s(n,g)}});M();M();var cc=(e,t)=>{if(t===Ve)return e;const r=$(P({},e),{zones:e.zones?P({},e.zones):{}});return r.zones[t]=r.zones[t]||[],r};M();function uc(e,t,r,n,s){const i=E.useMemo(()=>Object.keys(r).reduce((l,c)=>{const u=c;return $(P({},l),{[u]:d=>{var p=d,{parentId:g}=p,v=Xt(p,["parentId"]);const k=v.propPath.replace(/\[\d+\]/g,"[*]"),y=n?.[v.propPath]||n?.[k]||s||!1,S=r[u];return S?.($(P({},v),{isReadOnly:y,componentId:g}))}})},{}),[r,n,s]),o=E.useMemo(()=>An(t,i,e).props,[e,t,i]);return E.useMemo(()=>P(P({},t.props),o),[t.props,o])}M();var dc=(e,t=e)=>({slot:({value:r,propName:n,field:s,isReadOnly:i})=>{const o=i?t:e;return l=>o($(P({allow:s?.type==="slot"?s.allow:[],disallow:s?.type==="slot"?s.disallow:[]},l),{zone:n,content:r}))}});M();function zs(e,t,r,n=r,s,i){return uc(e,t,dc(r,n),s,i)}M();var Io=e=>f.jsx(fc,P({},e)),tp=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=zs(e,t,i=>f.jsx(Io,$(P({},i),{config:e,metadata:r})));return f.jsx(n.render,$(P({},s),{puck:$(P({},s.puck),{metadata:r||{}})}))},fc=E.forwardRef(function({className:t,style:r,content:n,config:s,metadata:i},o){return f.jsx("div",{className:t,style:r,ref:o,children:n.map(a=>s.components[a.type]?f.jsx(tp,{config:s,item:a,metadata:i},a.props.id):null)})});let Hn;const rp=new Uint8Array(16);function np(){if(!Hn&&(Hn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hn(rp)}const $e=[];for(let e=0;e<256;++e)$e.push((e+256).toString(16).slice(1));function sp(e,t=0){return $e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]}const ip=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),za={randomUUID:ip};function Fa(e,t,r){if(za.randomUUID&&!e)return za.randomUUID();e=e||{};const n=e.random||(e.rng||np)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,sp(n)}const Ba=e=>{let t;const r=new Set,n=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),r.forEach(g=>g(t,p))}},s=()=>t,a={setState:n,getState:s,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,s,a);return a},Mn=(e=>e?Ba(e):Ba),op=e=>e;function Eo(e,t=op){const r=Ht.useSyncExternalStore(e.subscribe,Ht.useCallback(()=>t(e.getState()),[e,t]),Ht.useCallback(()=>t(e.getInitialState()),[e,t]));return Ht.useDebugValue(r),r}const Wa=e=>{const t=Mn(e),r=n=>Eo(t,n);return Object.assign(r,t),r},pc=(e=>e?Wa(e):Wa),ap=e=>(t,r,n)=>{const s=n.subscribe;return n.subscribe=((o,a,l)=>{let c=o;if(a){const u=l?.equalityFn||Object.is;let d=o(n.getState());c=p=>{const g=o(p);if(!u(d,g)){const v=d;a(d=g,v)}},l?.fireImmediately&&a(d,d)}return s(c)}),e(t,r,n)},hc=ap;var lp=Symbol.for("preact-signals");function Fs(){if(qt>1)qt--;else{for(var e,t=!1;hn!==void 0;){var r=hn;for(hn=void 0,Pi++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&gc(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=n}}if(Pi=0,qt--,t)throw e}}function Ee(e){if(qt>0)return e();qt++;try{return e()}finally{Fs()}}var ue=void 0;function ve(e){var t=ue;ue=void 0;try{return e()}finally{ue=t}}var hn=void 0,qt=0,Pi=0,Ss=0;function vc(e){if(ue!==void 0){var t=e.n;if(t===void 0||t.t!==ue)return t={i:0,S:e,p:ue.s,n:void 0,t:ue,e:void 0,x:void 0,r:t},ue.s!==void 0&&(ue.s.n=t),ue.s=t,e.n=t,32&ue.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=ue.s,t.n=void 0,ue.s.n=t,ue.s=t),t}}function Xe(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}Xe.prototype.brand=lp;Xe.prototype.h=function(){return!0};Xe.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:ve(function(){var n;(n=t.W)==null||n.call(t)}))};Xe.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,n=e.x;r!==void 0&&(r.x=n,e.e=void 0),n!==void 0&&(n.e=r,e.x=void 0),e===this.t&&(this.t=n,n===void 0&&ve(function(){var s;(s=t.Z)==null||s.call(t)}))}};Xe.prototype.subscribe=function(e){var t=this;return Qe(function(){var r=t.value,n=ue;ue=void 0;try{e(r)}finally{ue=n}},{name:"sub"})};Xe.prototype.valueOf=function(){return this.value};Xe.prototype.toString=function(){return this.value+""};Xe.prototype.toJSON=function(){return this.value};Xe.prototype.peek=function(){var e=ue;ue=void 0;try{return this.value}finally{ue=e}};Object.defineProperty(Xe.prototype,"value",{get:function(){var e=vc(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Pi>100)throw new Error("Cycle detected");this.v=e,this.i++,Ss++,qt++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Fs()}}}});function Tn(e,t){return new Xe(e,t)}function gc(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function mc(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function yc(e){for(var t=e.s,r=void 0;t!==void 0;){var n=t.p;t.i===-1?(t.S.U(t),n!==void 0&&(n.n=t.n),t.n!==void 0&&(t.n.p=n)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=n}e.s=r}function cr(e,t){Xe.call(this,void 0),this.x=e,this.s=void 0,this.g=Ss-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}cr.prototype=new Xe;cr.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Ss))return!0;if(this.g=Ss,this.f|=1,this.i>0&&!gc(this))return this.f&=-2,!0;var e=ue;try{mc(this),ue=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return ue=e,yc(this),this.f&=-2,!0};cr.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Xe.prototype.S.call(this,e)};cr.prototype.U=function(e){if(this.t!==void 0&&(Xe.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};cr.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(cr.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=vc(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Ha(e,t){return new cr(e,t)}function _c(e){var t=e.u;if(e.u=void 0,typeof t=="function"){qt++;var r=ue;ue=void 0;try{t()}catch(n){throw e.f&=-2,e.f|=8,ko(e),n}finally{ue=r,Fs()}}}function ko(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,_c(e)}function cp(e){if(ue!==this)throw new Error("Out-of-order effect");yc(this),ue=e,this.f&=-2,8&this.f&&ko(this),Fs()}function Ar(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}Ar.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};Ar.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,_c(this),mc(this),qt++;var e=ue;return ue=this,cp.bind(this,e)};Ar.prototype.N=function(){2&this.f||(this.f|=2,this.o=hn,hn=this)};Ar.prototype.d=function(){this.f|=8,1&this.f||ko(this)};Ar.prototype.dispose=function(){this.d()};function Qe(e,t){var r=new Ar(e,t);try{r.c()}catch(s){throw r.d(),s}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var up=Object.create,jo=Object.defineProperty,dp=Object.defineProperties,fp=Object.getOwnPropertyDescriptor,pp=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertySymbols,hp=Object.prototype.hasOwnProperty,vp=Object.prototype.propertyIsEnumerable,gp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Mr=e=>{throw TypeError(e)},Di=(e,t,r)=>t in e?jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mp=(e,t)=>{for(var r in t||(t={}))hp.call(t,r)&&Di(e,r,t[r]);if(Ua)for(var r of Ua(t))vp.call(t,r)&&Di(e,r,t[r]);return e},yp=(e,t)=>dp(e,pp(t)),Va=(e,t)=>jo(e,"name",{value:t,configurable:!0}),_p=e=>{var t;return[,,,up((t=void 0)!=null?t:null)]},bc=["class","method","getter","setter","accessor","field","value","get","set"],Kr=e=>e!==void 0&&typeof e!="function"?Mr("Function expected"):e,bp=(e,t,r,n,s)=>({kind:bc[e],name:t,metadata:n,addInitializer:i=>r._?Mr("Already initialized"):s.push(Kr(i||null))}),xc=(e,t)=>Di(t,gp("metadata"),e[3]),Gt=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Tr=(e,t,r,n,s,i)=>{var o,a,l,c,u,d=t&7,p=!!(t&8),g=!!(t&16),v=d>3?e.length+1:d?p?1:2:0,k=bc[d+5],y=d>3&&(e[v-1]=[]),S=e[v]||(e[v]=[]),m=d&&(!g&&!p&&(s=s.prototype),d<5&&(d>3||!g)&&fp(d<4?s:{get[r](){return lt(this,i)},set[r](b){return Bt(this,i,b)}},r));d?g&&d<4&&Va(i,(d>2?"set ":d>1?"get ":"")+r):Va(s,r);for(var x=n.length-1;x>=0;x--)c=bp(d,r,l={},e[3],S),d&&(c.static=p,c.private=g,u=c.access={has:g?b=>xp(s,b):b=>r in b},d^3&&(u.get=g?b=>(d^1?lt:wp)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=g?(b,C)=>Bt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?g?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,d^4||a===void 0?Kr(a)&&(d>4?y.unshift(a):d?g?i=a:m[k]=a:s=a):typeof a!="object"||a===null?Mr("Object expected"):(Kr(o=a.get)&&(m.get=o),Kr(o=a.set)&&(m.set=o),Kr(o=a.init)&&y.unshift(o));return d||xc(e,s),m&&jo(s,r,m),g?d^4?i:m:s},Co=(e,t,r)=>t.has(e)||Mr("Cannot "+r),xp=(e,t)=>Object(t)!==t?Mr('Cannot use the "in" operator on this value'):e.has(t),lt=(e,t,r)=>(Co(e,t,"read from private field"),r?r.call(e):t.get(e)),Gr=(e,t,r)=>t.has(e)?Mr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Bt=(e,t,r,n)=>(Co(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),wp=(e,t,r)=>(Co(e,t,"access private method"),r);function Is(e,t){if(t){let r;return Ha(()=>{const n=e();return n&&r&&t(r,n)?r:(r=n,n)})}return Ha(e)}function Ot(e,t){if(Object.is(e,t))return!0;if(e===null||t===null)return!1;if(typeof e=="function"&&typeof t=="function")return e===t;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:!e.some((n,s)=>!Ot(n,t[s]));if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),n=Object.keys(t);return r.length!==n.length?!1:!r.some(i=>!Ot(e[i],t[i]))}return!1}function ae({get:e},t){return{init(r){return Tn(r)},get(){return e.call(this).value},set(r){const n=e.call(this);n.peek()!==r&&(n.value=r)}}}function Me(e,t){const r=new WeakMap;return function(){let n=r.get(this);return n||(n=Is(e.bind(this)),r.set(this,n)),n.value}}function ni(e=!0){return function(t,r){r.addInitializer(function(){const n=r.kind==="field"?this:r.static?this:Object.getPrototypeOf(this),s=Object.getOwnPropertyDescriptor(n,r.name);s&&Object.defineProperty(n,r.name,yp(mp({},s),{enumerable:e}))})}}function Ln(...e){const t=e.map(Qe);return()=>t.forEach(r=>r())}var wc,Sc,Ic,Ec,kc,jc,qe,Po,si,Oi,Ai,He,Do,ii,Cc,Mi,Oo,oi,Ti,Li;jc=[ae],kc=[ae],Ec=[ae],Ic=[ni()],Sc=[ni()],wc=[ni()];var ur=class{constructor(e,t=Object.is){this.defaultValue=e,this.equals=t,Gt(qe,5,this),Gr(this,He),Gr(this,Po,Gt(qe,8,this)),Gt(qe,11,this),Gr(this,Do,Gt(qe,12,this)),Gt(qe,15,this),Gr(this,Oo,Gt(qe,16,this)),Gt(qe,19,this),this.reset=this.reset.bind(this),this.reset()}get current(){return lt(this,He,Ti)}get initial(){return lt(this,He,Oi)}get previous(){return lt(this,He,Cc)}set current(e){const t=ve(()=>lt(this,He,Ti));e&&t&&this.equals(t,e)||Ee(()=>{lt(this,He,Oi)||Bt(this,He,e,Ai),Bt(this,He,t,Mi),Bt(this,He,e,Li)})}reset(e=this.defaultValue){Ee(()=>{Bt(this,He,void 0,Mi),Bt(this,He,e,Ai),Bt(this,He,e,Li)})}};qe=_p();Po=new WeakMap;He=new WeakSet;Do=new WeakMap;Oo=new WeakMap;si=Tr(qe,20,"#initial",jc,He,Po),Oi=si.get,Ai=si.set;ii=Tr(qe,20,"#previous",kc,He,Do),Cc=ii.get,Mi=ii.set;oi=Tr(qe,20,"#current",Ec,He,Oo),Ti=oi.get,Li=oi.set;Tr(qe,2,"current",Ic,ur);Tr(qe,2,"initial",Sc,ur);Tr(qe,2,"previous",wc,ur);xc(qe,ur);function ai(e){return ve(()=>{const t={};for(const r in e)t[r]=e[r];return t})}var Jt,Sp=class{constructor(){Gr(this,Jt,new WeakMap)}get(e,t){var r;return e?(r=lt(this,Jt).get(e))==null?void 0:r.get(t):void 0}set(e,t,r){var n;if(e)return lt(this,Jt).has(e)||lt(this,Jt).set(e,new Map),(n=lt(this,Jt).get(e))==null?void 0:n.set(t,r)}clear(e){var t;return e?(t=lt(this,Jt).get(e))==null?void 0:t.clear():void 0}};Jt=new WeakMap;var Ip=Object.create,Pc=Object.defineProperty,Ep=Object.getOwnPropertyDescriptor,Za=Object.getOwnPropertySymbols,kp=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable,Dc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Bs=e=>{throw TypeError(e)},qa=Math.pow,$i=(e,t,r)=>t in e?Pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cp=(e,t)=>{for(var r in t||(t={}))kp.call(t,r)&&$i(e,r,t[r]);if(Za)for(var r of Za(t))jp.call(t,r)&&$i(e,r,t[r]);return e},Pp=e=>{var t;return[,,,Ip((t=e?.[Dc("metadata")])!=null?t:null)]},Oc=["class","method","getter","setter","accessor","field","value","get","set"],Ac=e=>e!==void 0&&typeof e!="function"?Bs("Function expected"):e,Dp=(e,t,r,n,s)=>({kind:Oc[e],name:t,metadata:n,addInitializer:i=>r._?Bs("Already initialized"):s.push(Ac(i||null))}),Op=(e,t)=>$i(t,Dc("metadata"),e[3]),Ap=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},Mc=(e,t,r,n,s,i)=>{for(var o,a,l,c,u=t&7,d=!1,p=!1,g=2,v=Oc[u+5],k=e[g]||(e[g]=[]),y=(s=s.prototype,Ep(s,r)),S=n.length-1;S>=0;S--)l=Dp(u,r,a={},e[3],k),l.static=d,l.private=p,c=l.access={has:m=>r in m},c.get=m=>m[r],o=(0,n[S])(y[v],l),a._=1,Ac(o)&&(y[v]=o);return y&&Pc(s,r,y),s},Tc=(e,t,r)=>t.has(e)||Bs("Cannot "+r),Mp=(e,t,r)=>(Tc(e,t,"read from private field"),t.get(e)),Tp=(e,t,r)=>t.has(e)?Bs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Lp=(e,t,r,n)=>(Tc(e,t,"write to private field"),t.set(e,r),r),Ze=class Ri{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new Ri(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new Ri(t,r)}},bt=class Qt{constructor(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s,this.scale={x:1,y:1}}get inverseScale(){return{x:1/this.scale.x,y:1/this.scale.y}}translate(t,r){const{top:n,left:s,width:i,height:o,scale:a}=this,l=new Qt(s+t,n+r,i,o);return l.scale=Cp({},a),l}get boundingRectangle(){const{width:t,height:r,left:n,top:s,right:i,bottom:o}=this;return{width:t,height:r,left:n,top:s,right:i,bottom:o}}get center(){const{left:t,top:r,right:n,bottom:s}=this;return new Ze((t+n)/2,(r+s)/2)}get area(){const{width:t,height:r}=this;return t*r}equals(t){if(!(t instanceof Qt))return!1;const{left:r,top:n,width:s,height:i}=this;return r===t.left&&n===t.top&&s===t.width&&i===t.height}containsPoint(t){const{top:r,left:n,bottom:s,right:i}=this;return r<=t.y&&t.y<=s&&n<=t.x&&t.x<=i}intersectionArea(t){return t instanceof Qt?$p(this,t):0}intersectionRatio(t){const{area:r}=this,n=this.intersectionArea(t);return n/(t.area+r-n)}get bottom(){const{top:t,height:r}=this;return t+r}get right(){const{left:t,width:r}=this;return t+r}get aspectRatio(){const{width:t,height:r}=this;return t/r}get corners(){return[{x:this.left,y:this.top},{x:this.right,y:this.top},{x:this.left,y:this.bottom},{x:this.right,y:this.bottom}]}static from({top:t,left:r,width:n,height:s}){return new Qt(r,t,n,s)}static delta(t,r,n={x:"center",y:"center"}){const s=(i,o)=>{const a=n[o],l=o==="x"?i.left:i.top,c=o==="x"?i.width:i.height;return a=="start"?l:a=="end"?l+c:l+c/2};return Ze.delta({x:s(t,"x"),y:s(t,"y")},{x:s(r,"x"),y:s(r,"y")})}static intersectionRatio(t,r){return Qt.from(t).intersectionRatio(Qt.from(r))}};function $p(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=s-n,a=i-r;return n<s&&r<i?o*a:0}var Lc,$c,Ni,os,$n,Ws=class extends(Ni=ur,$c=[Me],Lc=[Me],Ni){constructor(t){const r=Ze.from(t);super(r,(n,s)=>Ze.equals(n,s)),Ap($n,5,this),Tp(this,os,0),this.velocity={x:0,y:0}}get delta(){return Ze.delta(this.current,this.initial)}get direction(){const{current:t,previous:r}=this;if(!r)return null;const n={x:t.x-r.x,y:t.y-r.y};return!n.x&&!n.y?null:Math.abs(n.x)>Math.abs(n.y)?n.x>0?"right":"left":n.y>0?"down":"up"}get current(){return super.current}set current(t){const{current:r}=this,n=Ze.from(t),s={x:n.x-r.x,y:n.y-r.y},i=Date.now(),o=i-Mp(this,os),a=l=>Math.round(l/o*100);Ee(()=>{Lp(this,os,i),this.velocity={x:a(s.x),y:a(s.y)},super.current=n})}reset(t=this.defaultValue){super.reset(Ze.from(t)),this.velocity={x:0,y:0}}};$n=Pp(Ni);os=new WeakMap;Mc($n,2,"delta",$c,Ws);Mc($n,2,"direction",Lc,Ws);Op($n,Ws);function li({x:e,y:t},r){const n=Math.abs(e),s=Math.abs(t);return typeof r=="number"?Math.sqrt(qa(n,2)+qa(s,2))>r:"x"in r&&"y"in r?n>r.x&&s>r.y:"x"in r?n>r.x:"y"in r?s>r.y:!1}var Rc=(e=>(e.Horizontal="x",e.Vertical="y",e))(Rc||{}),Nc=Object.values(Rc),Rp=Object.create,Ao=Object.defineProperty,Np=Object.defineProperties,zp=Object.getOwnPropertyDescriptor,Fp=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,zc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable,Bc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Lr=e=>{throw TypeError(e)},zi=(e,t,r)=>t in e?Ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wc=(e,t)=>{for(var r in t||(t={}))zc.call(t,r)&&zi(e,r,t[r]);if(Es)for(var r of Es(t))Fc.call(t,r)&&zi(e,r,t[r]);return e},Hc=(e,t)=>Np(e,Fp(t)),Ya=(e,t)=>Ao(e,"name",{value:t,configurable:!0}),Uc=(e,t)=>{var r={};for(var n in e)zc.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Es)for(var n of Es(e))t.indexOf(n)<0&&Fc.call(e,n)&&(r[n]=e[n]);return r},$r=e=>{var t;return[,,,Rp((t=e?.[Bc("metadata")])!=null?t:null)]},Vc=["class","method","getter","setter","accessor","field","value","get","set"],Jr=e=>e!==void 0&&typeof e!="function"?Lr("Function expected"):e,Bp=(e,t,r,n,s)=>({kind:Vc[e],name:t,metadata:n,addInitializer:i=>r._?Lr("Already initialized"):s.push(Jr(i||null))}),dr=(e,t)=>zi(t,Bc("metadata"),e[3]),re=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},le=(e,t,r,n,s,i)=>{var o,a,l,c,u,d=t&7,p=!!(t&8),g=!!(t&16),v=d>3?e.length+1:d?p?1:2:0,k=Vc[d+5],y=d>3&&(e[v-1]=[]),S=e[v]||(e[v]=[]),m=d&&(!g&&!p&&(s=s.prototype),d<5&&(d>3||!g)&&zp(d<4?s:{get[r](){return Ne(this,i)},set[r](b){return vt(this,i,b)}},r));d?g&&d<4&&Ya(i,(d>2?"set ":d>1?"get ":"")+r):Ya(s,r);for(var x=n.length-1;x>=0;x--)c=Bp(d,r,l={},e[3],S),d&&(c.static=p,c.private=g,u=c.access={has:g?b=>Wp(s,b):b=>r in b},d^3&&(u.get=g?b=>(d^1?Ne:Hp)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=g?(b,C)=>vt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?g?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,d^4||a===void 0?Jr(a)&&(d>4?y.unshift(a):d?g?i=a:m[k]=a:s=a):typeof a!="object"||a===null?Lr("Object expected"):(Jr(o=a.get)&&(m.get=o),Jr(o=a.set)&&(m.set=o),Jr(o=a.init)&&y.unshift(o));return d||dr(e,s),m&&Ao(s,r,m),g?d^4?i:m:s},Mo=(e,t,r)=>t.has(e)||Lr("Cannot "+r),Wp=(e,t)=>Object(t)!==t?Lr('Cannot use the "in" operator on this value'):e.has(t),Ne=(e,t,r)=>(Mo(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?Lr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),vt=(e,t,r,n)=>(Mo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Hp=(e,t,r)=>(Mo(e,t,"access private method"),r);function Zc(e,t){return{plugin:e,options:t}}function To(e){return t=>Zc(e,t)}function Lo(e){return typeof e=="function"?{plugin:e,options:void 0}:e}var qc,_n,$o,as;qc=[ae];var We=class{constructor(e,t){this.manager=e,this.options=t,ge(this,$o,re(_n,8,this,!1)),re(_n,11,this),ge(this,as,new Set)}enable(){this.disabled=!1}disable(){this.disabled=!0}isDisabled(){return ve(()=>this.disabled)}configure(e){this.options=e}registerEffect(e){const t=Qe(e.bind(this));return Ne(this,as).add(t),t}destroy(){Ne(this,as).forEach(e=>e())}static configure(e){return Zc(this,e)}};_n=$r(null);$o=new WeakMap;as=new WeakMap;le(_n,4,"disabled",qc,We,$o);dr(_n,We);var Hs=class extends We{},ls,ci=class{constructor(e){this.manager=e,this.instances=new Map,ge(this,ls,[])}get values(){return Array.from(this.instances.values())}set values(e){const t=e.map(Lo).reduceRight((n,s)=>n.some(({plugin:i})=>i===s.plugin)?n:[s,...n],[]),r=t.map(({plugin:n})=>n);for(const n of Ne(this,ls))if(!r.includes(n)){if(n.prototype instanceof Hs)continue;this.unregister(n)}for(const{plugin:n,options:s}of t)this.register(n,s);vt(this,ls,r)}get(e){return this.instances.get(e)}register(e,t){const r=this.instances.get(e);if(r)return r.options!==t&&(r.options=t),r;const n=new e(this.manager,t);return this.instances.set(e,n),n}unregister(e){const t=this.instances.get(e);t&&(t.destroy(),this.instances.delete(e))}destroy(){for(const e of this.instances.values())e.destroy();this.instances.clear()}};ls=new WeakMap;function Up(e,t){return e.priority===t.priority?e.type===t.type?t.value-e.value:t.type-e.type:t.priority-e.priority}var Un=[],mr,yr,Vp=class extends We{constructor(e){super(e),ge(this,mr),ge(this,yr),this.computeCollisions=this.computeCollisions.bind(this),vt(this,yr,Tn(Un)),this.destroy=Ln(()=>{const t=this.computeCollisions(),r=ve(()=>this.manager.dragOperation.position.current);if(t!==Un){const n=Ne(this,mr);if(vt(this,mr,r),n&&r.x==n.x&&r.y==n.y)return}else vt(this,mr,void 0);Ne(this,yr).value=t},()=>{const{dragOperation:t}=this.manager;t.status.initialized&&this.forceUpdate()})}forceUpdate(e=!0){ve(()=>{e?Ne(this,yr).value=this.computeCollisions():vt(this,mr,void 0)})}computeCollisions(e,t){const{registry:r,dragOperation:n}=this.manager,{source:s,shape:i,status:o}=n;if(!o.initialized||!i)return Un;const a=[],l=[];for(const c of e??r.droppables){if(c.disabled||s&&!c.accepts(s))continue;const u=t??c.collisionDetector;if(!u)continue;l.push(c),c.shape;const d=ve(()=>u({droppable:c,dragOperation:n}));d&&(c.collisionPriority!=null&&(d.priority=c.collisionPriority),a.push(d))}return l.length===0?Un:(a.sort(Up),a)}get collisions(){return Ne(this,yr).value}};mr=new WeakMap;yr=new WeakMap;var Zp=class{constructor(){this.registry=new Map}addEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));return s.add(r),n.set(t,s),()=>this.removeEventListener(t,r)}removeEventListener(t,r){const{registry:n}=this,s=new Set(n.get(t));s.delete(r),n.set(t,s)}dispatch(t,...r){const{registry:n}=this,s=n.get(t);if(s)for(const i of s)i(...r)}},qp=class extends Zp{constructor(e){super(),this.manager=e}dispatch(e,t){const r=[t,this.manager];super.dispatch(e,...r)}};function cs(e,t=!0){let r=!1;return Hc(Wc({},e),{cancelable:t,get defaultPrevented(){return r},preventDefault(){t&&(r=!0)}})}var Yp=class extends Hs{constructor(e){super(e);const t=(n,s)=>n.map(({id:i})=>i).join("")===s.map(({id:i})=>i).join("");let r=[];this.destroy=Ln(()=>{const{dragOperation:n,collisionObserver:s}=e;n.status.initializing&&(r=[],s.enable())},()=>{const{collisionObserver:n,monitor:s}=e,{collisions:i}=n;if(n.isDisabled())return;const o=cs({collisions:i});if(s.dispatch("collision",o),o.defaultPrevented||t(i,r))return;r=i;const[a]=i;ve(()=>{var l;a?.id!==((l=e.dragOperation.target)==null?void 0:l.id)&&(n.disable(),e.actions.setDropTarget(a?.id).then(()=>{n.enable()}))})})}},ct=(e=>(e[e.Lowest=0]="Lowest",e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Highest=4]="Highest",e))(ct||{}),Ct=(e=>(e[e.Collision=0]="Collision",e[e.ShapeIntersection=1]="ShapeIntersection",e[e.PointerIntersection=2]="PointerIntersection",e))(Ct||{}),Yc,Xc,Kc,Gc,Jc,Qc,eu,dt,Ro;eu=[ae],Qc=[Me],Jc=[Me],Gc=[Me],Kc=[Me],Xc=[Me],Yc=[Me];var At=class{constructor(){re(dt,5,this),ge(this,Ro,re(dt,8,this,"idle")),re(dt,11,this)}get current(){return this.value}get idle(){return this.value==="idle"}get initializing(){return this.value==="initializing"}get initialized(){const{value:e}=this;return e!=="idle"&&e!=="initialization-pending"}get dragging(){return this.value==="dragging"}get dropped(){return this.value==="dropped"}set(e){this.value=e}};dt=$r(null);Ro=new WeakMap;le(dt,4,"value",eu,At,Ro);le(dt,2,"current",Qc,At);le(dt,2,"idle",Jc,At);le(dt,2,"initializing",Gc,At);le(dt,2,"initialized",Kc,At);le(dt,2,"dragging",Xc,At);le(dt,2,"dropped",Yc,At);dr(dt,At);var Xp=class{constructor(e){this.manager=e}setDragSource(e){const{dragOperation:t}=this.manager;t.sourceIdentifier=typeof e=="string"||typeof e=="number"?e:e.id}setDropTarget(e){return ve(()=>{const{dragOperation:t}=this.manager,r=e??null;if(t.targetIdentifier===r)return Promise.resolve(!1);t.targetIdentifier=r;const n=cs({operation:t.snapshot()});return t.status.dragging&&this.manager.monitor.dispatch("dragover",n),this.manager.renderer.rendering.then(()=>n.defaultPrevented)})}start(e){return ve(()=>{const{dragOperation:t}=this.manager;if(e.source!=null&&this.setDragSource(e.source),!t.source)throw new Error("Cannot start a drag operation without a drag source");if(!t.status.idle)throw new Error("Cannot start a drag operation while another is active");const n=new AbortController,{event:s,coordinates:i}=e;Ee(()=>{t.status.set("initialization-pending"),t.shape=null,t.canceled=!1,t.activatorEvent=s??null,t.position.reset(i)});const o=cs({operation:t.snapshot()});return this.manager.monitor.dispatch("beforedragstart",o),o.defaultPrevented?(t.reset(),n.abort(),n):(t.status.set("initializing"),t.controller=n,this.manager.renderer.rendering.then(()=>{if(n.signal.aborted)return;const{status:a}=t;a.current==="initializing"&&(t.status.set("dragging"),this.manager.monitor.dispatch("dragstart",{nativeEvent:s,operation:t.snapshot(),cancelable:!1}))}),n)})}move(e){return ve(()=>{var t,r;const{dragOperation:n}=this.manager,{status:s,controller:i}=n;if(!s.dragging||!i||i.signal.aborted)return;const o=cs({nativeEvent:e.event,operation:n.snapshot(),by:e.by,to:e.to},(t=e.cancelable)!=null?t:!0);((r=e.propagate)==null||r)&&this.manager.monitor.dispatch("dragmove",o),queueMicrotask(()=>{var a,l,c,u,d;if(o.defaultPrevented)return;const p=(d=e.to)!=null?d:{x:n.position.current.x+((l=(a=e.by)==null?void 0:a.x)!=null?l:0),y:n.position.current.y+((u=(c=e.by)==null?void 0:c.y)!=null?u:0)};n.position.current=p})})}stop(e={}){return ve(()=>{var t,r;const{dragOperation:n}=this.manager,{controller:s}=n;if(!s||s.signal.aborted)return;let i;const o=()=>{const l={resume:()=>{},abort:()=>{}};return i=new Promise((c,u)=>{l.resume=c,l.abort=u}),l};s.abort();const a=()=>{this.manager.renderer.rendering.then(()=>{n.status.set("dropped");const l=ve(()=>{var u;return((u=n.source)==null?void 0:u.status)==="dropping"}),c=()=>{n.controller===s&&(n.controller=void 0),n.reset()};if(l){const{source:u}=n,d=Qe(()=>{u?.status==="idle"&&(d(),c())})}else this.manager.renderer.rendering.then(c)})};n.canceled=(t=e.canceled)!=null?t:!1,this.manager.monitor.dispatch("dragend",{nativeEvent:e.event,operation:n.snapshot(),canceled:(r=e.canceled)!=null?r:!1,suspend:o}),i?i.then(a).catch(()=>n.reset()):a()})}},tu,ru,nu,su,Je,No,zo,Fo,Bo;su=[ae],nu=[ae],ru=[ae],tu=[ae];var Kt=class{constructor(e,t){ge(this,No,re(Je,8,this)),re(Je,11,this),ge(this,zo,re(Je,12,this)),re(Je,15,this),ge(this,Fo,re(Je,16,this)),re(Je,19,this),ge(this,Bo,re(Je,20,this)),re(Je,23,this);const{effects:r,id:n,data:s={},disabled:i=!1,register:o=!0}=e;let a=n;this.manager=t,this.id=n,this.data=s,this.disabled=i,this.effects=()=>{var l;return[()=>{const{id:c,manager:u}=this;if(c!==a)return u?.registry.register(this),()=>u?.registry.unregister(this)},...(l=r?.())!=null?l:[]]},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.destroy=this.destroy.bind(this),t&&o&&queueMicrotask(this.register)}register(){var e;return(e=this.manager)==null?void 0:e.registry.register(this)}unregister(){var e;(e=this.manager)==null||e.registry.unregister(this)}destroy(){var e;(e=this.manager)==null||e.registry.unregister(this)}};Je=$r(null);No=new WeakMap;zo=new WeakMap;Fo=new WeakMap;Bo=new WeakMap;le(Je,4,"manager",su,Kt,No);le(Je,4,"id",nu,Kt,zo);le(Je,4,"data",ru,Kt,Fo);le(Je,4,"disabled",tu,Kt,Bo);dr(Je,Kt);var Xa=class{constructor(){this.map=Tn(new Map),this.cleanupFunctions=new WeakMap,this.register=(e,t)=>{const r=this.map.peek(),n=r.get(e),s=()=>this.unregister(e,t);if(n===t)return s;if(n){const a=this.cleanupFunctions.get(n);a?.(),this.cleanupFunctions.delete(n)}const i=new Map(r);i.set(e,t),this.map.value=i;const o=Ln(...t.effects());return this.cleanupFunctions.set(t,o),s},this.unregister=(e,t)=>{const r=this.map.peek();if(r.get(e)!==t)return;const n=this.cleanupFunctions.get(t);n?.(),this.cleanupFunctions.delete(t);const s=new Map(r);s.delete(e),this.map.value=s}}[Symbol.iterator](){return this.map.peek().values()}get value(){return this.map.value.values()}has(e){return this.map.value.has(e)}get(e){return this.map.value.get(e)}destroy(){for(const e of this){const t=this.cleanupFunctions.get(e);t?.(),e.destroy()}this.map.value=new Map}},iu,ou,au,lu,cu,uu,Fi,Ye,Wo,Ho,Uo,Et=class extends(Fi=Kt,uu=[ae],cu=[ae],lu=[ae],au=[Me],ou=[Me],iu=[Me],Fi){constructor(t,r){var n=t,{modifiers:s,type:i,sensors:o}=n,a=Uc(n,["modifiers","type","sensors"]);super(a,r),re(Ye,5,this),ge(this,Wo,re(Ye,8,this)),re(Ye,11,this),ge(this,Ho,re(Ye,12,this)),re(Ye,15,this),ge(this,Uo,re(Ye,16,this,this.isDragSource?"dragging":"idle")),re(Ye,19,this),this.type=i,this.sensors=o,this.modifiers=s,this.alignment=a.alignment}get isDropping(){return this.status==="dropping"&&this.isDragSource}get isDragging(){return this.status==="dragging"&&this.isDragSource}get isDragSource(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.source)==null?void 0:r.id)===this.id}};Ye=$r(Fi);Wo=new WeakMap;Ho=new WeakMap;Uo=new WeakMap;le(Ye,4,"type",uu,Et,Wo);le(Ye,4,"modifiers",cu,Et,Ho);le(Ye,4,"status",lu,Et,Uo);le(Ye,2,"isDropping",au,Et);le(Ye,2,"isDragging",ou,Et);le(Ye,2,"isDragSource",iu,Et);dr(Ye,Et);var du,fu,pu,hu,vu,gu,Bi,Pe,Vo,Zo,qo,Yo,Xo,kt=class extends(Bi=Kt,gu=[ae],vu=[ae],hu=[ae],pu=[ae],fu=[ae],du=[Me],Bi){constructor(t,r){var n=t,{accept:s,collisionDetector:i,collisionPriority:o,type:a}=n,l=Uc(n,["accept","collisionDetector","collisionPriority","type"]);super(l,r),re(Pe,5,this),ge(this,Vo,re(Pe,8,this)),re(Pe,11,this),ge(this,Zo,re(Pe,12,this)),re(Pe,15,this),ge(this,qo,re(Pe,16,this)),re(Pe,19,this),ge(this,Yo,re(Pe,20,this)),re(Pe,23,this),ge(this,Xo,re(Pe,24,this)),re(Pe,27,this),this.accept=s,this.collisionDetector=i,this.collisionPriority=o,this.type=a}accepts(t){const{accept:r}=this;return r?typeof r=="function"?r(t):t.type?Array.isArray(r)?r.includes(t.type):t.type===r:!1:!0}get isDropTarget(){var t,r;return((r=(t=this.manager)==null?void 0:t.dragOperation.target)==null?void 0:r.id)===this.id}};Pe=$r(Bi);Vo=new WeakMap;Zo=new WeakMap;qo=new WeakMap;Yo=new WeakMap;Xo=new WeakMap;le(Pe,4,"accept",gu,kt,Vo);le(Pe,4,"type",vu,kt,Zo);le(Pe,4,"collisionDetector",hu,kt,qo);le(Pe,4,"collisionPriority",pu,kt,Yo);le(Pe,4,"shape",fu,kt,Xo);le(Pe,2,"isDropTarget",du,kt);dr(Pe,kt);var jr=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}},Ka=class extends We{constructor(e,t){super(e,t),this.manager=e,this.options=t}apply(e){return e.transform}},Kp=class{constructor(e){this.draggables=new Xa,this.droppables=new Xa,this.plugins=new ci(e),this.sensors=new ci(e),this.modifiers=new ci(e)}register(e,t){if(e instanceof Et)return this.draggables.register(e.id,e);if(e instanceof kt)return this.droppables.register(e.id,e);if(e.prototype instanceof Ka)return this.modifiers.register(e,t);if(e.prototype instanceof jr)return this.sensors.register(e,t);if(e.prototype instanceof We)return this.plugins.register(e,t);throw new Error("Invalid instance type")}unregister(e){if(e instanceof Kt)return e instanceof Et?this.draggables.unregister(e.id,e):e instanceof kt?this.droppables.unregister(e.id,e):()=>{};if(e.prototype instanceof Ka)return this.modifiers.unregister(e);if(e.prototype instanceof jr)return this.sensors.unregister(e);if(e.prototype instanceof We)return this.plugins.unregister(e);throw new Error("Invalid instance type")}destroy(){this.draggables.destroy(),this.droppables.destroy(),this.plugins.destroy(),this.sensors.destroy(),this.modifiers.destroy()}},mu,yu,_u,bu,xu,wu,Su,Iu,Eu,Qr,us,_r,Se,Ko,Go,Jo,Qo,ea,en;Eu=[Me],Iu=[ae],Su=[ae],wu=[ae],xu=[ae],bu=[ae],_u=[Me],yu=[Me],mu=[Me];var wt=class{constructor(e){re(Se,5,this),ge(this,Qr),ge(this,us),ge(this,_r,new ur(void 0,(t,r)=>t&&r?t.equals(r):t===r)),this.status=new At,ge(this,Ko,re(Se,8,this,!1)),re(Se,11,this),ge(this,Go,re(Se,12,this,null)),re(Se,15,this),ge(this,Jo,re(Se,16,this,null)),re(Se,19,this),ge(this,Qo,re(Se,20,this,null)),re(Se,23,this),ge(this,ea,re(Se,24,this,[])),re(Se,27,this),this.position=new Ws({x:0,y:0}),ge(this,en,{x:0,y:0}),vt(this,Qr,e)}get shape(){const{current:e,initial:t,previous:r}=Ne(this,_r);return!e||!t?null:{current:e,initial:t,previous:r}}set shape(e){e?Ne(this,_r).current=e:Ne(this,_r).reset()}get source(){var e;const t=this.sourceIdentifier;if(t==null)return null;const r=Ne(this,Qr).registry.draggables.get(t);return r&&vt(this,us,r),(e=r??Ne(this,us))!=null?e:null}get target(){var e;const t=this.targetIdentifier;return t!=null&&(e=Ne(this,Qr).registry.droppables.get(t))!=null?e:null}get transform(){const{x:e,y:t}=this.position.delta;let r={x:e,y:t};for(const n of this.modifiers)r=n.apply(Hc(Wc({},this.snapshot()),{transform:r}));return vt(this,en,r),r}snapshot(){return ve(()=>({source:this.source,target:this.target,activatorEvent:this.activatorEvent,transform:Ne(this,en),shape:this.shape?ai(this.shape):null,position:ai(this.position),status:ai(this.status),canceled:this.canceled}))}reset(){Ee(()=>{this.status.set("idle"),this.sourceIdentifier=null,this.targetIdentifier=null,Ne(this,_r).reset(),this.position.reset({x:0,y:0}),vt(this,en,{x:0,y:0}),this.modifiers=[]})}};Se=$r(null);Qr=new WeakMap;us=new WeakMap;_r=new WeakMap;Ko=new WeakMap;Go=new WeakMap;Jo=new WeakMap;Qo=new WeakMap;ea=new WeakMap;en=new WeakMap;le(Se,2,"shape",Eu,wt);le(Se,4,"canceled",Iu,wt,Ko);le(Se,4,"activatorEvent",Su,wt,Go);le(Se,4,"sourceIdentifier",wu,wt,Jo);le(Se,4,"targetIdentifier",xu,wt,Qo);le(Se,4,"modifiers",bu,wt,ea);le(Se,2,"source",_u,wt);le(Se,2,"target",yu,wt);le(Se,2,"transform",mu,wt);dr(Se,wt);var Gp={get rendering(){return Promise.resolve()}},Jp=class{constructor(t){this.destroy=()=>{this.dragOperation.status.idle||this.actions.stop({canceled:!0}),this.dragOperation.modifiers.forEach(u=>u.destroy()),this.registry.destroy(),this.collisionObserver.destroy()};const{plugins:r=[],sensors:n=[],modifiers:s=[],renderer:i=Gp}=t??{},o=new qp(this),a=new Kp(this);this.registry=a,this.monitor=o,this.renderer=i,this.actions=new Xp(this),this.dragOperation=new wt(this),this.collisionObserver=new Vp(this),this.plugins=[Yp,...r],this.modifiers=s,this.sensors=n;const{destroy:l}=this,c=Ln(()=>{var u,d,p;const g=ve(()=>this.dragOperation.modifiers),v=this.modifiers;g!==v&&g.forEach(k=>k.destroy()),this.dragOperation.modifiers=(p=(d=(u=this.dragOperation.source)==null?void 0:u.modifiers)==null?void 0:d.map(k=>{const{plugin:y,options:S}=Lo(k);return new y(this,S)}))!=null?p:v});this.destroy=()=>{c(),l()}}get plugins(){return this.registry.plugins.values}set plugins(t){this.registry.plugins.values=t}get modifiers(){return this.registry.modifiers.values}set modifiers(t){this.registry.modifiers.values=t}get sensors(){return this.registry.sensors.values}set sensors(t){this.registry.sensors.values=t}},ku=e=>{throw TypeError(e)},ta=(e,t,r)=>t.has(e)||ku("Cannot "+r),ne=(e,t,r)=>(ta(e,t,"read from private field"),t.get(e)),Ge=(e,t,r)=>t.has(e)?ku("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rt=(e,t,r,n)=>(ta(e,t,"write to private field"),t.set(e,r),r),ju=(e,t,r)=>(ta(e,t,"access private method"),r);function Us(e){return e?e instanceof KeyframeEffect?!0:"getKeyframes"in e&&typeof e.getKeyframes=="function":!1}function Cu(e,t){const r=e.getAnimations();if(r.length>0)for(const n of r){if(n.playState!=="running")continue;const{effect:s}=n,o=(Us(s)?s.getKeyframes():[]).filter(t);if(o.length>0)return[o[o.length-1],n]}return null}function Vs(e){const{width:t,height:r,top:n,left:s,bottom:i,right:o}=e.getBoundingClientRect();return{width:t,height:r,top:n,left:s,bottom:i,right:o}}var Pu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ra(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function na(e){return"nodeType"in e}function Mt(e){var t,r,n;return e?ra(e)?e:na(e)?"defaultView"in e?(t=e.defaultView)!=null?t:window:(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window:window}function Du(e){const{Document:t}=Mt(e);return e instanceof t||"nodeType"in e&&e.nodeType===Node.DOCUMENT_NODE}function lr(e){return!e||ra(e)?!1:e instanceof Mt(e).HTMLElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("html")}function Ou(e){return e instanceof Mt(e).SVGElement||"namespaceURI"in e&&typeof e.namespaceURI=="string"&&e.namespaceURI.endsWith("svg")}function jt(e){return e?ra(e)?e.document:na(e)?Du(e)?e:lr(e)||Ou(e)?e.ownerDocument:document:document:document}function Qp(e){const{documentElement:t}=jt(e),r=t.clientWidth,n=t.clientHeight;return{top:0,left:0,right:r,bottom:n,width:r,height:n}}function eh(e,t){if(th(e)&&e.open===!1)return!1;const{overflow:r,overflowX:n,overflowY:s}=getComputedStyle(e);return r==="visible"&&n==="visible"&&s==="visible"}function th(e){return e.tagName==="DETAILS"}function bn(e,t=e.getBoundingClientRect(),r=0){var n;let s=t;const{ownerDocument:i}=e,o=(n=i.defaultView)!=null?n:window;let a=e.parentElement;for(;a&&a!==i.documentElement;){if(!eh(a)){const p=a.getBoundingClientRect(),g=r*(p.bottom-p.top),v=r*(p.right-p.left),k=r*(p.bottom-p.top),y=r*(p.right-p.left);s={top:Math.max(s.top,p.top-g),right:Math.min(s.right,p.right+v),bottom:Math.min(s.bottom,p.bottom+k),left:Math.max(s.left,p.left-y),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top}a=a.parentElement}const l=o.innerWidth,c=o.innerHeight,u=r*c,d=r*l;return s={top:Math.max(s.top,0-u),right:Math.min(s.right,l+d),bottom:Math.min(s.bottom,c+u),left:Math.max(s.left,0-d),width:0,height:0},s.width=s.right-s.left,s.height=s.bottom-s.top,s.width<0&&(s.width=0),s.height<0&&(s.height=0),s}function Au(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function rh(e){const t="input, textarea, select, canvas, [contenteditable]",r=e.cloneNode(!0),n=Array.from(e.querySelectorAll(t));return Array.from(r.querySelectorAll(t)).forEach((i,o)=>{const a=n[o];if(Ga(i)&&Ga(a)&&(i.type!=="file"&&(i.value=a.value),i.type==="radio"&&i.name&&(i.name=`Cloned__${i.name}`)),Ja(i)&&Ja(a)&&a.width>0&&a.height>0){const l=i.getContext("2d");l?.drawImage(a,0,0)}}),r}function Ga(e){return"value"in e}function Ja(e){return e.tagName==="CANVAS"}function Mu(e,{x:t,y:r}){const n=e.elementFromPoint(t,r);if(nh(n)){const{contentDocument:s}=n;if(s){const{left:i,top:o}=n.getBoundingClientRect();return Mu(s,{x:t-i,y:r-o})}}return n}function nh(e){return e?.tagName==="IFRAME"}var Wi=new WeakMap,Tu=class{constructor(){this.entries=new Set,this.clear=()=>{for(const e of this.entries){const[t,{type:r,listener:n,options:s}]=e;t.removeEventListener(r,n,s)}this.entries.clear()}}bind(e,t){const r=Array.isArray(t)?t:[t],n=[];for(const s of r){const{type:i,listener:o,options:a}=s,l=[e,s];e.addEventListener(i,o,a),this.entries.add(l),n.push(l)}return function(){for(const[i,{type:o,listener:a,options:l}]of n)i.removeEventListener(o,a,l)}}};function Cr(e){const t=e?.ownerDocument.defaultView;if(t&&t.self!==t.parent)return t.frameElement}function sh(e){const t=new Set;let r=Cr(e);for(;r;)t.add(r),r=Cr(r);return t}function ih(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function Lu(e,t){const r=()=>performance.now();let n,s;return function(...i){const o=this;s?(n?.(),n=ih(()=>{e.apply(o,i),s=r()},t-(r()-s))):(e.apply(o,i),s=r())}}function oh(e,t){return e===t?!0:!e||!t?!1:e.top==t.top&&e.left==t.left&&e.right==t.right&&e.bottom==t.bottom}function ah(e,t=e.getBoundingClientRect()){const{width:r,height:n}=bn(e,t);return r>0&&n>0}var lh=Pu?ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},ds,ch=class extends lh{constructor(e){super(t=>{if(!ne(this,ds)){rt(this,ds,!0);return}e(t,this)}),Ge(this,ds,!1)}};ds=new WeakMap;var Qa=Array.from({length:100},(e,t)=>t/100),$u=75,er,ks,zt,tr,tn,Re,vn,rn,js,Ru,Nu,zu=class{constructor(e,t,r={debug:!1,skipInitial:!1}){this.element=e,this.callback=t,Ge(this,js),this.disconnect=()=>{var i,o,a;rt(this,vn,!0),(i=ne(this,zt))==null||i.disconnect(),(o=ne(this,tr))==null||o.disconnect(),ne(this,tn).disconnect(),(a=ne(this,Re))==null||a.remove()},Ge(this,er,!0),Ge(this,ks),Ge(this,zt),Ge(this,tr),Ge(this,tn),Ge(this,Re),Ge(this,vn,!1),Ge(this,rn,Lu(()=>{var i,o,a;const{element:l}=this;if((i=ne(this,tr))==null||i.disconnect(),ne(this,vn)||!ne(this,er)||!l.isConnected)return;const c=(o=l.ownerDocument)!=null?o:document,{innerHeight:u,innerWidth:d}=(a=c.defaultView)!=null?a:window,p=l.getBoundingClientRect(),g=bn(l,p),{top:v,left:k,bottom:y,right:S}=g,m=-Math.floor(v),x=-Math.floor(k),b=-Math.floor(d-S),C=-Math.floor(u-y),I=`${m}px ${b}px ${C}px ${x}px`;this.boundingClientRect=p,rt(this,tr,new IntersectionObserver(D=>{const[_]=D,{intersectionRect:j}=_;(_.intersectionRatio!==1?_.intersectionRatio:bt.intersectionRatio(j,bn(l)))!==1&&ne(this,rn).call(this)},{threshold:Qa,rootMargin:I,root:c})),ne(this,tr).observe(l),ju(this,js,Ru).call(this)},$u)),this.boundingClientRect=e.getBoundingClientRect(),rt(this,er,ah(e,this.boundingClientRect));let n=!0;this.callback=i=>{n&&(n=!1,r.skipInitial)||t(i)};const s=e.ownerDocument;r?.debug&&(rt(this,Re,document.createElement("div")),ne(this,Re).style.background="rgba(0,0,0,0.15)",ne(this,Re).style.position="fixed",ne(this,Re).style.pointerEvents="none",s.body.appendChild(ne(this,Re))),rt(this,tn,new IntersectionObserver(i=>{var o,a;const l=i[i.length-1],{boundingClientRect:c,isIntersecting:u}=l,{width:d,height:p}=c,g=ne(this,er);rt(this,er,u),!(!d&&!p)&&(g&&!u?((o=ne(this,tr))==null||o.disconnect(),this.callback(null),(a=ne(this,zt))==null||a.disconnect(),rt(this,zt,void 0),ne(this,Re)&&(ne(this,Re).style.visibility="hidden")):ne(this,rn).call(this),u&&!ne(this,zt)&&(rt(this,zt,new ch(ne(this,rn))),ne(this,zt).observe(e)))},{threshold:Qa,root:s})),ne(this,er)&&!r.skipInitial&&this.callback(this.boundingClientRect),ne(this,tn).observe(e)}};er=new WeakMap;ks=new WeakMap;zt=new WeakMap;tr=new WeakMap;tn=new WeakMap;Re=new WeakMap;vn=new WeakMap;rn=new WeakMap;js=new WeakSet;Ru=function(){ne(this,vn)||(ju(this,js,Nu).call(this),!oh(this.boundingClientRect,ne(this,ks))&&(this.callback(this.boundingClientRect),rt(this,ks,this.boundingClientRect)))};Nu=function(){if(ne(this,Re)){const{top:e,left:t,width:r,height:n}=bn(this.element);ne(this,Re).style.overflow="hidden",ne(this,Re).style.visibility="visible",ne(this,Re).style.top=`${Math.floor(e)}px`,ne(this,Re).style.left=`${Math.floor(t)}px`,ne(this,Re).style.width=`${Math.floor(r)}px`,ne(this,Re).style.height=`${Math.floor(n)}px`}};var Vn=new WeakMap,Zn=new WeakMap;function uh(e,t){let r=Vn.get(e);return r||(r={disconnect:new zu(e,s=>{const i=Vn.get(e);i&&i.callbacks.forEach(o=>o(s))},{skipInitial:!0}).disconnect,callbacks:new Set}),r.callbacks.add(t),Vn.set(e,r),()=>{r.callbacks.delete(t),r.callbacks.size===0&&(Vn.delete(e),r.disconnect())}}function dh(e,t){const r=new Set;for(const n of e){const s=uh(n,t);r.add(s)}return()=>r.forEach(n=>n())}function fh(e,t){var r;const n=e.ownerDocument;if(!Zn.has(n)){const o=new AbortController,a=new Set;document.addEventListener("scroll",l=>a.forEach(c=>c(l)),{capture:!0,passive:!0,signal:o.signal}),Zn.set(n,{disconnect:()=>o.abort(),listeners:a})}const{listeners:s,disconnect:i}=(r=Zn.get(n))!=null?r:{};return!s||!i?()=>{}:(s.add(t),()=>{s.delete(t),s.size===0&&(i(),Zn.delete(n))})}var nn,sn,fs,Hi,ph=class{constructor(e,t,r){this.callback=t,Ge(this,nn),Ge(this,sn,!1),Ge(this,fs),Ge(this,Hi,Lu(o=>{if(!ne(this,sn)&&o.target&&"contains"in o.target&&typeof o.target.contains=="function"){for(const a of ne(this,fs))if(o.target.contains(a)){this.callback(ne(this,nn).boundingClientRect);break}}},$u));const n=sh(e),s=dh(n,t),i=fh(e,ne(this,Hi));rt(this,fs,n),rt(this,nn,new zu(e,t,r)),this.disconnect=()=>{ne(this,sn)||(rt(this,sn,!0),s(),i(),ne(this,nn).disconnect())}}};nn=new WeakMap;sn=new WeakMap;fs=new WeakMap;Hi=new WeakMap;function Ui(e){return"showPopover"in e&&"hidePopover"in e&&typeof e.showPopover=="function"&&typeof e.hidePopover=="function"}function on(e){try{Ui(e)&&e.isConnected&&e.hasAttribute("popover")&&!e.matches(":popover-open")&&e.showPopover()}catch{}}function el(e){return!Pu||!e?!1:e===jt(e).scrollingElement}function Fu(e){const t=Mt(e),r=el(e)?Qp(e):Vs(e),n=el(e)?{height:t.innerHeight,width:t.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={current:{x:e.scrollLeft,y:e.scrollTop},max:{x:e.scrollWidth-n.width,y:e.scrollHeight-n.height}},i=s.current.y<=0,o=s.current.x<=0,a=s.current.y>=s.max.y,l=s.current.x>=s.max.x;return{rect:r,position:s,isTop:i,isLeft:o,isBottom:a,isRight:l}}function hh(e,t){const{isTop:r,isBottom:n,isLeft:s,isRight:i,position:o}=Fu(e),{x:a,y:l}=t??{x:0,y:0},c=!r&&o.current.y+l>0,u=!n&&o.current.y+l<o.max.y,d=!s&&o.current.x+a>0,p=!i&&o.current.x+a<o.max.x;return{top:c,bottom:u,left:d,right:p,x:d||p,y:c||u}}var sa=class{constructor(t){this.scheduler=t,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:r,resolvers:n}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const s of r)s();for(const s of n)s()}}schedule(t){return this.tasks.add(t),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(r=>this.resolvers.add(r))}},Cs=new sa(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),vh=new sa(e=>setTimeout(e,50)),Ps=new Map,gh=Ps.clear.bind(Ps);function xt(e,t=!1){if(!t)return tl(e);let r=Ps.get(e);return r||(r=tl(e),Ps.set(e,r),vh.schedule(gh),r)}function tl(e){return Mt(e).getComputedStyle(e)}function mh(e,t=xt(e,!0)){return t.position==="fixed"||t.position==="sticky"}function yh(e,t=xt(e,!0)){const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const i=t[s];return typeof i=="string"?r.test(i):!1})}var _h={excludeElement:!0};function Vi(e,t=_h){const{limit:r,excludeElement:n}=t,s=new Set;function i(o){if(r!=null&&s.size>=r||!o)return s;if(Du(o)&&o.scrollingElement!=null&&!s.has(o.scrollingElement))return s.add(o.scrollingElement),s;if(!lr(o))return Ou(o)?i(o.parentElement):s;if(s.has(o))return s;const a=xt(o,!0);if(n&&o===e||yh(o,a)&&s.add(o),mh(o,a)){const{scrollingElement:l}=o.ownerDocument;return l&&s.add(l),s}return i(o.parentNode)}return e?i(e):s}function bh(e){const[t]=Vi(e,{limit:1});return t??null}function Pr(e,t=window.frameElement){const r={x:0,y:0,scaleX:1,scaleY:1};if(!e)return r;let n=Cr(e);for(;n;){if(n===t)return r;const s=Vs(n),{x:i,y:o}=xh(n,s);r.x=r.x+s.left,r.y=r.y+s.top,r.scaleX=r.scaleX*i,r.scaleY=r.scaleY*o,n=Cr(n)}return r}function xh(e,t=Vs(e)){const r=Math.round(t.width),n=Math.round(t.height);if(lr(e))return{x:r/e.offsetWidth,y:n/e.offsetHeight};const s=xt(e,!0);return{x:(parseFloat(s.width)||r)/r,y:(parseFloat(s.height)||n)/n}}function wh(e){if(e==="none")return null;const t=e.split(" "),r=parseFloat(t[0]),n=parseFloat(t[1]);return isNaN(r)&&isNaN(n)?null:{x:isNaN(r)?n:r,y:isNaN(n)?r:n}}function xn(e){if(e==="none")return null;const[t,r,n="0"]=e.split(" "),s={x:parseFloat(t),y:parseFloat(r),z:parseInt(n,10)};return isNaN(s.x)&&isNaN(s.y)?null:{x:isNaN(s.x)?0:s.x,y:isNaN(s.y)?0:s.y,z:isNaN(s.z)?0:s.z}}function ia(e){var t,r,n,s,i,o,a,l,c;const{scale:u,transform:d,translate:p}=e,g=wh(u),v=xn(p),k=Sh(d);if(!k&&!g&&!v)return null;const y={x:(t=g?.x)!=null?t:1,y:(r=g?.y)!=null?r:1},S={x:(n=v?.x)!=null?n:0,y:(s=v?.y)!=null?s:0},m={x:(i=k?.x)!=null?i:0,y:(o=k?.y)!=null?o:0,scaleX:(a=k?.scaleX)!=null?a:1,scaleY:(l=k?.scaleY)!=null?l:1};return{x:S.x+m.x,y:S.y+m.y,z:(c=v?.z)!=null?c:0,scaleX:y.x*m.scaleX,scaleY:y.y*m.scaleY}}function Sh(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}var ut=(e=>(e[e.Idle=0]="Idle",e[e.Forward=1]="Forward",e[e.Reverse=-1]="Reverse",e))(ut||{}),Ih={x:.2,y:.2},Eh={x:10,y:10};function kh(e,t,r,n=25,s=Ih,i=Eh){const{x:o,y:a}=t,{rect:l,isTop:c,isBottom:u,isLeft:d,isRight:p}=Fu(e),g=Pr(e),v=xt(e,!0),k=ia(v),y=k!==null?k?.scaleX<0:!1,S=k!==null?k?.scaleY<0:!1,m=new bt(l.left*g.scaleX+g.x,l.top*g.scaleY+g.y,l.width*g.scaleX,l.height*g.scaleY),x={x:0,y:0},b={x:0,y:0},C={height:m.height*s.y,width:m.width*s.x};return(!c||S&&!u)&&a<=m.top+C.height&&r?.y!==1&&o>=m.left-i.x&&o<=m.right+i.x?(x.y=S?1:-1,b.y=n*Math.abs((m.top+C.height-a)/C.height)):(!u||S&&!c)&&a>=m.bottom-C.height&&r?.y!==-1&&o>=m.left-i.x&&o<=m.right+i.x&&(x.y=S?-1:1,b.y=n*Math.abs((m.bottom-C.height-a)/C.height)),(!p||y&&!d)&&o>=m.right-C.width&&r?.x!==-1&&a>=m.top-i.y&&a<=m.bottom+i.y?(x.x=y?-1:1,b.x=n*Math.abs((m.right-C.width-o)/C.width)):(!d||y&&!p)&&o<=m.left+C.width&&r?.x!==1&&a>=m.top-i.y&&a<=m.bottom+i.y&&(x.x=y?1:-1,b.x=n*Math.abs((m.left+C.width-o)/C.width)),{direction:x,speed:b}}function jh(e){return"scrollIntoViewIfNeeded"in e&&typeof e.scrollIntoViewIfNeeded=="function"}function Bu(e,t=!1){if(jh(e)){e.scrollIntoViewIfNeeded(t);return}if(!lr(e))return e.scrollIntoView();var r=bh(e);if(!lr(r))return;const n=xt(r,!0),s=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=e.offsetTop-r.offsetTop<r.scrollTop,a=e.offsetTop-r.offsetTop+e.clientHeight-s>r.scrollTop+r.clientHeight,l=e.offsetLeft-r.offsetLeft<r.scrollLeft,c=e.offsetLeft-r.offsetLeft+e.clientWidth-i>r.scrollLeft+r.clientWidth,u=o&&!a;(o||a)&&t&&(r.scrollTop=e.offsetTop-r.offsetTop-r.clientHeight/2-s+e.clientHeight/2),(l||c)&&t&&(r.scrollLeft=e.offsetLeft-r.offsetLeft-r.clientWidth/2-i+e.clientWidth/2),(o||a||l||c)&&!t&&e.scrollIntoView(u)}function Ch(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left+i+(1-n)*parseFloat(r),l=e.top+o+(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width*n:e.width,u=s?e.height*s:e.height;return{width:c,height:u,top:l,right:a+c,bottom:l+u,left:a}}function Ph(e,t,r){const{scaleX:n,scaleY:s,x:i,y:o}=t,a=e.left-i-(1-n)*parseFloat(r),l=e.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),c=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:c,height:u,top:l,right:a+c,bottom:l+u,left:a}}function Wu({element:e,keyframes:t,options:r}){return e.animate(t,r).finished}function rl(e,t=xt(e).translate,r=!0){if(r){const n=Cu(e,s=>"translate"in s);if(n){const{translate:s=""}=n[0];if(typeof s=="string"){const i=xn(s);if(i)return i}}}if(t){const n=xn(t);if(n)return n}return{x:0,y:0,z:0}}var Dh=new sa(e=>setTimeout(e,0)),gn=new Map,Oh=gn.clear.bind(gn);function Ah(e){const t=e.ownerDocument;let r=gn.get(t);if(r)return r;r=t.getAnimations(),gn.set(t,r),Dh.schedule(Oh);const n=r.filter(s=>Us(s.effect)&&s.effect.target===e);return gn.set(e,n),r}function Mh(e,t){const r=Ah(e).filter(n=>{var s,i;if(Us(n.effect)){const{target:o}=n.effect;if((i=o&&((s=t.isValidTarget)==null?void 0:s.call(t,o)))!=null?i:!0)return n.effect.getKeyframes().some(l=>{for(const c of t.properties)if(l[c])return!0})}}).map(n=>{const{effect:s,currentTime:i}=n,o=s?.getComputedTiming().duration;if(!(n.pending||n.playState==="finished")&&typeof o=="number"&&typeof i=="number"&&i<o)return n.currentTime=o,()=>{n.currentTime=i}});if(r.length>0)return()=>r.forEach(n=>n?.())}var pt=class extends bt{constructor(e,t={}){var r,n,s,i;const{frameTransform:o=Pr(e),ignoreTransforms:a,getBoundingClientRect:l=Vs}=t,c=Mh(e,{properties:["transform","translate","scale","width","height"],isValidTarget:C=>(C!==e||Au())&&C.contains(e)}),u=l(e);let{top:d,left:p,width:g,height:v}=u,k;const y=xt(e),S=ia(y),m={x:(r=S?.scaleX)!=null?r:1,y:(n=S?.scaleY)!=null?n:1},x=Th(e,y);c?.(),S&&(k=Ph(u,S,y.transformOrigin),(a||x)&&(d=k.top,p=k.left,g=k.width,v=k.height));const b={width:(s=k?.width)!=null?s:g,height:(i=k?.height)!=null?i:v};if(x&&!a&&k){const C=Ch(k,x,y.transformOrigin);d=C.top,p=C.left,g=C.width,v=C.height,m.x=x.scaleX,m.y=x.scaleY}o&&(a||(p*=o.scaleX,g*=o.scaleX,d*=o.scaleY,v*=o.scaleY),p+=o.x,d+=o.y),super(p,d,g,v),this.scale=m,this.intrinsicWidth=b.width,this.intrinsicHeight=b.height}};function Th(e,t){var r;const n=e.getAnimations();let s=null;if(!n.length)return null;for(const i of n){if(i.playState!=="running")continue;const o=Us(i.effect)?i.effect.getKeyframes():[],a=o[o.length-1];if(!a)continue;const{transform:l,translate:c,scale:u}=a;if(l||c||u){const d=ia({transform:typeof l=="string"&&l?l:t.transform,translate:typeof c=="string"&&c?c:t.translate,scale:typeof u=="string"&&u?u:t.scale});d&&(s=s?{x:s.x+d.x,y:s.y+d.y,z:(r=s.z)!=null?r:d.z,scaleX:s.scaleX*d.scaleX,scaleY:s.scaleY*d.scaleY}:d)}}return s}function mn(e){return"style"in e&&typeof e.style=="object"&&e.style!==null&&"setProperty"in e.style&&"removeProperty"in e.style&&typeof e.style.setProperty=="function"&&typeof e.style.removeProperty=="function"}var Lh=class{constructor(e){this.element=e,this.initial=new Map}set(e,t=""){const{element:r}=this;if(mn(r))for(const[n,s]of Object.entries(e)){const i=`${t}${n}`;this.initial.has(i)||this.initial.set(i,r.style.getPropertyValue(i)),r.style.setProperty(i,typeof s=="string"?s:`${s}px`)}}remove(e,t=""){const{element:r}=this;if(mn(r))for(const n of e){const s=`${t}${n}`;r.style.removeProperty(s)}}reset(){const{element:e}=this;if(mn(e)){for(const[t,r]of this.initial)e.style.setProperty(t,r);e.getAttribute("style")===""&&e.removeAttribute("style")}}};function Rr(e){return e?e instanceof Mt(e).Element||na(e)&&e.nodeType===Node.ELEMENT_NODE:!1}function wn(e){if(!e)return!1;const{KeyboardEvent:t}=Mt(e.target);return e instanceof t}function $h(e){if(!e)return!1;const{PointerEvent:t}=Mt(e.target);return e instanceof t}function Rh(e){if(!Rr(e))return!1;const{tagName:t}=e;return t==="INPUT"||t==="TEXTAREA"||Nh(e)}function Nh(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"}var ui={};function Zi(e){const t=ui[e]==null?0:ui[e]+1;return ui[e]=t,`${e}-${t}`}var zh=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=Ze.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},Fh=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=Ze.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Ct.ShapeIntersection,priority:ct.Normal}}return null},Hu=e=>{var t;return(t=zh(e))!=null?t:Fh(e)},Bh=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?bt.from(n.current.boundingRectangle).corners:void 0,a=bt.from(r.shape.boundingRectangle).corners.reduce((l,c,u)=>{var d;return l+Ze.distance(Ze.from(c),(d=i?.[u])!=null?d:s.current)},0)/4;return{id:r.id,value:1/a,type:Ct.Collision,priority:ct.Normal}},Wh=Object.create,oa=Object.defineProperty,Hh=Object.defineProperties,Uh=Object.getOwnPropertyDescriptor,Vh=Object.getOwnPropertyDescriptors,Ds=Object.getOwnPropertySymbols,Uu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,Zu=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Nr=e=>{throw TypeError(e)},qi=(e,t,r)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sn=(e,t)=>{for(var r in t||(t={}))Uu.call(t,r)&&qi(e,r,t[r]);if(Ds)for(var r of Ds(t))Vu.call(t,r)&&qi(e,r,t[r]);return e},aa=(e,t)=>Hh(e,Vh(t)),nl=(e,t)=>oa(e,"name",{value:t,configurable:!0}),qu=(e,t)=>{var r={};for(var n in e)Uu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ds)for(var n of Ds(e))t.indexOf(n)<0&&Vu.call(e,n)&&(r[n]=e[n]);return r},Rn=e=>{var t;return[,,,Wh((t=e?.[Zu("metadata")])!=null?t:null)]},Yu=["class","method","getter","setter","accessor","field","value","get","set"],an=e=>e!==void 0&&typeof e!="function"?Nr("Function expected"):e,Zh=(e,t,r,n,s)=>({kind:Yu[e],name:t,metadata:n,addInitializer:i=>r._?Nr("Already initialized"):s.push(an(i||null))}),zr=(e,t)=>qi(t,Zu("metadata"),e[3]),Te=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Tt=(e,t,r,n,s,i)=>{var o,a,l,c,u,d=t&7,p=!!(t&8),g=!!(t&16),v=d>3?e.length+1:d?p?1:2:0,k=Yu[d+5],y=d>3&&(e[v-1]=[]),S=e[v]||(e[v]=[]),m=d&&(!g&&!p&&(s=s.prototype),d<5&&(d>3||!g)&&Uh(d<4?s:{get[r](){return ze(this,i)},set[r](b){return mt(this,i,b)}},r));d?g&&d<4&&nl(i,(d>2?"set ":d>1?"get ":"")+r):nl(s,r);for(var x=n.length-1;x>=0;x--)c=Zh(d,r,l={},e[3],S),d&&(c.static=p,c.private=g,u=c.access={has:g?b=>qh(s,b):b=>r in b},d^3&&(u.get=g?b=>(d^1?ze:Yi)(b,s,d^4?i:m.get):b=>b[r]),d>2&&(u.set=g?(b,C)=>mt(b,s,C,d^4?i:m.set):(b,C)=>b[r]=C)),a=(0,n[x])(d?d<4?g?i:m[k]:d>4?void 0:{get:m.get,set:m.set}:s,c),l._=1,d^4||a===void 0?an(a)&&(d>4?y.unshift(a):d?g?i=a:m[k]=a:s=a):typeof a!="object"||a===null?Nr("Object expected"):(an(o=a.get)&&(m.get=o),an(o=a.set)&&(m.set=o),an(o=a.init)&&y.unshift(o));return d||zr(e,s),m&&oa(s,r,m),g?d^4?i:m:s},la=(e,t,r)=>t.has(e)||Nr("Cannot "+r),qh=(e,t)=>Object(t)!==t?Nr('Cannot use the "in" operator on this value'):e.has(t),ze=(e,t,r)=>(la(e,t,"read from private field"),r?r.call(e):t.get(e)),Fe=(e,t,r)=>t.has(e)?Nr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,n)=>(la(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Yi=(e,t,r)=>(la(e,t,"access private method"),r),sl={role:"button",roleDescription:"draggable"},Yh="dnd-kit-description",Xh="dnd-kit-announcement",Kh={draggable:"To pick up a draggable item, press the space bar. While dragging, use the arrow keys to move the item in a given direction. Press space again to drop the item in its new position, or press escape to cancel."},Gh={dragstart({operation:{source:e}}){if(e)return`Picked up draggable item ${e.id}.`},dragover({operation:{source:e,target:t}}){if(!(!e||e.id===t?.id))return t?`Draggable item ${e.id} was moved over droppable target ${t.id}.`:`Draggable item ${e.id} is no longer over a droppable target.`},dragend({operation:{source:e,target:t},canceled:r}){if(e)return r?`Dragging was cancelled. Draggable item ${e.id} was dropped.`:t?`Draggable item ${e.id} was dropped over droppable target ${t.id}`:`Draggable item ${e.id} was dropped.`}};function Jh(e){const t=e.tagName.toLowerCase();return["input","select","textarea","a","button"].includes(t)}function Qh(e,t){const r=document.createElement("div");return r.id=e,r.style.setProperty("display","none"),r.textContent=t,r}function ev(e){const t=document.createElement("div");return t.id=e,t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.setProperty("position","fixed"),t.style.setProperty("width","1px"),t.style.setProperty("height","1px"),t.style.setProperty("margin","-1px"),t.style.setProperty("border","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("clip","rect(0 0 0 0)"),t.style.setProperty("clip-path","inset(100%)"),t.style.setProperty("white-space","nowrap"),t}var tv=["dragover","dragmove"],rv=class extends We{constructor(e,t){super(e);const{id:r,idPrefix:{description:n=Yh,announcement:s=Xh}={},announcements:i=Gh,screenReaderInstructions:o=Kh,debounce:a=500}=t??{},l=r?`${n}-${r}`:Zi(n),c=r?`${s}-${r}`:Zi(s);let u,d,p,g;const v=(C=g)=>{!p||!C||p?.nodeValue!==C&&(p.nodeValue=C)},k=()=>Cs.schedule(v),y=nv(k,a),S=Object.entries(i).map(([C,I])=>this.manager.monitor.addEventListener(C,(D,_)=>{const j=p;if(!j)return;const h=I?.(D,_);h&&j.nodeValue!==h&&(g=h,tv.includes(C)?y():(k(),y.cancel()))})),m=()=>{let C=[];u?.isConnected||(u=Qh(l,o.draggable),C.push(u)),d?.isConnected||(d=ev(c),p=document.createTextNode(""),d.appendChild(p),C.push(d)),C.length>0&&document.body.append(...C)},x=new Set;function b(){for(const C of x)C()}this.registerEffect(()=>{var C;x.clear();for(const I of this.manager.registry.draggables.value){const D=(C=I.handle)!=null?C:I.element;if(D){(!u||!d)&&x.add(m),(!Jh(D)||Au())&&!D.hasAttribute("tabindex")&&x.add(()=>D.setAttribute("tabindex","0")),!D.hasAttribute("role")&&D.tagName.toLowerCase()!=="button"&&x.add(()=>D.setAttribute("role",sl.role)),D.hasAttribute("aria-roledescription")||x.add(()=>D.setAttribute("aria-roledescription",sl.roleDescription)),D.hasAttribute("aria-describedby")||x.add(()=>D.setAttribute("aria-describedby",l));for(const j of["aria-pressed","aria-grabbed"]){const h=String(I.isDragging);D.getAttribute(j)!==h&&x.add(()=>D.setAttribute(j,h))}const _=String(I.disabled);D.getAttribute("aria-disabled")!==_&&x.add(()=>D.setAttribute("aria-disabled",_))}}x.size>0&&Cs.schedule(b)}),this.destroy=()=>{super.destroy(),u?.remove(),d?.remove(),S.forEach(C=>C())}}};function nv(e,t){let r;const n=()=>{clearTimeout(r),r=setTimeout(e,t)};return n.cancel=()=>clearTimeout(r),n}var sv=class extends We{constructor(e,t){super(e,t),this.manager=e;const r=Is(()=>{var n;return jt((n=this.manager.dragOperation.source)==null?void 0:n.element)});this.destroy=Qe(()=>{var n;const{dragOperation:s}=this.manager,{cursor:i="grabbing",nonce:o}=(n=this.options)!=null?n:{};if(s.status.initialized){const a=r.value,l=a.createElement("style");return o&&l.setAttribute("nonce",o),l.textContent=`* { cursor: ${i} !important; }`,a.head.appendChild(l),()=>l.remove()}})}},Nn="data-dnd-",Xi=`${Nn}dropping`,Ue="--dnd-",It=`${Nn}dragging`,Os=`${Nn}placeholder`,iv=[It,Os,"popover","aria-pressed","aria-grabbing"],ov=["view-transition-name"],av=`
  :root [${It}] {
    position: fixed !important;
    pointer-events: none !important;
    touch-action: none;
    z-index: calc(infinity);
    will-change: translate;
    top: var(${Ue}top, 0px) !important;
    left: var(${Ue}left, 0px) !important;
    right: unset !important;
    bottom: unset !important;
    width: var(${Ue}width, auto);
    max-width: var(${Ue}width, auto);
    height: var(${Ue}height, auto);
    max-height: var(${Ue}height, auto);
    transition: var(${Ue}transition) !important;
  }

  :root [${Os}] {
    transition: none;
  }

  :root [${Os}='hidden'] {
    visibility: hidden;
  }

  [${It}] * {
    pointer-events: none !important;
  }

  [${It}]:not([${Xi}]) {
    translate: var(${Ue}translate) !important;
  }

  [${It}][style*='${Ue}scale'] {
    scale: var(${Ue}scale) !important;
    transform-origin: var(${Ue}transform-origin) !important;
  }

  @layer {
    :where([${It}][popover]) {
      overflow: visible;
      background: unset;
      border: unset;
      margin: unset;
      padding: unset;
      color: inherit;

      &:is(input, button) {
        border: revert;
        background: revert;
      }
    }
  }
  [${It}]::backdrop, [${Nn}overlay]:not([${It}]) {
    display: none;
    visibility: hidden;
  }
`.replace(/\n+/g," ").replace(/\s+/g," ").trim();function lv(e,t="hidden"){return ve(()=>{const{element:r,manager:n}=e;if(!r||!n)return;const s=cv(r,n.registry.droppables),i=[],o=rh(r),{remove:a}=o;return uv(s,o,i),dv(o,t),o.remove=()=>{i.forEach(l=>l()),a.call(o)},o})}function cv(e,t){const r=new Map;for(const n of t)if(n.element&&(e===n.element||e.contains(n.element))){const s=`${Nn}${Zi("dom-id")}`;n.element.setAttribute(s,""),r.set(n,s)}return r}function uv(e,t,r){for(const[n,s]of e){if(!n.element)continue;const i=`[${s}]`,o=t.matches(i)?t:t.querySelector(i);if(n.element.removeAttribute(s),!o)continue;const a=n.element;n.proxy=o,o.removeAttribute(s),Wi.set(a,o),r.push(()=>{Wi.delete(a),n.proxy=void 0})}}function dv(e,t="hidden"){e.setAttribute("inert","true"),e.setAttribute("tab-index","-1"),e.setAttribute("aria-hidden","true"),e.setAttribute(Os,t)}function il(e,t){return e===t?!0:Cr(e)===Cr(t)}function ol(e){const{target:t}=e;"newState"in e&&e.newState==="closed"&&Rr(t)&&t.hasAttribute("popover")&&requestAnimationFrame(()=>on(t))}function al(e){return e.tagName==="TR"}var As=new Map,Xu,Ki,In,ca,ps,Ku,Gu,En=class extends(Ki=We,Xu=[ae],Ki){constructor(t,r){super(t,r),Fe(this,ps),Fe(this,ca,Te(In,8,this)),Te(In,11,this),this.state={initial:{},current:{}},this.registerEffect(Yi(this,ps,Gu)),this.registerEffect(Yi(this,ps,Ku))}destroy(){super.destroy();for(const[t,r]of As.entries())r.instances.has(this)&&(r.instances.delete(this),r.instances.size===0&&(r.cleanup(),As.delete(t)))}};In=Rn(Ki);ca=new WeakMap;ps=new WeakSet;Ku=function(){var e,t,r;const{state:n,manager:s,options:i}=this,{dragOperation:o}=s,{position:a,source:l,status:c}=o;if(c.idle){n.current={},n.initial={};return}if(!l)return;const{element:u,feedback:d}=l;if(!u||d==="none"||!c.initialized||c.initializing)return;const{initial:p}=n,g=(e=this.overlay)!=null?e:u,v=Pr(g),k=Pr(u),y=!il(u,g),S=new pt(u,{frameTransform:y?k:null,ignoreTransforms:!y}),m={x:k.scaleX/v.scaleX,y:k.scaleY/v.scaleY};let{width:x,height:b,top:C,left:I}=S;y&&(x=x/m.x,b=b/m.y);let D,_;const j=new Lh(g),{transition:h,translate:A,boxSizing:T,paddingBlockStart:N,paddingBlockEnd:R,paddingInlineStart:V,paddingInlineEnd:z,borderInlineStartWidth:K,borderInlineEndWidth:U,borderBlockStartWidth:X,borderBlockEndWidth:G}=xt(u),Y=d==="clone",te=T==="content-box",ce=te?parseInt(V)+parseInt(z)+parseInt(K)+parseInt(U):0,Ie=te?parseInt(N)+parseInt(R)+parseInt(X)+parseInt(G):0,se=d!=="move"&&!this.overlay?lv(l,Y?"clone":"hidden"):null,ke=ve(()=>wn(s.dragOperation.activatorEvent));if(A!=="none"){const oe=xn(A);oe&&!p.translate&&(p.translate=oe)}if(!p.transformOrigin){const oe=ve(()=>a.current);p.transformOrigin={x:(oe.x-I*v.scaleX-v.x)/(x*v.scaleX),y:(oe.y-C*v.scaleY-v.y)/(b*v.scaleY)}}const{transformOrigin:De}=p,Z=C*v.scaleY+v.y,w=I*v.scaleX+v.x;if(!p.coordinates&&(p.coordinates={x:w,y:Z},m.x!==1||m.y!==1)){const{scaleX:oe,scaleY:H}=k,{x:J,y:Q}=De;p.coordinates.x+=(x*oe-x)*J,p.coordinates.y+=(b*H-b)*Q}p.dimensions||(p.dimensions={width:x,height:b}),p.frameTransform||(p.frameTransform=v);const O={x:p.coordinates.x-w,y:p.coordinates.y-Z},L={width:(p.dimensions.width*p.frameTransform.scaleX-x*v.scaleX)*De.x,height:(p.dimensions.height*p.frameTransform.scaleY-b*v.scaleY)*De.y},B={x:O.x/v.scaleX+L.width,y:O.y/v.scaleY+L.height},W={left:I+B.x,top:C+B.y};g.setAttribute(It,"true");const q=ve(()=>o.transform),ee=(t=p.translate)!=null?t:{x:0,y:0},he=q.x*v.scaleX+ee.x,be=q.y*v.scaleY+ee.y,Oe=`${he}px ${be}px 0`,Ae=h?`${h}, translate 0ms linear`:"";j.set({width:x-ce,height:b-Ie,top:W.top,left:W.left,translate:Oe,transition:Ae,scale:y?`${m.x} ${m.y}`:"","transform-origin":`${De.x*100}% ${De.y*100}%`},Ue),se&&(u.insertAdjacentElement("afterend",se),i?.rootElement&&(typeof i.rootElement=="function"?i.rootElement(l):i.rootElement).appendChild(u)),Ui(g)&&(g.hasAttribute("popover")||g.setAttribute("popover","manual"),on(g),g.addEventListener("beforetoggle",ol));const je=new ResizeObserver(()=>{if(!se)return;const oe=new pt(se,{frameTransform:v,ignoreTransforms:!0}),H=De??{x:1,y:1},J=(x-oe.width)*H.x+B.x,Q=(b-oe.height)*H.y+B.y;if(j.set({width:oe.width-ce,height:oe.height-Ie,top:C+Q,left:I+J},Ue),D?.takeRecords(),al(u)&&al(se)){const de=Array.from(u.cells),ye=Array.from(se.cells);for(const[we,Le]of de.entries()){const Ke=ye[we];Le.style.width=`${Ke.offsetWidth}px`}}o.shape=new pt(g)}),xe=new pt(g);ve(()=>o.shape=xe);const me=Mt(g),ot=oe=>{this.manager.actions.stop({event:oe})};ke&&me.addEventListener("resize",ot),ve(()=>l.status)==="idle"&&requestAnimationFrame(()=>l.status="dragging"),se&&(je.observe(se),D=new MutationObserver(oe=>{let H=!1;for(const J of oe){if(J.target!==u){H=!0;continue}if(J.type!=="attributes")continue;const Q=J.attributeName;if(Q.startsWith("aria-")||iv.includes(Q))continue;const de=u.getAttribute(Q);if(Q==="style"){if(mn(u)&&mn(se)){const ye=u.style;for(const we of Array.from(se.style))ye.getPropertyValue(we)===""&&se.style.removeProperty(we);for(const we of Array.from(ye)){if(ov.includes(we)||we.startsWith(Ue))continue;const Le=ye.getPropertyValue(we);se.style.setProperty(we,Le)}}}else de!==null?se.setAttribute(Q,de):se.removeAttribute(Q)}H&&Y&&(se.innerHTML=u.innerHTML)}),D.observe(u,{attributes:!0,subtree:!0,childList:!0}),_=new MutationObserver(oe=>{for(const H of oe)if(H.addedNodes.length!==0)for(const J of Array.from(H.addedNodes)){if(J.contains(u)&&u.nextElementSibling!==se){u.insertAdjacentElement("afterend",se),on(g);return}if(J.contains(se)&&se.previousElementSibling!==u){se.insertAdjacentElement("beforebegin",u),on(g);return}}}),_.observe(u.ownerDocument.body,{childList:!0,subtree:!0}));const Lt=(r=s.dragOperation.source)==null?void 0:r.id,Wn=()=>{var oe;if(!ke||Lt==null)return;const H=s.registry.draggables.get(Lt),J=(oe=H?.handle)!=null?oe:H?.element;lr(J)&&J.focus()},Ur=()=>{D?.disconnect(),_?.disconnect(),je.disconnect(),me.removeEventListener("resize",ot),Ui(g)&&(g.removeEventListener("beforetoggle",ol),g.removeAttribute("popover")),g.removeAttribute(It),j.reset(),l.status="idle";const oe=n.current.translate!=null;se&&(oe||se.parentElement!==g.parentElement)&&g.isConnected&&se.replaceWith(g),se?.remove()},Js=Ln(()=>{var oe;const{transform:H,status:J}=o;if(!(!H.x&&!H.y&&!n.current.translate)&&J.dragging){const Q=(oe=p.translate)!=null?oe:{x:0,y:0},de={x:H.x/v.scaleX+Q.x,y:H.y/v.scaleY+Q.y},ye=n.current.translate,we=ve(()=>o.modifiers),Le=ve(()=>{var tt;return(tt=o.shape)==null?void 0:tt.current}),Ke=ke?"250ms cubic-bezier(0.25, 1, 0.5, 1)":"0ms linear";if(j.set({transition:`${h}, translate ${Ke}`,translate:`${de.x}px ${de.y}px 0`},Ue),D?.takeRecords(),Le&&Le!==xe&&ye&&!we.length){const tt=Ze.delta(de,ye);o.shape=bt.from(Le.boundingRectangle).translate(tt.x*v.scaleX,tt.y*v.scaleY)}else o.shape=new pt(g);n.current.translate=de}},function(){if(o.status.dropped){this.dispose(),l.status="dropping";let oe=n.current.translate;const H=oe!=null;if(!oe&&u!==g&&(oe={x:0,y:0}),!oe){Ur();return}const J=()=>{var Q,de;{on(g);const[,ye]=(Q=Cu(g,Of=>"translate"in Of))!=null?Q:[];ye?.pause();const we=se??u,Le={frameTransform:il(g,we)?null:void 0},Ke=new pt(g,Le),tt=(de=xn(xt(g).translate))!=null?de:oe,St=new pt(we,Le),Vr=bt.delta(Ke,St,l.alignment),Qs={x:tt.x-Vr.x,y:tt.y-Vr.y},Pf=Math.round(Ke.intrinsicHeight)!==Math.round(St.intrinsicHeight)?{minHeight:[`${Ke.intrinsicHeight}px`,`${St.intrinsicHeight}px`],maxHeight:[`${Ke.intrinsicHeight}px`,`${St.intrinsicHeight}px`]}:{},Df=Math.round(Ke.intrinsicWidth)!==Math.round(St.intrinsicWidth)?{minWidth:[`${Ke.intrinsicWidth}px`,`${St.intrinsicWidth}px`],maxWidth:[`${Ke.intrinsicWidth}px`,`${St.intrinsicWidth}px`]}:{};j.set({transition:h},Ue),g.setAttribute(Xi,""),D?.takeRecords(),Wu({element:g,keyframes:aa(Sn(Sn({},Pf),Df),{translate:[`${tt.x}px ${tt.y}px 0`,`${Qs.x}px ${Qs.y}px 0`]}),options:{duration:H||g!==u?250:0,easing:"ease"}}).then(()=>{g.removeAttribute(Xi),ye?.finish(),Ur(),requestAnimationFrame(Wn)})}};s.renderer.rendering.then(J)}});return()=>{Ur(),Js()}};Gu=function(){var e,t,r;const{status:n,source:s,target:i}=this.manager.dragOperation,{nonce:o}=(e=this.options)!=null?e:{};if(n.initializing){const a=jt((t=s?.element)!=null?t:null),l=jt((r=i?.element)!=null?r:null),c=new Set([a,l]);for(const u of c){let d=As.get(u);if(!d){const p=document.createElement("style");p.textContent=av,o&&p.setAttribute("nonce",o),u.head.prepend(p);const g=new MutationObserver(v=>{for(const k of v)if(k.type==="childList"){const y=Array.from(k.removedNodes);y.length>0&&y.includes(p)&&u.head.prepend(p)}});g.observe(u.head,{childList:!0}),d={cleanup:()=>{g.disconnect(),p.remove()},instances:new Set},As.set(u,d)}d.instances.add(this)}}};Tt(In,4,"overlay",Xu,En,ca);zr(In,En);En.configure=To(En);var fv=En,qr=!0,pv=!1,Ju,Qu,ed,td,Ut,ua,da;td=(ed=[ae],ut.Forward),Qu=(Ju=[ae],ut.Reverse);var kn=class{constructor(){Fe(this,ua,Te(Ut,8,this,qr)),Te(Ut,11,this),Fe(this,da,Te(Ut,12,this,qr)),Te(Ut,15,this)}isLocked(e){return e===ut.Idle?!1:e==null?this[ut.Forward]===qr&&this[ut.Reverse]===qr:this[e]===qr}unlock(e){e!==ut.Idle&&(this[e]=pv)}};Ut=Rn(null);ua=new WeakMap;da=new WeakMap;Tt(Ut,4,td,ed,kn,ua);Tt(Ut,4,Qu,Ju,kn,da);zr(Ut,kn);var hv=[ut.Forward,ut.Reverse],ll=class{constructor(){this.x=new kn,this.y=new kn}isLocked(){return this.x.isLocked()&&this.y.isLocked()}},vv=class extends We{constructor(e){super(e);const t=Tn(new ll);let r=null;this.signal=t,Qe(()=>{const{status:n}=e.dragOperation;if(!n.initialized){r=null,t.value=new ll;return}const{delta:s}=e.dragOperation.position;if(r){const i={x:cl(s.x,r.x),y:cl(s.y,r.y)},o=t.peek();Ee(()=>{for(const a of Nc)for(const l of hv)i[a]===l&&o[a].unlock(l);t.value=o})}r=s})}get current(){return this.signal.peek()}};function cl(e,t){return Math.sign(e-t)}var rd,Gi,jn,fa,Ft,Ji,zn=class extends(Gi=Hs,rd=[ae],Gi){constructor(e){super(e),Fe(this,fa,Te(jn,8,this,!1)),Te(jn,11,this),Fe(this,Ft),Fe(this,Ji,()=>{if(!ze(this,Ft))return;const{element:i,by:o}=ze(this,Ft);o.y&&(i.scrollTop+=o.y),o.x&&(i.scrollLeft+=o.x)}),this.scroll=i=>{var o;if(this.disabled)return!1;const a=this.getScrollableElements();if(!a)return mt(this,Ft,void 0),!1;const{position:l}=this.manager.dragOperation,c=l?.current;if(c){const{by:u}=i??{},d=u?{x:ul(u.x),y:ul(u.y)}:void 0,p=d?void 0:this.scrollIntentTracker.current;if(p?.isLocked())return!1;for(const g of a){const v=hh(g,u);if(v.x||v.y){const{speed:k,direction:y}=kh(g,c,d);if(p)for(const S of Nc)p[S].isLocked(y[S])&&(k[S]=0,y[S]=0);if(y.x||y.y){const{x:S,y:m}=u??y,x=S*k.x,b=m*k.y;if(x||b){const C=(o=ze(this,Ft))==null?void 0:o.by;if(this.autoScrolling&&C&&(C.x&&!x||C.y&&!b))continue;return mt(this,Ft,{element:g,by:{x,y:b}}),Cs.schedule(ze(this,Ji)),!0}}}}}return mt(this,Ft,void 0),!1};let t=null,r=null;const n=Is(()=>{const{position:i,source:o}=e.dragOperation;if(!i)return null;const a=Mu(jt(o?.element),i.current);return a&&(t=a),a??t}),s=Is(()=>{const i=n.value,{documentElement:o}=jt(i);if(!i||i===o){const{target:a}=e.dragOperation,l=a?.element;if(l){const c=Vi(l,{excludeElement:!1});return r=c,c}}if(i){const a=Vi(i,{excludeElement:!1});return this.autoScrolling&&r&&a.size<r?.size?r:(r=a,a)}return r=null,null},Ot);this.getScrollableElements=()=>s.value,this.scrollIntentTracker=new vv(e),this.destroy=e.monitor.addEventListener("dragmove",i=>{this.disabled||i.defaultPrevented||!wn(e.dragOperation.activatorEvent)||!i.by||this.scroll({by:i.by})&&i.preventDefault()})}};jn=Rn(Gi);fa=new WeakMap;Ft=new WeakMap;Ji=new WeakMap;Tt(jn,4,"autoScrolling",rd,zn,fa);zr(jn,zn);function ul(e){return e>0?ut.Forward:e<0?ut.Reverse:ut.Idle}var gv=class{constructor(e){this.scheduler=e,this.pending=!1,this.tasks=new Set,this.resolvers=new Set,this.flush=()=>{const{tasks:t,resolvers:r}=this;this.pending=!1,this.tasks=new Set,this.resolvers=new Set;for(const n of t)n();for(const n of r)n()}}schedule(e){return this.tasks.add(e),this.pending||(this.pending=!0,this.scheduler(this.flush)),new Promise(t=>this.resolvers.add(t))}},mv=new gv(e=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()}),yv=10,pa=class extends We{constructor(e,t){super(e);const r=e.registry.plugins.get(zn);if(!r)throw new Error("AutoScroller plugin depends on Scroller plugin");this.destroy=Qe(()=>{if(this.disabled)return;const{position:n,status:s}=e.dragOperation;if(s.dragging)if(r.scroll()){r.autoScrolling=!0;const o=setInterval(()=>mv.schedule(r.scroll),yv);return()=>{clearInterval(o)}}else r.autoScrolling=!1})}},dl={capture:!0,passive:!0},ln,_v=class extends Hs{constructor(e){super(e),Fe(this,ln),this.handleScroll=()=>{ze(this,ln)==null&&mt(this,ln,setTimeout(()=>{this.manager.collisionObserver.forceUpdate(!1),mt(this,ln,void 0)},50))};const{dragOperation:t}=this.manager;this.destroy=Qe(()=>{var r,n,s;if(t.status.dragging){const o=(s=(n=(r=t.source)==null?void 0:r.element)==null?void 0:n.ownerDocument)!=null?s:document;return o.addEventListener("scroll",this.handleScroll,dl),()=>{o.removeEventListener("scroll",this.handleScroll,dl)}}})}};ln=new WeakMap;var bv=class extends We{constructor(e,t){super(e,t),this.manager=e,this.destroy=Qe(()=>{var r;const{dragOperation:n}=this.manager,{nonce:s}=(r=this.options)!=null?r:{};if(n.status.initialized){const i=document.createElement("style");return s&&i.setAttribute("nonce",s),i.textContent="* { user-select: none !important; -webkit-user-select: none !important; }",document.head.appendChild(i),di(),document.addEventListener("selectionchange",di,{capture:!0}),()=>{document.removeEventListener("selectionchange",di,{capture:!0}),i.remove()}}})}};function di(){var e;(e=document.getSelection())==null||e.removeAllRanges()}var cn=Object.freeze({offset:10,keyboardCodes:{start:["Space","Enter"],cancel:["Escape"],end:["Space","Enter","Tab"],up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},shouldActivate(e){var t;const{event:r,source:n}=e,s=(t=n.handle)!=null?t:n.element;return r.target===s}}),br,Ms=class extends jr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,br,[]),this.listeners=new Tu,this.handleSourceKeyDown=(n,s,i)=>{if(this.disabled||n.defaultPrevented||!Rr(n.target)||s.disabled)return;const{keyboardCodes:o=cn.keyboardCodes,shouldActivate:a=cn.shouldActivate}=i??{};o.start.includes(n.code)&&this.manager.dragOperation.status.idle&&a({event:n,source:s,manager:this.manager})&&this.handleStart(n,s,i)}}bind(t,r=this.options){return Qe(()=>{var s;const i=(s=t.handle)!=null?s:t.element,o=a=>{wn(a)&&this.handleSourceKeyDown(a,t,r)};if(i)return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}})}handleStart(t,r,n){const{element:s}=r;if(!s)throw new Error("Source draggable does not have an associated element");t.preventDefault(),t.stopImmediatePropagation(),Bu(s);const{center:i}=new pt(s);if(this.manager.actions.start({event:t,coordinates:{x:i.x,y:i.y},source:r}).signal.aborted)return this.cleanup();this.sideEffects();const a=jt(s),l=[this.listeners.bind(a,[{type:"keydown",listener:c=>this.handleKeyDown(c,r,n),options:{capture:!0}}])];ze(this,br).push(...l)}handleKeyDown(t,r,n){const{keyboardCodes:s=cn.keyboardCodes}=n??{};if(pr(t,[...s.end,...s.cancel])){t.preventDefault();const i=pr(t,s.cancel);this.handleEnd(t,i);return}pr(t,s.up)?this.handleMove("up",t):pr(t,s.down)&&this.handleMove("down",t),pr(t,s.left)?this.handleMove("left",t):pr(t,s.right)&&this.handleMove("right",t)}handleEnd(t,r){this.manager.actions.stop({event:t,canceled:r}),this.cleanup()}handleMove(t,r){var n,s;const{shape:i}=this.manager.dragOperation,o=r.shiftKey?5:1;let a={x:0,y:0},l=(s=(n=this.options)==null?void 0:n.offset)!=null?s:cn.offset;if(typeof l=="number"&&(l={x:l,y:l}),!!i){switch(t){case"up":a={x:0,y:-l.y*o};break;case"down":a={x:0,y:l.y*o};break;case"left":a={x:-l.x*o,y:0};break;case"right":a={x:l.x*o,y:0};break}(a.x||a.y)&&(r.preventDefault(),this.manager.actions.move({event:r,by:a}))}}sideEffects(){const t=this.manager.registry.plugins.get(pa);t?.disabled===!1&&(t.disable(),ze(this,br).push(()=>{t.enable()}))}cleanup(){ze(this,br).forEach(t=>t()),mt(this,br,[])}destroy(){this.cleanup(),this.listeners.clear()}};br=new WeakMap;Ms.configure=To(Ms);Ms.defaults=cn;var xv=Ms;function pr(e,t){return t.includes(e.code)}var nd=Object.freeze({activationConstraints(e,t){var r;const{pointerType:n,target:s}=e;if(!(n==="mouse"&&Rr(s)&&(t.handle===s||(r=t.handle)!=null&&r.contains(s))))return n==="touch"?{delay:{value:250,tolerance:5}}:Rh(s)&&!e.defaultPrevented?{delay:{value:200,tolerance:0}}:{delay:{value:200,tolerance:10},distance:{value:5}}}}),xr,wr,Ts=class extends jr{constructor(t,r){super(t),this.manager=t,this.options=r,Fe(this,xr,new Set),Fe(this,wr),this.listeners=new Tu,this.latest={event:void 0,coordinates:void 0},this.handleMove=()=>{const{event:n,coordinates:s}=this.latest;!n||!s||this.manager.actions.move({event:n,to:s})},this.handleCancel=this.handleCancel.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}activationConstraints(t,r){var n;const{activationConstraints:s=nd.activationConstraints}=(n=this.options)!=null?n:{};return typeof s=="function"?s(t,r):s}bind(t,r=this.options){return Qe(()=>{var s;const i=new AbortController,{signal:o}=i,a=c=>{$h(c)&&this.handlePointerDown(c,t,r)};let l=[(s=t.handle)!=null?s:t.element];r?.activatorElements&&(Array.isArray(r.activatorElements)?l=r.activatorElements:l=r.activatorElements(t));for(const c of l)c&&(Iv(c.ownerDocument.defaultView),c.addEventListener("pointerdown",a,{signal:o}));return()=>i.abort()})}handlePointerDown(t,r,n={}){if(this.disabled||!t.isPrimary||t.button!==0||!Rr(t.target)||r.disabled||wv(t)||!this.manager.dragOperation.status.idle)return;const{target:s}=t,i=lr(s)&&s.draggable&&s.getAttribute("draggable")==="true",o=Pr(r.element);this.initialCoordinates={x:t.clientX*o.scaleX+o.x,y:t.clientY*o.scaleY+o.y};const a=this.activationConstraints(t,r);if(t.sensor=this,!a?.delay&&!a?.distance)this.handleStart(r,t);else{const{delay:d}=a;if(d){const p=setTimeout(()=>this.handleStart(r,t),d.value);mt(this,wr,()=>{clearTimeout(p),mt(this,wr,void 0)})}}const l=jt(t.target),c=this.listeners.bind(l,[{type:"pointermove",listener:d=>this.handlePointerMove(d,r)},{type:"pointerup",listener:this.handlePointerUp,options:{capture:!0}},{type:"dragstart",listener:i?this.handleCancel:qn,options:{capture:!0}}]),u=()=>{var d;c(),(d=ze(this,wr))==null||d.call(this),this.initialCoordinates=void 0};ze(this,xr).add(u)}handlePointerMove(t,r){const n={x:t.clientX,y:t.clientY},s=Pr(r.element);if(n.x=n.x*s.scaleX+s.x,n.y=n.y*s.scaleY+s.y,this.manager.dragOperation.status.dragging){t.preventDefault(),t.stopPropagation(),this.latest.event=t,this.latest.coordinates=n,Cs.schedule(this.handleMove);return}if(!this.initialCoordinates)return;const i={x:n.x-this.initialCoordinates.x,y:n.y-this.initialCoordinates.y},o=this.activationConstraints(t,r),{distance:a,delay:l}=o??{};if(a){if(a.tolerance!=null&&li(i,a.tolerance))return this.handleCancel(t);if(li(i,a.value))return this.handleStart(r,t)}if(l&&li(i,l.tolerance))return this.handleCancel(t)}handlePointerUp(t){const{status:r}=this.manager.dragOperation;if(!r.idle){t.preventDefault(),t.stopPropagation();const n=!r.initialized;this.manager.actions.stop({event:t,canceled:n})}this.cleanup()}handleKeyDown(t){t.key==="Escape"&&(t.preventDefault(),this.handleCancel(t))}handleStart(t,r){var n;const{manager:s,initialCoordinates:i}=this;if((n=ze(this,wr))==null||n.call(this),!i||!s.dragOperation.status.idle||r.defaultPrevented)return;if(s.actions.start({coordinates:i,event:r,source:t}).signal.aborted)return this.cleanup();r.preventDefault();const a=jt(r.target),l=a.body;l.setPointerCapture(r.pointerId);const c=this.listeners.bind(a,[{type:"touchmove",listener:qn,options:{passive:!1}},{type:"click",listener:qn},{type:"contextmenu",listener:qn},{type:"keydown",listener:this.handleKeyDown},{type:"lostpointercapture",listener:u=>{u.target===l&&this.handlePointerUp(u)}}]);ze(this,xr).add(c)}handleCancel(t){const{dragOperation:r}=this.manager;r.status.initialized&&this.manager.actions.stop({event:t,canceled:!0}),this.cleanup()}cleanup(){this.latest={event:void 0,coordinates:void 0},ze(this,xr).forEach(t=>t()),ze(this,xr).clear()}destroy(){this.cleanup(),this.listeners.clear()}};xr=new WeakMap;wr=new WeakMap;Ts.configure=To(Ts);Ts.defaults=nd;var sd=Ts;function wv(e){return"sensor"in e}function qn(e){e.preventDefault()}function Sv(){}var fl=new WeakSet;function Iv(e){!e||fl.has(e)||(e.addEventListener("touchmove",Sv,{capture:!1,passive:!1}),fl.add(e))}var or={modifiers:[],plugins:[rv,pa,sv,fv,bv],sensors:[sd,xv]},id=class extends Jp{constructor(e={}){const{plugins:t=or.plugins,sensors:r=or.sensors,modifiers:n=[]}=e;super(aa(Sn({},e),{plugins:[_v,zn,...t],sensors:r,modifiers:n}))}},od,ad,ld,Qi,ht,ha,va,ga,Fr=class extends(Qi=Et,ld=[ae],ad=[ae],od=[ae],Qi){constructor(e,t){var r=e,{element:n,effects:s=()=>[],handle:i,feedback:o="default"}=r,a=qu(r,["element","effects","handle","feedback"]);super(Sn({effects:()=>[...s(),()=>{var l,c;const{manager:u}=this;if(!u)return;const p=((c=(l=this.sensors)==null?void 0:l.map(Lo))!=null?c:[...u.sensors]).map(g=>{const v=g instanceof jr?g:u.registry.register(g.plugin),k=g instanceof jr?void 0:g.options;return v.bind(this,k)});return function(){p.forEach(v=>v())}}]},a),t),Fe(this,ha,Te(ht,8,this)),Te(ht,11,this),Fe(this,va,Te(ht,12,this)),Te(ht,15,this),Fe(this,ga,Te(ht,16,this)),Te(ht,19,this),this.element=n,this.handle=i,this.feedback=o}};ht=Rn(Qi);ha=new WeakMap;va=new WeakMap;ga=new WeakMap;Tt(ht,4,"handle",ld,Fr,ha);Tt(ht,4,"element",ad,Fr,va);Tt(ht,4,"feedback",od,Fr,ga);zr(ht,Fr);var cd,ud,eo,Vt,ma,fi,dd,fd,yn,ya,Zs=class extends(eo=kt,ud=[ae],cd=[ae],eo){constructor(e,t){var r=e,{element:n,effects:s=()=>[]}=r,i=qu(r,["element","effects"]);const{collisionDetector:o=Hu}=i,a=c=>{const{manager:u,element:d}=this;if(!d||c===null){this.shape=void 0;return}if(!u)return;const p=new pt(d),g=ve(()=>this.shape);return p&&g?.equals(p)?g:(this.shape=p,p)},l=Tn(!1);super(aa(Sn({},i),{collisionDetector:o,effects:()=>[...s(),()=>{const{element:c,manager:u}=this;if(!u)return;const{dragOperation:d}=u,{source:p}=d;l.value=!!(p&&d.status.initialized&&c&&!this.disabled&&this.accepts(p))},()=>{const{element:c}=this;if(l.value&&c){const u=new ph(c,a);return()=>{u.disconnect(),this.shape=void 0}}},()=>{var c;if((c=this.manager)!=null&&c.dragOperation.status.initialized)return()=>{this.shape=void 0}}]}),t),Fe(this,yn),Fe(this,ma,Te(Vt,8,this)),Te(Vt,11,this),Fe(this,ya,Te(Vt,12,this)),Te(Vt,15,this),this.element=n,this.refreshShape=()=>a()}set element(e){mt(this,yn,e,fd)}get element(){var e;return(e=this.proxy)!=null?e:ze(this,yn,dd)}};Vt=Rn(eo);ma=new WeakMap;yn=new WeakSet;ya=new WeakMap;fi=Tt(Vt,20,"#element",ud,yn,ma),dd=fi.get,fd=fi.set;Tt(Vt,4,"proxy",cd,Zs,ya);zr(Vt,Zs);function Ev(e){return e!=null&&typeof e=="object"&&"current"in e}function Yt(e){var t;if(e!=null)return Ev(e)?(t=e.current)!=null?t:void 0:e}var kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Br=kv?E.useLayoutEffect:E.useEffect;function jv(){const e=E.useState(0)[1];return E.useCallback(()=>{e(t=>t+1)},[e])}function _a(e,t){const r=E.useRef(new Map),n=jv();return Br(()=>{if(!e){r.current.clear();return}return Qe(()=>{var s;let i=!1,o=!1;for(const a of r.current){const[l]=a,c=ve(()=>a[1]),u=e[l];c!==u&&(i=!0,r.current.set(l,u),o=(s=t?.(l,c,u))!=null?s:!1)}i&&(o?Ns.flushSync(n):n())})},[e]),E.useMemo(()=>e&&new Proxy(e,{get(s,i){const o=s[i];return r.current.set(i,o),o}}),[e])}function Cv(e,t){e()}function hr(e){const t=E.useRef(e);return Br(()=>{t.current=e},[e]),t}function fe(e,t,r=E.useEffect,n=Object.is){const s=E.useRef(e);r(()=>{const i=s.current;n(e,i)||(s.current=e,t(e,i))},[t,e])}function kr(e,t){const r=E.useRef(Yt(e));Br(()=>{const n=Yt(e);n!==r.current&&(r.current=n,t(n))})}var Pv=Object.defineProperty,Dv=Object.defineProperties,Ov=Object.getOwnPropertyDescriptors,Ls=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,pl=(e,t,r)=>t in e?Pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vd=(e,t)=>{for(var r in t||(t={}))pd.call(t,r)&&pl(e,r,t[r]);if(Ls)for(var r of Ls(t))hd.call(t,r)&&pl(e,r,t[r]);return e},gd=(e,t)=>Dv(e,Ov(t)),Av=(e,t)=>{var r={};for(var n in e)pd.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ls)for(var n of Ls(e))t.indexOf(n)<0&&hd.call(e,n)&&(r[n]=e[n]);return r},Mv=new id,md=E.createContext(Mv),Tv=E.memo(E.forwardRef(({children:e},t)=>{const[r,n]=E.useState(0),s=E.useRef(null),i=E.useRef(null),o=E.useMemo(()=>({renderer:{get rendering(){var a;return(a=s.current)!=null?a:Promise.resolve()}},trackRendering(a){s.current||(s.current=new Promise(l=>{i.current=l})),E.startTransition(()=>{a(),n(l=>l+1)})}}),[]);return Br(()=>{var a;(a=i.current)==null||a.call(i),s.current=null},[e,r]),E.useImperativeHandle(t,()=>o),null})),pi=[void 0,Ot];function yd(e){var t=e,{children:r,onCollision:n,onBeforeDragStart:s,onDragStart:i,onDragMove:o,onDragOver:a,onDragEnd:l}=t,c=Av(t,["children","onCollision","onBeforeDragStart","onDragStart","onDragMove","onDragOver","onDragEnd"]),u;const d=E.useRef(null),[p,g]=E.useState((u=c.manager)!=null?u:null),{plugins:v,modifiers:k,sensors:y}=c,S=hr(s),m=hr(i),x=hr(a),b=hr(o),C=hr(l),I=hr(n);return E.useEffect(()=>{var D;if(!d.current)throw new Error("Renderer not found");const{renderer:_,trackRendering:j}=d.current,h=(D=c.manager)!=null?D:new id(c);return h.renderer=_,h.monitor.addEventListener("beforedragstart",A=>{const T=S.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragstart",A=>{var T;return(T=m.current)==null?void 0:T.call(m,A,h)}),h.monitor.addEventListener("dragover",A=>{const T=x.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragmove",A=>{const T=b.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("dragend",A=>{const T=C.current;T&&j(()=>T(A,h))}),h.monitor.addEventListener("collision",A=>{var T;return(T=I.current)==null?void 0:T.call(I,A,h)}),E.startTransition(()=>g(h)),h.destroy},[c.manager]),fe(v,()=>p&&(p.plugins=v??or.plugins),...pi),fe(y,()=>p&&(p.sensors=y??or.sensors),...pi),fe(k,()=>p&&(p.modifiers=k??or.modifiers),...pi),f.jsxs(md.Provider,{value:p,children:[f.jsx(Tv,{ref:d,children:r}),r]})}function _d(){return E.useContext(md)}function ba(e){var t;const r=(t=_d())!=null?t:void 0,[n]=E.useState(()=>e(r));return n.manager!==r&&(n.manager=r),Br(n.register,[r,n]),n}function Lv(e){const{disabled:t,data:r,element:n,handle:s,id:i,modifiers:o,sensors:a}=e,l=ba(u=>new Fr(gd(vd({},e),{register:!1,handle:Yt(s),element:Yt(n)}),u)),c=_a(l,$v);return fe(i,()=>l.id=i),kr(s,u=>l.handle=u),kr(n,u=>l.element=u),fe(r,()=>r&&(l.data=r)),fe(t,()=>l.disabled=t===!0),fe(a,()=>l.sensors=a),fe(o,()=>l.modifiers=o,void 0,Ot),fe(e.feedback,()=>{var u;return l.feedback=(u=e.feedback)!=null?u:"default"}),fe(e.alignment,()=>l.alignment=e.alignment),{draggable:c,get isDragging(){return c.isDragging},get isDropping(){return c.isDropping},get isDragSource(){return c.isDragSource},handleRef:E.useCallback(u=>{l.handle=u??void 0},[l]),ref:E.useCallback(u=>{var d,p;!u&&((d=l.element)!=null&&d.isConnected)&&!((p=l.manager)!=null&&p.dragOperation.status.idle)||(l.element=u??void 0)},[l])}}function $v(e,t,r){return!!(e==="isDragSource"&&!r&&t)}var Rv=Object.create,bd=Object.defineProperty,Nv=Object.getOwnPropertyDescriptor,xd=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),qs=e=>{throw TypeError(e)},zv=(e,t,r)=>t in e?bd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fv=e=>{var t;return[,,,Rv((t=e?.[xd("metadata")])!=null?t:null)]},wd=["class","method","getter","setter","accessor","field","value","get","set"],Sd=e=>e!==void 0&&typeof e!="function"?qs("Function expected"):e,Bv=(e,t,r,n,s)=>({kind:wd[e],name:t,metadata:n,addInitializer:i=>r._?qs("Already initialized"):s.push(Sd(i||null))}),Wv=(e,t)=>zv(t,xd("metadata"),e[3]),Hv=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)i[s].call(r);return n},Id=(e,t,r,n,s,i)=>{for(var o,a,l,c,u=t&7,d=!1,p=!1,g=2,v=wd[u+5],k=e[g]||(e[g]=[]),y=(s=s.prototype,Nv(s,r)),S=n.length-1;S>=0;S--)l=Bv(u,r,a={},e[3],k),l.static=d,l.private=p,c=l.access={has:m=>r in m},c.get=m=>m[r],o=(0,n[S])(y[v],l),a._=1,Sd(o)&&(y[v]=o);return y&&bd(s,r,y),s},Ed=(e,t,r)=>t.has(e)||qs("Cannot "+r),Uv=(e,t,r)=>(Ed(e,t,"read from private field"),t.get(e)),Vv=(e,t,r)=>t.has(e)?qs("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Zv=(e,t,r,n)=>(Ed(e,t,"write to private field"),t.set(e,r),r),sr=class to{constructor(t,r){this.x=t,this.y=r}static delta(t,r){return new to(t.x-r.x,t.y-r.y)}static distance(t,r){return Math.hypot(t.x-r.x,t.y-r.y)}static equals(t,r){return t.x===r.x&&t.y===r.y}static from({x:t,y:r}){return new to(t,r)}},kd,jd,ro,hs,Fn,xa=class extends(ro=ur,jd=[Me],kd=[Me],ro){constructor(e){const t=sr.from(e);super(t,(r,n)=>sr.equals(r,n)),Hv(Fn,5,this),Vv(this,hs,0),this.velocity={x:0,y:0}}get delta(){return sr.delta(this.current,this.initial)}get direction(){const{current:e,previous:t}=this;if(!t)return null;const r={x:e.x-t.x,y:e.y-t.y};return!r.x&&!r.y?null:Math.abs(r.x)>Math.abs(r.y)?r.x>0?"right":"left":r.y>0?"down":"up"}get current(){return super.current}set current(e){const{current:t}=this,r=sr.from(e),n={x:r.x-t.x,y:r.y-t.y},s=Date.now(),i=s-Uv(this,hs),o=a=>Math.round(a/i*100);Ee(()=>{Zv(this,hs,s),this.velocity={x:o(n.x),y:o(n.y)},super.current=r})}reset(e=this.defaultValue){super.reset(sr.from(e)),this.velocity={x:0,y:0}}};Fn=Fv(ro);hs=new WeakMap;Id(Fn,2,"delta",jd,xa);Id(Fn,2,"direction",kd,xa);Wv(Fn,xa);var Cd=(e=>(e.Horizontal="x",e.Vertical="y",e))(Cd||{});Object.values(Cd);var qv=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=sr.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},Yv=({dragOperation:e,droppable:t})=>{const{shape:r}=e;if(!t.shape||!r?.current)return null;const n=r.current.intersectionArea(t.shape);if(n){const{position:s}=e,i=sr.distance(t.shape.center,s.current),a=n/(r.current.area+t.shape.area-n)/i;return{id:t.id,value:a,type:Ct.ShapeIntersection,priority:ct.Normal}}return null},Xv=e=>{var t;return(t=qv(e))!=null?t:Yv(e)};function Pd(e){const{collisionDetector:t,data:r,disabled:n,element:s,id:i,accept:o,type:a}=e,l=ba(u=>new Zs(gd(vd({},e),{register:!1,element:Yt(s)}),u)),c=_a(l);return fe(i,()=>l.id=i),kr(s,u=>l.element=u),fe(o,()=>l.accept=o,void 0,Ot),fe(t,()=>l.collisionDetector=t??Xv),fe(r,()=>r&&(l.data=r)),fe(n,()=>l.disabled=n===!0),fe(a,()=>l.type=a),{droppable:c,get isDropTarget(){return c.isDropTarget},ref:E.useCallback(u=>{var d,p;!u&&((d=l.element)!=null&&d.isConnected)&&!((p=l.manager)!=null&&p.dragOperation.status.idle)||(l.element=u??void 0)},[l])}}var Kv=Object.create,Dd=Object.defineProperty,Gv=Object.defineProperties,Jv=Object.getOwnPropertyDescriptor,Qv=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,Od=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,eg=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Bn=e=>{throw TypeError(e)},no=(e,t,r)=>t in e?Dd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tg=(e,t)=>{for(var r in t||(t={}))Od.call(t,r)&&no(e,r,t[r]);if($s)for(var r of $s(t))Ad.call(t,r)&&no(e,r,t[r]);return e},rg=(e,t)=>Gv(e,Qv(t)),ng=(e,t)=>{var r={};for(var n in e)Od.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&$s)for(var n of $s(e))t.indexOf(n)<0&&Ad.call(e,n)&&(r[n]=e[n]);return r},sg=e=>{var t;return[,,,Kv((t=void 0)!=null?t:null)]},Md=["class","method","getter","setter","accessor","field","value","get","set"],un=e=>e!==void 0&&typeof e!="function"?Bn("Function expected"):e,ig=(e,t,r,n,s)=>({kind:Md[e],name:t,metadata:n,addInitializer:i=>r._?Bn("Already initialized"):s.push(un(i||null))}),og=(e,t)=>no(t,eg("metadata"),e[3]),Yn=(e,t,r,n)=>{for(var s=0,i=e[t>>1],o=i&&i.length;s<o;s++)t&1?i[s].call(r):n=i[s].call(r,n);return n},Td=(e,t,r,n,s,i)=>{for(var o,a,l,c,u,d=t&7,p=!1,g=!1,v=e.length+1,k=Md[d+5],y=e[v-1]=[],S=e[v]||(e[v]=[]),m=(s=s.prototype,Jv({get[r](){return dn(this,i)},set[r](b){return rr(this,i,b)}},r)),x=n.length-1;x>=0;x--)c=ig(d,r,l={},e[3],S),c.static=p,c.private=g,u=c.access={has:b=>r in b},u.get=b=>b[r],u.set=(b,C)=>b[r]=C,a=(0,n[x])({get:m.get,set:m.set},c),l._=1,a===void 0?un(a)&&(m[k]=a):typeof a!="object"||a===null?Bn("Object expected"):(un(o=a.get)&&(m.get=o),un(o=a.set)&&(m.set=o),un(o=a.init)&&y.unshift(o));return m&&Dd(s,r,m),s},Ld=(e,t,r)=>t.has(e)||Bn("Cannot "+r),dn=(e,t,r)=>(Ld(e,t,"read from private field"),t.get(e)),Yr=(e,t,r)=>t.has(e)?Bn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),rr=(e,t,r,n)=>(Ld(e,t,"write to private field"),t.set(e,r),r);function ir(e){return e instanceof Ia||e instanceof zd}var Xn=10,ag=class extends We{constructor(e){super(e);const t=Qe(()=>{const{dragOperation:n}=e;if(wn(n.activatorEvent)&&ir(n.source)&&n.status.initialized){const s=e.registry.plugins.get(zn);if(s)return s.disable(),()=>s.enable()}}),r=e.monitor.addEventListener("dragmove",(n,s)=>{queueMicrotask(()=>{if(this.disabled||n.defaultPrevented||!n.nativeEvent)return;const{dragOperation:i}=s;if(!wn(n.nativeEvent)||!ir(i.source)||!i.shape)return;const{actions:o,collisionObserver:a,registry:l}=s,{by:c}=n;if(!c)return;const u=lg(c),{source:d,target:p}=i,{center:g}=i.shape.current,v=[],k=[];Ee(()=>{for(const C of l.droppables){const{id:I}=C;if(!C.accepts(d)||I===p?.id&&ir(C)||!C.element)continue;let D=C.shape;const _=new pt(C.element,{getBoundingClientRect:j=>bn(j,void 0,.2)});!_.height||!_.width||(u=="down"&&g.y+Xn<_.center.y||u=="up"&&g.y-Xn>_.center.y||u=="left"&&g.x-Xn>_.center.x||u=="right"&&g.x+Xn<_.center.x)&&(v.push(C),C.shape=_,k.push(()=>C.shape=D))}}),n.preventDefault(),a.disable();const y=a.computeCollisions(v,Bh);Ee(()=>k.forEach(C=>C()));const[S]=y;if(!S)return;const{id:m}=S,{index:x,group:b}=d.sortable;o.setDropTarget(m).then(()=>{const{source:C,target:I,shape:D}=i;if(!C||!ir(C)||!D)return;const{index:_,group:j,target:h}=C.sortable,A=x!==_||b!==j,T=A?h:I?.element;if(!T)return;Bu(T);const N=new pt(T);if(!N)return;const R=bt.delta(N,bt.from(D.current.boundingRectangle),C.alignment);o.move({by:R}),A?o.setDropTarget(C.id).then(()=>a.enable()):a.enable()})})});this.destroy=()=>{r(),t()}}};function lg(e){const{x:t,y:r}=e;if(t>0)return"right";if(t<0)return"left";if(r>0)return"down";if(r<0)return"up"}var cg=Object.defineProperty,ug=Object.defineProperties,dg=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,fg=Object.prototype.hasOwnProperty,pg=Object.prototype.propertyIsEnumerable,vl=(e,t,r)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gl=(e,t)=>{for(var r in t||(t={}))fg.call(t,r)&&vl(e,r,t[r]);if(hl)for(var r of hl(t))pg.call(t,r)&&vl(e,r,t[r]);return e},ml=(e,t)=>ug(e,dg(t));function hg(e,t,r){if(t===r)return e;const n=e.slice();return n.splice(r,0,n.splice(t,1)[0]),n}function vg(e,t,r){var n,s;const{source:i,target:o,canceled:a}=t.operation;if(!i||!o||a)return"preventDefault"in t&&t.preventDefault(),e;const l=(x,b)=>x===b||typeof x=="object"&&"id"in x&&x.id===b;if(Array.isArray(e)){const x=e.findIndex(C=>l(C,i.id)),b=e.findIndex(C=>l(C,o.id));if(x===-1||b===-1)return e;if(!a&&"index"in i&&typeof i.index=="number"){const C=i.index;if(C!==x)return r(e,x,C)}return r(e,x,b)}const c=Object.entries(e);let u=-1,d,p=-1,g;for(const[x,b]of c)if(u===-1&&(u=b.findIndex(C=>l(C,i.id)),u!==-1&&(d=x)),p===-1&&(p=b.findIndex(C=>l(C,o.id)),p!==-1&&(g=x)),u!==-1&&p!==-1)break;if(!i.manager)return e;const{dragOperation:v}=i.manager,k=(s=(n=v.shape)==null?void 0:n.current.center)!=null?s:v.position.current;if(g==null&&o.id in e){const x=o.shape&&k.y>o.shape.center.y?e[o.id].length:0;g=o.id,p=x}if(d==null||g==null||d===g&&u===p)return"preventDefault"in t&&t.preventDefault(),e;if(d===g)return ml(gl({},e),{[d]:r(e[d],u,p)});const S=o.shape&&Math.round(k.y)>Math.round(o.shape.center.y)?1:0,m=e[d][u];return ml(gl({},e),{[d]:[...e[d].slice(0,u),...e[d].slice(u+1)],[g]:[...e[g].slice(0,p+S),m,...e[g].slice(p+S)]})}function gg(e,t){return vg(e,t,hg)}var yl="__default__",mg=class extends We{constructor(e){super(e);const t=()=>{const n=new Map;for(const s of e.registry.droppables)if(s instanceof Ia){const{sortable:i}=s,{group:o}=i;let a=n.get(o);a||(a=new Set,n.set(o,a)),a.add(i)}for(const[s,i]of n)n.set(s,new Set(Kn(i)));return n},r=[e.monitor.addEventListener("dragover",(n,s)=>{if(this.disabled)return;const{dragOperation:i}=s,{source:o,target:a}=i;if(!ir(o)||!ir(a)||o.sortable===a.sortable)return;const l=t(),c=o.sortable.group===a.sortable.group,u=l.get(o.sortable.group),d=c?u:l.get(a.sortable.group);!u||!d||queueMicrotask(()=>{n.defaultPrevented||s.renderer.rendering.then(()=>{var p,g,v;const k=t();for(const[h,A]of l.entries()){const T=Array.from(A).entries();for(const[N,R]of T)if(R.index!==N||R.group!==h||!((p=k.get(h))!=null&&p.has(R)))return}const y=o.sortable.element,S=a.sortable.element;if(!S||!y||!c&&a.id===o.sortable.group)return;const m=Kn(u),x=c?m:Kn(d),b=(g=o.sortable.group)!=null?g:yl,C=(v=a.sortable.group)!=null?v:yl,I={[b]:m,[C]:x},D=gg(I,n);if(I===D)return;const _=D[C].indexOf(o.sortable),j=D[C].indexOf(a.sortable);s.collisionObserver.disable(),_l(y,_,S,j),Ee(()=>{for(const[h,A]of D[b].entries())A.index=h;if(!c)for(const[h,A]of D[C].entries())A.group=a.sortable.group,A.index=h}),s.actions.setDropTarget(o.id).then(()=>s.collisionObserver.enable())})})}),e.monitor.addEventListener("dragend",(n,s)=>{if(!n.canceled)return;const{dragOperation:i}=s,{source:o}=i;ir(o)&&(o.sortable.initialIndex===o.sortable.index&&o.sortable.initialGroup===o.sortable.group||queueMicrotask(()=>{const a=t(),l=a.get(o.sortable.initialGroup);l&&s.renderer.rendering.then(()=>{for(const[g,v]of a.entries()){const k=Array.from(v).entries();for(const[y,S]of k)if(S.index!==y||S.group!==g)return}const c=Kn(l),u=o.sortable.element,d=c[o.sortable.initialIndex],p=d?.element;!d||!p||!u||(_l(u,d.index,p,o.index),Ee(()=>{for(const[g,v]of a.entries()){const k=Array.from(v).values();for(const y of k)y.index=y.initialIndex,y.group=y.initialGroup}}))})}))})];this.destroy=()=>{for(const n of r)n()}}};function _l(e,t,r,n){const s=n<t?"afterend":"beforebegin";r.insertAdjacentElement(s,e)}function yg(e,t){return e.index-t.index}function Kn(e){return Array.from(e).sort(yg)}var _g=[ag,mg],$d={duration:250,easing:"cubic-bezier(0.25, 1, 0.5, 1)",idle:!1},Gn=new Sp,Rd,Nd,Zt,wa,fn,pn,Sa,Sr;Nd=[ae],Rd=[ae];var Ys=class{constructor(e,t){Yr(this,wa,Yn(Zt,8,this)),Yn(Zt,11,this),Yr(this,fn),Yr(this,pn),Yr(this,Sa,Yn(Zt,12,this)),Yn(Zt,15,this),Yr(this,Sr),this.register=()=>(Ee(()=>{var d,p;(d=this.manager)==null||d.registry.register(this.droppable),(p=this.manager)==null||p.registry.register(this.draggable)}),()=>this.unregister()),this.unregister=()=>{Ee(()=>{var d,p;(d=this.manager)==null||d.registry.unregister(this.droppable),(p=this.manager)==null||p.registry.unregister(this.draggable)})},this.destroy=()=>{Ee(()=>{this.droppable.destroy(),this.draggable.destroy()})};var r=e,{effects:n=()=>[],group:s,index:i,sensors:o,type:a,transition:l=$d,plugins:c=_g}=r,u=ng(r,["effects","group","index","sensors","type","transition","plugins"]);this.droppable=new Ia(u,t,this),this.draggable=new zd(rg(tg({},u),{effects:()=>[()=>{var d,p,g;const v=(d=this.manager)==null?void 0:d.dragOperation.status;v?.initializing&&this.id===((g=(p=this.manager)==null?void 0:p.dragOperation.source)==null?void 0:g.id)&&Gn.clear(this.manager),v?.dragging&&Gn.set(this.manager,this.id,ve(()=>({initialIndex:this.index,initialGroup:this.group})))},()=>{const{index:d,group:p,manager:g}=this,v=dn(this,pn),k=dn(this,fn);(d!==v||p!==k)&&(rr(this,pn,d),rr(this,fn,p),this.animate())},()=>{const{target:d}=this,{feedback:p,isDragSource:g}=this.draggable;p=="move"&&g&&(this.droppable.disabled=!d)},()=>{const{manager:d}=this;for(const p of c)d?.registry.register(p)},...n()],type:a,sensors:o}),t,this),rr(this,Sr,u.element),this.manager=t,this.index=i,rr(this,pn,i),this.group=s,rr(this,fn,s),this.type=a,this.transition=l}get initialIndex(){var e,t;return(t=(e=Gn.get(this.manager,this.id))==null?void 0:e.initialIndex)!=null?t:this.index}get initialGroup(){var e,t;return(t=(e=Gn.get(this.manager,this.id))==null?void 0:e.initialGroup)!=null?t:this.group}animate(){ve(()=>{const{manager:e,transition:t}=this,{shape:r}=this.droppable;if(!e)return;const{idle:n}=e.dragOperation.status;!r||!t||n&&!t.idle||e.renderer.rendering.then(()=>{const{element:s}=this;if(!s)return;const i=this.refreshShape();if(!i)return;const o={x:r.boundingRectangle.left-i.boundingRectangle.left,y:r.boundingRectangle.top-i.boundingRectangle.top},{translate:a}=xt(s),l=rl(s,a,!1),c=rl(s,a);(o.x||o.y)&&Wu({element:s,keyframes:{translate:[`${l.x+o.x}px ${l.y+o.y}px ${l.z}`,`${c.x}px ${c.y}px ${c.z}`]},options:t}).then(()=>{e.dragOperation.status.dragging||(this.droppable.shape=void 0)})})})}get manager(){return this.draggable.manager}set manager(e){Ee(()=>{this.draggable.manager=e,this.droppable.manager=e})}set element(e){Ee(()=>{const t=dn(this,Sr),r=this.droppable.element,n=this.draggable.element;(!r||r===t)&&(this.droppable.element=e),(!n||n===t)&&(this.draggable.element=e),rr(this,Sr,e)})}get element(){var e,t;const r=dn(this,Sr);if(r)return(t=(e=Wi.get(r))!=null?e:r)!=null?t:this.droppable.element}set target(e){this.droppable.element=e}get target(){return this.droppable.element}set source(e){this.draggable.element=e}get source(){return this.draggable.element}get disabled(){return this.draggable.disabled&&this.droppable.disabled}set feedback(e){this.draggable.feedback=e}set disabled(e){Ee(()=>{this.droppable.disabled=e,this.draggable.disabled=e})}set data(e){Ee(()=>{this.droppable.data=e,this.draggable.data=e})}set handle(e){this.draggable.handle=e}set id(e){Ee(()=>{this.droppable.id=e,this.draggable.id=e})}get id(){return this.droppable.id}set sensors(e){this.draggable.sensors=e}set modifiers(e){this.draggable.modifiers=e}set collisionPriority(e){this.droppable.collisionPriority=e}set collisionDetector(e){this.droppable.collisionDetector=e??Hu}set alignment(e){this.draggable.alignment=e}get alignment(){return this.draggable.alignment}set type(e){Ee(()=>{this.droppable.type=e,this.draggable.type=e})}get type(){return this.draggable.type}set accept(e){this.droppable.accept=e}get accept(){return this.droppable.accept}get isDropTarget(){return this.droppable.isDropTarget}get isDragSource(){return this.draggable.isDragSource}get isDragging(){return this.draggable.isDragging}get isDropping(){return this.draggable.isDropping}get status(){return this.draggable.status}refreshShape(){return this.droppable.refreshShape()}accepts(e){return this.droppable.accepts(e)}};Zt=sg();wa=new WeakMap;fn=new WeakMap;pn=new WeakMap;Sa=new WeakMap;Sr=new WeakMap;Td(Zt,4,"index",Nd,Ys,wa);Td(Zt,4,"group",Rd,Ys,Sa);og(Zt,Ys);var zd=class extends Fr{constructor(e,t,r){super(e,t),this.sortable=r}get index(){return this.sortable.index}},Ia=class extends Zs{constructor(e,t,r){super(e,t),this.sortable=r}},bg=Object.defineProperty,xg=Object.defineProperties,wg=Object.getOwnPropertyDescriptors,bl=Object.getOwnPropertySymbols,Sg=Object.prototype.hasOwnProperty,Ig=Object.prototype.propertyIsEnumerable,xl=(e,t,r)=>t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hi=(e,t)=>{for(var r in t||(t={}))Sg.call(t,r)&&xl(e,r,t[r]);if(bl)for(var r of bl(t))Ig.call(t,r)&&xl(e,r,t[r]);return e},Eg=(e,t)=>xg(e,wg(t));function Fd(e){const{accept:t,collisionDetector:r,collisionPriority:n,id:s,data:i,element:o,handle:a,index:l,group:c,disabled:u,feedback:d,modifiers:p,sensors:g,target:v,type:k}=e,y=hi(hi({},$d),e.transition),S=ba(x=>new Ys(Eg(hi({},e),{transition:y,register:!1,handle:Yt(a),element:Yt(o),target:Yt(v),feedback:d}),x)),m=_a(S,kg);return fe(s,()=>S.id=s),Br(()=>{Ee(()=>{S.group=c,S.index=l})},[S,c,l]),fe(k,()=>S.type=k),fe(t,()=>S.accept=t,void 0,Ot),fe(i,()=>i&&(S.data=i)),fe(l,()=>{var x;(x=S.manager)!=null&&x.dragOperation.status.idle&&y?.idle&&S.refreshShape()},Cv),kr(a,x=>S.handle=x),kr(o,x=>S.element=x),kr(v,x=>S.target=x),fe(u,()=>S.disabled=u===!0),fe(g,()=>S.sensors=g),fe(r,()=>S.collisionDetector=r),fe(n,()=>S.collisionPriority=n),fe(d,()=>S.feedback=d??"default"),fe(y,()=>S.transition=y,void 0,Ot),fe(p,()=>S.modifiers=p,void 0,Ot),fe(e.alignment,()=>S.alignment=e.alignment),{sortable:m,get isDragging(){return m.isDragging},get isDropping(){return m.isDropping},get isDragSource(){return m.isDragSource},get isDropTarget(){return m.isDropTarget},handleRef:E.useCallback(x=>{S.handle=x??void 0},[S]),ref:E.useCallback(x=>{var b,C;!x&&((b=S.element)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.element=x??void 0)},[S]),sourceRef:E.useCallback(x=>{var b,C;!x&&((b=S.source)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.source=x??void 0)},[S]),targetRef:E.useCallback(x=>{var b,C;!x&&((b=S.target)!=null&&b.isConnected)&&!((C=S.manager)!=null&&C.dragOperation.status.idle)||(S.target=x??void 0)},[S])}}function kg(e,t,r){return!!(e==="isDragSource"&&!r&&t)}const wl=e=>Symbol.iterator in e,Sl=e=>"entries"in e,Il=(e,t)=>{const r=e instanceof Map?e:new Map(e.entries()),n=t instanceof Map?t:new Map(t.entries());if(r.size!==n.size)return!1;for(const[s,i]of r)if(!n.has(s)||!Object.is(i,n.get(s)))return!1;return!0},jg=(e,t)=>{const r=e[Symbol.iterator](),n=t[Symbol.iterator]();let s=r.next(),i=n.next();for(;!s.done&&!i.done;){if(!Object.is(s.value,i.value))return!1;s=r.next(),i=n.next()}return!!s.done&&!!i.done};function Cg(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:wl(e)&&wl(t)?Sl(e)&&Sl(t)?Il(e,t):jg(e,t):Il({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Be(e){const t=Ht.useRef(void 0);return r=>{const n=e(r);return Cg(t.current,n)?t.current:t.current=n}}function Pg(e,t,r){var n=this,s=E.useRef(null),i=E.useRef(0),o=E.useRef(null),a=E.useRef([]),l=E.useRef(),c=E.useRef(),u=E.useRef(e),d=E.useRef(!0);E.useEffect(function(){u.current=e},[e]);var p=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var g=!!(r=r||{}).leading,v=!("trailing"in r)||!!r.trailing,k="maxWait"in r,y=k?Math.max(+r.maxWait||0,t):null;E.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var S=E.useMemo(function(){var m=function(_){var j=a.current,h=l.current;return a.current=l.current=null,i.current=_,c.current=u.current.apply(h,j)},x=function(_,j){p&&cancelAnimationFrame(o.current),o.current=p?requestAnimationFrame(_):setTimeout(_,j)},b=function(_){if(!d.current)return!1;var j=_-s.current;return!s.current||j>=t||j<0||k&&_-i.current>=y},C=function(_){return o.current=null,v&&a.current?m(_):(a.current=l.current=null,c.current)},I=function _(){var j=Date.now();if(b(j))return C(j);if(d.current){var h=t-(j-s.current),A=k?Math.min(h,y-(j-i.current)):h;x(_,A)}},D=function(){var _=Date.now(),j=b(_);if(a.current=[].slice.call(arguments),l.current=n,s.current=_,j){if(!o.current&&d.current)return i.current=s.current,x(I,t),g?m(s.current):c.current;if(k)return x(I,t),m(s.current)}return o.current||x(I,t),c.current};return D.cancel=function(){o.current&&(p?cancelAnimationFrame(o.current):clearTimeout(o.current)),i.current=0,a.current=s.current=l.current=o.current=null},D.isPending=function(){return!!o.current},D.flush=function(){return o.current?C(Date.now()):c.current},D},[g,k,t,y,v,p]);return S}function Jn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vi={exports:{}},El;function Dg(){return El||(El=1,(function(e,t){(function(r){e.exports=r()})(function(){return(function r(n,s,i){function o(c,u){if(!s[c]){if(!n[c]){var d=typeof Jn=="function"&&Jn;if(!u&&d)return d(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}u=s[c]={exports:{}},n[c][0].call(u.exports,function(p){var g=n[c][1][p];return o(g||p)},u,u.exports,r,n,s,i)}return s[c].exports}for(var a=typeof Jn=="function"&&Jn,l=0;l<i.length;l++)o(i[l]);return o})({1:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){var v=r("crypto");function k(I,D){D=m(I,D);var _;return(_=D.algorithm!=="passthrough"?v.createHash(D.algorithm):new C).write===void 0&&(_.write=_.update,_.end=_.update),b(D,_).dispatch(I),_.update||_.end(""),_.digest?_.digest(D.encoding==="buffer"?void 0:D.encoding):(I=_.read(),D.encoding!=="buffer"?I.toString(D.encoding):I)}(s=n.exports=k).sha1=function(I){return k(I)},s.keys=function(I){return k(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(I){return k(I,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(I){return k(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=v.getHashes?v.getHashes().slice():["sha1","md5"],S=(y.push("passthrough"),["buffer","hex","binary","base64"]);function m(I,D){var _={};if(_.algorithm=(D=D||{}).algorithm||"sha1",_.encoding=D.encoding||"hex",_.excludeValues=!!D.excludeValues,_.algorithm=_.algorithm.toLowerCase(),_.encoding=_.encoding.toLowerCase(),_.ignoreUnknown=D.ignoreUnknown===!0,_.respectType=D.respectType!==!1,_.respectFunctionNames=D.respectFunctionNames!==!1,_.respectFunctionProperties=D.respectFunctionProperties!==!1,_.unorderedArrays=D.unorderedArrays===!0,_.unorderedSets=D.unorderedSets!==!1,_.unorderedObjects=D.unorderedObjects!==!1,_.replacer=D.replacer||void 0,_.excludeKeys=D.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var j=0;j<y.length;++j)y[j].toLowerCase()===_.algorithm.toLowerCase()&&(_.algorithm=y[j]);if(y.indexOf(_.algorithm)===-1)throw new Error('Algorithm "'+_.algorithm+'"  not supported. supported values: '+y.join(", "));if(S.indexOf(_.encoding)===-1&&_.algorithm!=="passthrough")throw new Error('Encoding "'+_.encoding+'"  not supported. supported values: '+S.join(", "));return _}function x(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function b(I,D,_){_=_||[];function j(h){return D.update?D.update(h,"utf8"):D.write(h,"utf8")}return{dispatch:function(h){return this["_"+((h=I.replacer?I.replacer(h):h)===null?"null":typeof h)](h)},_object:function(h){var A,T=Object.prototype.toString.call(h),N=/\[object (.*)\]/i.exec(T);if(N=(N=N?N[1]:"unknown:["+T+"]").toLowerCase(),0<=(T=_.indexOf(h)))return this.dispatch("[CIRCULAR:"+T+"]");if(_.push(h),a!==void 0&&a.isBuffer&&a.isBuffer(h))return j("buffer:"),j(h);if(N==="object"||N==="function"||N==="asyncfunction")return T=Object.keys(h),I.unorderedObjects&&(T=T.sort()),I.respectType===!1||x(h)||T.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(T=T.filter(function(R){return!I.excludeKeys(R)})),j("object:"+T.length+":"),A=this,T.forEach(function(R){A.dispatch(R),j(":"),I.excludeValues||A.dispatch(h[R]),j(",")});if(!this["_"+N]){if(I.ignoreUnknown)return j("["+N+"]");throw new Error('Unknown object type "'+N+'"')}this["_"+N](h)},_array:function(h,R){R=R!==void 0?R:I.unorderedArrays!==!1;var T=this;if(j("array:"+h.length+":"),!R||h.length<=1)return h.forEach(function(V){return T.dispatch(V)});var N=[],R=h.map(function(V){var z=new C,K=_.slice();return b(I,z,K).dispatch(V),N=N.concat(K.slice(_.length)),z.read().toString()});return _=_.concat(N),R.sort(),this._array(R,!1)},_date:function(h){return j("date:"+h.toJSON())},_symbol:function(h){return j("symbol:"+h.toString())},_error:function(h){return j("error:"+h.toString())},_boolean:function(h){return j("bool:"+h.toString())},_string:function(h){j("string:"+h.length+":"),j(h.toString())},_function:function(h){j("fn:"),x(h)?this.dispatch("[native]"):this.dispatch(h.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(h.name)),I.respectFunctionProperties&&this._object(h)},_number:function(h){return j("number:"+h.toString())},_xml:function(h){return j("xml:"+h.toString())},_null:function(){return j("Null")},_undefined:function(){return j("Undefined")},_regexp:function(h){return j("regex:"+h.toString())},_uint8array:function(h){return j("uint8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint8clampedarray:function(h){return j("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(h))},_int8array:function(h){return j("int8array:"),this.dispatch(Array.prototype.slice.call(h))},_uint16array:function(h){return j("uint16array:"),this.dispatch(Array.prototype.slice.call(h))},_int16array:function(h){return j("int16array:"),this.dispatch(Array.prototype.slice.call(h))},_uint32array:function(h){return j("uint32array:"),this.dispatch(Array.prototype.slice.call(h))},_int32array:function(h){return j("int32array:"),this.dispatch(Array.prototype.slice.call(h))},_float32array:function(h){return j("float32array:"),this.dispatch(Array.prototype.slice.call(h))},_float64array:function(h){return j("float64array:"),this.dispatch(Array.prototype.slice.call(h))},_arraybuffer:function(h){return j("arraybuffer:"),this.dispatch(new Uint8Array(h))},_url:function(h){return j("url:"+h.toString())},_map:function(h){return j("map:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_set:function(h){return j("set:"),h=Array.from(h),this._array(h,I.unorderedSets!==!1)},_file:function(h){return j("file:"),this.dispatch([h.name,h.size,h.type,h.lastModfied])},_blob:function(){if(I.ignoreUnknown)return j("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return j("domwindow")},_bigint:function(h){return j("bigint:"+h.toString())},_process:function(){return j("process")},_timer:function(){return j("timer")},_pipe:function(){return j("pipe")},_tcp:function(){return j("tcp")},_udp:function(){return j("udp")},_tty:function(){return j("tty")},_statwatcher:function(){return j("statwatcher")},_securecontext:function(){return j("securecontext")},_connection:function(){return j("connection")},_zlib:function(){return j("zlib")},_context:function(){return j("context")},_nodescript:function(){return j("nodescript")},_httpparser:function(){return j("httpparser")},_dataview:function(){return j("dataview")},_signal:function(){return j("signal")},_fsevent:function(){return j("fsevent")},_tlswrap:function(){return j("tlswrap")}}}function C(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}s.writeToStream=function(I,D,_){return _===void 0&&(_=D,D={}),b(D=m(I,D),_).dispatch(I)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){(function(v){var k=typeof Uint8Array<"u"?Uint8Array:Array,y=43,S=47,m=48,x=97,b=65,C=45,I=95;function D(_){return _=_.charCodeAt(0),_===y||_===C?62:_===S||_===I?63:_<m?-1:_<m+10?_-m+26+26:_<b+26?_-b:_<x+26?_-x+26:void 0}v.toByteArray=function(_){var j,h;if(0<_.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var A=_.length,A=_.charAt(A-2)==="="?2:_.charAt(A-1)==="="?1:0,T=new k(3*_.length/4-A),N=0<A?_.length-4:_.length,R=0;function V(z){T[R++]=z}for(j=0;j<N;j+=4,0)V((16711680&(h=D(_.charAt(j))<<18|D(_.charAt(j+1))<<12|D(_.charAt(j+2))<<6|D(_.charAt(j+3))))>>16),V((65280&h)>>8),V(255&h);return A==2?V(255&(h=D(_.charAt(j))<<2|D(_.charAt(j+1))>>4)):A==1&&(V((h=D(_.charAt(j))<<10|D(_.charAt(j+1))<<4|D(_.charAt(j+2))>>2)>>8&255),V(255&h)),T},v.fromByteArray=function(_){var j,h,A,T,N=_.length%3,R="";function V(z){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(z)}for(j=0,A=_.length-N;j<A;j+=3)h=(_[j]<<16)+(_[j+1]<<8)+_[j+2],R+=V((T=h)>>18&63)+V(T>>12&63)+V(T>>6&63)+V(63&T);switch(N){case 1:R=(R+=V((h=_[_.length-1])>>2))+V(h<<4&63)+"==";break;case 2:R=(R=(R+=V((h=(_[_.length-2]<<8)+_[_.length-1])>>10))+V(h>>4&63))+V(h<<2&63)+"="}return R}})(s===void 0?this.base64js={}:s)}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(r,n,s){(function(i,o,y,l,c,u,d,p,g){var v=r("base64-js"),k=r("ieee754");function y(w,O,L){if(!(this instanceof y))return new y(w,O,L);var B,W,q,ee,he=typeof w;if(O==="base64"&&he=="string")for(w=(ee=w).trim?ee.trim():ee.replace(/^\s+|\s+$/g,"");w.length%4!=0;)w+="=";if(he=="number")B=U(w);else if(he=="string")B=y.byteLength(w,O);else{if(he!="object")throw new Error("First argument needs to be a number, array or string.");B=U(w.length)}if(y._useTypedArrays?W=y._augment(new Uint8Array(B)):((W=this).length=B,W._isBuffer=!0),y._useTypedArrays&&typeof w.byteLength=="number")W._set(w);else if(X(ee=w)||y.isBuffer(ee)||ee&&typeof ee=="object"&&typeof ee.length=="number")for(q=0;q<B;q++)y.isBuffer(w)?W[q]=w.readUInt8(q):W[q]=w[q];else if(he=="string")W.write(w,0,O);else if(he=="number"&&!y._useTypedArrays&&!L)for(q=0;q<B;q++)W[q]=0;return W}function S(w,O,L,B){return y._charsWritten=ce((function(W){for(var q=[],ee=0;ee<W.length;ee++)q.push(255&W.charCodeAt(ee));return q})(O),w,L,B)}function m(w,O,L,B){return y._charsWritten=ce((function(W){for(var q,ee,he=[],be=0;be<W.length;be++)ee=W.charCodeAt(be),q=ee>>8,ee=ee%256,he.push(ee),he.push(q);return he})(O),w,L,B)}function x(w,O,L){var B="";L=Math.min(w.length,L);for(var W=O;W<L;W++)B+=String.fromCharCode(w[W]);return B}function b(w,O,L,q){q||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return L?(W=w[O],O+1<q&&(W|=w[O+1]<<8)):(W=w[O]<<8,O+1<q&&(W|=w[O+1])),W}function C(w,O,L,q){q||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length"));var W,q=w.length;if(!(q<=O))return L?(O+2<q&&(W=w[O+2]<<16),O+1<q&&(W|=w[O+1]<<8),W|=w[O],O+3<q&&(W+=w[O+3]<<24>>>0)):(O+1<q&&(W=w[O+1]<<16),O+2<q&&(W|=w[O+2]<<8),O+3<q&&(W|=w[O+3]),W+=w[O]<<24>>>0),W}function I(w,O,L,B){if(B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+1<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=b(w,O,L,!0),32768&B?-1*(65535-B+1):B}function D(w,O,L,B){if(B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O!=null,"missing offset"),Z(O+3<w.length,"Trying to read beyond buffer length")),!(w.length<=O))return B=C(w,O,L,!0),2147483648&B?-1*(4294967295-B+1):B}function _(w,O,L,B){return B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O+3<w.length,"Trying to read beyond buffer length")),k.read(w,O,L,23,4)}function j(w,O,L,B){return B||(Z(typeof L=="boolean","missing or invalid endian"),Z(O+7<w.length,"Trying to read beyond buffer length")),k.read(w,O,L,52,8)}function h(w,O,L,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+1<w.length,"trying to write beyond buffer length"),se(O,65535)),W=w.length,!(W<=L))for(var q=0,ee=Math.min(W-L,2);q<ee;q++)w[L+q]=(O&255<<8*(B?q:1-q))>>>8*(B?q:1-q)}function A(w,O,L,B,W){if(W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"trying to write beyond buffer length"),se(O,4294967295)),W=w.length,!(W<=L))for(var q=0,ee=Math.min(W-L,4);q<ee;q++)w[L+q]=O>>>8*(B?q:3-q)&255}function T(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+1<w.length,"Trying to write beyond buffer length"),ke(O,32767,-32768)),w.length<=L||h(w,0<=O?O:65535+O+1,L,B,W)}function N(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"Trying to write beyond buffer length"),ke(O,2147483647,-2147483648)),w.length<=L||A(w,0<=O?O:4294967295+O+1,L,B,W)}function R(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+3<w.length,"Trying to write beyond buffer length"),De(O,34028234663852886e22,-34028234663852886e22)),w.length<=L||k.write(w,O,L,B,23,4)}function V(w,O,L,B,W){W||(Z(O!=null,"missing value"),Z(typeof B=="boolean","missing or invalid endian"),Z(L!=null,"missing offset"),Z(L+7<w.length,"Trying to write beyond buffer length"),De(O,17976931348623157e292,-17976931348623157e292)),w.length<=L||k.write(w,O,L,B,52,8)}s.Buffer=y,s.SlowBuffer=y,s.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=(function(){try{var w=new ArrayBuffer(0),O=new Uint8Array(w);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"}catch{return!1}})(),y.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(w){return!(w==null||!w._isBuffer)},y.byteLength=function(w,O){var L;switch(w+="",O||"utf8"){case"hex":L=w.length/2;break;case"utf8":case"utf-8":L=Y(w).length;break;case"ascii":case"binary":case"raw":L=w.length;break;case"base64":L=te(w).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":L=2*w.length;break;default:throw new Error("Unknown encoding")}return L},y.concat=function(w,O){if(Z(X(w),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),w.length===0)return new y(0);if(w.length===1)return w[0];if(typeof O!="number")for(W=O=0;W<w.length;W++)O+=w[W].length;for(var L=new y(O),B=0,W=0;W<w.length;W++){var q=w[W];q.copy(L,B),B+=q.length}return L},y.prototype.write=function(w,O,L,B){isFinite(O)?isFinite(L)||(B=L,L=void 0):(be=B,B=O,O=L,L=be),O=Number(O)||0;var W,q,ee,he,be=this.length-O;switch((!L||be<(L=Number(L)))&&(L=be),B=String(B||"utf8").toLowerCase()){case"hex":W=(function(Oe,Ae,je,xe){je=Number(je)||0;var me=Oe.length-je;(!xe||me<(xe=Number(xe)))&&(xe=me),Z((me=Ae.length)%2==0,"Invalid hex string"),me/2<xe&&(xe=me/2);for(var ot=0;ot<xe;ot++){var Lt=parseInt(Ae.substr(2*ot,2),16);Z(!isNaN(Lt),"Invalid hex string"),Oe[je+ot]=Lt}return y._charsWritten=2*ot,ot})(this,w,O,L);break;case"utf8":case"utf-8":q=this,ee=O,he=L,W=y._charsWritten=ce(Y(w),q,ee,he);break;case"ascii":case"binary":W=S(this,w,O,L);break;case"base64":q=this,ee=O,he=L,W=y._charsWritten=ce(te(w),q,ee,he);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":W=m(this,w,O,L);break;default:throw new Error("Unknown encoding")}return W},y.prototype.toString=function(w,O,L){var B,W,q,ee,he=this;if(w=String(w||"utf8").toLowerCase(),O=Number(O)||0,(L=L!==void 0?Number(L):he.length)===O)return"";switch(w){case"hex":B=(function(be,Oe,Ae){var je=be.length;(!Oe||Oe<0)&&(Oe=0),(!Ae||Ae<0||je<Ae)&&(Ae=je);for(var xe="",me=Oe;me<Ae;me++)xe+=G(be[me]);return xe})(he,O,L);break;case"utf8":case"utf-8":B=(function(be,Oe,Ae){var je="",xe="";Ae=Math.min(be.length,Ae);for(var me=Oe;me<Ae;me++)be[me]<=127?(je+=Ie(xe)+String.fromCharCode(be[me]),xe=""):xe+="%"+be[me].toString(16);return je+Ie(xe)})(he,O,L);break;case"ascii":case"binary":B=x(he,O,L);break;case"base64":W=he,ee=L,B=(q=O)===0&&ee===W.length?v.fromByteArray(W):v.fromByteArray(W.slice(q,ee));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":B=(function(be,Oe,Ae){for(var je=be.slice(Oe,Ae),xe="",me=0;me<je.length;me+=2)xe+=String.fromCharCode(je[me]+256*je[me+1]);return xe})(he,O,L);break;default:throw new Error("Unknown encoding")}return B},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(w,O,L,B){if(O=O||0,(B=B||B===0?B:this.length)!==(L=L||0)&&w.length!==0&&this.length!==0){Z(L<=B,"sourceEnd < sourceStart"),Z(0<=O&&O<w.length,"targetStart out of bounds"),Z(0<=L&&L<this.length,"sourceStart out of bounds"),Z(0<=B&&B<=this.length,"sourceEnd out of bounds"),B>this.length&&(B=this.length);var W=(B=w.length-O<B-L?w.length-O+L:B)-L;if(W<100||!y._useTypedArrays)for(var q=0;q<W;q++)w[q+O]=this[q+L];else w._set(this.subarray(L,L+W),O)}},y.prototype.slice=function(w,O){var L=this.length;if(w=K(w,L,0),O=K(O,L,L),y._useTypedArrays)return y._augment(this.subarray(w,O));for(var B=O-w,W=new y(B,void 0,!0),q=0;q<B;q++)W[q]=this[q+w];return W},y.prototype.get=function(w){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(w)},y.prototype.set=function(w,O){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(w,O)},y.prototype.readUInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return this[w]},y.prototype.readUInt16LE=function(w,O){return b(this,w,!0,O)},y.prototype.readUInt16BE=function(w,O){return b(this,w,!1,O)},y.prototype.readUInt32LE=function(w,O){return C(this,w,!0,O)},y.prototype.readUInt32BE=function(w,O){return C(this,w,!1,O)},y.prototype.readInt8=function(w,O){if(O||(Z(w!=null,"missing offset"),Z(w<this.length,"Trying to read beyond buffer length")),!(w>=this.length))return 128&this[w]?-1*(255-this[w]+1):this[w]},y.prototype.readInt16LE=function(w,O){return I(this,w,!0,O)},y.prototype.readInt16BE=function(w,O){return I(this,w,!1,O)},y.prototype.readInt32LE=function(w,O){return D(this,w,!0,O)},y.prototype.readInt32BE=function(w,O){return D(this,w,!1,O)},y.prototype.readFloatLE=function(w,O){return _(this,w,!0,O)},y.prototype.readFloatBE=function(w,O){return _(this,w,!1,O)},y.prototype.readDoubleLE=function(w,O){return j(this,w,!0,O)},y.prototype.readDoubleBE=function(w,O){return j(this,w,!1,O)},y.prototype.writeUInt8=function(w,O,L){L||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"trying to write beyond buffer length"),se(w,255)),O>=this.length||(this[O]=w)},y.prototype.writeUInt16LE=function(w,O,L){h(this,w,O,!0,L)},y.prototype.writeUInt16BE=function(w,O,L){h(this,w,O,!1,L)},y.prototype.writeUInt32LE=function(w,O,L){A(this,w,O,!0,L)},y.prototype.writeUInt32BE=function(w,O,L){A(this,w,O,!1,L)},y.prototype.writeInt8=function(w,O,L){L||(Z(w!=null,"missing value"),Z(O!=null,"missing offset"),Z(O<this.length,"Trying to write beyond buffer length"),ke(w,127,-128)),O>=this.length||(0<=w?this.writeUInt8(w,O,L):this.writeUInt8(255+w+1,O,L))},y.prototype.writeInt16LE=function(w,O,L){T(this,w,O,!0,L)},y.prototype.writeInt16BE=function(w,O,L){T(this,w,O,!1,L)},y.prototype.writeInt32LE=function(w,O,L){N(this,w,O,!0,L)},y.prototype.writeInt32BE=function(w,O,L){N(this,w,O,!1,L)},y.prototype.writeFloatLE=function(w,O,L){R(this,w,O,!0,L)},y.prototype.writeFloatBE=function(w,O,L){R(this,w,O,!1,L)},y.prototype.writeDoubleLE=function(w,O,L){V(this,w,O,!0,L)},y.prototype.writeDoubleBE=function(w,O,L){V(this,w,O,!1,L)},y.prototype.fill=function(w,O,L){if(O=O||0,L=L||this.length,Z(typeof(w=typeof(w=w||0)=="string"?w.charCodeAt(0):w)=="number"&&!isNaN(w),"value is not a number"),Z(O<=L,"end < start"),L!==O&&this.length!==0){Z(0<=O&&O<this.length,"start out of bounds"),Z(0<=L&&L<=this.length,"end out of bounds");for(var B=O;B<L;B++)this[B]=w}},y.prototype.inspect=function(){for(var w=[],O=this.length,L=0;L<O;L++)if(w[L]=G(this[L]),L===s.INSPECT_MAX_BYTES){w[L+1]="...";break}return"<Buffer "+w.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var w=new Uint8Array(this.length),O=0,L=w.length;O<L;O+=1)w[O]=this[O];return w.buffer};var z=y.prototype;function K(w,O,L){return typeof w!="number"?L:O<=(w=~~w)?O:0<=w||0<=(w+=O)?w:0}function U(w){return(w=~~Math.ceil(+w))<0?0:w}function X(w){return(Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"})(w)}function G(w){return w<16?"0"+w.toString(16):w.toString(16)}function Y(w){for(var O=[],L=0;L<w.length;L++){var B=w.charCodeAt(L);if(B<=127)O.push(w.charCodeAt(L));else for(var W=L,q=(55296<=B&&B<=57343&&L++,encodeURIComponent(w.slice(W,L+1)).substr(1).split("%")),ee=0;ee<q.length;ee++)O.push(parseInt(q[ee],16))}return O}function te(w){return v.toByteArray(w)}function ce(w,O,L,B){for(var W=0;W<B&&!(W+L>=O.length||W>=w.length);W++)O[W+L]=w[W];return W}function Ie(w){try{return decodeURIComponent(w)}catch{return""}}function se(w,O){Z(typeof w=="number","cannot write a non-number as a number"),Z(0<=w,"specified a negative value for writing an unsigned value"),Z(w<=O,"value is larger than maximum value for type"),Z(Math.floor(w)===w,"value has a fractional component")}function ke(w,O,L){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(L<=w,"value smaller than minimum allowed value"),Z(Math.floor(w)===w,"value has a fractional component")}function De(w,O,L){Z(typeof w=="number","cannot write a non-number as a number"),Z(w<=O,"value larger than maximum allowed value"),Z(L<=w,"value smaller than minimum allowed value")}function Z(w,O){if(!w)throw new Error(O||"Failed assertion")}y._augment=function(w){return w._isBuffer=!0,w._get=w.get,w._set=w.set,w.get=z.get,w.set=z.set,w.write=z.write,w.toString=z.toString,w.toLocaleString=z.toString,w.toJSON=z.toJSON,w.copy=z.copy,w.slice=z.slice,w.readUInt8=z.readUInt8,w.readUInt16LE=z.readUInt16LE,w.readUInt16BE=z.readUInt16BE,w.readUInt32LE=z.readUInt32LE,w.readUInt32BE=z.readUInt32BE,w.readInt8=z.readInt8,w.readInt16LE=z.readInt16LE,w.readInt16BE=z.readInt16BE,w.readInt32LE=z.readInt32LE,w.readInt32BE=z.readInt32BE,w.readFloatLE=z.readFloatLE,w.readFloatBE=z.readFloatBE,w.readDoubleLE=z.readDoubleLE,w.readDoubleBE=z.readDoubleBE,w.writeUInt8=z.writeUInt8,w.writeUInt16LE=z.writeUInt16LE,w.writeUInt16BE=z.writeUInt16BE,w.writeUInt32LE=z.writeUInt32LE,w.writeUInt32BE=z.writeUInt32BE,w.writeInt8=z.writeInt8,w.writeInt16LE=z.writeInt16LE,w.writeInt16BE=z.writeInt16BE,w.writeInt32LE=z.writeInt32LE,w.writeInt32BE=z.writeInt32BE,w.writeFloatLE=z.writeFloatLE,w.writeFloatBE=z.writeFloatBE,w.writeDoubleLE=z.writeDoubleLE,w.writeDoubleBE=z.writeDoubleBE,w.fill=z.fill,w.inspect=z.inspect,w.toArrayBuffer=z.toArrayBuffer,w}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(r,n,s){(function(i,o,v,l,c,u,d,p,g){var v=r("buffer").Buffer,k=4,y=new v(k);y.fill(0),n.exports={hash:function(S,m,x,b){for(var C=m((function(h,A){h.length%k!=0&&(T=h.length+(k-h.length%k),h=v.concat([h,y],T));for(var T,N=[],R=A?h.readInt32BE:h.readInt32LE,V=0;V<h.length;V+=k)N.push(R.call(h,V));return N})(S=v.isBuffer(S)?S:new v(S),b),8*S.length),m=b,I=new v(x),D=m?I.writeInt32BE:I.writeInt32LE,_=0;_<C.length;_++)D.call(I,C[_],4*_,!0);return I}}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(r,n,s){(function(i,o,v,l,c,u,d,p,g){var v=r("buffer").Buffer,k=r("./sha"),y=r("./sha256"),S=r("./rng"),m={sha1:k,sha256:y,md5:r("./md5")},x=64,b=new v(x);function C(h,A){var T=m[h=h||"sha1"],N=[];return T||I("algorithm:",h,"is not yet supported"),{update:function(R){return v.isBuffer(R)||(R=new v(R)),N.push(R),R.length,this},digest:function(R){var V=v.concat(N),V=A?(function(z,K,U){v.isBuffer(K)||(K=new v(K)),v.isBuffer(U)||(U=new v(U)),K.length>x?K=z(K):K.length<x&&(K=v.concat([K,b],x));for(var X=new v(x),G=new v(x),Y=0;Y<x;Y++)X[Y]=54^K[Y],G[Y]=92^K[Y];return U=z(v.concat([X,U])),z(v.concat([G,U]))})(T,A,V):T(V);return N=null,R?V.toString(R):V}}}function I(){var h=[].slice.call(arguments).join(" ");throw new Error([h,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}b.fill(0),s.createHash=function(h){return C(h)},s.createHmac=C,s.randomBytes=function(h,A){if(!A||!A.call)return new v(S(h));try{A.call(this,void 0,new v(S(h)))}catch(T){A(T)}};var D,_=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],j=function(h){s[h]=function(){I("sorry,",h,"is not implemented yet")}};for(D in _)j(_[D])}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){var v=r("./helpers");function k(I,D){I[D>>5]|=128<<D%32,I[14+(D+64>>>9<<4)]=D;for(var _=1732584193,j=-271733879,h=-1732584194,A=271733878,T=0;T<I.length;T+=16){var N=_,R=j,V=h,z=A,_=S(_,j,h,A,I[T+0],7,-680876936),A=S(A,_,j,h,I[T+1],12,-389564586),h=S(h,A,_,j,I[T+2],17,606105819),j=S(j,h,A,_,I[T+3],22,-1044525330);_=S(_,j,h,A,I[T+4],7,-176418897),A=S(A,_,j,h,I[T+5],12,1200080426),h=S(h,A,_,j,I[T+6],17,-1473231341),j=S(j,h,A,_,I[T+7],22,-45705983),_=S(_,j,h,A,I[T+8],7,1770035416),A=S(A,_,j,h,I[T+9],12,-1958414417),h=S(h,A,_,j,I[T+10],17,-42063),j=S(j,h,A,_,I[T+11],22,-1990404162),_=S(_,j,h,A,I[T+12],7,1804603682),A=S(A,_,j,h,I[T+13],12,-40341101),h=S(h,A,_,j,I[T+14],17,-1502002290),_=m(_,j=S(j,h,A,_,I[T+15],22,1236535329),h,A,I[T+1],5,-165796510),A=m(A,_,j,h,I[T+6],9,-1069501632),h=m(h,A,_,j,I[T+11],14,643717713),j=m(j,h,A,_,I[T+0],20,-373897302),_=m(_,j,h,A,I[T+5],5,-701558691),A=m(A,_,j,h,I[T+10],9,38016083),h=m(h,A,_,j,I[T+15],14,-660478335),j=m(j,h,A,_,I[T+4],20,-405537848),_=m(_,j,h,A,I[T+9],5,568446438),A=m(A,_,j,h,I[T+14],9,-1019803690),h=m(h,A,_,j,I[T+3],14,-187363961),j=m(j,h,A,_,I[T+8],20,1163531501),_=m(_,j,h,A,I[T+13],5,-1444681467),A=m(A,_,j,h,I[T+2],9,-51403784),h=m(h,A,_,j,I[T+7],14,1735328473),_=x(_,j=m(j,h,A,_,I[T+12],20,-1926607734),h,A,I[T+5],4,-378558),A=x(A,_,j,h,I[T+8],11,-2022574463),h=x(h,A,_,j,I[T+11],16,1839030562),j=x(j,h,A,_,I[T+14],23,-35309556),_=x(_,j,h,A,I[T+1],4,-1530992060),A=x(A,_,j,h,I[T+4],11,1272893353),h=x(h,A,_,j,I[T+7],16,-155497632),j=x(j,h,A,_,I[T+10],23,-1094730640),_=x(_,j,h,A,I[T+13],4,681279174),A=x(A,_,j,h,I[T+0],11,-358537222),h=x(h,A,_,j,I[T+3],16,-722521979),j=x(j,h,A,_,I[T+6],23,76029189),_=x(_,j,h,A,I[T+9],4,-640364487),A=x(A,_,j,h,I[T+12],11,-421815835),h=x(h,A,_,j,I[T+15],16,530742520),_=b(_,j=x(j,h,A,_,I[T+2],23,-995338651),h,A,I[T+0],6,-198630844),A=b(A,_,j,h,I[T+7],10,1126891415),h=b(h,A,_,j,I[T+14],15,-1416354905),j=b(j,h,A,_,I[T+5],21,-57434055),_=b(_,j,h,A,I[T+12],6,1700485571),A=b(A,_,j,h,I[T+3],10,-1894986606),h=b(h,A,_,j,I[T+10],15,-1051523),j=b(j,h,A,_,I[T+1],21,-2054922799),_=b(_,j,h,A,I[T+8],6,1873313359),A=b(A,_,j,h,I[T+15],10,-30611744),h=b(h,A,_,j,I[T+6],15,-1560198380),j=b(j,h,A,_,I[T+13],21,1309151649),_=b(_,j,h,A,I[T+4],6,-145523070),A=b(A,_,j,h,I[T+11],10,-1120210379),h=b(h,A,_,j,I[T+2],15,718787259),j=b(j,h,A,_,I[T+9],21,-343485551),_=C(_,N),j=C(j,R),h=C(h,V),A=C(A,z)}return Array(_,j,h,A)}function y(I,D,_,j,h,A){return C((D=C(C(D,I),C(j,A)))<<h|D>>>32-h,_)}function S(I,D,_,j,h,A,T){return y(D&_|~D&j,I,D,h,A,T)}function m(I,D,_,j,h,A,T){return y(D&j|_&~j,I,D,h,A,T)}function x(I,D,_,j,h,A,T){return y(D^_^j,I,D,h,A,T)}function b(I,D,_,j,h,A,T){return y(_^(D|~j),I,D,h,A,T)}function C(I,D){var _=(65535&I)+(65535&D);return(I>>16)+(D>>16)+(_>>16)<<16|65535&_}n.exports=function(I){return v.hash(I,k,16)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){n.exports=function(v){for(var k,y=new Array(v),S=0;S<v;S++)(3&S)==0&&(k=4294967296*Math.random()),y[S]=k>>>((3&S)<<3)&255;return y}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){var v=r("./helpers");function k(m,x){m[x>>5]|=128<<24-x%32,m[15+(x+64>>9<<4)]=x;for(var b,C,I,D=Array(80),_=1732584193,j=-271733879,h=-1732584194,A=271733878,T=-1009589776,N=0;N<m.length;N+=16){for(var R=_,V=j,z=h,K=A,U=T,X=0;X<80;X++){D[X]=X<16?m[N+X]:S(D[X-3]^D[X-8]^D[X-14]^D[X-16],1);var G=y(y(S(_,5),(G=j,C=h,I=A,(b=X)<20?G&C|~G&I:!(b<40)&&b<60?G&C|G&I|C&I:G^C^I)),y(y(T,D[X]),(b=X)<20?1518500249:b<40?1859775393:b<60?-1894007588:-899497514)),T=A,A=h,h=S(j,30),j=_,_=G}_=y(_,R),j=y(j,V),h=y(h,z),A=y(A,K),T=y(T,U)}return Array(_,j,h,A,T)}function y(m,x){var b=(65535&m)+(65535&x);return(m>>16)+(x>>16)+(b>>16)<<16|65535&b}function S(m,x){return m<<x|m>>>32-x}n.exports=function(m){return v.hash(m,k,20,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){function v(x,b){var C=(65535&x)+(65535&b);return(x>>16)+(b>>16)+(C>>16)<<16|65535&C}function k(x,b){var C,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),D=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),_=new Array(64);x[b>>5]|=128<<24-b%32,x[15+(b+64>>9<<4)]=b;for(var j,h,A=0;A<x.length;A+=16){for(var T=D[0],N=D[1],R=D[2],V=D[3],z=D[4],K=D[5],U=D[6],X=D[7],G=0;G<64;G++)_[G]=G<16?x[G+A]:v(v(v((h=_[G-2],S(h,17)^S(h,19)^m(h,10)),_[G-7]),(h=_[G-15],S(h,7)^S(h,18)^m(h,3))),_[G-16]),C=v(v(v(v(X,S(h=z,6)^S(h,11)^S(h,25)),z&K^~z&U),I[G]),_[G]),j=v(S(j=T,2)^S(j,13)^S(j,22),T&N^T&R^N&R),X=U,U=K,K=z,z=v(V,C),V=R,R=N,N=T,T=v(C,j);D[0]=v(T,D[0]),D[1]=v(N,D[1]),D[2]=v(R,D[2]),D[3]=v(V,D[3]),D[4]=v(z,D[4]),D[5]=v(K,D[5]),D[6]=v(U,D[6]),D[7]=v(X,D[7])}return D}var y=r("./helpers"),S=function(x,b){return x>>>b|x<<32-b},m=function(x,b){return x>>>b};n.exports=function(x){return y.hash(x,k,32,!0)}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){s.read=function(v,k,y,S,A){var x,b,C=8*A-S-1,I=(1<<C)-1,D=I>>1,_=-7,j=y?A-1:0,h=y?-1:1,A=v[k+j];for(j+=h,x=A&(1<<-_)-1,A>>=-_,_+=C;0<_;x=256*x+v[k+j],j+=h,_-=8);for(b=x&(1<<-_)-1,x>>=-_,_+=S;0<_;b=256*b+v[k+j],j+=h,_-=8);if(x===0)x=1-D;else{if(x===I)return b?NaN:1/0*(A?-1:1);b+=Math.pow(2,S),x-=D}return(A?-1:1)*b*Math.pow(2,x-S)},s.write=function(v,k,y,S,m,T){var b,C,I=8*T-m-1,D=(1<<I)-1,_=D>>1,j=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=S?0:T-1,A=S?1:-1,T=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(C=isNaN(k)?1:0,b=D):(b=Math.floor(Math.log(k)/Math.LN2),k*(S=Math.pow(2,-b))<1&&(b--,S*=2),2<=(k+=1<=b+_?j/S:j*Math.pow(2,1-_))*S&&(b++,S/=2),D<=b+_?(C=0,b=D):1<=b+_?(C=(k*S-1)*Math.pow(2,m),b+=_):(C=k*Math.pow(2,_-1)*Math.pow(2,m),b=0));8<=m;v[y+h]=255&C,h+=A,C/=256,m-=8);for(b=b<<m|C,I+=m;0<I;v[y+h]=255&b,h+=A,b/=256,I-=8);v[y+h-A]|=128*T}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(r,n,s){(function(i,o,a,l,c,u,d,p,g){var v,k,y;function S(){}(i=n.exports={}).nextTick=(k=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,k?function(m){return window.setImmediate(m)}:y?(v=[],window.addEventListener("message",function(m){var x=m.source;x!==window&&x!==null||m.data!=="process-tick"||(m.stopPropagation(),0<v.length&&v.shift()())},!0),function(m){v.push(m),window.postMessage("process-tick","*")}):function(m){setTimeout(m,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=S,i.addListener=S,i.once=S,i.off=S,i.removeListener=S,i.removeAllListeners=S,i.emit=S,i.binding=function(m){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(m){throw new Error("process.chdir is not supported")}}).call(this,r("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(vi)),vi.exports}var Og=Dg();const gi=go(Og);var Ag=Vf({"../../node_modules/classnames/index.js"(e,t){M(),(function(){var r={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,s(l)))}return o}function s(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)r.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}typeof t<"u"&&t.exports?(n.default=n,t.exports=n):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return n}):window.classNames=n})()}});M();M();M();var Mg=qf(Ag()),Tg=(e,t,r={baseClass:""})=>(n={})=>{if(typeof n=="string"){const s=n;return t[`${e}-${s}`]&&r.baseClass+t[`${e}-${s}`]||""}else if(typeof n=="object"){const s=n,i={};for(let a in s)i[t[`${e}--${a}`]]=s[a];const o=t[e];return r.baseClass+(0,Mg.default)(P({[o]:!!o},i))}else return r.baseClass+t[e]||""},ie=Tg;M();var Lg={ActionBar:"_ActionBar_rvadt_1","ActionBar-label":"_ActionBar-label_rvadt_18","ActionBar-action":"_ActionBar-action_rvadt_30","ActionBar-group":"_ActionBar-group_rvadt_38"},Cn=ie("ActionBar",Lg),gt=({label:e,children:t})=>f.jsxs("div",{className:Cn(),onClick:r=>{r.stopPropagation()},children:[e&&f.jsx(gt.Group,{children:f.jsx("div",{className:Cn("label"),children:e})}),t]}),$g=({children:e,label:t,onClick:r})=>f.jsx("button",{type:"button",className:Cn("action"),onClick:r,title:t,children:e}),Rg=({children:e})=>f.jsx("div",{className:Cn("group"),children:e}),Ng=({label:e})=>f.jsx("div",{className:Cn("label"),children:e});gt.Action=$g;gt.Label=Ng;gt.Group=Rg;M();M();var zg={IconButton:"_IconButton_swpni_1","IconButton--disabled":"_IconButton--disabled_swpni_20","IconButton-title":"_IconButton-title_swpni_33"};M();M();M();M();var kl=(e,t,r)=>{const n=Array.from(e),[s]=n.splice(t,1);return n.splice(r,0,s),n};M();var Fg=(e,t,r)=>{const n=Array.from(e);return n.splice(t,1),n.splice(t,0,r),n};M();M();M();M();var Bg=(e,t,r)=>{if(typeof t.state=="object"){const n=P(P({},e),t.state);return t.state.indexes?n:(console.warn("`set` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),st(n,r.config))}return P(P({},e),t.state(e))};M();M();var Dr=(e,t,r)=>{const n=Array.from(e||[]);return n.splice(t,0,r),n};M();var it=e=>e?`${e}-${Fa()}`:Fa();M();var Pn=(e,t)=>{const[r]=e.split(":"),n=t.indexes.nodes[r];return(n?.path||[]).map(s=>s.split(":")[0])};M();var Bd=(e,t,r=!1)=>{const n=it(e.type);return ac($(P({},e),{props:r?$(P({},e.props),{id:n}):P({},e.props)}),t,s=>s.map(i=>{const o=it(i.type);return $(P({},i),{props:r?$(P({},i.props),{id:o}):P({id:o},i.props)})}))};function Wd(e,t,r){const n=t.id||it(t.componentType),s=Bd({type:t.componentType,props:$(P({},r.config.components[t.componentType].defaultProps||{}),{id:n})},r.config),[i]=t.destinationZone.split(":"),o=Pn(t.destinationZone,e);return st(e,r.config,(a,l)=>l===t.destinationZone?Dr(a||[],t.destinationIndex,s):a,(a,l)=>a.props.id===n||a.props.id===i||o.includes(a.props.id)||l.includes(t.destinationZone)?a:null)}M();var Wg=(e,t,r)=>{const[n]=t.destinationZone.split(":"),s=Pn(t.destinationZone,e),i=e.indexes.zones[t.destinationZone].contentIds[t.destinationIndex];if(i!==t.data.props.id)throw new Error(`Can't change the id during a replace action. Please us "remove" and "insert" to define a new node.`);const a=[],l=ac(t.data,r.config,(u,d)=>(a.push(`${d.parentId}:${d.propName}`),u.map(p=>{const g=it(p.type);return $(P({},p),{props:P({id:g},p.props)})}))),c=P({},e);return Object.keys(e.indexes.zones).forEach(u=>{u.split(":")[0]===i&&(a.includes(u)||delete c.indexes.zones[u])}),st(c,r.config,(u,d)=>{const p=[...u];return d===t.destinationZone&&(p[t.destinationIndex]=l),p},(u,d)=>{const p=d.map(g=>g.split(":")[0]);return u.props.id===l.props.id?l:u.props.id===n||s.indexOf(u.props.id)>-1||p.indexOf(l.props.id)>-1?u:null})};M();var Hg=(e,t,r)=>st(e,r.config,n=>n,n=>n.props.id==="root"?$(P({},n),{props:P(P({},n.props),t.root.props),readOnly:t.root.readOnly}):n);M();M();function yt(e,t){var r,n;const s=(r=t.indexes.zones)==null?void 0:r[e.zone||Ve];return s?(n=t.indexes.nodes[s.contentIds[e.index]])==null?void 0:n.data:void 0}function Ug(e,t,r){const n=yt({index:t.sourceIndex,zone:t.sourceZone},e),s=Pn(t.sourceZone,e),i=$(P({},n),{props:$(P({},n.props),{id:it(n.type)})}),o=st(e,r.config,(a,l)=>l===t.sourceZone?Dr(a,t.sourceIndex+1,n):a,(a,l,c)=>{const u=l[l.length-1];if(l.map(g=>g.split(":")[0]).indexOf(i.props.id)>-1)return $(P({},a),{props:$(P({},a.props),{id:it(a.type)})});if(u===t.sourceZone&&c===t.sourceIndex+1)return i;const[p]=t.sourceZone.split(":");return p===a.props.id||s.indexOf(a.props.id)>-1?a:null});return $(P({},o),{ui:$(P({},o.ui),{itemSelector:{index:t.sourceIndex+1,zone:t.sourceZone}})})}M();M();M();var so=(e,t)=>{const r=Array.from(e);return r.splice(t,1),r},Hd=(e,t,r)=>{if(t.sourceZone===t.destinationZone&&t.sourceIndex===t.destinationIndex)return e;const n=yt({zone:t.sourceZone,index:t.sourceIndex},e);if(!n)return e;const s=Pn(t.sourceZone,e),i=Pn(t.destinationZone,e);return st(e,r.config,(o,a)=>a===t.sourceZone&&a===t.destinationZone?Dr(so(o,t.sourceIndex),t.destinationIndex,n):a===t.sourceZone?so(o,t.sourceIndex):a===t.destinationZone?Dr(o,t.destinationIndex,n):o,(o,a)=>{const[l]=t.sourceZone.split(":"),[c]=t.destinationZone.split(":"),u=o.props.id;return l===u||c===u||n.props.id===u||s.indexOf(u)>-1||i.indexOf(u)>-1||a.includes(t.destinationZone)?o:null})},Vg=(e,t,r)=>Hd(e,{sourceIndex:t.sourceIndex,sourceZone:t.destinationZone,destinationIndex:t.destinationIndex,destinationZone:t.destinationZone},r);M();var Zg=(e,t,r)=>{const n=yt({index:t.index,zone:t.zone},e),s=Object.entries(e.indexes.nodes).reduce((o,[a,l])=>l.path.map(u=>u.split(":")[0]).includes(n.props.id)?[...o,a]:o,[n.props.id]),i=st(e,r.config,(o,a)=>a===t.zone?so(o,t.index):o);return Object.keys(i.data.zones||{}).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&i.data.zones&&delete i.data.zones[o]}),Object.keys(i.indexes.zones).forEach(o=>{const a=o.split(":")[0];s.includes(a)&&delete i.indexes.zones[o]}),s.forEach(o=>{delete i.indexes.nodes[o]}),i};M();var vs={};function qg(e,t){return vs[t.zone]?$(P({},e),{data:$(P({},e.data),{zones:$(P({},e.data.zones),{[t.zone]:vs[t.zone]})}),indexes:$(P({},e.indexes),{zones:$(P({},e.indexes.zones),{[t.zone]:$(P({},e.indexes.zones[t.zone]),{contentIds:vs[t.zone].map(r=>r.props.id),type:"dropzone"})})})}):$(P({},e),{data:cc(e.data,t.zone)})}function Yg(e,t){const r=P({},e.data.zones||{}),n=P({},e.indexes.zones||{});return r[t.zone]&&(vs[t.zone]=r[t.zone],delete r[t.zone]),delete n[t.zone],$(P({},e),{data:$(P({},e.data),{zones:r}),indexes:$(P({},e.indexes),{zones:n})})}M();var Xg=(e,t,r)=>typeof t.data=="object"?(console.warn("`setData` is expensive and may cause unnecessary re-renders. Consider using a more atomic action instead."),st($(P({},e),{data:P(P({},e.data),t.data)}),r.config)):st($(P({},e),{data:P(P({},e.data),t.data(e.data))}),r.config);M();var Kg=(e,t)=>typeof t.ui=="object"?$(P({},e),{ui:P(P({},e.ui),t.ui)}):$(P({},e),{ui:P(P({},e.ui),t.ui(e.ui))});M();var Dn=e=>{const{data:t,ui:r}=e;return{data:t,ui:r}};M();function Gg(e,t,r){return(n,s)=>{const i=e(n,s),o=!["registerZone","unregisterZone","setData","setUi","set"].includes(s.type);return(typeof s.recordHistory<"u"?s.recordHistory:o)&&t&&t(i),r?.(s,Dn(i),Dn(n)),i}}function jl({record:e,onAction:t,appStore:r}){return Gg((n,s)=>s.type==="set"?Bg(n,s,r):s.type==="insert"?Wd(n,s,r):s.type==="replace"?Wg(n,s,r):s.type==="replaceRoot"?Hg(n,s,r):s.type==="duplicate"?Ug(n,s,r):s.type==="reorder"?Vg(n,s,r):s.type==="move"?Hd(n,s,r):s.type==="remove"?Zg(n,s,r):s.type==="registerZone"?qg(n,s):s.type==="unregisterZone"?Yg(n,s):s.type==="setData"?Xg(n,s,r):s.type==="setUi"?Kg(n,s):n,e,t)}M();M();var Cl={ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",KeyA:"a",KeyB:"b",KeyC:"c",KeyD:"d",KeyE:"e",KeyF:"f",KeyG:"g",KeyH:"h",KeyI:"i",KeyJ:"j",KeyK:"k",KeyL:"l",KeyM:"m",KeyN:"n",KeyO:"o",KeyP:"p",KeyQ:"q",KeyR:"r",KeyS:"s",KeyT:"t",KeyU:"u",KeyV:"v",KeyW:"w",KeyX:"x",KeyY:"y",KeyZ:"z"},nr=pc()(hc(e=>({held:{},hold:t=>e(r=>r.held[t]?r:{held:$(P({},r.held),{[t]:!0})}),release:t=>e(r=>r.held[t]?{held:$(P({},r.held),{[t]:!1})}:r),reset:(t={})=>e(()=>({held:t})),triggers:{}}))),Ud=e=>{const t=s=>{const i=Cl[s.code];if(i){nr.getState().hold(i);const{held:o,triggers:a}=nr.getState();Object.values(a).forEach(({combo:l,cb:c})=>{Object.entries(l).every(([d,p])=>p===!!o[d])&&Object.entries(o).every(([d,p])=>p===!!l[d])&&(s.preventDefault(),c())}),i!=="meta"&&i!=="ctrl"&&i!=="shift"&&nr.getState().release(i)}},r=s=>{const i=Cl[s.code];i&&(i==="meta"?nr.getState().reset():nr.getState().release(i))},n=s=>{document.visibilityState==="hidden"&&nr.getState().reset()};return e.addEventListener("keydown",t),e.addEventListener("keyup",r),e.addEventListener("visibilitychange",n),()=>{e.removeEventListener("keydown",t),e.removeEventListener("keyup",r),e.removeEventListener("visibilitychange",n)}},Jg=()=>{E.useEffect(()=>Ud(document),[])},Wt=(e,t)=>{E.useEffect(()=>nr.setState(r=>({triggers:$(P({},r.triggers),{[`${Object.keys(e).join("+")}`]:{combo:e,cb:t}})})),[])},Pl=0;function Qg(e,t=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}var Dl=e=>$(P({},e),{ui:$(P({},e.ui),{field:{focus:null}})}),em=(e,t)=>{const r=Qg(n=>{const{histories:s,index:i}=t().history,o={state:n,id:it("history")},a=[...s.slice(0,i+1),o];e({history:$(P({},t().history),{histories:a,index:a.length-1})})},250);return{initialAppState:{},index:Pl,histories:[],hasPast:()=>t().history.index>Pl,hasFuture:()=>t().history.index<t().history.histories.length-1,prevHistory:()=>{const{history:n}=t();return n.hasPast()?n.histories[n.index-1]:null},nextHistory:()=>{const n=t().history;return n.hasFuture()?n.histories[n.index+1]:null},currentHistory:()=>t().history.histories[t().history.index],back:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasPast()){const o=Dl(((n=s.prevHistory())==null?void 0:n.state)||s.initialAppState);i({type:"set",state:o}),e({history:$(P({},s),{index:s.index-1})})}},forward:()=>{var n;const{history:s,dispatch:i}=t();if(s.hasFuture()){const o=(n=s.nextHistory())==null?void 0:n.state;i({type:"set",state:o?Dl(o):{}}),e({history:$(P({},s),{index:s.index+1})})}},setHistories:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=n[n.length-1])==null?void 0:s.state)||o.initialAppState}),e({history:$(P({},o),{histories:n,index:n.length-1})})},setHistoryIndex:n=>{var s;const{dispatch:i,history:o}=t();i({type:"set",state:((s=o.histories[n])==null?void 0:s.state)||o.initialAppState}),e({history:$(P({},o),{index:n})})},record:r}};function tm(e,{histories:t,index:r,initialAppState:n}){E.useEffect(()=>e.setState({history:$(P({},e.getState().history),{histories:t,index:r,initialAppState:n})}),[t,r,n]);const s=()=>{e.getState().history.back()},i=()=>{e.getState().history.forward()};Wt({meta:!0,z:!0},s),Wt({meta:!0,shift:!0,z:!0},i),Wt({meta:!0,y:!0},i),Wt({ctrl:!0,z:!0},s),Wt({ctrl:!0,shift:!0,z:!0},i),Wt({ctrl:!0,y:!0},i)}M();var rm=(e,t)=>({nodes:{},registerNode:(r,n)=>{const s=t().nodes,i={id:r,methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null},o=s.nodes[r];e({nodes:$(P({},s),{nodes:$(P({},s.nodes),{[r]:$(P(P(P({},i),o),n),{id:r})})})})},unregisterNode:r=>{const n=t().nodes;if(n.nodes[r]){const i=P({},n.nodes);delete i[r],e({nodes:$(P({},n),{nodes:i})})}}});M();M();var Ol=(e,t)=>{const r=[];return st(e,t,n=>n,n=>(r.push(n),null)),r},nm=(e,t)=>{const r=(...s)=>Ce(void 0,[...s],function*(i={},o){const{state:a,permissions:l,config:c}=t(),{cache:u,globalPermissions:d}=l,p=(S,m=!1)=>Ce(void 0,null,function*(){var x,b,C;const{config:I,state:D,setComponentLoading:_}=t(),j=S.type==="root"?I.root:I.components[S.type];if(!j)return;const h=P(P({},d),j.permissions);if(j.resolvePermissions){const A=So(S,(x=u[S.props.id])==null?void 0:x.lastData);if(Object.values(A).some(T=>T===!0)||m){const T=_(S.props.id,!0,50),N=yield j.resolvePermissions(S,{changed:A,lastPermissions:((b=u[S.props.id])==null?void 0:b.lastPermissions)||null,permissions:h,appState:Dn(D),lastData:((C=u[S.props.id])==null?void 0:C.lastData)||null}),R=t().permissions;e({permissions:$(P({},R),{cache:$(P({},R.cache),{[S.props.id]:{lastData:S,lastPermissions:N}}),resolvedPermissions:$(P({},R.resolvedPermissions),{[S.props.id]:N})})}),T()}}}),g=(S=!1)=>{const{state:m}=t();p({type:"root",props:$(P({},m.data.root.props),{id:"root"})},S)},{item:v,type:k,root:y}=i;v?yield p(v,o):k?Ol(a,c).filter(S=>S.type===k).map(S=>Ce(void 0,null,function*(){yield p(S,o)})):y?g(o):Ol(a,c).map(S=>Ce(void 0,null,function*(){yield p(S,o)}))});return{cache:{},globalPermissions:{drag:!0,edit:!0,delete:!0,duplicate:!0,insert:!0},resolvedPermissions:{},getPermissions:({item:s,type:i,root:o}={})=>{const{config:a,permissions:l}=t(),{globalPermissions:c,resolvedPermissions:u}=l;if(s){const d=a.components[s.type],p=P(P({},c),d?.permissions),g=u[s.props.id];return g?P(P({},c),g):p}else if(i){const d=a.components[i];return P(P({},c),d?.permissions)}else if(o){const d=a.root,p=P(P({},c),d?.permissions),g=u.root;return g?P(P({},c),g):p}return c},resolvePermissions:r,refreshPermissions:s=>r(s,!0)}},sm=(e,t)=>{E.useEffect(()=>{const{permissions:r}=e.getState(),{globalPermissions:n}=r;e.setState({permissions:$(P({},r),{globalPermissions:P(P({},n),t)})}),r.resolvePermissions()},[t]),E.useEffect(()=>e.subscribe(r=>r.state.data,()=>{e.getState().permissions.resolvePermissions()}),[]),E.useEffect(()=>e.subscribe(r=>r.config,()=>{e.getState().permissions.resolvePermissions()}),[])};M();var im=(e,t)=>({fields:{},loading:!1,lastResolvedData:{},id:void 0}),om=(e,t)=>{const r=E.useCallback(n=>Ce(void 0,null,function*(){var s,i;const{fields:o,lastResolvedData:a}=e.getState().fields,l=e.getState().state.indexes.nodes,c=l[t||"root"],u=c?.data,d=c?.parentId?l[c.parentId]:null,p=d?.data||null,{getComponentConfig:g,state:v}=e.getState(),k=g(u?.type);if(!u||!k)return;const y=k.fields||{},S=k.resolveFields;let m=o;if(n&&(e.setState(x=>({fields:$(P({},x.fields),{fields:y,id:t})})),m=y),S){const x=setTimeout(()=>{e.setState(D=>({fields:$(P({},D.fields),{loading:!0})}))},50),b=((s=a.props)==null?void 0:s.id)===t?a:null,C=So(u,b),I=yield S(u,{changed:C,fields:y,lastFields:m,lastData:b,appState:Dn(v),parent:p});if(clearTimeout(x),((i=e.getState().selectedItem)==null?void 0:i.props.id)!==t)return;e.setState({fields:{fields:I,loading:!1,lastResolvedData:u,id:t}})}else e.setState(x=>({fields:$(P({},x.fields),{fields:y,id:t})}))}),[t]);E.useEffect(()=>(r(!0),e.subscribe(n=>n.state.indexes.nodes[t||"root"],()=>r())),[t])};M();var am=e=>{if("type"in e&&e.type!=="root")throw new Error("Converting non-root item to root.");const{readOnly:t}=e;if(e.props){if("id"in e.props){const r=e.props,{id:n}=r;return{props:Xt(r,["id"]),readOnly:t}}return{props:e.props,readOnly:t}}return{props:{},readOnly:t}},lm={title:{type:"text"}},Vd=e=>pc()(hc((t,r)=>{var n,s;return $(P({state:ji,config:{components:{}},componentState:{},plugins:[],overrides:{},viewports:ws,zoomConfig:{autoZoom:1,rootHeight:0,zoom:1},status:"LOADING",iframe:{},metadata:{},fieldTransforms:{}},e),{fields:im(),history:em(t,r),nodes:rm(t,r),permissions:nm(t,r),getComponentConfig:i=>{var o;const{config:a,selectedItem:l}=r(),c=((o=a.root)==null?void 0:o.fields)||lm;return i&&i!=="root"?a.components[i]:l?a.components[l.type]:$(P({},a.root),{fields:c})},selectedItem:(n=e?.state)!=null&&n.ui.itemSelector?yt((s=e?.state)==null?void 0:s.ui.itemSelector,e.state):null,dispatch:i=>t(o=>{var a,l;const{record:c}=r().history,d=jl({record:c,appStore:o})(o.state,i),p=d.ui.itemSelector?yt(d.ui.itemSelector,d):null;return(l=(a=r()).onAction)==null||l.call(a,i,d,r().state),$(P({},o),{state:d,selectedItem:p})}),setZoomConfig:i=>t({zoomConfig:i}),setStatus:i=>t({status:i}),setComponentState:i=>t({componentState:i}),pendingLoadTimeouts:{},setComponentLoading:(i,o=!0,a=0)=>{const{setComponentState:l,pendingLoadTimeouts:c}=r(),u=it(),d=()=>{var v;const{componentState:k}=r();l($(P({},k),{[i]:$(P({},k[i]),{loadingCount:(((v=k[i])==null?void 0:v.loadingCount)||0)+1})}))},p=()=>{var v;const{componentState:k}=r();clearTimeout(g),delete c[u],t({pendingLoadTimeouts:c}),l($(P({},k),{[i]:$(P({},k[i]),{loadingCount:Math.max((((v=k[i])==null?void 0:v.loadingCount)||0)-1,0)})}))},g=setTimeout(()=>{o?d():p(),delete c[u],t({pendingLoadTimeouts:c})},a);return t({pendingLoadTimeouts:$(P({},c),{[i]:g})}),p},unsetComponentLoading:i=>{const{setComponentLoading:o}=r();o(i,!1)},setUi:(i,o)=>t(a=>{const c=jl({record:()=>{},appStore:a})(a.state,{type:"setUi",ui:i,recordHistory:o}),u=c.ui.itemSelector?yt(c.ui.itemSelector,c):null;return $(P({},a),{state:c,selectedItem:u})}),resolveComponentData:(i,o)=>Ce(void 0,null,function*(){const{config:a,metadata:l,setComponentLoading:c,permissions:u}=r(),d={};return yield lc(i,a,l,p=>{const g="id"in p.props?p.props.id:"root";d[g]=c(g,!0,50)},p=>Ce(void 0,null,function*(){const g="id"in p.props?p.props.id:"root";"type"in p?yield u.refreshPermissions({item:p}):yield u.refreshPermissions({root:!0}),d[g]()}),o)}),resolveAndCommitData:()=>Ce(void 0,null,function*(){const{config:i,state:o,dispatch:a,resolveComponentData:l}=r();st(o,i,c=>c,c=>(l(c,"load").then(u=>{const{state:d}=r(),p=d.indexes.nodes[u.node.props.id];if(p&&u.didChange)if(u.node.props.id==="root")a({type:"replaceRoot",root:am(u.node)});else{const g=`${p.parentId}:${p.zone}`,k=d.indexes.zones[g].contentIds.indexOf(u.node.props.id);a({type:"replace",data:u.node,destinationIndex:k,destinationZone:g})}}),c))})})})),Ea=E.createContext(Vd());function F(e){const t=E.useContext(Ea);return Eo(t,e)}function et(){return E.useContext(Ea)}M();M();M();var cm="Invariant failed";function um(e,t){throw new Error(cm)}var Qn=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,l={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return l},dm=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Al=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},mi={top:0,right:0,bottom:0,left:0},fm=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?mi:n,i=t.border,o=i===void 0?mi:i,a=t.padding,l=a===void 0?mi:a,c=Qn(dm(r,s)),u=Qn(Al(r,o)),d=Qn(Al(u,l));return{marginBox:c,borderBox:Qn(r),paddingBox:u,contentBox:d,margin:s,border:o,padding:l}},at=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&um(),s},pm=function(t,r){var n={top:at(r.marginTop),right:at(r.marginRight),bottom:at(r.marginBottom),left:at(r.marginLeft)},s={top:at(r.paddingTop),right:at(r.paddingRight),bottom:at(r.paddingBottom),left:at(r.paddingLeft)},i={top:at(r.borderTopWidth),right:at(r.borderRightWidth),bottom:at(r.borderBottomWidth),left:at(r.borderLeftWidth)};return fm({borderBox:t,margin:n,padding:s,border:i})},Zd=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return pm(r,n)},hm=(e,t,r)=>{const n=Zd(t),{width:s,height:i}=n.contentBox,o=e.height==="auto"?i:e.height;let a=0,l=1;if(e.width>s||o>i){const c=Math.min(s/e.width,1),u=Math.min(i/o,1);r=c,c<u?a=o/r:(a=o,r=u),l=r}else l=1,r=1,a=o;return{autoZoom:l,rootHeight:a,zoom:r}},qd=e=>{const t=et();return n=>{const{state:s,zoomConfig:i,setZoomConfig:o}=t.getState(),{viewports:a}=s.ui,l=n?.viewports||a;e.current&&o(hm(l?.current,e.current,i.zoom))}};M();var vm={Loader:"_Loader_nacdm_13","loader-animation":"_loader-animation_nacdm_1"},gm=ie("Loader",vm),fr=e=>{var t=e,{color:r,size:n=16}=t,s=Xt(t,["color","size"]);return f.jsx("span",P({className:gm(),style:{width:n,height:n,color:r},"aria-label":"loading"},s))},Ml=ie("IconButton",zg),_t=({children:e,href:t,onClick:r,variant:n="primary",type:s,disabled:i,tabIndex:o,newTab:a,fullWidth:l,title:c})=>{const[u,d]=E.useState(!1),p=t?"a":"button";return f.jsxs(p,{className:Ml({primary:n==="primary",secondary:n==="secondary",disabled:i,fullWidth:l}),onClick:v=>{r&&(d(!0),Promise.resolve(r(v)).then(()=>{d(!1)}))},type:s,disabled:i||u,tabIndex:o,target:a?"_blank":void 0,rel:a?"noreferrer":void 0,href:t,title:c,children:[f.jsx("span",{className:Ml("title"),children:c}),e,u&&f.jsxs(f.Fragment,{children:["",f.jsx(fr,{size:14})]})]})};M();M();var mm={Button:"_Button_10byl_1","Button--medium":"_Button--medium_10byl_29","Button--large":"_Button--large_10byl_37","Button-icon":"_Button-icon_10byl_44","Button--primary":"_Button--primary_10byl_48","Button--secondary":"_Button--secondary_10byl_67","Button--flush":"_Button--flush_10byl_84","Button--disabled":"_Button--disabled_10byl_88","Button--fullWidth":"_Button--fullWidth_10byl_95","Button-spinner":"_Button-spinner_10byl_100"};M();var ym=/^(data-.*)$/,_m=e=>{let t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&ym.test(r)&&(t[r]=e[r]);return t},yi=ie("Button",mm),io=e=>{var t=e,{children:r,href:n,onClick:s,variant:i="primary",type:o,disabled:a,tabIndex:l,newTab:c,fullWidth:u,icon:d,size:p="medium",loading:g=!1}=t,v=Xt(t,["children","href","onClick","variant","type","disabled","tabIndex","newTab","fullWidth","icon","size","loading"]);const[k,y]=E.useState(g);E.useEffect(()=>y(g),[g]);const S=n?"a":o?"button":"span",m=_m(v);return f.jsxs(S,$(P({className:yi({primary:i==="primary",secondary:i==="secondary",disabled:a,fullWidth:u,[p]:!0}),onClick:b=>{s&&(y(!0),Promise.resolve(s(b)).then(()=>{y(!1)}))},type:o,disabled:a||k,tabIndex:l,target:c?"_blank":void 0,rel:c?"noreferrer":void 0,href:n},m),{children:[d&&f.jsx("div",{className:yi("icon"),children:d}),r,k&&f.jsx("div",{className:yi("spinner"),children:f.jsx(fr,{size:14})})]}))};M();M();var Wr={InputWrapper:"_InputWrapper_bsxfo_1","Input-label":"_Input-label_bsxfo_5","Input-labelIcon":"_Input-labelIcon_bsxfo_14","Input-disabledIcon":"_Input-disabledIcon_bsxfo_21","Input-input":"_Input-input_bsxfo_26",Input:"_Input_bsxfo_1","Input--readOnly":"_Input--readOnly_bsxfo_82","Input-radioGroupItems":"_Input-radioGroupItems_bsxfo_93","Input-radio":"_Input-radio_bsxfo_93","Input-radioInner":"_Input-radioInner_bsxfo_110","Input-radioInput":"_Input-radioInput_bsxfo_155"};M();M();M();var Yd={ArrayField:"_ArrayField_14u8o_5","ArrayField--isDraggingFrom":"_ArrayField--isDraggingFrom_14u8o_13","ArrayField-addButton":"_ArrayField-addButton_14u8o_18","ArrayField--hasItems":"_ArrayField--hasItems_14u8o_33","ArrayField-inner":"_ArrayField-inner_14u8o_59",ArrayFieldItem:"_ArrayFieldItem_14u8o_67","ArrayFieldItem--isDragging":"_ArrayFieldItem--isDragging_14u8o_78","ArrayFieldItem--isExpanded":"_ArrayFieldItem--isExpanded_14u8o_82","ArrayFieldItem-summary":"_ArrayFieldItem-summary_14u8o_97","ArrayField--addDisabled":"_ArrayField--addDisabled_14u8o_127","ArrayFieldItem-body":"_ArrayFieldItem-body_14u8o_166","ArrayFieldItem-fieldset":"_ArrayFieldItem-fieldset_14u8o_175","ArrayFieldItem-rhs":"_ArrayFieldItem-rhs_14u8o_183","ArrayFieldItem-actions":"_ArrayFieldItem-actions_14u8o_189"};M();M();M();var bm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xd=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();M();M();var xm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},wm=E.forwardRef((e,t)=>{var r=e,{color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c}=r,u=Xt(r,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return E.createElement("svg",P($(P({ref:t},xm),{width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:Xd("lucide",a)}),u),[...c.map(([d,p])=>E.createElement(d,p)),...Array.isArray(l)?l:[l]])}),pe=(e,t)=>{const r=E.forwardRef((n,s)=>{var i=n,{className:o}=i,a=Xt(i,["className"]);return E.createElement(wm,P({ref:s,iconNode:t,className:Xd(`lucide-${bm(e)}`,o)},a))});return r.displayName=`${e}`,r};M();var Xs=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);M();var Sm=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);M();var Kd=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);M();var Im=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);M();var Gd=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);M();var Em=pe("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]);M();var km=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);M();var Tl=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);M();var jm=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);M();var Cm=pe("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);M();var Pm=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);M();var Jd=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);M();var Dm=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);M();var Om=pe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);M();var Am=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);M();var Mm=pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);M();var Tm=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);M();var Lm=pe("PanelRight",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);M();var $m=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);M();var Rm=pe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);M();var Nm=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);M();var zm=pe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);M();var Fm=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);M();var Bm=pe("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);M();var Qd=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);M();var ka=pe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);M();var Wm=pe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);M();var Hm=pe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();var Um=pe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);M();M();M();var Vm={DragIcon:"_DragIcon_17p8x_1","DragIcon--disabled":"_DragIcon--disabled_17p8x_8"},Zm=ie("DragIcon",Vm),ef=({isDragDisabled:e})=>f.jsx("div",{className:Zm({disabled:e}),children:f.jsx("svg",{viewBox:"0 0 20 20",width:"12",fill:"currentColor",children:f.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})});M();M();var Ll={delay:{value:200,tolerance:10}},$l={delay:{value:200,tolerance:10},distance:{value:5}},tf=({other:e=$l,mouse:t,touch:r=Ll}={touch:Ll,other:$l})=>{const[n]=E.useState(()=>[sd.configure({activationConstraints(s,i){var o;const{pointerType:a,target:l}=s;return a==="mouse"&&Rr(l)&&(i.handle===l||(o=i.handle)!=null&&o.contains(l))?t:a==="touch"?r:e}})]);return n};M();M();M();var Ir=(e,t,r,n,s)=>{},_i="increasing",qm=(e,t)=>{var r;const{dragOperation:n,droppable:s}=e,{shape:i}=s,{position:o}=n,a=(r=n.shape)==null?void 0:r.current;if(!a||!i)return null;const l=i.center,c=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2)),u=Math.sqrt(Math.pow(l.x-o.current.x,2)+Math.pow(l.y-o.current.y,2));return _i=u===c?_i:u<c?"decreasing":"increasing",Ir(a.center,l,s.id.toString()),_i==="decreasing"?{id:s.id,value:1,type:Ct.Collision}:null};M();var rf=(e,t)=>e==="dynamic"?Math.abs(t.y)>Math.abs(t.x)?t.y===0?null:t.y>0?"down":"up":t.x===0?null:t.x>0?"right":"left":e==="x"?t.x===0?null:t.x>0?"right":"left":t.y===0?null:t.y>0?"down":"up";M();var Ym=(e,t,r,n=0)=>{const s=e.boundingRectangle,i=t.center;if(r==="down"){const a=n*t.boundingRectangle.height;return s.bottom>=i.y+a}else if(r==="up"){const a=n*t.boundingRectangle.height;return s.top<i.y-a}else if(r==="left"){const a=n*t.boundingRectangle.width;return i.x-a>=s.left}const o=n*t.boundingRectangle.width;return s.right-o>=i.x};M();var Rl=10,ft={current:{x:0,y:0},delta:{x:0,y:0},previous:{x:0,y:0},direction:null},Xm=(e,t="dynamic")=>(ft.current=e,ft.delta={x:e.x-ft.previous.x,y:e.y-ft.previous.y},ft.direction=rf(t,ft.delta)||ft.direction,(Math.abs(ft.delta.x)>Rl||Math.abs(ft.delta.y)>Rl)&&(ft.previous=Ze.from(e)),ft);M();var Km=({dragOperation:e,droppable:t})=>{const r=e.position.current;if(!r)return null;const{id:n}=t;if(!t.shape)return null;if(t.shape.containsPoint(r)){const s=Ze.distance(t.shape.center,r);return{id:n,value:1/s,type:Ct.PointerIntersection,priority:ct.High}}return null},Gm=e=>{const{dragOperation:t,droppable:r}=e,{shape:n,position:s}=t;if(!r.shape)return null;const i=n?bt.from(n.current.boundingRectangle).corners:void 0,a=bt.from(r.shape.boundingRectangle).corners.reduce((l,c,u)=>{var d;return l+Ze.distance(Ze.from(c),(d=i?.[u])!=null?d:s.current)},0)/4;return{id:r.id,value:1/a,type:Ct.Collision,priority:ct.Normal}};M();var oo=Mn(()=>({fallbackEnabled:!1})),bi="",nf=(e,t=.05)=>r=>{var n,s,i,o,a;const{dragOperation:l,droppable:c}=r,{position:u}=l,d=(n=l.shape)==null?void 0:n.current,{shape:p}=c;if(!d||!p)return null;const{center:g}=d,{fallbackEnabled:v}=oo.getState(),k=Xm(u.current,e),y={direction:k.direction},{center:S}=p,m=Ym(d,p,k.direction,t);if(((s=l.source)==null?void 0:s.id)===c.id){const C=qm(r,k.previous);if(Ir(g,S,c.id.toString()),C)return $(P({},C),{priority:ct.Highest,data:y})}const x=d.intersectionArea(p),b=x/p.area;if(x&&m){Ir(g,S,c.id.toString());const C={id:c.id,value:b,priority:ct.High,type:Ct.Collision},I=bi===c.id;return bi="",$(P({},C),{id:I?"flush":C.id,data:y})}if(v&&((i=l.source)==null?void 0:i.id)!==c.id){const C=p.boundingRectangle.right>d.boundingRectangle.left&&p.boundingRectangle.left<d.boundingRectangle.right,I=p.boundingRectangle.bottom>d.boundingRectangle.top&&p.boundingRectangle.top<d.boundingRectangle.bottom;if(e==="y"&&C||I){const D=Gm(r);if(D){const _=rf(e,{x:d.center.x-(((o=c.shape)==null?void 0:o.center.x)||0),y:d.center.y-(((a=c.shape)==null?void 0:a.center.y)||0)});return y.direction=_,x?(Ir(g,S,c.id.toString()),bi=c.id,$(P({},D),{priority:ct.Low,data:y})):(Ir(g,S,c.id.toString()),$(P({},D),{priority:ct.Lowest,data:y}))}}}return Ir(g,S,c.id.toString()),null},Jm=({children:e,onDragStart:t,onDragEnd:r,onMove:n})=>{const s=tf({mouse:{distance:{value:5}}});return f.jsx(yd,{sensors:s,onDragStart:i=>{var o,a;return t((a=(o=i.operation.source)==null?void 0:o.id.toString())!=null?a:"")},onDragOver:(i,o)=>{var a;i.preventDefault();const{operation:l}=i,{source:c,target:u}=l;if(!c||!u)return;let d=c.data.index,p=u.data.index;const g=(a=o.collisionObserver.collisions[0])==null?void 0:a.data;if(d!==p&&c.id!==u.id){const v=g?.direction==="up"?"before":"after";p>=d&&(p=p-1),v==="after"&&(p=p+1),n({source:d,target:p})}},onDragEnd:()=>{setTimeout(()=>{r()},250)},children:e})},Qm=({id:e,index:t,disabled:r,children:n,type:s="item"})=>{const{ref:i,isDragging:o,isDropping:a,handleRef:l}=Fd({id:e,type:s,index:t,disabled:r,data:{index:t},collisionDetector:nf("y")});return n({isDragging:o,isDropping:a,ref:i,handleRef:l})};M();var Rs=E.createContext({}),sf=()=>{const e=E.useContext(Rs);return $(P({},e),{readOnlyFields:e.readOnlyFields||{}})},of=({children:e,name:t,subName:r,wildcardName:n=t,readOnlyFields:s})=>{const i=`${t}.${r}`,o=`${n}.${r}`,a=E.useMemo(()=>Object.keys(s).reduce((l,c)=>{if(c.indexOf(i)>-1||c.indexOf(o)>-1){const d=new RegExp(`^(${t}|${n}).`.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\./g,"\\.").replace(/\*/g,"\\*")),p=c.replace(d,"");return $(P({},l),{[p]:s[c]})}return l},{}),[t,r,n,s]);return f.jsx(Rs.Provider,{value:{readOnlyFields:a,localName:r},children:e})},xi=ie("ArrayField",Yd),$t=ie("ArrayFieldItem",Yd),ey=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,readOnly:o,id:a,Label:l=c=>f.jsx("div",P({},c))})=>{const c=F(N=>N.state.ui.arrayState[a]),u=F(N=>N.setUi),{readOnlyFields:d,localName:p=n}=sf(),g=r,v=c||{items:Array.from(g||[]).map((N,R)=>({_originalIndex:R,_arrayId:`${a}-${R}`})),openId:""},[k,y]=E.useState({arrayState:v,value:g});E.useEffect(()=>{var N;const R=(N=S.getState().state.ui.arrayState[a])!=null?N:v;y({arrayState:R,value:g})},[g]);const S=et(),m=E.useCallback(N=>{const R=S.getState().state;return{arrayState:$(P({},R.ui.arrayState),{[a]:P(P({},v),N)})}},[v,S]),x=E.useCallback(()=>v.items.reduce((N,R)=>R._originalIndex>N?R._originalIndex:N,-1),[v]),b=E.useCallback(N=>{let R=x();const V=Array.from(N||[]).map((z,K)=>{var U;const X=v.items[K],G={_originalIndex:typeof X?._originalIndex<"u"?X._originalIndex:R+1,_arrayId:((U=v.items[K])==null?void 0:U._arrayId)||`${a}-${R+1}`};return G._originalIndex>R&&(R=G._originalIndex),G});return $(P({},v),{items:V})},[v]);E.useEffect(()=>{v.items.length>0&&u(m(v))},[]);const[C,I]=E.useState(""),D=!!C,j=!F(N=>N.permissions.getPermissions({item:N.selectedItem}).edit),h=E.useRef(g),A=E.useCallback(N=>{if(e.type!=="array"||!e.arrayFields)return;const R=S.getState().config;return xs({value:N,fields:e.arrayFields,mappers:{slot:({value:V})=>V.map(K=>Bd(K,R,!0))},config:R})},[S,e]);if(e.type!=="array"||!e.arrayFields)return null;const T=e.max!==void 0&&k.arrayState.items.length>=e.max||o;return f.jsx(l,{label:s||n,icon:i||f.jsx(Dm,{size:16}),el:"div",readOnly:o,children:f.jsx(Jm,{onDragStart:N=>I(N),onDragEnd:()=>{I(""),t(h.current)},onMove:N=>{if(v.items[N.source]._arrayId!==C)return;const R=kl(k.value,N.source,N.target),V=kl(v.items,N.source,N.target),z=S.getState().state,K={arrayState:$(P({},z.ui.arrayState),{[a]:$(P({},v),{items:V})})};u(K,!1),y({value:R,arrayState:$(P({},v),{items:V})}),h.current=R},children:f.jsxs("div",{className:xi({hasItems:Array.isArray(g)&&g.length>0,addDisabled:T}),children:[k.arrayState.items.length>0&&f.jsx("div",{className:xi("inner"),"data-dnd-container":!0,children:k.arrayState.items.map((N,R)=>{const{_arrayId:V=`${a}-${R}`,_originalIndex:z=R}=N,K=Array.from(k.value||[])[R]||{};return f.jsx(Qm,{id:V,index:R,disabled:o,children:({isDragging:U,ref:X,handleRef:G})=>f.jsxs("div",{ref:X,className:$t({isExpanded:v.openId===V,isDragging:U,readOnly:o}),children:[f.jsxs("div",{ref:G,onClick:Y=>{U||(Y.preventDefault(),Y.stopPropagation(),v.openId===V?u(m({openId:""})):u(m({openId:V})))},className:$t("summary"),children:[e.getItemSummary?e.getItemSummary(K,R):`Item #${z}`,f.jsxs("div",{className:$t("rhs"),children:[!o&&f.jsxs("div",{className:$t("actions"),children:[f.jsx("div",{className:$t("action"),children:f.jsx(_t,{type:"button",disabled:!!T,onClick:Y=>{Y.stopPropagation();const te=[...g||[]],ce=A(te[R]);te.splice(R,0,ce);const Ie=m(b(te));u(Ie,!1),t(te)},title:"Duplicate",children:f.jsx(Gd,{size:16})})}),f.jsx("div",{className:$t("action"),children:f.jsx(_t,{type:"button",disabled:e.min!==void 0&&e.min>=k.arrayState.items.length,onClick:Y=>{Y.stopPropagation();const te=[...g||[]],ce=[...v.items||[]];te.splice(R,1),ce.splice(R,1),u(m({items:ce}),!1),t(te)},title:"Delete",children:f.jsx(Qd,{size:16})})})]}),f.jsx("div",{children:f.jsx(ef,{})})]})]}),f.jsx("div",{className:$t("body"),children:v.openId===V&&f.jsx("fieldset",{className:$t("fieldset"),children:Object.keys(e.arrayFields).map(Y=>{const te=e.arrayFields[Y],Ie=`${`${n}[${R}]`}.${Y}`,se=`${p}[${R}]`,ke=`${p}[*]`,De=`${se}.${Y}`,Z=`${ke}.${Y}`,w=j||(typeof d[Ie]<"u"?d[De]:d[Z]),O=te.label||Y;return f.jsx(of,{name:se,wildcardName:ke,subName:Y,readOnlyFields:d,children:f.jsx(Ks,{name:Ie,label:O,id:`${V}_${Y}`,readOnly:w,field:$(P({},te),{label:O}),value:K[Y],onChange:(L,B)=>{t(Fg(g,R,$(P({},K),{[Y]:L})),B)}})},Ie)})})})]})},V)})}),!T&&f.jsx("button",{type:"button",className:xi("addButton"),onClick:()=>{var N;if(D)return;const R=g||[],V=bo(A((N=e.defaultItemProps)!=null?N:{}),e.arrayFields),z=[...R,V],K=b(z);u(m(K),!1),t(z)},children:f.jsx($m,{size:21})})]})})})};M();var ty=ie("Input",Wr),Nl=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:l})=>{const c=n;return f.jsx(a,{label:i||s,icon:o||f.jsxs(f.Fragment,{children:[e.type==="text"&&f.jsx(ka,{size:16}),e.type==="number"&&f.jsx(jm,{size:16})]}),readOnly:r,children:f.jsx("input",{className:ty("input"),autoComplete:"off",type:e.type,title:i||s,name:s,value:c?.toString?c.toString():"",onChange:u=>{if(e.type==="number"){const d=Number(u.currentTarget.value);if(typeof e.min<"u"&&d<e.min||typeof e.max<"u"&&d>e.max)return;t(d)}else t(u.currentTarget.value)},readOnly:r,tabIndex:r?-1:void 0,id:l,min:e.type==="number"?e.min:void 0,max:e.type==="number"?e.max:void 0,placeholder:e.type==="text"||e.type==="number"?e.placeholder:void 0,step:e.type==="number"?e.step:void 0})})};M();M();M();var af={"ExternalInput-actions":"_ExternalInput-actions_91ls0_1","ExternalInput-button":"_ExternalInput-button_91ls0_5","ExternalInput--dataSelected":"_ExternalInput--dataSelected_91ls0_24","ExternalInput--readOnly":"_ExternalInput--readOnly_91ls0_31","ExternalInput-detachButton":"_ExternalInput-detachButton_91ls0_35",ExternalInput:"_ExternalInput_91ls0_1",ExternalInputModal:"_ExternalInputModal_91ls0_79","ExternalInputModal-grid":"_ExternalInputModal-grid_91ls0_89","ExternalInputModal--filtersToggled":"_ExternalInputModal--filtersToggled_91ls0_100","ExternalInputModal-filters":"_ExternalInputModal-filters_91ls0_105","ExternalInputModal-masthead":"_ExternalInputModal-masthead_91ls0_124","ExternalInputModal-tableWrapper":"_ExternalInputModal-tableWrapper_91ls0_133","ExternalInputModal-table":"_ExternalInputModal-table_91ls0_133","ExternalInputModal-thead":"_ExternalInputModal-thead_91ls0_149","ExternalInputModal-th":"_ExternalInputModal-th_91ls0_149","ExternalInputModal-td":"_ExternalInputModal-td_91ls0_164","ExternalInputModal-tr":"_ExternalInputModal-tr_91ls0_169","ExternalInputModal-tbody":"_ExternalInputModal-tbody_91ls0_176","ExternalInputModal--hasData":"_ExternalInputModal--hasData_91ls0_202","ExternalInputModal-loadingBanner":"_ExternalInputModal-loadingBanner_91ls0_206","ExternalInputModal--isLoading":"_ExternalInputModal--isLoading_91ls0_223","ExternalInputModal-searchForm":"_ExternalInputModal-searchForm_91ls0_227","ExternalInputModal-search":"_ExternalInputModal-search_91ls0_227","ExternalInputModal-searchIcon":"_ExternalInputModal-searchIcon_91ls0_264","ExternalInputModal-searchIconText":"_ExternalInputModal-searchIconText_91ls0_289","ExternalInputModal-searchInput":"_ExternalInputModal-searchInput_91ls0_299","ExternalInputModal-searchActions":"_ExternalInputModal-searchActions_91ls0_313","ExternalInputModal-searchActionIcon":"_ExternalInputModal-searchActionIcon_91ls0_326","ExternalInputModal-footerContainer":"_ExternalInputModal-footerContainer_91ls0_330","ExternalInputModal-footer":"_ExternalInputModal-footer_91ls0_330","ExternalInputModal-field":"_ExternalInputModal-field_91ls0_343"};M();M();var ry={Modal:"_Modal_ikbaj_1","Modal--isOpen":"_Modal--isOpen_ikbaj_15","Modal-inner":"_Modal-inner_ikbaj_19"},zl=ie("Modal",ry),ny=({children:e,onClose:t,isOpen:r})=>{const[n,s]=E.useState(null);return E.useEffect(()=>{s(document.getElementById("puck-portal-root"))},[]),n?Ns.createPortal(f.jsx("div",{className:zl({isOpen:r}),onClick:t,children:f.jsx("div",{className:zl("inner"),onClick:i=>i.stopPropagation(),children:e})}),n):f.jsx("div",{})};M();M();var sy={Heading:"_Heading_qxrry_1","Heading--xxxxl":"_Heading--xxxxl_qxrry_12","Heading--xxxl":"_Heading--xxxl_qxrry_18","Heading--xxl":"_Heading--xxl_qxrry_22","Heading--xl":"_Heading--xl_qxrry_26","Heading--l":"_Heading--l_qxrry_30","Heading--m":"_Heading--m_qxrry_34","Heading--s":"_Heading--s_qxrry_38","Heading--xs":"_Heading--xs_qxrry_42"},iy=ie("Heading",sy),ja=({children:e,rank:t,size:r="m"})=>{const n=t?`h${t}`:"span";return f.jsx(n,{className:iy({[r]:!0}),children:e})};M();var es=ie("ExternalInput",af),_e=ie("ExternalInputModal",af),Fl={},oy=({field:e,onChange:t,value:r=null,name:n,id:s,readOnly:i})=>{const{mapProp:o=h=>h,mapRow:a=h=>h,filterFields:l}=e||{},[c,u]=E.useState([]),[d,p]=E.useState(!1),[g,v]=E.useState(!0),k=!!l,[y,S]=E.useState(e.initialFilters||{}),[m,x]=E.useState(k),b=E.useMemo(()=>c.map(a),[c]),C=E.useMemo(()=>{const h=new Set;for(const A of b)for(const T of Object.keys(A))(typeof A[T]=="string"||typeof A[T]=="number"||E.isValidElement(A[T]))&&h.add(T);return Array.from(h)},[b]),[I,D]=E.useState(e.initialQuery||""),_=E.useCallback((h,A)=>Ce(void 0,null,function*(){v(!0);const T=`${s}-${h}-${JSON.stringify(A)}`,N=Fl[T]||(yield e.fetchList({query:h,filters:A}));N&&(u(N),v(!1),Fl[T]=N)}),[s,e]),j=E.useCallback(h=>e.renderFooter?e.renderFooter(h):f.jsxs("span",{className:_e("footer"),children:[h.items.length," result",h.items.length===1?"":"s"]}),[e.renderFooter]);return E.useEffect(()=>{_(I,y)},[]),f.jsxs("div",{className:es({dataSelected:!!r,modalVisible:d,readOnly:i}),id:s,children:[f.jsxs("div",{className:es("actions"),children:[f.jsx("button",{type:"button",onClick:()=>p(!0),className:es("button"),disabled:i,children:r?e.getItemSummary?e.getItemSummary(r):"External item":f.jsxs(f.Fragment,{children:[f.jsx(Jd,{size:"16"}),f.jsx("span",{children:e.placeholder})]})}),r&&f.jsx("button",{type:"button",className:es("detachButton"),onClick:()=>{t(null)},disabled:i,children:f.jsx(Om,{size:16})})]}),f.jsx(ny,{onClose:()=>p(!1),isOpen:d,children:f.jsxs("form",{className:_e({isLoading:g,loaded:!g,hasData:b.length>0,filtersToggled:m}),onSubmit:h=>{h.preventDefault(),_(I,y)},children:[f.jsx("div",{className:_e("masthead"),children:e.showSearch?f.jsxs("div",{className:_e("searchForm"),children:[f.jsxs("label",{className:_e("search"),children:[f.jsx("span",{className:_e("searchIconText"),children:"Search"}),f.jsx("div",{className:_e("searchIcon"),children:f.jsx(Nm,{size:"18"})}),f.jsx("input",{className:_e("searchInput"),name:"q",type:"search",placeholder:e.placeholder,onChange:h=>{D(h.currentTarget.value)},autoComplete:"off",value:I})]}),f.jsxs("div",{className:_e("searchActions"),children:[f.jsx(io,{type:"submit",loading:g,fullWidth:!0,children:"Search"}),k&&f.jsx("div",{className:_e("searchActionIcon"),children:f.jsx(_t,{type:"button",title:"Toggle filters",onClick:h=>{h.preventDefault(),h.stopPropagation(),x(!m)},children:f.jsx(zm,{size:20})})})]})]}):f.jsx(ja,{rank:"2",size:"xs",children:e.placeholder||"Select data"})}),f.jsxs("div",{className:_e("grid"),children:[k&&f.jsx("div",{className:_e("filters"),children:k&&Object.keys(l).map(h=>{const A=l[h];return f.jsx("div",{className:_e("field"),children:f.jsx(Ks,{field:A,name:h,id:`external_field_${h}_filter`,label:A.label||h,value:y[h],onChange:T=>{const N=$(P({},y),{[h]:T});S(N),_(I,N)}})},h)})}),f.jsxs("div",{className:_e("tableWrapper"),children:[f.jsxs("table",{className:_e("table"),children:[f.jsx("thead",{className:_e("thead"),children:f.jsx("tr",{className:_e("tr"),children:C.map(h=>f.jsx("th",{className:_e("th"),style:{textAlign:"left"},children:h},h))})}),f.jsx("tbody",{className:_e("tbody"),children:b.map((h,A)=>f.jsx("tr",{style:{whiteSpace:"nowrap"},className:_e("tr"),onClick:()=>{t(o(c[A])),p(!1)},children:C.map(T=>f.jsx("td",{className:_e("td"),children:h[T]},T))},A))})]}),f.jsx("div",{className:_e("loadingBanner"),children:f.jsx(fr,{size:24})})]})]}),f.jsx("div",{className:_e("footerContainer"),children:f.jsx(j,{items:b})})]})})]})},ay=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,id:a,readOnly:l})=>{var c,u,d;const p=e,g=e;return E.useEffect(()=>{g.adaptor&&console.error("Warning: The `adaptor` API is deprecated. Please use updated APIs on the `external` field instead. This will be a breaking change in a future release.")},[]),e.type!=="external"?null:f.jsx(o,{label:s||n,icon:i||f.jsx(Jd,{size:16}),el:"div",children:f.jsx(oy,{name:n,field:$(P({},p),{placeholder:(c=g.adaptor)!=null&&c.name?`Select from ${g.adaptor.name}`:p.placeholder||"Select data",mapProp:((u=g.adaptor)==null?void 0:u.mapProp)||p.mapProp,mapRow:p.mapRow,fetchList:(d=g.adaptor)!=null&&d.fetchList?()=>Ce(void 0,null,function*(){return yield g.adaptor.fetchList(g.adaptorParams)}):p.fetchList}),onChange:t,value:r,id:a,readOnly:l})})};M();var ts=ie("Input",Wr),ly=({field:e,onChange:t,readOnly:r,value:n,name:s,id:i,label:o,labelIcon:a,Label:l})=>e.type!=="radio"||!e.options?null:f.jsx(l,{icon:a||f.jsx(Im,{size:16}),label:o||s,readOnly:r,el:"div",children:f.jsx("div",{className:ts("radioGroupItems"),id:i,children:e.options.map(c=>{var u;return f.jsxs("label",{className:ts("radio"),children:[f.jsx("input",{type:"radio",className:ts("radioInput"),value:JSON.stringify({value:c.value}),name:s,onChange:d=>{t(JSON.parse(d.target.value).value)},disabled:r,checked:n===c.value}),f.jsx("div",{className:ts("radioInner"),children:c.label||((u=c.value)==null?void 0:u.toString())})]},c.label+c.value)})})});M();var cy=ie("Input",Wr),uy=({field:e,onChange:t,label:r,labelIcon:n,Label:s,value:i,name:o,readOnly:a,id:l})=>e.type!=="select"||!e.options?null:f.jsx(s,{label:r||o,icon:n||f.jsx(Xs,{size:16}),readOnly:a,children:f.jsx("select",{id:l,title:r||o,className:cy("input"),disabled:a,onChange:c=>{t(JSON.parse(c.target.value).value)},value:JSON.stringify({value:i}),children:e.options.map(c=>f.jsx("option",{label:c.label,value:JSON.stringify({value:c.value})},c.label+JSON.stringify(c.value)))})});M();var dy=ie("Input",Wr),fy=({field:e,onChange:t,readOnly:r,value:n,name:s,label:i,labelIcon:o,Label:a,id:l})=>f.jsx(a,{label:i||s,icon:o||f.jsx(ka,{size:16}),readOnly:r,children:f.jsx("textarea",{id:l,className:dy("input"),autoComplete:"off",name:s,value:typeof n>"u"?"":n,onChange:c=>t(c.currentTarget.value),readOnly:r,tabIndex:r?-1:void 0,rows:5,placeholder:e.type==="textarea"?e.placeholder:void 0})});M();M();var py={ObjectField:"_ObjectField_1ua3y_5","ObjectField-fieldset":"_ObjectField-fieldset_1ua3y_13"},Bl=ie("ObjectField",py),hy=({field:e,onChange:t,value:r,name:n,label:s,labelIcon:i,Label:o,readOnly:a,id:l})=>{const{readOnlyFields:c,localName:u=n}=sf();if(e.type!=="object"||!e.objectFields)return null;const d=r||{};return f.jsx(o,{label:s||n,icon:i||f.jsx(km,{size:16}),el:"div",readOnly:a,children:f.jsx("div",{className:Bl(),children:f.jsx("fieldset",{className:Bl("fieldset"),children:Object.keys(e.objectFields).map(p=>{const g=e.objectFields[p],v=`${u}.${p}`,k=a||c[v],y=g.label||p;return f.jsx(of,{name:u||l,subName:p,readOnlyFields:c,children:f.jsx(Ks,{name:v,label:v,id:`${l}_${p}`,readOnly:k,field:$(P({},g),{label:y}),value:d[p],onChange:(S,m)=>{t($(P({},d),{[p]:S}),m)}})},v)})})})})};M();var Ca=()=>{if(typeof Ht.useId<"u")return Ht.useId();const[e]=E.useState(it());return e},gs=ie("Input",Wr),vy=ie("InputWrapper",Wr),gy=({children:e,icon:t,label:r,el:n="label",readOnly:s,className:i})=>{const o=n;return f.jsxs(o,{className:i,children:[f.jsxs("div",{className:gs("label"),children:[t?f.jsx("div",{className:gs("labelIcon"),children:t}):f.jsx(f.Fragment,{}),r,s&&f.jsx("div",{className:gs("disabledIcon"),title:"Read-only",children:f.jsx(Am,{size:"12"})})]}),e]})},my=({children:e,icon:t,label:r,el:n="label",readOnly:s})=>{const i=F(a=>a.overrides),o=E.useMemo(()=>i.fieldLabel||gy,[i]);return r?f.jsx(o,{label:r,icon:t,className:gs({readOnly:s}),readOnly:s,el:n,children:e}):f.jsx(f.Fragment,{children:e})},Pt={array:ey,external:ay,object:hy,select:uy,textarea:fy,radio:ly,text:Nl,number:Nl};function yy(e){var t;const r=F(b=>b.dispatch),n=F(b=>b.overrides),s=F(b=>{var C;return(C=b.selectedItem)==null?void 0:C.readOnly}),i=E.useContext(Rs),{id:o,Label:a=my}=e,l=e.field,c=l.label,u=l.labelIcon,d=Ca(),p=o||d,g=E.useMemo(()=>{var b,C,I,D,_,j,h,A;return $(P({},n.fieldTypes),{array:((b=n.fieldTypes)==null?void 0:b.array)||Pt.array,external:((C=n.fieldTypes)==null?void 0:C.external)||Pt.external,object:((I=n.fieldTypes)==null?void 0:I.object)||Pt.object,select:((D=n.fieldTypes)==null?void 0:D.select)||Pt.select,textarea:((_=n.fieldTypes)==null?void 0:_.textarea)||Pt.textarea,radio:((j=n.fieldTypes)==null?void 0:j.radio)||Pt.radio,text:((h=n.fieldTypes)==null?void 0:h.text)||Pt.text,number:((A=n.fieldTypes)==null?void 0:A.number)||Pt.number})},[n]),v=E.useMemo(()=>$(P({},e),{field:l,label:c,labelIcon:u,Label:a,id:p}),[e,l,c,u,a,p]),k=E.useCallback(b=>{v.name&&(b.target.nodeName==="INPUT"||b.target.nodeName==="TEXTAREA")&&(b.stopPropagation(),r({type:"setUi",ui:{field:{focus:v.name}}}))},[v.name]),y=E.useCallback(b=>{"name"in b.target&&r({type:"setUi",ui:{field:{focus:null}}})},[]);let S=E.useMemo(()=>l.type!=="custom"&&l.type!=="slot"?Pt[l.type]:b=>null,[l.type]),m=E.useMemo(()=>{if(l.type==="custom")return l.render?l.render:null;if(l.type!=="slot")return g[l.type]},[l.type,g]);const{visible:x=!0}=e.field;if(!x||l.type==="slot")return null;if(!m)throw new Error(`Field type for ${l.type} did not exist.`);return f.jsx(Rs.Provider,{value:{readOnlyFields:i.readOnlyFields||s||{},localName:(t=i.localName)!=null?t:v.name},children:f.jsx("div",{className:vy(),onFocus:k,onBlur:y,onClick:b=>{b.stopPropagation()},children:f.jsx(m,$(P({},v),{children:f.jsx(S,P({},v))}))})})}function Ks(e){const t=F(l=>l.state.ui.field.focus===e.name),{value:r,onChange:n}=e,[s,i]=E.useState(r),o=E.useCallback((l,c)=>{i(l),n(l,c)},[n]);E.useEffect(()=>{t||i(r)},[r]),E.useEffect(()=>{t||r!==s&&i(r)},[t,r,s]);const a={value:s,onChange:o};return f.jsx(yy,P(P({},e),a))}M();M();M();M();var _y={DraggableComponent:"_DraggableComponent_1vaqy_1","DraggableComponent-overlayWrapper":"_DraggableComponent-overlayWrapper_1vaqy_12","DraggableComponent-overlay":"_DraggableComponent-overlay_1vaqy_12","DraggableComponent-loadingOverlay":"_DraggableComponent-loadingOverlay_1vaqy_34","DraggableComponent--hover":"_DraggableComponent--hover_1vaqy_50","DraggableComponent--isSelected":"_DraggableComponent--isSelected_1vaqy_57","DraggableComponent-actionsOverlay":"_DraggableComponent-actionsOverlay_1vaqy_71","DraggableComponent-actions":"_DraggableComponent-actions_1vaqy_71"};M();function Wl(e){let t={x:0,y:0},r=e;for(;r&&r!==document.documentElement;){const n=r.parentElement;n&&(t.x+=n.scrollLeft,t.y+=n.scrollTop),r=n}return t}M();var Hr=E.createContext(null),nt=E.createContext(Mn(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),by=({children:e,store:t})=>f.jsx(nt.Provider,{value:t,children:e}),On=({children:e,value:t})=>{const r=F(i=>i.dispatch),n=E.useCallback(i=>{r({type:"registerZone",zone:i})},[r]),s=E.useMemo(()=>P({registerZone:n},t),[t]);return f.jsx(f.Fragment,{children:s&&f.jsx(Hr.Provider,{value:s,children:e})})};M();function xy(e){let t=new DOMMatrixReadOnly,r=e.parentElement;for(;r&&r!==document.documentElement;){const n=getComputedStyle(r).transform;n&&n!=="none"&&(t=new DOMMatrixReadOnly(n).multiply(t)),r=r.parentElement}return{scaleX:t.a,scaleY:t.d}}M();function ar(e,t){const r=E.useContext(e);if(!r)throw new Error("useContextStore must be used inside context");return Eo(r,Be(t))}M();var lf=(e,t=[])=>{const r=et();return E.useCallback(()=>{let n=()=>{};const s=o=>{o?e(!1):(setTimeout(()=>{e(!0)},0),n&&n())},i=r.getState().state.ui.isDragging;return s(i),i&&(n=r.subscribe(o=>o.state.ui.isDragging,o=>{s(o)})),n},[r,...t])},vr=ie("DraggableComponent",_y),cf=8,wy=cf*6.5,Sy=-44,Hl=cf,Iy=({label:e,children:t,parentAction:r})=>f.jsxs(gt,{children:[f.jsxs(gt.Group,{children:[r,e&&f.jsx(gt.Label,{label:e})]}),f.jsx(gt.Group,{children:t})]}),Ey=({children:e})=>f.jsx(f.Fragment,{children:e}),ky=({children:e,depth:t,componentType:r,id:n,index:s,zoneCompound:i,isLoading:o=!1,isSelected:a=!1,debug:l,label:c,autoDragAxis:u,userDragAxis:d,inDroppableZone:p=!0})=>{const g=F(H=>{var J;return((J=H.selectedItem)==null?void 0:J.props.id)===n?H.zoomConfig.zoom:1}),v=F(H=>H.overrides),k=F(H=>H.dispatch),y=F(H=>H.iframe),S=E.useContext(Hr),[m,x]=E.useState({}),b=E.useCallback((H,J)=>{var Q;(Q=S?.registerLocalZone)==null||Q.call(S,H,J),x(de=>$(P({},de),{[H]:J}))},[x]),C=E.useCallback(H=>{var J;(J=S?.unregisterLocalZone)==null||J.call(S,H),x(Q=>{const de=P({},Q);return delete de[H],de})},[x]),I=Object.values(m).filter(Boolean).length>0,D=F(Be(H=>{var J;return(J=H.state.indexes.nodes[n])==null?void 0:J.path})),_=F(Be(H=>{const J=yt({index:s,zone:i},H.state);return H.permissions.getPermissions({item:J})})),j=E.useContext(nt),[h,A]=E.useState(d||u),T=E.useMemo(()=>nf(h),[h]),{ref:N,isDragging:R,sortable:V}=Fd({id:n,index:s,group:i,type:"component",data:{areaId:S?.areaId,zone:i,index:s,componentType:r,containsActiveZone:I,depth:t,path:D||[],inDroppableZone:p},collisionPriority:t,collisionDetector:T,transition:{duration:200,easing:"cubic-bezier(0.2, 0, 0, 1)"},feedback:"clone"});E.useEffect(()=>{const H=j.getState().enabledIndex[i];V.droppable.disabled=!H,V.draggable.disabled=!_.drag;const J=j.subscribe(Q=>{V.droppable.disabled=!Q.enabledIndex[i]});return z.current&&!_.drag?(z.current.setAttribute("data-puck-disabled",""),()=>{var Q;(Q=z.current)==null||Q.removeAttribute("data-puck-disabled"),J()}):J},[_.drag,i]);const z=E.useRef(null),K=E.useCallback(H=>{N(H),H&&(z.current=H)},[N]),[U,X]=E.useState();E.useEffect(()=>{var H,J,Q;X(y.enabled?(H=z.current)==null?void 0:H.ownerDocument.body:(Q=(J=z.current)==null?void 0:J.closest("[data-puck-preview]"))!=null?Q:document.body)},[y.enabled,z.current]);const G=E.useCallback(()=>{var H,J,Q;if(!z.current)return;const de=z.current.getBoundingClientRect(),ye=Wl(z.current),we=y.enabled?null:(H=z.current)==null?void 0:H.closest("[data-puck-preview]"),Le=we?.getBoundingClientRect(),Ke=we?Wl(we):{x:0,y:0},tt={x:ye.x-Ke.x-((J=Le?.left)!=null?J:0),y:ye.y-Ke.y-((Q=Le?.top)!=null?Q:0)},St={height:z.current.offsetHeight,width:z.current.offsetWidth},Vr=xy(z.current);return{left:`${(de.left+tt.x)/Vr.scaleX}px`,top:`${(de.top+tt.y)/Vr.scaleY}px`,height:`${St.height}px`,width:`${St.width}px`}},[z.current]),[Y,te]=E.useState(),ce=E.useCallback(()=>{te(G())},[z.current,y]);E.useEffect(()=>{if(z.current){const H=new ResizeObserver(ce);return H.observe(z.current),()=>{H.disconnect()}}},[z.current]);const Ie=F(H=>H.nodes.registerNode),se=E.useCallback(()=>{Oe(!1)},[]),ke=E.useCallback(()=>{Oe(!0)},[]);E.useEffect(()=>{var H;return Ie(n,{methods:{sync:ce,showOverlay:ke,hideOverlay:se},element:(H=z.current)!=null?H:null}),()=>{Ie(n,{methods:{sync:()=>null,hideOverlay:()=>null,showOverlay:()=>null},element:null})}},[n,i,s,r,ce]);const De=E.useMemo(()=>v.actionBar||Iy,[v.actionBar]),Z=E.useMemo(()=>v.componentOverlay||Ey,[v.componentOverlay]),w=E.useCallback(H=>{H.target.closest("[data-puck-overlay-portal]")||H.stopPropagation(),k({type:"setUi",ui:{itemSelector:{index:s,zone:i}}})},[s,i,n]),O=et(),L=E.useCallback(()=>{const{nodes:H,zones:J}=O.getState().state.indexes,Q=H[n],de=Q?.parentId?H[Q?.parentId]:null;if(!de||!Q.parentId)return;const ye=`${de.parentId}:${de.zone}`,we=J[ye].contentIds.indexOf(Q.parentId);k({type:"setUi",ui:{itemSelector:{zone:ye,index:we}}})},[S,D]),B=E.useCallback(()=>{k({type:"duplicate",sourceIndex:s,sourceZone:i})},[s,i]),W=E.useCallback(()=>{k({type:"remove",index:s,zone:i})},[s,i]),[q,ee]=E.useState(!1),he=ar(nt,H=>H.hoveringComponent===n);E.useEffect(()=>{if(!z.current)return;const H=z.current,J=de=>{const ye=!!j.getState().draggedItem;ee(ye?!!R:!0),de.stopPropagation()},Q=de=>{de.stopPropagation(),ee(!1)};return H.setAttribute("data-puck-component",n),H.setAttribute("data-puck-dnd",n),H.style.position="relative",H.addEventListener("click",w),H.addEventListener("mouseover",J),H.addEventListener("mouseout",Q),()=>{H.removeAttribute("data-puck-component"),H.removeAttribute("data-puck-dnd"),H.removeEventListener("click",w),H.removeEventListener("mouseover",J),H.removeEventListener("mouseout",Q)}},[z.current,w,I,i,n,R,p]);const[be,Oe]=E.useState(!1),[Ae,je]=E.useState(!0),[xe,me]=E.useTransition();E.useEffect(()=>{me(()=>{q||he||a?(ce(),Oe(!0),Lt(!1)):Oe(!1)})},[q,he,a,y]);const[ot,Lt]=E.useState(!1),Wn=lf(H=>{H?me(()=>{ce(),je(!0)}):je(!1)});E.useEffect(()=>{R&&Lt(!0)},[R]),E.useEffect(()=>{if(ot)return Wn()},[ot,Wn]);const Ur=E.useCallback(H=>{if(H&&H.ownerDocument.defaultView){const Q=H.getBoundingClientRect(),ye=Q.x<0,Le=Q.y<0;ye&&(H.style.transformOrigin="left top",H.style.left="0px"),Le&&(H.style.top="12px",ye||(H.style.transformOrigin="right top"))}},[g]);E.useEffect(()=>{if(d){A(d);return}if(z.current){const H=window.getComputedStyle(z.current);if(H.display==="inline"||H.display==="inline-block"){A("x");return}}A(u)},[z,d,u]);const Js=E.useMemo(()=>S?.areaId&&S?.areaId!=="root"&&f.jsx(gt.Action,{onClick:L,label:"Select parent",children:f.jsx(Em,{size:16})}),[S?.areaId]),oe=E.useMemo(()=>$(P({},S),{areaId:n,zoneCompound:i,index:s,depth:t+1,registerLocalZone:b,unregisterLocalZone:C}),[S,n,i,s,t,b,C]);return f.jsxs(On,{value:oe,children:[Ae&&be&&Ns.createPortal(f.jsxs("div",{className:vr({isSelected:a,isDragging:R,hover:q||he}),style:P({},Y),"data-puck-overlay":!0,children:[l,o&&f.jsx("div",{className:vr("loadingOverlay"),children:f.jsx(fr,{})}),f.jsx("div",{className:vr("actionsOverlay"),style:{top:wy/g},children:f.jsx("div",{className:vr("actions"),style:{transform:`scale(${1/g}`,top:Sy/g,right:0,paddingLeft:Hl,paddingRight:Hl},ref:Ur,children:f.jsxs(De,{parentAction:Js,label:c,children:[_.duplicate&&f.jsx(gt.Action,{onClick:B,label:"Duplicate",children:f.jsx(Gd,{size:16})}),_.delete&&f.jsx(gt.Action,{onClick:W,label:"Delete",children:f.jsx(Qd,{size:16})})]})})}),f.jsx("div",{className:vr("overlayWrapper"),children:f.jsx(Z,{componentId:n,componentType:r,hover:q,isSelected:a,children:f.jsx("div",{className:vr("overlay")})})})]}),U||document.body),e(K)]})};M();var jy={DropZone:"_DropZone_1i2sv_1","DropZone--hasChildren":"_DropZone--hasChildren_1i2sv_11","DropZone--isAreaSelected":"_DropZone--isAreaSelected_1i2sv_24","DropZone--hoveringOverArea":"_DropZone--hoveringOverArea_1i2sv_25","DropZone--isRootZone":"_DropZone--isRootZone_1i2sv_25","DropZone--isDestination":"_DropZone--isDestination_1i2sv_35","DropZone-item":"_DropZone-item_1i2sv_47","DropZone-hitbox":"_DropZone-hitbox_1i2sv_51","DropZone--isEnabled":"_DropZone--isEnabled_1i2sv_59","DropZone--isAnimating":"_DropZone--isAnimating_1i2sv_68"};M();M();var uf={Drawer:"_Drawer_pl7z0_1","Drawer-draggable":"_Drawer-draggable_pl7z0_8","Drawer-draggableBg":"_Drawer-draggableBg_pl7z0_12","DrawerItem-draggable":"_DrawerItem-draggable_pl7z0_22","DrawerItem--disabled":"_DrawerItem--disabled_pl7z0_35",DrawerItem:"_DrawerItem_pl7z0_22","Drawer--isDraggingFrom":"_Drawer--isDraggingFrom_pl7z0_45","DrawerItem-name":"_DrawerItem-name_pl7z0_63"};M();M();M();function Cy(e,t){const r=setTimeout(e,t);return()=>clearTimeout(r)}function Py(e,t){const r=()=>performance.now();let n,s=0;return function(...i){const o=r(),a=this;o-s>=t?(e.apply(a,i),s=o):(n?.(),n=Cy(()=>{e.apply(a,i),s=r()},t-(o-s)))}}M();var Or=()=>{if(typeof window>"u")return;let e=document.querySelector("#preview-frame");return e?.tagName==="IFRAME"?e.contentDocument||document:e?.ownerDocument||document};M();var Dy=class{constructor(e,t){this.scaleFactor=1,this.frameEl=null,this.frameRect=null;var r;this.target=e,this.original=t,this.frameEl=document.querySelector("iframe#preview-frame"),this.frameEl&&(this.frameRect=this.frameEl.getBoundingClientRect(),this.scaleFactor=this.frameRect.width/(((r=this.frameEl.contentWindow)==null?void 0:r.innerWidth)||1))}get x(){return this.original.x}get y(){return this.original.y}get global(){return document!==this.target.ownerDocument&&this.frameRect?{x:this.x*this.scaleFactor+this.frameRect.left,y:this.y*this.scaleFactor+this.frameRect.top}:this.original}get frame(){return document===this.target.ownerDocument&&this.frameRect?{x:(this.x-this.frameRect.left)/this.scaleFactor,y:(this.y-this.frameRect.top)/this.scaleFactor}:this.original}};M();var Oy=typeof PointerEvent<"u"?PointerEvent:Event,df=class extends Oy{constructor(e,t){super(e,t),this._originalTarget=null,this.originalTarget=t.originalTarget}set originalTarget(e){this._originalTarget=e}get originalTarget(){return this._originalTarget}},Ay=e=>e.sort((t,r)=>{const n=t.data,s=r.data;return n.depth>s.depth?1:s.depth>n.depth?-1:0}),My=e=>{let t=e?.id;if(!e)return null;if(e.type==="component"){const r=e.data;r.containsActiveZone?t=null:t=r.zone}else if(e.type==="void")return"void";return t},rs=6,Ty=(e,t)=>{const r=[];let n=e.target.ownerDocument.elementsFromPoint(e.x,e.y);const s=n.find(o=>o.getAttribute("data-puck-preview")),i=n.find(o=>o.getAttribute("data-puck-drawer"));if(i&&(n=[i]),s){const o=Or();o&&(n=o.elementsFromPoint(e.frame.x,e.frame.y))}if(n)for(let o=0;o<n.length;o++){const a=n[o],l=a.getAttribute("data-puck-dropzone"),c=a.getAttribute("data-puck-dnd"),u=a.hasAttribute("data-puck-dnd-void");if((l||c)&&!u){const d=a.getBoundingClientRect(),p={left:d.left+rs,right:d.right-rs,top:d.top+rs,bottom:d.bottom-rs};if(e.frame.x<p.left||e.frame.x>p.right||e.frame.y>p.bottom||e.frame.y<p.top)continue}if(l){const d=t.registry.droppables.get(l);d&&r.push(d)}if(c){const d=t.registry.droppables.get(c);d&&r.push(d)}}return r},Ly=(e,t)=>{var r;const n=Ty(e,t);if(n.length>0){const s=Ay(n),i=t.dragOperation.source,o=s.findIndex(v=>v.id===i?.id),a=i?.id;let l=[...s];a&&o>-1&&l.splice(o,1),l=l.filter(v=>{const k=v.data;if(a&&o>-1&&k.path.indexOf(a)>-1)return!1;if(v.type==="dropzone"){const y=v.data;if(!y.isDroppableTarget||y.areaId===a)return!1}else if(v.type==="component"&&!v.data.inDroppableZone)return!1;return!0}),l.reverse();const c=l[0];if(!c)return{zone:null,area:null};const u=c.data,d="containsActiveZone"in u,p=My(c),g=d&&u.containsActiveZone?l[0].id:(r=l[0])==null?void 0:r.data.areaId;return{zone:p,area:g}}return{zone:Ve,area:wo}},$y=({onChange:e},t)=>class extends We{constructor(n,s){super(n),!(typeof window>"u")&&this.registerEffect(()=>{const o=Py(c=>{const u=c instanceof df&&c.originalTarget||c.target,d=new Dy(u,{x:c.clientX,y:c.clientY});document.elementsFromPoint(d.global.x,d.global.y).some(v=>v.id===t)&&e(Ly(d,n),n)},50),a=c=>{o(c)};return document.body.addEventListener("pointermove",a,{capture:!0}),()=>{document.body.removeEventListener("pointermove",a,{capture:!0})}})}};M();var Ry=(e,t,r,n)=>Ce(void 0,null,function*(){const s=it(e),i={type:"insert",componentType:e,destinationIndex:r,destinationZone:t,id:s},{state:o,dispatch:a,resolveComponentData:l}=n,c=Wd(o,i,n);a($(P({},i),{recordHistory:!0}));const u={index:r,zone:t};a({type:"setUi",ui:{itemSelector:u}});const d=yt(u,c);if(d){const p=yield l(d,"insert");p.didChange&&a({type:"replace",destinationZone:u.zone,destinationIndex:u.index,data:p.node})}});M();function Ny(e){function t(r){return r?r.getAttribute("dir")||t(r.parentElement):"ltr"}return e?t(e):"ltr"}var ff=E.createContext({dragListeners:{}});function zy(e,t,r=[]){const{setDragListeners:n}=E.useContext(ff);E.useEffect(()=>{n&&n(s=>$(P({},s),{[e]:[...s[e]||[],t]}))},r)}var Fy=100,By=e=>{const t=E.useRef(null);return E.useCallback(r=>{oo.setState({fallbackEnabled:!1});const n=it();t.current=n,setTimeout(()=>{t.current===n&&(oo.setState({fallbackEnabled:!0}),r.collisionObserver.forceUpdate(!0))},e)},[])},Wy=({children:e,disableAutoScroll:t})=>{const r=F(x=>x.dispatch),n=et(),s=Ca(),i=E.useRef(null),o=By(100),[a]=E.useState(()=>Mn(()=>({zoneDepthIndex:{},nextZoneDepthIndex:{},areaDepthIndex:{},nextAreaDepthIndex:{},draggedItem:null,previewIndex:{},enabledIndex:{},hoveringComponent:null}))),l=E.useCallback((x,b)=>{const{zoneDepthIndex:C={},areaDepthIndex:I={}}=a.getState()||{},D=Object.keys(C).length>0,_=Object.keys(I).length>0;let j=!1,h=!1;return(x.zone&&!C[x.zone]||!x.zone&&D)&&(j=!0),(x.area&&!I[x.area]||!x.area&&_)&&(h=!0),{zoneChanged:j,areaChanged:h}},[a]),c=E.useCallback((x,b)=>{const{zoneChanged:C,areaChanged:I}=l(x,s);!C&&!I||(a.setState({zoneDepthIndex:x.zone?{[x.zone]:!0}:{},areaDepthIndex:x.area?{[x.area]:!0}:{}}),o(b),setTimeout(()=>{b.collisionObserver.forceUpdate(!0)},50),i.current=null)},[a]),u=Pg(c,Fy),d=()=>{u.cancel(),i.current=null};E.useEffect(()=>{},[]);const[p]=E.useState(()=>[...t?or.plugins.filter(x=>x!==pa):or.plugins,$y({onChange:(x,b)=>{const C=a.getState(),{zoneChanged:I,areaChanged:D}=l(x,s),_=b.dragOperation.status.dragging;if(D||I){let j={},h={};x.zone&&(j={[x.zone]:!0}),x.area&&(h={[x.area]:!0}),a.setState({nextZoneDepthIndex:j,nextAreaDepthIndex:h})}if(x.zone!=="void"&&C?.zoneDepthIndex.void){c(x,b);return}if(D){if(_){const j=i.current;j&&j.area===x.area&&j.zone===x.zone||(d(),u(x,b),i.current=x)}else d(),c(x,b);return}I&&c(x,b),d()}},s)]),g=tf(),[v,k]=E.useState({}),y=E.useRef(null),S=E.useRef(void 0),m=E.useMemo(()=>({mode:"edit",areaId:"root",depth:0}),[]);return f.jsx("div",{id:s,children:f.jsx(ff.Provider,{value:{dragListeners:v,setDragListeners:k},children:f.jsx(yd,{plugins:p,sensors:g,onDragEnd:(x,b)=>{var C,I;const D=(C=Or())==null?void 0:C.querySelector("[data-puck-entry]");D?.removeAttribute("data-puck-dragging");const{source:_,target:j}=x.operation;if(!_){a.setState({draggedItem:null});return}const{zone:h,index:A}=_.data,{previewIndex:T={}}=a.getState()||{},N=((I=T[h])==null?void 0:I.props.id)===_.id?T[h]:null,R=()=>{var z,K;if(a.setState({draggedItem:null}),x.canceled||j?.type==="void"){a.setState({previewIndex:{}}),(z=v.dragend)==null||z.forEach(U=>{U(x,b)}),r({type:"setUi",ui:{itemSelector:null,isDragging:!1}});return}N&&(a.setState({previewIndex:{}}),N.type==="insert"?Ry(N.componentType,N.zone,N.index,n.getState()):S.current&&r({type:"move",sourceIndex:S.current.index,sourceZone:S.current.zone,destinationIndex:N.index,destinationZone:N.zone,recordHistory:!1})),r({type:"setUi",ui:{itemSelector:{index:A,zone:h},isDragging:!1},recordHistory:!0}),(K=v.dragend)==null||K.forEach(U=>{U(x,b)})};let V;V=Qe(()=>{_.status==="idle"&&(R(),V?.())})},onDragOver:(x,b)=>{var C,I,D,_;if(x.preventDefault(),!((C=a.getState())==null?void 0:C.draggedItem))return;d();const{source:h,target:A}=x.operation;if(!A||!h||A.type==="void")return;const[T]=h.id.split(":"),[N]=A.id.split(":"),R=h.data;let V=R.zone,z=R.index,K="",U=0;if(A.type==="component"){const G=A.data;K=G.zone,U=G.index;const Y=(I=b.collisionObserver.collisions[0])==null?void 0:I.data,te=Ny(A.element),ce=Y?.direction==="up"||te==="ltr"&&Y?.direction==="left"||te==="rtl"&&Y?.direction==="right"?"before":"after";U>=z&&V===K&&(U=U-1),ce==="after"&&(U=U+1)}else K=A.id.toString(),U=0;const X=((D=n.getState().state.indexes.nodes[A.id])==null?void 0:D.path)||[];if(!(N===T||X.find(G=>{const[Y]=G.split(":");return Y===T}))){if(y.current==="new")a.setState({previewIndex:{[K]:{componentType:R.componentType,type:"insert",index:U,zone:K,element:h.element,props:{id:h.id.toString()}}}});else{S.current||(S.current={zone:R.zone,index:R.index});const G=yt(S.current,n.getState().state);G&&a.setState({previewIndex:{[K]:{componentType:R.componentType,type:"move",index:U,zone:K,props:G.props,element:h.element}}})}(_=v.dragover)==null||_.forEach(G=>{G(x,b)})}},onDragStart:(x,b)=>{var C;const{source:I}=x.operation;if(I&&I.type!=="void"){const D=I.data,_=yt({zone:D.zone,index:D.index},n.getState().state);_&&a.setState({previewIndex:{[D.zone]:{componentType:D.componentType,type:"move",index:D.index,zone:D.zone,props:_.props,element:I.element}}})}(C=v.dragstart)==null||C.forEach(D=>{D(x,b)})},onBeforeDragStart:x=>{var b,C,I,D;const _=((b=x.operation.source)==null?void 0:b.type)==="drawer";y.current=_?"new":"existing",S.current=void 0,a.setState({draggedItem:x.operation.source}),((C=n.getState().selectedItem)==null?void 0:C.props.id)!==((I=x.operation.source)==null?void 0:I.id)?r({type:"setUi",ui:{itemSelector:null,isDragging:!0},recordHistory:!1}):r({type:"setUi",ui:{isDragging:!0},recordHistory:!1});const j=(D=Or())==null?void 0:D.querySelector("[data-puck-entry]");j?.setAttribute("data-puck-dragging","true")},children:f.jsx(by,{store:a,children:f.jsx(On,{value:m,children:e})})})})})},Hy=({children:e,disableAutoScroll:t})=>F(n=>n.status)==="LOADING"?e:f.jsx(Wy,{disableAutoScroll:t,children:e}),ms=ie("Drawer",uf),gr=ie("DrawerItem",uf),ao=({children:e,name:t,label:r,dragRef:n,isDragDisabled:s})=>{const i=E.useMemo(()=>e||(({children:o})=>f.jsx("div",{className:gr("default"),children:o})),[e]);return f.jsx("div",{className:gr({disabled:s}),ref:n,onMouseDown:o=>o.preventDefault(),"data-testid":n?`drawer-item:${t}`:"","data-puck-drawer-item":!0,children:f.jsx(i,{name:t,children:f.jsx("div",{className:gr("draggableWrapper"),children:f.jsxs("div",{className:gr("draggable"),children:[f.jsx("div",{className:gr("name"),children:r??t}),f.jsx("div",{className:gr("icon"),children:f.jsx(ef,{})})]})})})})},Uy=({children:e,name:t,label:r,id:n,isDragDisabled:s})=>{const{ref:i}=Lv({id:n,data:{componentType:t},disabled:s,type:"drawer"});return f.jsxs("div",{className:ms("draggable"),children:[f.jsx("div",{className:ms("draggableBg"),children:f.jsx(ao,{name:t,label:r,children:e})}),f.jsx("div",{className:ms("draggableFg"),children:f.jsx(ao,{name:t,label:r,dragRef:i,isDragDisabled:s,children:e})})]})},Vy=({name:e,children:t,id:r,label:n,index:s,isDragDisabled:i})=>{const o=r||e,[a,l]=E.useState(it(o));return typeof s<"u"&&console.error("Warning: The `index` prop on Drawer.Item is deprecated and no longer required."),zy("dragend",()=>{l(it(o))},[o]),f.jsx("div",{children:f.jsx(Uy,{name:e,label:n,id:a,isDragDisabled:i,children:t})},a)},Pa=({children:e,droppableId:t,direction:r})=>{t&&console.error("Warning: The `droppableId` prop on Drawer is deprecated and no longer required."),r&&console.error("Warning: The `direction` prop on Drawer is deprecated and no longer required to achieve multi-directional dragging.");const n=Ca(),{ref:s}=Pd({id:n,type:"void",collisionPriority:0});return f.jsx("div",{className:ms(),ref:s,"data-puck-dnd":n,"data-puck-drawer":!0,"data-puck-dnd-void":!0,children:e})};Pa.Item=Vy;M();var Ul=(e,t)=>e.getState().state.indexes.zones[t].contentIds.length,Zy=({zoneCompound:e,userMinEmptyHeight:t,ref:r})=>{const n=et(),[s,i]=E.useState(0),[o,a]=E.useState(!1),{draggedItem:l,isZone:c}=ar(nt,p=>{var g,v;return{draggedItem:((g=p.draggedItem)==null?void 0:g.data.zone)===e?p.draggedItem:null,isZone:((v=p.draggedItem)==null?void 0:v.data.zone)===e}}),u=E.useRef(0),d=lf(p=>{var g;if(p){const v=Ul(n,e);if(i(0),v||u.current===0){a(!1);return}const k=n.getState().selectedItem,y=n.getState().state.indexes.zones,S=n.getState().nodes;(g=S.nodes[k?.props.id])==null||g.methods.hideOverlay(),setTimeout(()=>{var m;(((m=y[e])==null?void 0:m.contentIds)||[]).forEach(b=>{const C=S.nodes[b];C?.methods.sync()}),k&&setTimeout(()=>{var b,C;(b=S.nodes[k.props.id])==null||b.methods.sync(),(C=S.nodes[k.props.id])==null||C.methods.showOverlay()},200),a(!1)},100)}},[n,s,e]);return E.useEffect(()=>{if(l&&r.current&&c){const p=r.current.getBoundingClientRect();return u.current=Ul(n,e),i(p.height),a(!0),d()}},[r.current,l,d]),[s||t,o]};M();function qy(e,t){typeof e=="function"?e(t):e&&typeof e=="object"&&"current"in e&&(e.current=t)}function Yy(e,t){e.forEach(r=>{qy(r,t)})}M();M();function Xy(e,t){const r=_d();return E.useCallback((...n)=>Ce(this,null,function*(){return yield r?.renderer.rendering,e(...n)}),[...t,r])}var Ky=(e,t)=>{const r=E.useContext(nt),n=ar(nt,u=>u.previewIndex[t]),s=F(u=>u.state.ui.isDragging),[i,o]=E.useState(e),[a,l]=E.useState(n),c=Xy((u,d,p,g,v)=>{p&&!v||(d?d.type==="insert"?o(Dr(u.filter(k=>k!==d.props.id),d.index,d.props.id)):o(Dr(u.filter(k=>k!==d.props.id),d.index,d.props.id)):o(v?u.filter(k=>k!==g):u),l(d))},[]);return E.useEffect(()=>{var u;const d=r.getState(),p=(u=d.draggedItem)==null?void 0:u.id,g=Object.keys(d.previewIndex||{}).length>0;c(e,n,s,p,g)},[e,n,s]),[i,a]};M();var Gy="dynamic",Jy="x",Vl="y",Qy=(e,t)=>{const r=F(o=>o.status),[n,s]=E.useState(t||Vl),i=E.useCallback(()=>{if(e.current){const o=window.getComputedStyle(e.current);o.display==="grid"?s(Gy):o.display==="flex"&&o.flexDirection==="row"?s(Jy):s(Vl)}},[e.current]);return E.useEffect(()=>{const o=()=>{i()};return window.addEventListener("viewportchange",o),()=>{window.removeEventListener("viewportchange",o)}},[]),E.useEffect(i,[r,t]),[n,i]};M();var e_=({componentId:e,zone:t})=>{const r=F(i=>i.config),n=F(i=>i.metadata),s=F(Be(i=>{var o,a;const l=i.state.indexes;return((a=(o=l.zones[`${e}:${t}`])==null?void 0:o.contentIds)!=null?a:[]).map(u=>l.nodes[u].flatData)}));return f.jsx(Io,{content:s,zone:t,config:r,metadata:n})};M();M();M();var t_=(e,t={})=>{if(!e)return;const{disableDrag:r=!1,disableDragOnFocus:n=!0}=t,s=a=>{a.stopPropagation()};e.addEventListener("mouseover",s,{capture:!0});const i=()=>{setTimeout(()=>{e.addEventListener("pointerdown",s,{capture:!0})},200)},o=()=>{e.removeEventListener("pointerdown",s,{capture:!0})};return n?(e.addEventListener("focus",i,{capture:!0}),e.addEventListener("blur",o,{capture:!0})):r&&e.addEventListener("pointerdown",s,{capture:!0}),e.setAttribute("data-puck-overlay-portal","true"),()=>{e.removeEventListener("mouseover",s,{capture:!0}),n?(e.removeEventListener("focus",i,{capture:!0}),e.removeEventListener("blur",i,{capture:!0})):r&&e.removeEventListener("pointerdown",s,{capture:!0}),e.removeAttribute("data-puck-overlay-portal")}};M();var r_={InlineTextField:"_InlineTextField_1xph6_1"};M();function n_(e,t,r){const n=t.split("."),s=P({},e);let i=s;for(let o=0;o<n.length;o++){const[a,l]=n[o].replace("]","").split("["),c=o===n.length-1;if(l!==void 0){Array.isArray(i[a])||(i[a]=[]);const u=Number(l);if(c){i[a][u]=r;continue}i[a][u]===void 0&&(i[a][u]={}),i=i[a][u];continue}if(c){i[a]=r;continue}i[a]===void 0&&(i[a]={}),i=i[a]}return P(P({},e),s)}M();var pf=(e,t)=>{const r=e.indexes.nodes[t];if(!r)return;const n=`${r.parentId}:${r.zone}`,s=e.indexes.zones[n].contentIds.indexOf(t);return{zone:n,index:s}},s_=ie("InlineTextField",r_),i_=({propPath:e,componentId:t,value:r,isReadOnly:n,opts:s={}})=>{var i;const o=E.useRef(null),a=et(),l=(i=s.disableLineBreaks)!=null?i:!1;E.useEffect(()=>{const g=a.getState(),v=g.state.indexes.nodes[t].data;if(!g.getComponentConfig(v.type))throw new Error(`InlineTextField Error: No config defined for ${v.type}`);if(o.current){r!==o.current.innerText&&o.current.replaceChildren(r);const y=t_(o.current),S=m=>Ce(void 0,null,function*(){var x;const b=a.getState(),C=b.state.indexes.nodes[t],I=`${C.parentId}:${C.zone}`,D=(x=b.state.indexes.zones[I])==null?void 0:x.contentIds.indexOf(t);let _=m.target.innerText;l&&(_=_.replaceAll(/\n/gm,""));const j=n_(C.data.props,e,_),h=yield b.resolveComponentData($(P({},C.data),{props:j}),"replace");b.dispatch({type:"replace",data:h.node,destinationIndex:D,destinationZone:I})});return o.current.addEventListener("input",S),()=>{var m;(m=o.current)==null||m.removeEventListener("input",S),y?.()}}},[a,o.current,r,l]);const[c,u]=E.useState(!1),[d,p]=E.useState(!1);return f.jsx("span",{className:s_(),ref:o,contentEditable:c||d?"plaintext-only":"false",onClick:g=>{g.preventDefault(),g.stopPropagation()},onClickCapture:g=>{g.preventDefault(),g.stopPropagation();const v=pf(a.getState().state,t);a.getState().setUi({itemSelector:v})},onKeyDown:g=>{g.stopPropagation(),(l&&g.key==="Enter"||n)&&g.preventDefault()},onKeyUp:g=>{g.stopPropagation(),g.preventDefault()},onMouseOverCapture:()=>u(!0),onMouseOutCapture:()=>u(!1),onFocus:()=>p(!0),onBlur:()=>p(!1)})},wi=E.memo(i_),o_=()=>({text:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(wi,{propPath:n,componentId:t,value:e,opts:{disableLineBreaks:!0},isReadOnly:s}):e,textarea:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable?f.jsx(wi,{propPath:n,componentId:t,value:e,isReadOnly:s}):e,custom:({value:e,componentId:t,field:r,propPath:n,isReadOnly:s})=>r.contentEditable&&typeof e=="string"?f.jsx(wi,{propPath:n,componentId:t,value:e,isReadOnly:s}):e}),a_=ie("DropZone",jy),lo=e=>f.jsx(hf,P({},e)),l_=({zoneCompound:e,componentId:t,index:r,dragAxis:n,collisionAxis:s,inDroppableZone:i})=>{var o,a;const l=F(U=>U.metadata),c=E.useContext(Hr),{depth:u=1}=c??{},d=E.useContext(nt),p=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.flatData.props})),g=F(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.type}),v=F(Be(U=>{var X;return(X=U.state.indexes.nodes[t])==null?void 0:X.data.readOnly})),k=et(),y=E.useMemo(()=>{if(p)return ep({type:g,props:p});const U=d.getState().previewIndex[e];return t===U?.props.id?{type:U.componentType,props:U.props,previewType:U.type,element:U.element}:null},[k,t,e,g,p]),S=F(U=>y?.type?U.config.components[y.type]:null),m=E.useMemo(()=>({renderDropZone:lo,isEditing:!0,dragRef:null,metadata:P(P({},l),S?.metadata)}),[l,S?.metadata]),x=F(U=>U.overrides),b=F(U=>{var X;return((X=U.componentState[t])==null?void 0:X.loadingCount)>0}),C=F(U=>{var X;return((X=U.selectedItem)==null?void 0:X.props.id)===t||!1});let I=(a=(o=S?.label)!=null?o:y?.type.toString())!=null?a:"Component";const D=E.useMemo(()=>function(){var X;return y&&"element"in y&&y.element?f.jsx("div",{dangerouslySetInnerHTML:{__html:y.element.outerHTML}}):f.jsx(ao,{name:I,children:(X=x.componentItem)!=null?X:x.drawerItem})},[t,I,x]),_=E.useMemo(()=>$(P(P({},S?.defaultProps),y?.props),{puck:m,editMode:!0}),[S?.defaultProps,y?.props,m]),j=E.useMemo(()=>{var U;return{type:(U=y?.type)!=null?U:g,props:_}},[y?.type,g,_]),h=F(U=>U.config),A=F(U=>U.plugins),T=F(U=>U.fieldTransforms),N=E.useMemo(()=>P(P(P(P({},dc(lo,U=>f.jsx(e_,{componentId:t,zone:U.zone}))),o_()),A.reduce((U,X)=>P(P({},U),X.fieldTransforms),{})),T),[A,T]),R=uc(h,j,N,v,b);if(!y)return;let V=S?S.render:()=>f.jsxs("div",{style:{padding:48,textAlign:"center"},children:["No configuration for ",y.type]}),z=y.type;const K="previewType"in y?y.previewType==="insert":!1;return K&&(V=D),f.jsx(ky,{id:t,componentType:z,zoneCompound:e,depth:u+1,index:r,isLoading:b,isSelected:C,label:I,autoDragAxis:n,userDragAxis:s,inDroppableZone:i,children:U=>S?.inline&&!K?f.jsx(f.Fragment,{children:f.jsx(V,$(P({},R),{puck:$(P({},R.puck),{dragRef:U})}))}):f.jsx("div",{ref:U,children:f.jsx(V,P({},R))})})},c_=E.memo(l_),hf=E.forwardRef(function({zone:t,allow:r,disallow:n,style:s,className:i,minEmptyHeight:o=128,collisionAxis:a},l){const c=E.useContext(Hr),u=et(),{areaId:d,depth:p=0,registerLocalZone:g,unregisterLocalZone:v}=c??{},k=F(Be(Y=>{var te;return d?(te=Y.state.indexes.nodes[d])==null?void 0:te.path:null}));let y=Ve;d&&t!==Ve&&(y=`${d}:${t}`);const S=y===Ve||t===Ve||d==="root",m=ar(nt,Y=>Y.nextAreaDepthIndex[d||""]),x=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.contentIds})),b=F(Be(Y=>{var te;return(te=Y.state.indexes.zones[y])==null?void 0:te.type}));E.useEffect(()=>{(!b||b==="dropzone")&&c?.registerZone&&c?.registerZone(y)},[b,u]),E.useEffect(()=>{b==="dropzone"&&y!==Ve&&console.warn("DropZones have been deprecated in favor of slot fields and will be removed in a future version of Puck. Please see the migration guide: https://www.puckeditor.com/docs/guides/migrations/dropzones-to-slots")},[b]);const C=E.useMemo(()=>x||[],[x]),I=E.useRef(null),D=E.useCallback(Y=>{if(!Y)return!0;if(n){const te=r||[];if((n||[]).filter(Ie=>te.indexOf(Ie)===-1).indexOf(Y)!==-1)return!1}else if(r&&r.indexOf(Y)===-1)return!1;return!0},[r,n]),_=ar(nt,Y=>{var te;const ce=(te=Y.draggedItem)==null?void 0:te.data.componentType;return D(ce)}),j=m||S,h=ar(nt,Y=>{var te;let ce=!0;return ce=(te=Y.zoneDepthIndex[y])!=null?te:!1,ce&&(ce=_),ce});E.useEffect(()=>(g&&g(y,_||h),()=>{v&&v(y)}),[_,h,y]);const[A,T]=Ky(C,y),N=h&&(T?A.length===1:A.length===0),R=E.useContext(nt);E.useEffect(()=>{const{enabledIndex:Y}=R.getState();R.setState({enabledIndex:$(P({},Y),{[y]:h})})},[h,R,y]);const V={id:y,collisionPriority:h?p:0,disabled:!N,collisionDetector:Km,type:"dropzone",data:{areaId:d,depth:p,isDroppableTarget:_,path:k||[]}},{ref:z}=Pd(V),K=F(Y=>Y?.selectedItem&&d===Y?.selectedItem.props.id),[U]=Qy(I,a),[X,G]=Zy({zoneCompound:y,userMinEmptyHeight:o,ref:I});return f.jsx("div",{className:`${a_({isRootZone:S,hoveringOverArea:j,isEnabled:h,isAreaSelected:K,hasChildren:C.length>0,isAnimating:G})}${i?` ${i}`:""}`,ref:Y=>{Yy([I,z,l],Y)},"data-testid":`dropzone:${y}`,"data-puck-dropzone":y,style:$(P({},s),{"--min-empty-height":`${X}px`,backgroundColor:s?.backgroundColor}),children:A.map((Y,te)=>f.jsx(c_,{zoneCompound:y,componentId:Y,dragAxis:U,index:te,collisionAxis:a,inDroppableZone:_},Y))})}),u_=({config:e,item:t,metadata:r})=>{const n=e.components[t.type],s=zs(e,t,o=>f.jsx(Io,$(P({},o),{config:e,metadata:r}))),i=E.useMemo(()=>({areaId:s.id,depth:1}),[s]);return f.jsx(On,{value:i,children:f.jsx(n.render,$(P({},s),{puck:$(P({},s.puck),{renderDropZone:co,metadata:P(P({},r),n.metadata)})}))},s.id)},co=e=>f.jsx(vf,P({},e)),vf=E.forwardRef(function({className:t,style:r,zone:n},s){const i=E.useContext(Hr),{areaId:o="root"}=i||{},{config:a,data:l,metadata:c}=E.useContext(fo);let u=`${o}:${n}`,d=l?.content||[];return E.useEffect(()=>{d||i?.registerZone&&i?.registerZone(u)},[d]),!l||!a?null:(u!==Ve&&(d=cc(l,u).zones[u]),f.jsx("div",{className:t,style:r,ref:s,children:d.map(p=>a.components[p.type]?f.jsx(u_,{config:a,item:p,metadata:c},p.props.id):null)}))}),uo=e=>f.jsx(d_,P({},e)),d_=E.forwardRef(function(t,r){const n=E.useContext(Hr);return n?.mode==="edit"?f.jsx(f.Fragment,{children:f.jsx(hf,$(P({},t),{ref:r}))}):f.jsx(f.Fragment,{children:f.jsx(vf,$(P({},t),{ref:r}))})}),fo=Ht.createContext({config:{components:{}},data:{root:{},content:[]},metadata:{}});function f_({config:e,data:t,metadata:r={}}){var n;const s=$(P({},t),{root:t.root||{},content:t.content||[]}),i="props"in s.root?s.root.props:s.root,o=i?.title||"",a=$(P({},i),{puck:{renderDropZone:uo,isEditing:!1,dragRef:null,metadata:r},title:o,editMode:!1,id:"puck-root"}),l=zs(e,{type:"root",props:a},u=>f.jsx(fc,$(P({},u),{config:e,metadata:r}))),c=E.useMemo(()=>({mode:"render",depth:0}),[]);return(n=e.root)!=null&&n.render?f.jsx(fo.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(On,{value:c,children:f.jsx(e.root.render,$(P({},l),{children:f.jsx(co,{zone:Ci})}))})}):f.jsx(fo.Provider,{value:{config:e,data:s,metadata:r},children:f.jsx(On,{value:c,children:f.jsx(co,{zone:Ci})})})}M();var Zl=e=>{const t={back:e.history.back,forward:e.history.forward,setHistories:e.history.setHistories,setHistoryIndex:e.history.setHistoryIndex,hasPast:e.history.hasPast(),hasFuture:e.history.hasFuture(),histories:e.history.histories,index:e.history.index};return{appState:Dn(e.state),config:e.config,dispatch:e.dispatch,getPermissions:e.permissions.getPermissions,refreshPermissions:e.permissions.refreshPermissions,history:t,selectedItem:e.selectedItem||null,getItemBySelector:n=>yt(n,e.state),getItemById:n=>e.state.indexes.nodes[n].data,getSelectorForId:n=>pf(e.state,n)}},p_=E.createContext(null),ql=e=>({state:e.state,config:e.config,dispatch:e.dispatch,permissions:e.permissions,history:e.history,selectedItem:e.selectedItem}),h_=e=>{const[t]=E.useState(()=>Mn(()=>Zl(ql(e.getState()))));return E.useEffect(()=>e.subscribe(r=>ql(r),r=>{t.setState(Zl(r))}),[]),t};M();M();M();var v_={SidebarSection:"_SidebarSection_8boj8_1","SidebarSection-title":"_SidebarSection-title_8boj8_12","SidebarSection--noBorderTop":"_SidebarSection--noBorderTop_8boj8_20","SidebarSection-content":"_SidebarSection-content_8boj8_24","SidebarSection--noPadding":"_SidebarSection--noPadding_8boj8_28","SidebarSection-breadcrumbLabel":"_SidebarSection-breadcrumbLabel_8boj8_41","SidebarSection-breadcrumbs":"_SidebarSection-breadcrumbs_8boj8_70","SidebarSection-breadcrumb":"_SidebarSection-breadcrumb_8boj8_41","SidebarSection-heading":"_SidebarSection-heading_8boj8_82","SidebarSection-loadingOverlay":"_SidebarSection-loadingOverlay_8boj8_86"};M();var g_=e=>{const t=F(i=>{var o;return(o=i.selectedItem)==null?void 0:o.props.id}),r=F(i=>i.config),n=F(i=>{var o;return(o=i.state.indexes.nodes[t])==null?void 0:o.path}),s=et();return E.useMemo(()=>{const i=n?.map(o=>{var a,l,c;const[u]=o.split(":");if(u==="root")return{label:"Page",selector:null};const d=s.getState().state.indexes.nodes[u],p=d.path[d.path.length-1],v=(((a=s.getState().state.indexes.zones[p])==null?void 0:a.contentIds)||[]).indexOf(u);return{label:d?(c=(l=r.components[d.data.type])==null?void 0:l.label)!=null?c:d.data.type:"Component",selector:d?{index:v,zone:d.path[d.path.length-1]}:null}})||[];return i.slice(i.length-e)},[n,e])},Rt=ie("SidebarSection",v_),po=({children:e,title:t,background:r,showBreadcrumbs:n,noBorderTop:s,noPadding:i,isLoading:o})=>{const a=F(c=>c.setUi),l=g_(1);return f.jsxs("div",{className:Rt({noBorderTop:s,noPadding:i}),style:{background:r},children:[f.jsx("div",{className:Rt("title"),children:f.jsxs("div",{className:Rt("breadcrumbs"),children:[n?l.map((c,u)=>f.jsxs("div",{className:Rt("breadcrumb"),children:[f.jsx("button",{type:"button",className:Rt("breadcrumbLabel"),onClick:()=>a({itemSelector:c.selector}),children:c.label}),f.jsx(Sm,{size:16})]},u)):null,f.jsx("div",{className:Rt("heading"),children:f.jsx(ja,{rank:"2",size:"xs",children:t})})]})}),f.jsx("div",{className:Rt("content"),children:e}),o&&f.jsx("div",{className:Rt("loadingOverlay"),children:f.jsx(fr,{size:32})})]})};M();var gf={Puck:"_Puck_1yxlw_19","Puck-portal":"_Puck-portal_1yxlw_31","PuckLayout-inner":"_PuckLayout-inner_1yxlw_38","PuckLayout--mounted":"_PuckLayout--mounted_1yxlw_59","PuckLayout--leftSideBarVisible":"_PuckLayout--leftSideBarVisible_1yxlw_63","PuckLayout--rightSideBarVisible":"_PuckLayout--rightSideBarVisible_1yxlw_69","PuckLayout-mounted":"_PuckLayout-mounted_1yxlw_83",PuckLayout:"_PuckLayout_1yxlw_38"};M();M();var m_={PuckFields:"_PuckFields_10bh7_1","PuckFields--isLoading":"_PuckFields--isLoading_10bh7_6","PuckFields-loadingOverlay":"_PuckFields-loadingOverlay_10bh7_10","PuckFields-loadingOverlayInner":"_PuckFields-loadingOverlayInner_10bh7_25","PuckFields-field":"_PuckFields-field_10bh7_32","PuckFields--wrapFields":"_PuckFields--wrapFields_10bh7_36"},ys=ie("PuckFields",m_),y_=({children:e})=>f.jsx(f.Fragment,{children:e}),__=(e,t)=>(r,n)=>Ce(void 0,null,function*(){let s;const{dispatch:i,state:o,selectedItem:a,resolveComponentData:l}=t.getState(),{data:c,ui:u}=o,{itemSelector:d}=u,p=c.root.props||c.root;a?s=a.props:s=p;const g=$(P({},s),{[e]:r});a&&d?i({type:"replace",destinationIndex:d.index,destinationZone:d.zone||Ve,data:(yield l($(P({},a),{props:g}),"replace")).node,ui:n}):c.root.props?i({type:"replaceRoot",root:(yield l($(P({},c.root),{props:g}),"replace")).node,ui:P(P({},u),n),recordHistory:!0}):i({type:"setData",data:{root:g}})}),b_=({fieldName:e})=>{const t=F(c=>c.fields.fields[e]),r=F(c=>((c.selectedItem?c.selectedItem.readOnly:c.state.data.root.readOnly)||{})[e]),n=F(c=>{const u=c.state.data.root.props||c.state.data.root;return c.selectedItem?c.selectedItem.props[e]:u[e]}),s=F(c=>t?c.selectedItem?`${c.selectedItem.props.id}_${t.type}_${e}`:`root_${t.type}_${e}`:null),i=F(Be(c=>{const{selectedItem:u,permissions:d}=c;return u?d.getPermissions({item:u}):d.getPermissions({root:!0})})),o=et(),a=E.useCallback(__(e,o),[e]),{visible:l=!0}=t??{};return!t||!s||!l||t.type==="slot"?null:f.jsx("div",{className:ys("field"),children:f.jsx(Ks,{field:t,name:e,id:s,readOnly:!i.edit||r,value:n,onChange:a})},s)},x_=E.memo(b_),w_=({wrapFields:e=!0})=>{const t=F(u=>u.overrides),r=F(u=>{var d,p;const g=u.selectedItem?(d=u.componentState[u.selectedItem.props.id])==null?void 0:d.loadingCount:(p=u.componentState.root)==null?void 0:p.loadingCount;return(g??0)>0}),n=F(Be(u=>u.state.ui.itemSelector)),s=F(u=>{var d;return(d=u.selectedItem)==null?void 0:d.props.id}),i=et();om(i,s);const o=F(u=>u.fields.loading),a=F(Be(u=>u.fields.id===s?Object.keys(u.fields.fields):[])),l=o||r,c=E.useMemo(()=>t.fields||y_,[t]);return f.jsxs("form",{className:ys({wrapFields:e}),onSubmit:u=>{u.preventDefault()},children:[f.jsx(c,{isLoading:l,itemSelector:n,children:a.map(u=>f.jsx(x_,{fieldName:u},u))}),l&&f.jsx("div",{className:ys("loadingOverlay"),children:f.jsx("div",{className:ys("loadingOverlayInner"),children:f.jsx(fr,{size:16})})})]})},mf=E.memo(w_);M();M();M();M();var S_={ComponentList:"_ComponentList_1rrlt_1","ComponentList--isExpanded":"_ComponentList--isExpanded_1rrlt_5","ComponentList-content":"_ComponentList-content_1rrlt_9","ComponentList-title":"_ComponentList-title_1rrlt_17","ComponentList-titleIcon":"_ComponentList-titleIcon_1rrlt_53"},ns=ie("ComponentList",S_),yf=({name:e,label:t})=>{var r;const n=F(i=>i.overrides),s=F(i=>i.permissions.getPermissions({type:e}).insert);return E.useEffect(()=>{n.componentItem&&console.warn("The `componentItem` override has been deprecated and renamed to `drawerItem`")},[n]),f.jsx(Pa.Item,{label:t,name:e,isDragDisabled:!s,children:(r=n.componentItem)!=null?r:n.drawerItem})},Er=({children:e,title:t,id:r})=>{const n=F(a=>a.config),s=F(a=>a.setUi),i=F(a=>a.state.ui.componentList),{expanded:o=!0}=i[r]||{};return f.jsxs("div",{className:ns({isExpanded:o}),children:[t&&f.jsxs("button",{type:"button",className:ns("title"),onClick:()=>s({componentList:$(P({},i),{[r]:$(P({},i[r]),{expanded:!o})})}),title:o?`Collapse${t?` ${t}`:""}`:`Expand${t?` ${t}`:""}`,children:[f.jsx("div",{children:t}),f.jsx("div",{className:ns("titleIcon"),children:o?f.jsx(Kd,{size:12}):f.jsx(Xs,{size:12})})]}),f.jsx("div",{className:ns("content"),children:f.jsx(Pa,{children:e||Object.keys(n.components).map(a=>{var l;return f.jsx(yf,{label:(l=n.components[a].label)!=null?l:a,name:a},a)})})})]})};Er.Item=yf;var I_=()=>{const[e,t]=E.useState(),r=F(s=>s.config),n=F(s=>s.state.ui.componentList);return E.useEffect(()=>{var s,i,o;if(Object.keys(n).length>0){const a=[];let l;l=Object.entries(n).map(([u,d])=>!d.components||(d.components.forEach(p=>{a.push(p)}),d.visible===!1)?null:f.jsx(Er,{id:u,title:d.title||u,children:d.components.map((p,g)=>{var v;const k=r.components[p]||{};return f.jsx(Er.Item,{label:(v=k.label)!=null?v:p,name:p,index:g},p)})},u));const c=Object.keys(r.components).filter(u=>a.indexOf(u)===-1);c.length>0&&!((s=n.other)!=null&&s.components)&&((i=n.other)==null?void 0:i.visible)!==!1&&l.push(f.jsx(Er,{id:"other",title:((o=n.other)==null?void 0:o.title)||"Other",children:c.map((u,d)=>{var p;const g=r.components[u]||{};return f.jsx(Er.Item,{name:u,label:(p=g.label)!=null?p:u,index:d},u)})},"other")),t(l)}},[r.categories,r.components,n]),e},_f=()=>{const e=F(n=>n.overrides),t=I_(),r=E.useMemo(()=>(e.components&&console.warn("The `components` override has been deprecated and renamed to `drawer`"),e.components||e.drawer||"div"),[e]);return f.jsx(r,{children:t||f.jsx(Er,{id:"all"})})};M();M();var ho='style, link[rel="stylesheet"]',E_=e=>{const t=[];return e.querySelectorAll(ho).forEach(r=>{r.tagName==="STYLE"?r.innerHTML.trim()&&t.push(r):t.push(r)}),t},Yl=e=>Array.from(document.styleSheets).find(t=>t.ownerNode.href===e.href),k_=e=>{if(e)try{return[...Array.from(e.cssRules)].map(t=>t.cssText).join("")}catch{console.warn("Access to stylesheet %s is denied. Ignoring",e.href)}return""},Xl=(e,t)=>{const r=e.attributes;r?.length>0&&Array.from(r).forEach(n=>{t.setAttribute(n.name,n.value)})},Kl=e=>setTimeout(e,0),j_=({children:e,debug:t=!1,onStylesLoaded:r=()=>null})=>{const{document:n,window:s}=C_();return E.useEffect(()=>{if(!s||!n)return()=>{};let i=[];const o={},a=m=>i.findIndex(x=>x.original===m),l=(m,x=!1)=>Ce(void 0,null,function*(){let b;if(m.nodeName==="LINK"&&x){b=document.createElement("style"),b.type="text/css";let C=Yl(m);C||(yield new Promise(D=>{const _=()=>{D(),m.removeEventListener("load",_)};m.addEventListener("load",_)}),C=Yl(m));const I=k_(C);if(!I){t&&console.warn("Tried to load styles for link element, but couldn't find them. Skipping...");return}b.innerHTML=I,b.setAttribute("data-href",m.getAttribute("href"))}else b=m.cloneNode(!0);return b}),c=m=>Ce(void 0,null,function*(){const x=a(m);if(x>-1){t&&console.log("Tried to add an element that was already mirrored. Updating instead..."),i[x].mirror.innerText=m.innerText;return}const b=yield l(m);if(!b)return;const C=gi(b.outerHTML);if(o[C]){t&&console.log("iframe already contains element that is being mirrored. Skipping...");return}o[C]=!0,n.head.append(b),i.push({original:m,mirror:b}),t&&console.log(`Added style node ${m.outerHTML}`)}),u=m=>{var x,b;const C=a(m);if(C===-1){t&&console.log("Tried to remove an element that did not exist. Skipping...");return}const I=gi(m.outerHTML);(b=(x=i[C])==null?void 0:x.mirror)==null||b.remove(),delete o[I],t&&console.log(`Removed style node ${m.outerHTML}`)},d=new MutationObserver(m=>{m.forEach(x=>{x.type==="childList"&&(x.addedNodes.forEach(b=>{if(b.nodeType===Node.TEXT_NODE||b.nodeType===Node.ELEMENT_NODE){const C=b.nodeType===Node.TEXT_NODE?b.parentElement:b;C&&C.matches(ho)&&Kl(()=>c(C))}}),x.removedNodes.forEach(b=>{if(b.nodeType===Node.TEXT_NODE||b.nodeType===Node.ELEMENT_NODE){const C=b.nodeType===Node.TEXT_NODE?b.parentElement:b;C&&C.matches(ho)&&Kl(()=>u(C))}}))})}),p=s.parent.document,g=E_(p),v=[];let k=0;const y=p.getElementsByTagName("html")[0];Xl(y,n.documentElement);const S=p.getElementsByTagName("body")[0];return Xl(S,n.body),Promise.all(g.map((m,x)=>Ce(void 0,null,function*(){if(m.nodeName==="LINK"){const C=m.href;if(v.indexOf(C)>-1)return;v.push(C)}const b=yield l(m);if(b)return i.push({original:m,mirror:b}),b}))).then(m=>{const x=m.filter(b=>typeof b<"u");x.forEach(b=>{b.onload=()=>{k=k+1,k>=i.length&&r()},b.onerror=()=>{console.warn("AutoFrame couldn't load a stylesheet"),k=k+1,k>=i.length&&r()}}),n.head.innerHTML="",n.head.append(...x),d.observe(p.head,{childList:!0,subtree:!0}),x.forEach(b=>{const C=gi(b.outerHTML);o[C]=!0})}),()=>{d.disconnect()}},[]),f.jsx(f.Fragment,{children:e})},Da=E.createContext({}),C_=()=>E.useContext(Da);function bf(e){var t=e,{children:r,className:n,debug:s,id:i,onReady:o=()=>{},onNotReady:a=()=>{},frameRef:l}=t,c=Xt(t,["children","className","debug","id","onReady","onNotReady","frameRef"]);const[u,d]=E.useState(!1),[p,g]=E.useState({}),[v,k]=E.useState(),[y,S]=E.useState(!1);return E.useEffect(()=>{var m;if(l.current){const x=l.current.contentDocument,b=l.current.contentWindow;g({document:x||void 0,window:b||void 0}),k((m=l.current.contentDocument)==null?void 0:m.getElementById("frame-root")),x&&b&&y?o():a()}},[l,u,y]),f.jsx("iframe",$(P({},c),{className:n,id:i,srcDoc:'<!DOCTYPE html><html><head></head><body><div id="frame-root" data-puck-entry></div></body></html>',ref:l,onLoad:()=>{d(!0)},children:f.jsx(Da.Provider,{value:p,children:u&&v&&f.jsx(j_,{debug:s,onStylesLoaded:()=>S(!0),children:Ns.createPortal(r,v)})})}))}bf.displayName="AutoFrame";var P_=bf;M();var D_={PuckPreview:"_PuckPreview_z2rgu_1","PuckPreview-frame":"_PuckPreview-frame_z2rgu_6"},Si=ie("PuckPreview",D_),O_=e=>{const t=F(r=>r.status);E.useEffect(()=>{if(e.current&&t==="READY"){const r=e.current,n=o=>{const a=new df("pointermove",$(P({},o),{bubbles:!0,cancelable:!1,clientX:o.clientX,clientY:o.clientY,originalTarget:o.target}));r.dispatchEvent(a)},s=()=>{var o;i(),(o=r.contentDocument)==null||o.addEventListener("pointermove",n,{capture:!0})},i=()=>{var o;(o=r.contentDocument)==null||o.removeEventListener("pointermove",n)};return s(),()=>{i()}}},[t])},xf=({id:e="puck-preview"})=>{const t=F(v=>v.dispatch),r=F(v=>v.state.data.root),n=F(v=>v.config),s=F(v=>v.setStatus),i=F(v=>v.iframe),o=F(v=>v.overrides),a=F(v=>v.metadata),l=F(v=>v.state.ui.previewMode==="edit"?null:v.state.data),c=E.useCallback(v=>{var k,y;const S=zs(n,{type:"root",props:v},lo);return(k=n.root)!=null&&k.render?(y=n.root)==null?void 0:y.render(P({id:"puck-root"},S)):f.jsx(f.Fragment,{children:S.children})},[n]),u=E.useMemo(()=>o.iframe,[o]),d=r.props||r,p=E.useRef(null);O_(p);const g=l?f.jsx(f_,{data:l,config:n,metadata:a}):f.jsx(c,$(P({},d),{puck:{renderDropZone:uo,isEditing:!0,dragRef:null,metadata:a},editMode:!0,children:f.jsx(uo,{zone:Ve})}));return E.useEffect(()=>{i.enabled||s("READY")},[i.enabled]),f.jsx("div",{className:Si(),id:e,"data-puck-preview":!0,onClick:v=>{const k=v.target;!k.hasAttribute("data-puck-component")&&!k.hasAttribute("data-puck-dropzone")&&t({type:"setUi",ui:{itemSelector:null}})},children:i.enabled?f.jsx(P_,{id:"preview-frame",className:Si("frame"),"data-rfd-iframe":!0,onReady:()=>{s("READY")},onNotReady:()=>{s("MOUNTED")},frameRef:p,children:f.jsx(Da.Consumer,{children:({document:v})=>u?f.jsx(u,{document:v,children:g}):g})}):f.jsx("div",{id:"preview-frame",className:Si("frame"),ref:p,"data-puck-entry":!0,children:g})})};M();M();M();var wf={LayerTree:"_LayerTree_7rx04_1","LayerTree-zoneTitle":"_LayerTree-zoneTitle_7rx04_11","LayerTree-helper":"_LayerTree-helper_7rx04_17",Layer:"_Layer_7rx04_1","Layer-inner":"_Layer-inner_7rx04_29","Layer--containsZone":"_Layer--containsZone_7rx04_35","Layer-clickable":"_Layer-clickable_7rx04_39","Layer--isSelected":"_Layer--isSelected_7rx04_61","Layer-chevron":"_Layer-chevron_7rx04_77","Layer--childIsSelected":"_Layer--childIsSelected_7rx04_78","Layer-zones":"_Layer-zones_7rx04_82","Layer-title":"_Layer-title_7rx04_96","Layer-name":"_Layer-name_7rx04_105","Layer-icon":"_Layer-icon_7rx04_111","Layer-zoneIcon":"_Layer-zoneIcon_7rx04_116"};M();var A_=e=>{const t=P({},e.style);e.style.scrollMargin="256px",e&&(e?.scrollIntoView({behavior:"smooth"}),e.style.scrollMargin=t.scrollMargin||"")};M();var M_=(e,t)=>{let r;const n=function(){clearTimeout(r),r=setTimeout(function(){t(),e?.removeEventListener("scroll",n)},50)};e?.addEventListener("scroll",n),setTimeout(()=>{r||t()},50)},ss=ie("LayerTree",wf),Nt=ie("Layer",wf),T_=({index:e,itemId:t,zoneCompound:r})=>{var n;const s=F(m=>m.config),i=F(m=>m.state.ui.itemSelector),o=F(m=>m.dispatch),a=E.useCallback(m=>{o({type:"setUi",ui:{itemSelector:m}})},[o]),c=F(m=>{var x;return(x=m.selectedItem)==null?void 0:x.props.id})===t||i&&i.zone===Ve&&!r,u=F(m=>m.state.indexes.nodes[t]),d=F(Be(m=>Object.keys(m.state.indexes.zones).filter(x=>x.split(":")[0]===t))),p=d.length>0,g=E.useContext(nt),v=ar(nt,m=>m.hoveringComponent===t),k=F(m=>{var x,b;const C=m.state.indexes.nodes[(x=m.selectedItem)==null?void 0:x.props.id];return(b=C?.path.some(I=>{const[D]=I.split(":");return D===t}))!=null?b:!1}),y=s.components[u.data.type],S=(n=y?.label)!=null?n:u.data.type.toString();return f.jsxs("li",{className:Nt({isSelected:c,isHovering:v,containsZone:p,childIsSelected:k}),children:[f.jsx("div",{className:Nt("inner"),children:f.jsxs("button",{type:"button",className:Nt("clickable"),onClick:()=>{if(c){a(null);return}const m=Or(),x=m?.querySelector(`[data-puck-component="${t}"]`);if(!x){a({index:e,zone:r});return}A_(x),M_(m,()=>{a({index:e,zone:r})})},onMouseEnter:m=>{m.stopPropagation(),g.setState({hoveringComponent:t})},onMouseLeave:m=>{m.stopPropagation(),g.setState({hoveringComponent:null})},children:[p&&f.jsx("div",{className:Nt("chevron"),title:c?"Collapse":"Expand",children:f.jsx(Xs,{size:"12"})}),f.jsxs("div",{className:Nt("title"),children:[f.jsx("div",{className:Nt("icon"),children:u.data.type==="Text"||u.data.type==="Heading"?f.jsx(ka,{size:"16"}):f.jsx(Pm,{size:"16"})}),f.jsx("div",{className:Nt("name"),children:S})]})]})}),p&&d.map(m=>f.jsx("div",{className:Nt("zones"),children:f.jsx(Sf,{zoneCompound:m})},m))]})},Sf=({label:e,zoneCompound:t})=>{const r=F(s=>{var i,o,a,l;if(e)return e;if(t===Ve)return;const[c,u]=t.split(":"),d=(i=s.state.indexes.nodes[c])==null?void 0:i.data.type,p=d&&d!==wo?s.config.components[d]:s.config.root;return(l=(a=(o=p?.fields)==null?void 0:o[u])==null?void 0:a.label)!=null?l:u}),n=F(Be(s=>{var i,o;return t?(o=(i=s.state.indexes.zones[t])==null?void 0:i.contentIds)!=null?o:[]:[]}));return f.jsxs(f.Fragment,{children:[r&&f.jsxs("div",{className:ss("zoneTitle"),children:[f.jsx("div",{className:ss("zoneIcon"),children:f.jsx(Cm,{size:"16"})}),r]}),f.jsxs("ul",{className:ss(),children:[n.length===0&&f.jsx("div",{className:ss("helper"),children:"No items"}),n.map((s,i)=>f.jsx(T_,{index:i,itemId:s,zoneCompound:t},s))]})]})};M();var L_=(e,t)=>Object.keys(e.indexes.zones).filter(r=>r.split(":")[0]===t),If=()=>{const e=F(n=>n.overrides.outline),t=F(Be(n=>L_(n.state,"root"))),r=E.useMemo(()=>e||"div",[e]);return f.jsx(r,{children:t.map(n=>f.jsx(Sf,{label:t.length===1?"":n.split(":")[1],zoneCompound:n},n))})};M();M();M();var Ef={ViewportControls:"_ViewportControls_gejzr_1","ViewportControls-divider":"_ViewportControls-divider_gejzr_15","ViewportControls-zoomSelect":"_ViewportControls-zoomSelect_gejzr_21","ViewportButton--isActive":"_ViewportButton--isActive_gejzr_38","ViewportButton-inner":"_ViewportButton-inner_gejzr_38"},Gl={Smartphone:f.jsx(Fm,{size:16}),Tablet:f.jsx(Bm,{size:16}),Monitor:f.jsx(Mm,{size:16})},is=ie("ViewportControls",Ef),Jl=ie("ViewportButton",Ef),$_=({children:e,height:t="auto",title:r,width:n,onClick:s})=>{const i=F(l=>l.state.ui.viewports),[o,a]=E.useState(!1);return E.useEffect(()=>{a(n===i.current.width)},[n,i.current.width]),f.jsx("span",{className:Jl({isActive:o}),children:f.jsx(_t,{type:"button",title:r,disabled:o,onClick:l=>{l.stopPropagation(),s({width:n,height:t})},children:f.jsx("span",{className:Jl("inner"),children:e})})})},Ql=[{label:"25%",value:.25},{label:"50%",value:.5},{label:"75%",value:.75},{label:"100%",value:1},{label:"125%",value:1.25},{label:"150%",value:1.5},{label:"200%",value:2}],R_=({autoZoom:e,zoom:t,onViewportChange:r,onZoom:n})=>{var s,i;const o=F(c=>c.viewports),a=Ql.find(c=>c.value===e),l=E.useMemo(()=>[...Ql,...a?[]:[{value:e,label:`${(e*100).toFixed(0)}% (Auto)`}]].filter(c=>c.value<=e).sort((c,u)=>c.value>u.value?1:-1),[e]);return f.jsxs("div",{className:is(),children:[o.map((c,u)=>f.jsx($_,{height:c.height,width:c.width,title:c.label?`Switch to ${c.label} viewport`:"Switch viewport",onClick:r,children:typeof c.icon=="string"?Gl[c.icon]||c.icon:c.icon||Gl.Smartphone},u)),f.jsx("div",{className:is("divider")}),f.jsx(_t,{type:"button",title:"Zoom viewport out",disabled:t<=((s=l[0])==null?void 0:s.value),onClick:c=>{c.stopPropagation(),n(l[Math.max(l.findIndex(u=>u.value===t)-1,0)].value)},children:f.jsx(Um,{size:16})}),f.jsx(_t,{type:"button",title:"Zoom viewport in",disabled:t>=((i=l[l.length-1])==null?void 0:i.value),onClick:c=>{c.stopPropagation(),n(l[Math.min(l.findIndex(u=>u.value===t)+1,l.length-1)].value)},children:f.jsx(Hm,{size:16})}),f.jsx("div",{className:is("divider")}),f.jsx("select",{className:is("zoomSelect"),value:t.toString(),onClick:c=>{c.stopPropagation()},onChange:c=>{n(parseFloat(c.currentTarget.value))},children:l.map(c=>f.jsx("option",{value:c.value,label:c.label},c.label))})]})};M();var N_={PuckCanvas:"_PuckCanvas_18jay_1","PuckCanvas-controls":"_PuckCanvas-controls_18jay_16","PuckCanvas-inner":"_PuckCanvas-inner_18jay_21","PuckCanvas-root":"_PuckCanvas-root_18jay_30","PuckCanvas--ready":"_PuckCanvas--ready_18jay_55","PuckCanvas-loader":"_PuckCanvas-loader_18jay_60","PuckCanvas--showLoader":"_PuckCanvas--showLoader_18jay_70"};M();var kf=E.createContext(null),z_=({children:e})=>{const t=E.useRef(null),r=E.useMemo(()=>({frameRef:t}),[]);return f.jsx(kf.Provider,{value:r,children:e})},jf=()=>{const e=E.useContext(kf);if(e===null)throw new Error("useCanvasFrame must be used within a FrameProvider");return e},Xr=ie("PuckCanvas",N_),Ii=150,F_=()=>{const{frameRef:e}=jf(),t=qd(e),{dispatch:r,overrides:n,setUi:s,zoomConfig:i,setZoomConfig:o,status:a,iframe:l}=F(Be(I=>({dispatch:I.dispatch,overrides:I.overrides,setUi:I.setUi,zoomConfig:I.zoomConfig,setZoomConfig:I.setZoomConfig,status:I.status,iframe:I.iframe}))),{leftSideBarVisible:c,rightSideBarVisible:u,leftSideBarWidth:d,rightSideBarWidth:p,viewports:g}=F(Be(I=>({leftSideBarVisible:I.state.ui.leftSideBarVisible,rightSideBarVisible:I.state.ui.rightSideBarVisible,leftSideBarWidth:I.state.ui.leftSideBarWidth,rightSideBarWidth:I.state.ui.rightSideBarWidth,viewports:I.state.ui.viewports}))),[v,k]=E.useState(!1),y=E.useRef(!1),S=E.useMemo(()=>({children:D})=>f.jsx(f.Fragment,{children:D}),[]),m=E.useMemo(()=>n.preview||S,[n]),x=E.useCallback(()=>{if(e.current){const I=e.current,D=Zd(I);return{width:D.contentBox.width,height:D.contentBox.height}}return{width:0,height:0}},[e]);E.useEffect(()=>{t()},[e,c,u,d,p,g]),E.useEffect(()=>{const{height:I}=x();g.current.height==="auto"&&o($(P({},i),{rootHeight:I/i.zoom}))},[i.zoom,x,o]),E.useEffect(()=>{t()},[g.current.width,g]),E.useEffect(()=>{if(!e.current)return;const I=new ResizeObserver(()=>{y.current||t()});return I.observe(e.current),()=>{I.disconnect()}},[e.current]);const[b,C]=E.useState(!1);return E.useEffect(()=>{setTimeout(()=>{C(!0)},500)},[]),f.jsxs("div",{className:Xr({ready:a==="READY"||!l.enabled||!l.waitForStyles,showLoader:b}),onClick:I=>{const D=I.target;!D.hasAttribute("data-puck-component")&&!D.hasAttribute("data-puck-dropzone")&&r({type:"setUi",ui:{itemSelector:null},recordHistory:!0})},children:[g.controlsVisible&&l.enabled&&f.jsx("div",{className:Xr("controls"),children:f.jsx(R_,{autoZoom:i.autoZoom,zoom:i.zoom,onViewportChange:I=>{k(!0),y.current=!0;const D=$(P({},I),{height:I.height||"auto",zoom:i.zoom}),_={viewports:$(P({},g),{current:D})};s(_),t({viewports:$(P({},g),{current:D})})},onZoom:I=>{k(!0),y.current=!0,o($(P({},i),{zoom:I}))}})}),f.jsxs("div",{className:Xr("inner"),ref:e,children:[f.jsx("div",{className:Xr("root"),style:{width:l.enabled?g.current.width:"100%",height:i.rootHeight,transform:l.enabled?`scale(${i.zoom})`:void 0,transition:v?`width ${Ii}ms ease-out, height ${Ii}ms ease-out, transform ${Ii}ms ease-out`:"",overflow:l.enabled?void 0:"auto"},suppressHydrationWarning:!0,id:"puck-canvas-root",onTransitionEnd:()=>{k(!1),y.current=!1},children:f.jsx(m,{children:f.jsx(xf,{})})}),f.jsx("div",{className:Xr("loader"),children:f.jsx(fr,{size:24})})]})]})};M();M();var B_=({overrides:e,plugins:t})=>{const r=P({},e);return t?.forEach(n=>{n.overrides&&Object.keys(n.overrides).forEach(s=>{var i;const o=s;if(!((i=n.overrides)!=null&&i[o]))return;if(o==="fieldTypes"){const c=n.overrides.fieldTypes;Object.keys(c).forEach(u=>{r.fieldTypes=r.fieldTypes||{};const d=r.fieldTypes[u],p=g=>c[u]($(P({},g),{children:d?d(g):g.children}));r.fieldTypes[u]=p});return}const a=r[o],l=c=>n.overrides[o]($(P({},c),{children:a?a(c):c.children}));r[o]=l})}),r},W_=({overrides:e,plugins:t})=>E.useMemo(()=>B_({overrides:e,plugins:t}),[t,e]);M();var vo=({children:e})=>f.jsx(f.Fragment,{children:e});M();var H_="",U_=(e,t)=>{const[r,n]=E.useState();return E.useEffect(()=>{n(document.createElement("style"))},[]),E.useEffect(()=>{var s;if(!(!r||typeof window>"u")){if(r.innerHTML=e,t){const i=Or();(s=i?.head)==null||s.appendChild(r)}document.head.appendChild(r)}},[t,r]),r},V_=e=>U_(H_,e);M();var Z_=()=>{const e=et(),t=E.useCallback(()=>{const r=e.getState().dispatch;r({type:"setUi",ui:n=>({previewMode:n.previewMode==="edit"?"interactive":"edit"})})},[e]);Wt({meta:!0,i:!0},t),Wt({ctrl:!0,i:!0},t)};M();M();M();var q_={MenuBar:"_MenuBar_8pf8c_1","MenuBar--menuOpen":"_MenuBar--menuOpen_8pf8c_14","MenuBar-inner":"_MenuBar-inner_8pf8c_29","MenuBar-history":"_MenuBar-history_8pf8c_45"},Ei=ie("MenuBar",q_);function Y_({menuOpen:e=!1,renderHeaderActions:t,setMenuOpen:r}){const n=F(a=>a.history.back),s=F(a=>a.history.forward),i=F(a=>a.history.hasFuture()),o=F(a=>a.history.hasPast());return f.jsx("div",{className:Ei({menuOpen:e}),onClick:a=>{var l;const c=a.target;window.matchMedia("(min-width: 638px)").matches||c.tagName==="A"&&((l=c.getAttribute("href"))!=null&&l.startsWith("#"))&&r(!1)},children:f.jsxs("div",{className:Ei("inner"),children:[f.jsxs("div",{className:Ei("history"),children:[f.jsx(_t,{type:"button",title:"undo",disabled:!o,onClick:n,children:f.jsx(Wm,{size:21})}),f.jsx(_t,{type:"button",title:"redo",disabled:!i,onClick:s,children:f.jsx(Rm,{size:21})})]}),f.jsx(f.Fragment,{children:t&&t()})]})})}M();var X_={PuckHeader:"_PuckHeader_15xnq_1","PuckHeader-inner":"_PuckHeader-inner_15xnq_10","PuckHeader-toggle":"_PuckHeader-toggle_15xnq_20","PuckHeader--rightSideBarVisible":"_PuckHeader--rightSideBarVisible_15xnq_27","PuckHeader-rightSideBarToggle":"_PuckHeader-rightSideBarToggle_15xnq_27","PuckHeader--leftSideBarVisible":"_PuckHeader--leftSideBarVisible_15xnq_28","PuckHeader-leftSideBarToggle":"_PuckHeader-leftSideBarToggle_15xnq_28","PuckHeader-title":"_PuckHeader-title_15xnq_32","PuckHeader-path":"_PuckHeader-path_15xnq_36","PuckHeader-tools":"_PuckHeader-tools_15xnq_43","PuckHeader-menuButton":"_PuckHeader-menuButton_15xnq_49","PuckHeader--menuOpen":"_PuckHeader--menuOpen_15xnq_54"},Dt=ie("PuckHeader",X_),K_=()=>{const{onPublish:e,renderHeader:t,renderHeaderActions:r,headerTitle:n,headerPath:s,iframe:i}=Oa(),o=F(m=>m.dispatch),a=et(),l=E.useMemo(()=>t?(console.warn("`renderHeader` is deprecated. Please use `overrides.header` and the `usePuck` hook instead"),x=>{var b=x,{actions:C}=b,I=Xt(b,["actions"]);const D=t,_=F(j=>j.state);return f.jsx(D,$(P({},I),{dispatch:o,state:_,children:C}))}):vo,[t]),c=E.useMemo(()=>r?(console.warn("`renderHeaderActions` is deprecated. Please use `overrides.headerActions` and the `usePuck` hook instead."),x=>{const b=r,C=F(I=>I.state);return f.jsx(b,$(P({},x),{dispatch:o,state:C}))}):vo,[r]),u=F(m=>m.overrides.header||l),d=F(m=>m.overrides.headerActions||c),[p,g]=E.useState(!1),v=F(m=>{var x,b;return(b=((x=m.state.indexes.nodes.root)==null?void 0:x.data).props.title)!=null?b:""}),k=F(m=>m.state.ui.leftSideBarVisible),y=F(m=>m.state.ui.rightSideBarVisible),S=E.useCallback(m=>{const x=window.matchMedia("(min-width: 638px)").matches,b=m==="left"?k:y,C=m==="left"?"rightSideBarVisible":"leftSideBarVisible";o({type:"setUi",ui:P({[`${m}SideBarVisible`]:!b},x?{}:{[C]:!1})})},[o,k,y]);return f.jsx(u,{actions:f.jsx(f.Fragment,{children:f.jsx(d,{children:f.jsx(io,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Tl,{size:"14px"}),children:"Publish"})})}),children:f.jsx("header",{className:Dt({leftSideBarVisible:k,rightSideBarVisible:y}),children:f.jsxs("div",{className:Dt("inner"),children:[f.jsxs("div",{className:Dt("toggle"),children:[f.jsx("div",{className:Dt("leftSideBarToggle"),children:f.jsx(_t,{type:"button",onClick:()=>{S("left")},title:"Toggle left sidebar",children:f.jsx(Tm,{focusable:"false"})})}),f.jsx("div",{className:Dt("rightSideBarToggle"),children:f.jsx(_t,{type:"button",onClick:()=>{S("right")},title:"Toggle right sidebar",children:f.jsx(Lm,{focusable:"false"})})})]}),f.jsx("div",{className:Dt("title"),children:f.jsxs(ja,{rank:"2",size:"xs",children:[n||v||"Page",s&&f.jsxs(f.Fragment,{children:[" ",f.jsx("code",{className:Dt("path"),children:s})]})]})}),f.jsxs("div",{className:Dt("tools"),children:[f.jsx("div",{className:Dt("menuButton"),children:f.jsx(_t,{type:"button",onClick:()=>g(!p),title:"Toggle menu bar",children:p?f.jsx(Kd,{focusable:"false"}):f.jsx(Xs,{focusable:"false"})})}),f.jsx(Y_,{dispatch:o,onPublish:e,menuOpen:p,renderHeaderActions:()=>f.jsx(d,{children:f.jsx(io,{onClick:()=>{const m=a.getState().state.data;e&&e(m)},icon:f.jsx(Tl,{size:"14px"}),children:"Publish"})}),setMenuOpen:g})]})]})})})},G_=E.memo(K_);M();M();M();var J_={ResizeHandle:"_ResizeHandle_144bf_2","ResizeHandle--left":"_ResizeHandle--left_144bf_16","ResizeHandle--right":"_ResizeHandle--right_144bf_20"},Q_=ie("ResizeHandle",J_),eb=({position:e,sidebarRef:t,onResize:r,onResizeEnd:n})=>{const{frameRef:s}=jf(),i=qd(s),o=E.useRef(null),a=E.useRef(!1),l=E.useRef(0),c=E.useRef(0),u=E.useCallback(g=>{if(!a.current)return;const v=g.clientX-l.current,k=e==="left"?c.current+v:c.current-v,y=Math.max(192,k);r(y),g.preventDefault()},[r,e]),d=E.useCallback(()=>{var g;if(!a.current)return;a.current=!1,document.body.style.cursor="",document.body.style.userSelect="";const v=document.getElementById("resize-overlay");v&&document.body.removeChild(v),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d);const k=((g=t.current)==null?void 0:g.getBoundingClientRect().width)||0;n(k),i()},[n]),p=E.useCallback(g=>{var v;a.current=!0,l.current=g.clientX,c.current=((v=t.current)==null?void 0:v.getBoundingClientRect().width)||0,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const k=document.createElement("div");k.id="resize-overlay",k.setAttribute("data-resize-overlay",""),document.body.appendChild(k),document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),g.preventDefault()},[e,u,d]);return f.jsx("div",{ref:o,className:Q_({[e]:!0}),onMouseDown:p})};M();var tb={Sidebar:"_Sidebar_1xksb_1","Sidebar--left":"_Sidebar--left_1xksb_8","Sidebar--right":"_Sidebar--right_1xksb_14","Sidebar-resizeHandle":"_Sidebar-resizeHandle_1xksb_20"},ec=ie("Sidebar",tb),tc=({position:e,sidebarRef:t,isVisible:r,onResize:n,onResizeEnd:s,children:i})=>r?f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:t,className:ec({[e]:!0}),children:i}),f.jsx("div",{className:`${ec("resizeHandle")}`,children:f.jsx(eb,{position:e,sidebarRef:t,onResize:n,onResizeEnd:s})})]}):null;M();function rc(e,t){const[r,n]=E.useState(null),s=E.useRef(null),i=F(a=>e==="left"?a.state.ui.leftSideBarWidth:a.state.ui.rightSideBarWidth);E.useEffect(()=>{if(typeof window<"u"&&!i)try{const a=localStorage.getItem("puck-sidebar-widths");if(a){const c=JSON.parse(a)[e];c&&t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:c}})}}catch(a){console.error(`Failed to load ${e} sidebar width from localStorage`,a)}},[t,e,i]),E.useEffect(()=>{i!==void 0&&n(i)},[i]);const o=E.useCallback(a=>{t({type:"setUi",ui:{[e==="left"?"leftSideBarWidth":"rightSideBarWidth"]:a}});let l={};try{const c=localStorage.getItem("puck-sidebar-widths");l=c?JSON.parse(c):{}}catch(c){console.error(`Failed to save ${e} sidebar width to localStorage`,c)}finally{localStorage.setItem("puck-sidebar-widths",JSON.stringify($(P({},l),{[e]:a})))}window.dispatchEvent(new CustomEvent("viewportchange",{bubbles:!0,cancelable:!1}))},[t,e]);return{width:r,setWidth:n,sidebarRef:s,handleResizeEnd:o}}var nc=ie("Puck",gf),sc=ie("PuckLayout",gf),rb=()=>{const e=F(t=>{var r,n;return t.selectedItem?(n=(r=t.config.components[t.selectedItem.type])==null?void 0:r.label)!=null?n:t.selectedItem.type.toString():"Page"});return f.jsx(po,{noPadding:!0,noBorderTop:!0,showBreadcrumbs:!0,title:e,children:f.jsx(mf,{})})},Cf=E.createContext({});function nb(e){return f.jsx(Cf.Provider,{value:e,children:e.children})}var Oa=()=>E.useContext(Cf);function sb({children:e}){const{config:t,data:r,ui:n,onChange:s,permissions:i={},plugins:o,overrides:a,viewports:l=ws,iframe:c,initialHistory:u,metadata:d,onAction:p,fieldTransforms:g}=Oa(),v=E.useMemo(()=>P({enabled:!0,waitForStyles:!0},c),[c]),[k]=E.useState(()=>{var h,A,T,N,R,V,z,K,U;const X=P(P({},ji.ui),n);let G={};if(typeof window<"u"){window.matchMedia("(max-width: 638px)").matches&&(G=$(P({},G),{leftSideBarVisible:!1,rightSideBarVisible:!1}));const Ie=window.innerWidth,ke=Object.entries(l).map(([De,Z])=>({key:De,diff:Math.abs(Ie-Z.width)})).sort((De,Z)=>De.diff>Z.diff?1:-1)[0].key;v.enabled&&(G=$(P({},G),{viewports:$(P({},X.viewports),{current:$(P({},X.viewports.current),{height:((A=(h=n?.viewports)==null?void 0:h.current)==null?void 0:A.height)||((T=l[ke])==null?void 0:T.height)||"auto",width:((R=(N=n?.viewports)==null?void 0:N.current)==null?void 0:R.width)||((V=l[ke])==null?void 0:V.width)})})}))}Object.keys(r?.root||{}).length>0&&!((z=r?.root)!=null&&z.props)&&console.warn("Warning: Defining props on `root` is deprecated. Please use `root.props`, or republish this page to migrate automatically.");const Y=((K=r?.root)==null?void 0:K.props)||r?.root||{},te=P(P({},(U=t.root)==null?void 0:U.defaultProps),Y),ce=$(P({},ji),{data:$(P({},r),{root:$(P({},r?.root),{props:te}),content:r.content||[]}),ui:$(P(P({},X),G),{componentList:t.categories?Object.entries(t.categories).reduce((Ie,[se,ke])=>$(P({},Ie),{[se]:{title:ke.title,components:ke.components,expanded:ke.defaultExpanded,visible:ke.visible}}),{}):{}})});return st(ce,t)}),{appendData:y=!0}=u||{},[S]=E.useState([...u?.histories||[],...y?[{state:k}]:[]].map(h=>{let A=P(P({},k),h.state);return h.state.indexes||(A=st(A,t)),$(P({},h),{state:A})})),m=u?.index||S.length-1,x=S[m].state,b=W_({overrides:a,plugins:o}),C=E.useMemo(()=>{const A=(o||[]).reduce((T,N)=>P(P({},T),N.fieldTransforms),{});return P(P({},A),g)},[g,o]),I=E.useCallback(h=>({state:h,config:t,plugins:o||[],overrides:b,viewports:l,iframe:v,onAction:p,metadata:d,fieldTransforms:C}),[x,t,o,b,l,v,p,d,C]),[D]=E.useState(()=>Vd(I(x)));E.useEffect(()=>{},[D]),E.useEffect(()=>{const h=D.getState().state;D.setState(P({},I(h)))},[t,o,b,l,v,p,d]),tm(D,{histories:S,index:m,initialAppState:x});const _=E.useRef(null);E.useEffect(()=>{D.subscribe(h=>h.state.data,h=>{if(s){if(_s(h,_.current))return;s(h),_.current=h}})},[]),sm(D,i);const j=h_(D);return E.useEffect(()=>{const{resolveAndCommitData:h}=D.getState();h()},[]),f.jsx(Ea.Provider,{value:D,children:f.jsx(p_.Provider,{value:j,children:e})})}function ib({children:e}){const{iframe:t,dnd:r,initialHistory:n}=Oa(),s=E.useMemo(()=>P({enabled:!0,waitForStyles:!0},t),[t]);V_(s.enabled);const i=F(I=>I.dispatch),o=F(I=>I.state.ui.leftSideBarVisible),a=F(I=>I.state.ui.rightSideBarVisible),{width:l,setWidth:c,sidebarRef:u,handleResizeEnd:d}=rc("left",i),{width:p,setWidth:g,sidebarRef:v,handleResizeEnd:k}=rc("right",i);E.useEffect(()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:{leftSideBarVisible:!1,rightSideBarVisible:!1}});const I=()=>{window.matchMedia("(min-width: 638px)").matches||i({type:"setUi",ui:D=>P(P({},D),D.rightSideBarVisible?{leftSideBarVisible:!1}:{})})};return window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]);const y=F(I=>I.overrides),S=E.useMemo(()=>y.puck||vo,[y]),[m,x]=E.useState(!1);E.useEffect(()=>{x(!0)},[]);const b=F(I=>I.status==="READY");Jg(),E.useEffect(()=>{if(b&&s.enabled){const I=Or();if(I)return Ud(I)}},[b,s.enabled]),Z_();const C={};return l&&(C["--puck-user-left-side-bar-width"]=`${l}px`),p&&(C["--puck-user-right-side-bar-width"]=`${p}px`),f.jsxs("div",{className:`Puck ${nc()}`,children:[f.jsx(Hy,{disableAutoScroll:r?.disableAutoScroll,children:f.jsx(S,{children:e||f.jsx(z_,{children:f.jsx("div",{className:sc({leftSideBarVisible:o,mounted:m,rightSideBarVisible:a}),children:f.jsxs("div",{className:sc("inner"),style:C,children:[f.jsx(G_,{}),f.jsxs(tc,{position:"left",sidebarRef:u,isVisible:o,onResize:c,onResizeEnd:d,children:[f.jsx(po,{title:"Components",noBorderTop:!0,children:f.jsx(_f,{})}),f.jsx(po,{title:"Outline",children:f.jsx(If,{})})]}),f.jsx(F_,{}),f.jsx(tc,{position:"right",sidebarRef:v,isVisible:a,onResize:g,onResizeEnd:k,children:f.jsx(rb,{})})]})})})})}),f.jsx("div",{id:"puck-portal-root",className:nc("portal")})]})}function Gs(e){return f.jsx(nb,$(P({},e),{children:f.jsx(sb,$(P({},e),{children:f.jsx(ib,P({},e))}))}))}Gs.Components=_f;Gs.Fields=mf;Gs.Outline=If;Gs.Preview=xf;M();M();M();M();M();M();M();M();M();M();M();M();M();export{Gs as P,f_ as R,f as j};
