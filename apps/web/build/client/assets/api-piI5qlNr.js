const h="https://studio-platform-api.slichti.workers.dev";async function w(n,a,s={},u){const i=h,o=new Headers(s.headers);if(a&&o.set("Authorization",`Bearer ${a}`),typeof window<"u"){const e=localStorage.getItem("impersonation_token");e&&o.set("Authorization",`Bearer ${e}`)}o.has("Content-Type")||o.set("Content-Type","application/json");const t=await fetch(`${i}${n}`,{...s,headers:o});if(!t.ok){let e;try{e=await t.clone().json();const r=new Error(e.error||t.statusText);throw r.data=e,r.status=t.status,r}catch(r){if(r.data)throw r;const c=await t.text();throw new Error(c||t.statusText)}}return t.json()}export{h as A,w as a};
