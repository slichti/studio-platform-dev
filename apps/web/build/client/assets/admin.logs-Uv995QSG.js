import{w as c,u as d}from"./chunk-JMJ3UQ3L-BFmd18Yu.js";import{j as e}from"./vendor-puck-DM_I7lvc.js";import{a as l}from"./vendor-livekit-D3VpklN2.js";import{A as x}from"./activity-B34Sbu5n.js";import{C as m}from"./chevron-down-Dx9ZxuAE.js";import{C as o}from"./chevron-right-BZjixtOz.js";import{f as p}from"./format-fLJrjEXu.js";import"./createLucideIcon-CcD9UNCP.js";const y=c(function(){const{logs:a}=d(),[t,i]=l.useState(null),r=s=>s==="tenant.created"?e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"New Studio"}):s.includes("admin")?e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded text-xs font-bold uppercase",children:"Admin"}):e.jsx("span",{className:"bg-zinc-100 text-zinc-600 px-2 py-0.5 rounded text-xs font-bold uppercase",children:s.replace(/_/g," ")}),n=s=>s.action==="tenant.created"&&s.details?e.jsxs("span",{className:"text-zinc-600",children:["Created ",e.jsx("strong",{children:s.details.name})," (",s.details.slug,")",e.jsx("span",{className:"mx-1 text-zinc-400",children:"â€¢"}),"Tier: ",s.details.tier]}):e.jsx("span",{className:"text-zinc-400 italic",children:"View details..."});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(x,{className:"text-blue-600"}),"Activity Logs"]})}),e.jsx("div",{className:"text-sm text-zinc-500",children:"Showing recent system events"})]}),e.jsxs("div",{className:"bg-white border border-zinc-200 rounded-lg overflow-hidden shadow-sm",children:[e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-8"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Actor"}),e.jsx("th",{className:"px-6 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Summary"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-100",children:a.map(s=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors cursor-pointer",onClick:()=>i(t===s.id?null:s.id),children:[e.jsx("td",{className:"pl-4",children:t===s.id?e.jsx(m,{size:16,className:"text-zinc-400"}):e.jsx(o,{size:16,className:"text-zinc-400"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-zinc-500",children:p(new Date(s.createdAt),"MMM d, h:mm a")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r(s.action)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm font-medium text-zinc-900",children:[s.actorProfile?.firstName," ",s.actorProfile?.lastName||"System"]}),e.jsx("span",{className:"text-xs text-zinc-400",children:s.actorEmail})]})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:n(s)})]},s.id),t===s.id&&e.jsx("tr",{className:"bg-zinc-50/50",children:e.jsx("td",{colSpan:5,className:"px-6 pb-6 pt-2",children:e.jsxs("div",{className:"bg-white border border-zinc-200 rounded p-4 text-xs font-mono overflow-auto max-h-64",children:[e.jsx("div",{className:"mb-2 text-zinc-500 font-sans font-bold uppercase tracking-wider",children:"Raw Details"}),e.jsx("pre",{children:JSON.stringify(s.details,null,2)}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-100 flex gap-4 text-zinc-400",children:[e.jsxs("span",{children:["Target ID: ",s.targetId||"N/A"]}),e.jsxs("span",{children:["Actor ID: ",s.actorId]})]})]})})})]}))})]}),a.length===0&&e.jsx("div",{className:"p-8 text-center text-zinc-500",children:"No activity logs found."})]})]})});export{y as default};
