import{j as d}from"./jsx-runtime-u17CrQMm.js";import{r as t}from"./chunk-JMJ3UQ3L-DmAaMJDT.js";const h={theme:"system",setTheme:()=>null},n=t.createContext(h);function f({children:s,defaultTheme:i="system",storageKey:r="vite-ui-theme"}){const[o,m]=t.useState(i);t.useEffect(()=>{const e=localStorage.getItem(r);e&&m(e)},[r]),t.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),o==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(a);return}e.classList.add(o)},[o]);const c={theme:o,setTheme:e=>{localStorage.setItem(r,e),m(e)}};return d.jsx(n.Provider,{value:c,children:s})}const T=()=>{const s=t.useContext(n);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s};export{f as T,T as u};
