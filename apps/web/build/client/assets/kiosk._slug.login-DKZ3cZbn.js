import{w as x,c as p,b as g,h as b}from"./chunk-JZWAC4HX-Cg_gv2PJ.js";import{j as e}from"./vendor-puck-D_CB0wXL.js";import{a as d}from"./vendor-sentry-DugYw-Ne.js";import{t as m}from"./index-CNiSO0Vl.js";import{L as k}from"./lock-D2giQLkC.js";import{c as j}from"./createLucideIcon-BOpDDQ2B.js";import{A as w}from"./arrow-right-NuY2qCvM.js";const N=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],v=j("delete",N),E=x(function(){const{tenant:z,brandColor:_}=p(),h=g(),a=b(),[s,o]=d.useState(""),[l,i]=d.useState(!1),c=t=>{s.length<6&&o(n=>n+t)},u=()=>{o(t=>t.slice(0,-1))},f=async()=>{if(!(s.length<4)){i(!0);try{const t=window.ENV.API_URL,r=await(await fetch(`${t}/kiosk/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantSlug:a.slug,pin:s})})).json();if(r.error)throw new Error(r.error);r.token&&localStorage.setItem(`kiosk_token_${a.slug}`,r.token),m.success("Kiosk Unlocked"),h(`/kiosk/${a.slug}/mode`)}catch(t){m.error(t.message||"Invalid PIN"),o("")}finally{i(!1)}}};return e.jsx("div",{className:"h-full flex flex-col items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"h-8 w-8 text-zinc-400"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Unlock Kiosk"}),e.jsx("p",{className:"text-zinc-500",children:"Enter the 4-6 digit Kiosk PIN"})]}),e.jsx("div",{className:"flex justify-center gap-4 mb-8",children:Array.from({length:6}).map((t,n)=>e.jsx("div",{className:`w-4 h-4 rounded-full transition-all ${n<s.length?"bg-purple-600 scale-110":"bg-zinc-200 dark:bg-zinc-800"}`},n))}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-64 mx-auto",children:[[1,2,3,4,5,6,7,8,9].map(t=>e.jsx("button",{onClick:()=>c(t),className:"bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 hover:border-purple-500/50 hover:bg-purple-50 dark:hover:bg-purple-900/10 active:scale-95 transition-all w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold font-mono",children:t},t)),e.jsx("div",{})," ",e.jsx("button",{onClick:()=>c(0),className:"bg-white dark:bg-zinc-900 border-2 border-zinc-100 dark:border-zinc-800 hover:border-purple-500/50 hover:bg-purple-50 active:scale-95 transition-all w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold font-mono",children:"0"}),e.jsx("button",{onClick:u,className:"text-zinc-400 hover:text-red-500 active:scale-95 transition-all w-16 h-16 flex items-center justify-center",children:e.jsx(v,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:f,disabled:l||s.length<4,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold h-12 rounded-lg flex items-center justify-center gap-2 transition-all",children:l?"Unlocking...":e.jsxs(e.Fragment,{children:["Unlock ",e.jsx(w,{className:"h-4 w-4"})]})})})]})})});export{E as default};
