import{p as z,q as y,G as w,a,j as e,aV as b,K as C,aW as S,ax as g,ag as k,aX as P,O as A,aY as L,T as E,X as T}from"./vendor-react-D59Q0YKK.js";import"./vendor-puck-RN2Ey-av.js";import"./vendor-charts-Dp-zC2wb.js";const U=z(function(){const{locations:r}=y(),m=w(),[n,d]=a.useState(null),[x,c]=a.useState(!1),o=s=>{confirm("Are you sure you want to delete this location?")&&m({intent:"delete",id:s},{method:"post"})};return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-50",children:[e.jsx("header",{className:"bg-white border-b border-zinc-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-zinc-900 rounded-lg text-white",children:e.jsx(b,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-zinc-900",children:"Locations"}),e.jsxs("p",{className:"text-sm text-zinc-500",children:[r.length," location",r.length!==1?"s":""]})]})]}),e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-zinc-900 text-white rounded-lg text-sm font-medium hover:bg-zinc-800 flex items-center gap-2",children:[e.jsx(C,{size:16})," Add Location"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r.length===0?e.jsxs("div",{className:"text-center py-20 text-zinc-500",children:[e.jsx(S,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No locations configured"}),e.jsx("button",{onClick:()=>c(!0),className:"mt-4 text-sm text-zinc-900 underline",children:"Add your first location"})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx("div",{className:`bg-white rounded-xl border ${s.isPrimary?"border-amber-300 ring-2 ring-amber-100":"border-zinc-200"} p-5`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${s.isPrimary?"bg-amber-100":"bg-zinc-100"}`,children:e.jsx(b,{size:24,className:s.isPrimary?"text-amber-600":"text-zinc-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-zinc-900",children:s.name}),s.isPrimary&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(g,{size:10})," Primary"]}),!s.isActive&&e.jsx("span",{className:"px-2 py-0.5 bg-zinc-100 text-zinc-500 rounded-full text-xs font-medium",children:"Inactive"})]}),s.address&&e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:s.address}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-zinc-400",children:[s.timezone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{size:12})," ",s.timezone]}),s.settings?.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{size:12})," ",s.settings.phone]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s.isPrimary&&e.jsxs(A,{method:"post",children:[e.jsx("input",{type:"hidden",name:"intent",value:"set-primary"}),e.jsx("input",{type:"hidden",name:"id",value:s.id}),e.jsx("button",{type:"submit",className:"p-2 hover:bg-amber-50 rounded-lg text-amber-600",title:"Set as primary",children:e.jsx(g,{size:16})})]}),e.jsx("button",{onClick:()=>d(s),className:"p-2 hover:bg-zinc-100 rounded-lg",children:e.jsx(L,{size:16})}),e.jsx("button",{onClick:()=>o(s.id),className:"p-2 hover:bg-red-50 rounded-lg text-red-500",children:e.jsx(E,{size:16})})]})]})},s.id))})}),(n||x)&&e.jsx(D,{location:n,onClose:()=>{d(null),c(!1)},onSave:s=>{const l=new FormData;l.append("intent",n?"update":"create"),n&&l.append("id",n.id),Object.entries(s).forEach(([u,h])=>{l.append(u,String(h))}),m(l,{method:"post"}),d(null),c(!1)}})]})});function D({location:i,onClose:r,onSave:m}){const[n,d]=a.useState(i?.name||""),[x,c]=a.useState(i?.address||""),[o,s]=a.useState(i?.timezone||"UTC"),[l,u]=a.useState(i?.settings?.phone||""),[h,I]=a.useState(i?.settings?.hours||""),[p,f]=a.useState(i?.isPrimary||!1),[j,v]=a.useState(i?.isActive!==!1),N=t=>{t.preventDefault(),m({name:n,address:x,timezone:o,phone:l,hours:h,isPrimary:p,isActive:j})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold",children:i?"Edit Location":"New Location"}),e.jsx("button",{onClick:r,children:e.jsx(T,{size:20,className:"text-zinc-400 hover:text-zinc-600"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Name *"}),e.jsx("input",{type:"text",required:!0,value:n,onChange:t=>d(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",placeholder:"Main Studio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:x,onChange:t=>c(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",placeholder:"123 Main St, City, State"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Timezone"}),e.jsxs("select",{value:o,onChange:t=>s(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"Eastern"}),e.jsx("option",{value:"America/Chicago",children:"Central"}),e.jsx("option",{value:"America/Denver",children:"Mountain"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:l,onChange:t=>u(t.target.value),className:"w-full px-3 py-2 border border-zinc-200 rounded-lg"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:t=>f(t.target.checked),className:"w-4 h-4"}),"Primary location"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:t=>v(t.target.checked),className:"w-4 h-4"}),"Active"]})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-zinc-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium bg-zinc-900 text-white rounded-lg hover:bg-zinc-800",children:"Save"})]})]})]})})}export{U as default};
